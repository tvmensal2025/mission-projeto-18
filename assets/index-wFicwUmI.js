var NH=Object.defineProperty;var KP=e=>{throw TypeError(e)};var SH=(e,t,r)=>t in e?NH(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var kb=(e,t,r)=>SH(e,typeof t!="symbol"?t+"":t,r),Pb=(e,t,r)=>t.has(e)||KP("Cannot "+r);var G=(e,t,r)=>(Pb(e,t,"read from private field"),r?r.call(e):t.get(e)),Ae=(e,t,r)=>t.has(e)?KP("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),be=(e,t,r,a)=>(Pb(e,t,"write to private field"),a?a.call(e,r):t.set(e,r),r),We=(e,t,r)=>(Pb(e,t,"access private method"),r);var Wp=(e,t,r,a)=>({set _(n){be(e,t,n,r)},get _(){return G(e,t,a)}});function _H(e,t){for(var r=0;r<t.length;r++){const a=t[r];if(typeof a!="string"&&!Array.isArray(a)){for(const n in a)if(n!=="default"&&!(n in e)){const i=Object.getOwnPropertyDescriptor(a,n);i&&Object.defineProperty(e,n,i.get?i:{enumerable:!0,get:()=>a[n]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))a(n);new MutationObserver(n=>{for(const i of n)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&a(o)}).observe(document,{childList:!0,subtree:!0});function r(n){const i={};return n.integrity&&(i.integrity=n.integrity),n.referrerPolicy&&(i.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?i.credentials="include":n.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function a(n){if(n.ep)return;n.ep=!0;const i=r(n);fetch(n.href,i)}})();var La=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function fa(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function CH(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function a(){return this instanceof a?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(a){var n=Object.getOwnPropertyDescriptor(e,a);Object.defineProperty(r,a,n.get?n:{enumerable:!0,get:function(){return e[a]}})}),r}var y5={exports:{}},t0={},b5={exports:{}},Ze={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Uf=Symbol.for("react.element"),kH=Symbol.for("react.portal"),PH=Symbol.for("react.fragment"),EH=Symbol.for("react.strict_mode"),AH=Symbol.for("react.profiler"),TH=Symbol.for("react.provider"),MH=Symbol.for("react.context"),OH=Symbol.for("react.forward_ref"),DH=Symbol.for("react.suspense"),RH=Symbol.for("react.memo"),IH=Symbol.for("react.lazy"),GP=Symbol.iterator;function FH(e){return e===null||typeof e!="object"?null:(e=GP&&e[GP]||e["@@iterator"],typeof e=="function"?e:null)}var j5={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w5=Object.assign,N5={};function em(e,t,r){this.props=e,this.context=t,this.refs=N5,this.updater=r||j5}em.prototype.isReactComponent={};em.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};em.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function S5(){}S5.prototype=em.prototype;function F2(e,t,r){this.props=e,this.context=t,this.refs=N5,this.updater=r||j5}var L2=F2.prototype=new S5;L2.constructor=F2;w5(L2,em.prototype);L2.isPureReactComponent=!0;var YP=Array.isArray,_5=Object.prototype.hasOwnProperty,$2={current:null},C5={key:!0,ref:!0,__self:!0,__source:!0};function k5(e,t,r){var a,n={},i=null,o=null;if(t!=null)for(a in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)_5.call(t,a)&&!C5.hasOwnProperty(a)&&(n[a]=t[a]);var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){for(var c=Array(l),d=0;d<l;d++)c[d]=arguments[d+2];n.children=c}if(e&&e.defaultProps)for(a in l=e.defaultProps,l)n[a]===void 0&&(n[a]=l[a]);return{$$typeof:Uf,type:e,key:i,ref:o,props:n,_owner:$2.current}}function LH(e,t){return{$$typeof:Uf,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function B2(e){return typeof e=="object"&&e!==null&&e.$$typeof===Uf}function $H(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var XP=/\/+/g;function Eb(e,t){return typeof e=="object"&&e!==null&&e.key!=null?$H(""+e.key):t.toString(36)}function Gx(e,t,r,a,n){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case Uf:case kH:o=!0}}if(o)return o=e,n=n(o),e=a===""?"."+Eb(o,0):a,YP(n)?(r="",e!=null&&(r=e.replace(XP,"$&/")+"/"),Gx(n,t,r,"",function(d){return d})):n!=null&&(B2(n)&&(n=LH(n,r+(!n.key||o&&o.key===n.key?"":(""+n.key).replace(XP,"$&/")+"/")+e)),t.push(n)),1;if(o=0,a=a===""?".":a+":",YP(e))for(var l=0;l<e.length;l++){i=e[l];var c=a+Eb(i,l);o+=Gx(i,t,r,c,n)}else if(c=FH(e),typeof c=="function")for(e=c.call(e),l=0;!(i=e.next()).done;)i=i.value,c=a+Eb(i,l++),o+=Gx(i,t,r,c,n);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Hp(e,t,r){if(e==null)return e;var a=[],n=0;return Gx(e,a,"","",function(i){return t.call(r,i,n++)}),a}function BH(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Sr={current:null},Yx={transition:null},zH={ReactCurrentDispatcher:Sr,ReactCurrentBatchConfig:Yx,ReactCurrentOwner:$2};function P5(){throw Error("act(...) is not supported in production builds of React.")}Ze.Children={map:Hp,forEach:function(e,t,r){Hp(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return Hp(e,function(){t++}),t},toArray:function(e){return Hp(e,function(t){return t})||[]},only:function(e){if(!B2(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Ze.Component=em;Ze.Fragment=PH;Ze.Profiler=AH;Ze.PureComponent=F2;Ze.StrictMode=EH;Ze.Suspense=DH;Ze.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=zH;Ze.act=P5;Ze.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var a=w5({},e.props),n=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=$2.current),t.key!==void 0&&(n=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)_5.call(t,c)&&!C5.hasOwnProperty(c)&&(a[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)a.children=r;else if(1<c){l=Array(c);for(var d=0;d<c;d++)l[d]=arguments[d+2];a.children=l}return{$$typeof:Uf,type:e.type,key:n,ref:i,props:a,_owner:o}};Ze.createContext=function(e){return e={$$typeof:MH,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:TH,_context:e},e.Consumer=e};Ze.createElement=k5;Ze.createFactory=function(e){var t=k5.bind(null,e);return t.type=e,t};Ze.createRef=function(){return{current:null}};Ze.forwardRef=function(e){return{$$typeof:OH,render:e}};Ze.isValidElement=B2;Ze.lazy=function(e){return{$$typeof:IH,_payload:{_status:-1,_result:e},_init:BH}};Ze.memo=function(e,t){return{$$typeof:RH,type:e,compare:t===void 0?null:t}};Ze.startTransition=function(e){var t=Yx.transition;Yx.transition={};try{e()}finally{Yx.transition=t}};Ze.unstable_act=P5;Ze.useCallback=function(e,t){return Sr.current.useCallback(e,t)};Ze.useContext=function(e){return Sr.current.useContext(e)};Ze.useDebugValue=function(){};Ze.useDeferredValue=function(e){return Sr.current.useDeferredValue(e)};Ze.useEffect=function(e,t){return Sr.current.useEffect(e,t)};Ze.useId=function(){return Sr.current.useId()};Ze.useImperativeHandle=function(e,t,r){return Sr.current.useImperativeHandle(e,t,r)};Ze.useInsertionEffect=function(e,t){return Sr.current.useInsertionEffect(e,t)};Ze.useLayoutEffect=function(e,t){return Sr.current.useLayoutEffect(e,t)};Ze.useMemo=function(e,t){return Sr.current.useMemo(e,t)};Ze.useReducer=function(e,t,r){return Sr.current.useReducer(e,t,r)};Ze.useRef=function(e){return Sr.current.useRef(e)};Ze.useState=function(e){return Sr.current.useState(e)};Ze.useSyncExternalStore=function(e,t,r){return Sr.current.useSyncExternalStore(e,t,r)};Ze.useTransition=function(){return Sr.current.useTransition()};Ze.version="18.3.1";b5.exports=Ze;var p=b5.exports;const me=fa(p),z2=_H({__proto__:null,default:me},[p]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var UH=p,qH=Symbol.for("react.element"),VH=Symbol.for("react.fragment"),WH=Object.prototype.hasOwnProperty,HH=UH.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,KH={key:!0,ref:!0,__self:!0,__source:!0};function E5(e,t,r){var a,n={},i=null,o=null;r!==void 0&&(i=""+r),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(a in t)WH.call(t,a)&&!KH.hasOwnProperty(a)&&(n[a]=t[a]);if(e&&e.defaultProps)for(a in t=e.defaultProps,t)n[a]===void 0&&(n[a]=t[a]);return{$$typeof:qH,type:e,key:i,ref:o,props:n,_owner:HH.current}}t0.Fragment=VH;t0.jsx=E5;t0.jsxs=E5;y5.exports=t0;var s=y5.exports,A5={exports:{}},pa={},T5={exports:{}},M5={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(F,H){var Z=F.length;F.push(H);e:for(;0<Z;){var B=Z-1>>>1,K=F[B];if(0<n(K,H))F[B]=H,F[Z]=K,Z=B;else break e}}function r(F){return F.length===0?null:F[0]}function a(F){if(F.length===0)return null;var H=F[0],Z=F.pop();if(Z!==H){F[0]=Z;e:for(var B=0,K=F.length,Q=K>>>1;B<Q;){var ie=2*(B+1)-1,oe=F[ie],je=ie+1,le=F[je];if(0>n(oe,Z))je<K&&0>n(le,oe)?(F[B]=le,F[je]=Z,B=je):(F[B]=oe,F[ie]=Z,B=ie);else if(je<K&&0>n(le,Z))F[B]=le,F[je]=Z,B=je;else break e}}return H}function n(F,H){var Z=F.sortIndex-H.sortIndex;return Z!==0?Z:F.id-H.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var c=[],d=[],u=1,m=null,h=3,f=!1,g=!1,x=!1,y=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function j(F){for(var H=r(d);H!==null;){if(H.callback===null)a(d);else if(H.startTime<=F)a(d),H.sortIndex=H.expirationTime,t(c,H);else break;H=r(d)}}function N(F){if(x=!1,j(F),!g)if(r(c)!==null)g=!0,W(w);else{var H=r(d);H!==null&&R(N,H.startTime-F)}}function w(F,H){g=!1,x&&(x=!1,v(C),C=-1),f=!0;var Z=h;try{for(j(H),m=r(c);m!==null&&(!(m.expirationTime>H)||F&&!k());){var B=m.callback;if(typeof B=="function"){m.callback=null,h=m.priorityLevel;var K=B(m.expirationTime<=H);H=e.unstable_now(),typeof K=="function"?m.callback=K:m===r(c)&&a(c),j(H)}else a(c);m=r(c)}if(m!==null)var Q=!0;else{var ie=r(d);ie!==null&&R(N,ie.startTime-H),Q=!1}return Q}finally{m=null,h=Z,f=!1}}var S=!1,_=null,C=-1,E=5,T=-1;function k(){return!(e.unstable_now()-T<E)}function P(){if(_!==null){var F=e.unstable_now();T=F;var H=!0;try{H=_(!0,F)}finally{H?D():(S=!1,_=null)}}else S=!1}var D;if(typeof b=="function")D=function(){b(P)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,V=I.port2;I.port1.onmessage=P,D=function(){V.postMessage(null)}}else D=function(){y(P,0)};function W(F){_=F,S||(S=!0,D())}function R(F,H){C=y(function(){F(e.unstable_now())},H)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(F){F.callback=null},e.unstable_continueExecution=function(){g||f||(g=!0,W(w))},e.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<F?Math.floor(1e3/F):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(F){switch(h){case 1:case 2:case 3:var H=3;break;default:H=h}var Z=h;h=H;try{return F()}finally{h=Z}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(F,H){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var Z=h;h=F;try{return H()}finally{h=Z}},e.unstable_scheduleCallback=function(F,H,Z){var B=e.unstable_now();switch(typeof Z=="object"&&Z!==null?(Z=Z.delay,Z=typeof Z=="number"&&0<Z?B+Z:B):Z=B,F){case 1:var K=-1;break;case 2:K=250;break;case 5:K=1073741823;break;case 4:K=1e4;break;default:K=5e3}return K=Z+K,F={id:u++,callback:H,priorityLevel:F,startTime:Z,expirationTime:K,sortIndex:-1},Z>B?(F.sortIndex=Z,t(d,F),r(c)===null&&F===r(d)&&(x?(v(C),C=-1):x=!0,R(N,Z-B))):(F.sortIndex=K,t(c,F),g||f||(g=!0,W(w))),F},e.unstable_shouldYield=k,e.unstable_wrapCallback=function(F){var H=h;return function(){var Z=h;h=H;try{return F.apply(this,arguments)}finally{h=Z}}}})(M5);T5.exports=M5;var GH=T5.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var YH=p,da=GH;function de(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var O5=new Set,Ih={};function Hc(e,t){bu(e,t),bu(e+"Capture",t)}function bu(e,t){for(Ih[e]=t,e=0;e<t.length;e++)O5.add(t[e])}var Ii=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Sw=Object.prototype.hasOwnProperty,XH=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,QP={},JP={};function QH(e){return Sw.call(JP,e)?!0:Sw.call(QP,e)?!1:XH.test(e)?JP[e]=!0:(QP[e]=!0,!1)}function JH(e,t,r,a){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return a?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function ZH(e,t,r,a){if(t===null||typeof t>"u"||JH(e,t,r,a))return!0;if(a)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function _r(e,t,r,a,n,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=a,this.attributeNamespace=n,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var Ws={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Ws[e]=new _r(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Ws[t]=new _r(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Ws[e]=new _r(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Ws[e]=new _r(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Ws[e]=new _r(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Ws[e]=new _r(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Ws[e]=new _r(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Ws[e]=new _r(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Ws[e]=new _r(e,5,!1,e.toLowerCase(),null,!1,!1)});var U2=/[\-:]([a-z])/g;function q2(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(U2,q2);Ws[t]=new _r(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(U2,q2);Ws[t]=new _r(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(U2,q2);Ws[t]=new _r(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Ws[e]=new _r(e,1,!1,e.toLowerCase(),null,!1,!1)});Ws.xlinkHref=new _r("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Ws[e]=new _r(e,1,!1,e.toLowerCase(),null,!0,!0)});function V2(e,t,r,a){var n=Ws.hasOwnProperty(t)?Ws[t]:null;(n!==null?n.type!==0:a||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(ZH(t,r,n,a)&&(r=null),a||n===null?QH(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):n.mustUseProperty?e[n.propertyName]=r===null?n.type===3?!1:"":r:(t=n.attributeName,a=n.attributeNamespace,r===null?e.removeAttribute(t):(n=n.type,r=n===3||n===4&&r===!0?"":""+r,a?e.setAttributeNS(a,t,r):e.setAttribute(t,r))))}var ro=YH.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Kp=Symbol.for("react.element"),Pd=Symbol.for("react.portal"),Ed=Symbol.for("react.fragment"),W2=Symbol.for("react.strict_mode"),_w=Symbol.for("react.profiler"),D5=Symbol.for("react.provider"),R5=Symbol.for("react.context"),H2=Symbol.for("react.forward_ref"),Cw=Symbol.for("react.suspense"),kw=Symbol.for("react.suspense_list"),K2=Symbol.for("react.memo"),Ao=Symbol.for("react.lazy"),I5=Symbol.for("react.offscreen"),ZP=Symbol.iterator;function Rm(e){return e===null||typeof e!="object"?null:(e=ZP&&e[ZP]||e["@@iterator"],typeof e=="function"?e:null)}var Qt=Object.assign,Ab;function th(e){if(Ab===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);Ab=t&&t[1]||""}return`
`+Ab+e}var Tb=!1;function Mb(e,t){if(!e||Tb)return"";Tb=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(d){var a=d}Reflect.construct(e,[],t)}else{try{t.call()}catch(d){a=d}e.call(t.prototype)}else{try{throw Error()}catch(d){a=d}e()}}catch(d){if(d&&a&&typeof d.stack=="string"){for(var n=d.stack.split(`
`),i=a.stack.split(`
`),o=n.length-1,l=i.length-1;1<=o&&0<=l&&n[o]!==i[l];)l--;for(;1<=o&&0<=l;o--,l--)if(n[o]!==i[l]){if(o!==1||l!==1)do if(o--,l--,0>l||n[o]!==i[l]){var c=`
`+n[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=l);break}}}finally{Tb=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?th(e):""}function eK(e){switch(e.tag){case 5:return th(e.type);case 16:return th("Lazy");case 13:return th("Suspense");case 19:return th("SuspenseList");case 0:case 2:case 15:return e=Mb(e.type,!1),e;case 11:return e=Mb(e.type.render,!1),e;case 1:return e=Mb(e.type,!0),e;default:return""}}function Pw(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Ed:return"Fragment";case Pd:return"Portal";case _w:return"Profiler";case W2:return"StrictMode";case Cw:return"Suspense";case kw:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case R5:return(e.displayName||"Context")+".Consumer";case D5:return(e._context.displayName||"Context")+".Provider";case H2:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case K2:return t=e.displayName||null,t!==null?t:Pw(e.type)||"Memo";case Ao:t=e._payload,e=e._init;try{return Pw(e(t))}catch{}}return null}function tK(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Pw(t);case 8:return t===W2?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function cl(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function F5(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function sK(e){var t=F5(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),a=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var n=r.get,i=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return n.call(this)},set:function(o){a=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return a},setValue:function(o){a=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Gp(e){e._valueTracker||(e._valueTracker=sK(e))}function L5(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),a="";return e&&(a=F5(e)?e.checked?"true":"false":e.value),e=a,e!==r?(t.setValue(e),!0):!1}function bg(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Ew(e,t){var r=t.checked;return Qt({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function e4(e,t){var r=t.defaultValue==null?"":t.defaultValue,a=t.checked!=null?t.checked:t.defaultChecked;r=cl(t.value!=null?t.value:r),e._wrapperState={initialChecked:a,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function $5(e,t){t=t.checked,t!=null&&V2(e,"checked",t,!1)}function Aw(e,t){$5(e,t);var r=cl(t.value),a=t.type;if(r!=null)a==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(a==="submit"||a==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Tw(e,t.type,r):t.hasOwnProperty("defaultValue")&&Tw(e,t.type,cl(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function t4(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var a=t.type;if(!(a!=="submit"&&a!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function Tw(e,t,r){(t!=="number"||bg(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var sh=Array.isArray;function Gd(e,t,r,a){if(e=e.options,t){t={};for(var n=0;n<r.length;n++)t["$"+r[n]]=!0;for(r=0;r<e.length;r++)n=t.hasOwnProperty("$"+e[r].value),e[r].selected!==n&&(e[r].selected=n),n&&a&&(e[r].defaultSelected=!0)}else{for(r=""+cl(r),t=null,n=0;n<e.length;n++){if(e[n].value===r){e[n].selected=!0,a&&(e[n].defaultSelected=!0);return}t!==null||e[n].disabled||(t=e[n])}t!==null&&(t.selected=!0)}}function Mw(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(de(91));return Qt({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function s4(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(de(92));if(sh(r)){if(1<r.length)throw Error(de(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:cl(r)}}function B5(e,t){var r=cl(t.value),a=cl(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),a!=null&&(e.defaultValue=""+a)}function r4(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function z5(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ow(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?z5(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Yp,U5=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,a,n){MSApp.execUnsafeLocalFunction(function(){return e(t,r,a,n)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Yp=Yp||document.createElement("div"),Yp.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Yp.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Fh(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var hh={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},rK=["Webkit","ms","Moz","O"];Object.keys(hh).forEach(function(e){rK.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),hh[t]=hh[e]})});function q5(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||hh.hasOwnProperty(e)&&hh[e]?(""+t).trim():t+"px"}function V5(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var a=r.indexOf("--")===0,n=q5(r,t[r],a);r==="float"&&(r="cssFloat"),a?e.setProperty(r,n):e[r]=n}}var aK=Qt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Dw(e,t){if(t){if(aK[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(de(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(de(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(de(61))}if(t.style!=null&&typeof t.style!="object")throw Error(de(62))}}function Rw(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Iw=null;function G2(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Fw=null,Yd=null,Xd=null;function a4(e){if(e=Wf(e)){if(typeof Fw!="function")throw Error(de(280));var t=e.stateNode;t&&(t=i0(t),Fw(e.stateNode,e.type,t))}}function W5(e){Yd?Xd?Xd.push(e):Xd=[e]:Yd=e}function H5(){if(Yd){var e=Yd,t=Xd;if(Xd=Yd=null,a4(e),t)for(e=0;e<t.length;e++)a4(t[e])}}function K5(e,t){return e(t)}function G5(){}var Ob=!1;function Y5(e,t,r){if(Ob)return e(t,r);Ob=!0;try{return K5(e,t,r)}finally{Ob=!1,(Yd!==null||Xd!==null)&&(G5(),H5())}}function Lh(e,t){var r=e.stateNode;if(r===null)return null;var a=i0(r);if(a===null)return null;r=a[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(e=e.type,a=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!a;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(de(231,t,typeof r));return r}var Lw=!1;if(Ii)try{var Im={};Object.defineProperty(Im,"passive",{get:function(){Lw=!0}}),window.addEventListener("test",Im,Im),window.removeEventListener("test",Im,Im)}catch{Lw=!1}function nK(e,t,r,a,n,i,o,l,c){var d=Array.prototype.slice.call(arguments,3);try{t.apply(r,d)}catch(u){this.onError(u)}}var fh=!1,jg=null,wg=!1,$w=null,iK={onError:function(e){fh=!0,jg=e}};function oK(e,t,r,a,n,i,o,l,c){fh=!1,jg=null,nK.apply(iK,arguments)}function lK(e,t,r,a,n,i,o,l,c){if(oK.apply(this,arguments),fh){if(fh){var d=jg;fh=!1,jg=null}else throw Error(de(198));wg||(wg=!0,$w=d)}}function Kc(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function X5(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function n4(e){if(Kc(e)!==e)throw Error(de(188))}function cK(e){var t=e.alternate;if(!t){if(t=Kc(e),t===null)throw Error(de(188));return t!==e?null:e}for(var r=e,a=t;;){var n=r.return;if(n===null)break;var i=n.alternate;if(i===null){if(a=n.return,a!==null){r=a;continue}break}if(n.child===i.child){for(i=n.child;i;){if(i===r)return n4(n),e;if(i===a)return n4(n),t;i=i.sibling}throw Error(de(188))}if(r.return!==a.return)r=n,a=i;else{for(var o=!1,l=n.child;l;){if(l===r){o=!0,r=n,a=i;break}if(l===a){o=!0,a=n,r=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===r){o=!0,r=i,a=n;break}if(l===a){o=!0,a=i,r=n;break}l=l.sibling}if(!o)throw Error(de(189))}}if(r.alternate!==a)throw Error(de(190))}if(r.tag!==3)throw Error(de(188));return r.stateNode.current===r?e:t}function Q5(e){return e=cK(e),e!==null?J5(e):null}function J5(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=J5(e);if(t!==null)return t;e=e.sibling}return null}var Z5=da.unstable_scheduleCallback,i4=da.unstable_cancelCallback,dK=da.unstable_shouldYield,uK=da.unstable_requestPaint,os=da.unstable_now,mK=da.unstable_getCurrentPriorityLevel,Y2=da.unstable_ImmediatePriority,eD=da.unstable_UserBlockingPriority,Ng=da.unstable_NormalPriority,hK=da.unstable_LowPriority,tD=da.unstable_IdlePriority,s0=null,Yn=null;function fK(e){if(Yn&&typeof Yn.onCommitFiberRoot=="function")try{Yn.onCommitFiberRoot(s0,e,void 0,(e.current.flags&128)===128)}catch{}}var vn=Math.clz32?Math.clz32:gK,pK=Math.log,xK=Math.LN2;function gK(e){return e>>>=0,e===0?32:31-(pK(e)/xK|0)|0}var Xp=64,Qp=4194304;function rh(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Sg(e,t){var r=e.pendingLanes;if(r===0)return 0;var a=0,n=e.suspendedLanes,i=e.pingedLanes,o=r&268435455;if(o!==0){var l=o&~n;l!==0?a=rh(l):(i&=o,i!==0&&(a=rh(i)))}else o=r&~n,o!==0?a=rh(o):i!==0&&(a=rh(i));if(a===0)return 0;if(t!==0&&t!==a&&!(t&n)&&(n=a&-a,i=t&-t,n>=i||n===16&&(i&4194240)!==0))return t;if(a&4&&(a|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=a;0<t;)r=31-vn(t),n=1<<r,a|=e[r],t&=~n;return a}function vK(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function yK(e,t){for(var r=e.suspendedLanes,a=e.pingedLanes,n=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-vn(i),l=1<<o,c=n[o];c===-1?(!(l&r)||l&a)&&(n[o]=vK(l,t)):c<=t&&(e.expiredLanes|=l),i&=~l}}function Bw(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function sD(){var e=Xp;return Xp<<=1,!(Xp&4194240)&&(Xp=64),e}function Db(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function qf(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-vn(t),e[t]=r}function bK(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var a=e.eventTimes;for(e=e.expirationTimes;0<r;){var n=31-vn(r),i=1<<n;t[n]=0,a[n]=-1,e[n]=-1,r&=~i}}function X2(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var a=31-vn(r),n=1<<a;n&t|e[a]&t&&(e[a]|=t),r&=~n}}var xt=0;function rD(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var aD,Q2,nD,iD,oD,zw=!1,Jp=[],Xo=null,Qo=null,Jo=null,$h=new Map,Bh=new Map,Oo=[],jK="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function o4(e,t){switch(e){case"focusin":case"focusout":Xo=null;break;case"dragenter":case"dragleave":Qo=null;break;case"mouseover":case"mouseout":Jo=null;break;case"pointerover":case"pointerout":$h.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Bh.delete(t.pointerId)}}function Fm(e,t,r,a,n,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:r,eventSystemFlags:a,nativeEvent:i,targetContainers:[n]},t!==null&&(t=Wf(t),t!==null&&Q2(t)),e):(e.eventSystemFlags|=a,t=e.targetContainers,n!==null&&t.indexOf(n)===-1&&t.push(n),e)}function wK(e,t,r,a,n){switch(t){case"focusin":return Xo=Fm(Xo,e,t,r,a,n),!0;case"dragenter":return Qo=Fm(Qo,e,t,r,a,n),!0;case"mouseover":return Jo=Fm(Jo,e,t,r,a,n),!0;case"pointerover":var i=n.pointerId;return $h.set(i,Fm($h.get(i)||null,e,t,r,a,n)),!0;case"gotpointercapture":return i=n.pointerId,Bh.set(i,Fm(Bh.get(i)||null,e,t,r,a,n)),!0}return!1}function lD(e){var t=Zl(e.target);if(t!==null){var r=Kc(t);if(r!==null){if(t=r.tag,t===13){if(t=X5(r),t!==null){e.blockedOn=t,oD(e.priority,function(){nD(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Xx(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=Uw(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var a=new r.constructor(r.type,r);Iw=a,r.target.dispatchEvent(a),Iw=null}else return t=Wf(r),t!==null&&Q2(t),e.blockedOn=r,!1;t.shift()}return!0}function l4(e,t,r){Xx(e)&&r.delete(t)}function NK(){zw=!1,Xo!==null&&Xx(Xo)&&(Xo=null),Qo!==null&&Xx(Qo)&&(Qo=null),Jo!==null&&Xx(Jo)&&(Jo=null),$h.forEach(l4),Bh.forEach(l4)}function Lm(e,t){e.blockedOn===t&&(e.blockedOn=null,zw||(zw=!0,da.unstable_scheduleCallback(da.unstable_NormalPriority,NK)))}function zh(e){function t(n){return Lm(n,e)}if(0<Jp.length){Lm(Jp[0],e);for(var r=1;r<Jp.length;r++){var a=Jp[r];a.blockedOn===e&&(a.blockedOn=null)}}for(Xo!==null&&Lm(Xo,e),Qo!==null&&Lm(Qo,e),Jo!==null&&Lm(Jo,e),$h.forEach(t),Bh.forEach(t),r=0;r<Oo.length;r++)a=Oo[r],a.blockedOn===e&&(a.blockedOn=null);for(;0<Oo.length&&(r=Oo[0],r.blockedOn===null);)lD(r),r.blockedOn===null&&Oo.shift()}var Qd=ro.ReactCurrentBatchConfig,_g=!0;function SK(e,t,r,a){var n=xt,i=Qd.transition;Qd.transition=null;try{xt=1,J2(e,t,r,a)}finally{xt=n,Qd.transition=i}}function _K(e,t,r,a){var n=xt,i=Qd.transition;Qd.transition=null;try{xt=4,J2(e,t,r,a)}finally{xt=n,Qd.transition=i}}function J2(e,t,r,a){if(_g){var n=Uw(e,t,r,a);if(n===null)Vb(e,t,a,Cg,r),o4(e,a);else if(wK(n,e,t,r,a))a.stopPropagation();else if(o4(e,a),t&4&&-1<jK.indexOf(e)){for(;n!==null;){var i=Wf(n);if(i!==null&&aD(i),i=Uw(e,t,r,a),i===null&&Vb(e,t,a,Cg,r),i===n)break;n=i}n!==null&&a.stopPropagation()}else Vb(e,t,a,null,r)}}var Cg=null;function Uw(e,t,r,a){if(Cg=null,e=G2(a),e=Zl(e),e!==null)if(t=Kc(e),t===null)e=null;else if(r=t.tag,r===13){if(e=X5(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Cg=e,null}function cD(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(mK()){case Y2:return 1;case eD:return 4;case Ng:case hK:return 16;case tD:return 536870912;default:return 16}default:return 16}}var Ko=null,Z2=null,Qx=null;function dD(){if(Qx)return Qx;var e,t=Z2,r=t.length,a,n="value"in Ko?Ko.value:Ko.textContent,i=n.length;for(e=0;e<r&&t[e]===n[e];e++);var o=r-e;for(a=1;a<=o&&t[r-a]===n[i-a];a++);return Qx=n.slice(e,1<a?1-a:void 0)}function Jx(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Zp(){return!0}function c4(){return!1}function xa(e){function t(r,a,n,i,o){this._reactName=r,this._targetInst=n,this.type=a,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Zp:c4,this.isPropagationStopped=c4,this}return Qt(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Zp)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Zp)},persist:function(){},isPersistent:Zp}),t}var tm={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},eS=xa(tm),Vf=Qt({},tm,{view:0,detail:0}),CK=xa(Vf),Rb,Ib,$m,r0=Qt({},Vf,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:tS,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==$m&&($m&&e.type==="mousemove"?(Rb=e.screenX-$m.screenX,Ib=e.screenY-$m.screenY):Ib=Rb=0,$m=e),Rb)},movementY:function(e){return"movementY"in e?e.movementY:Ib}}),d4=xa(r0),kK=Qt({},r0,{dataTransfer:0}),PK=xa(kK),EK=Qt({},Vf,{relatedTarget:0}),Fb=xa(EK),AK=Qt({},tm,{animationName:0,elapsedTime:0,pseudoElement:0}),TK=xa(AK),MK=Qt({},tm,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),OK=xa(MK),DK=Qt({},tm,{data:0}),u4=xa(DK),RK={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},IK={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},FK={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function LK(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=FK[e])?!!t[e]:!1}function tS(){return LK}var $K=Qt({},Vf,{key:function(e){if(e.key){var t=RK[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Jx(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?IK[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:tS,charCode:function(e){return e.type==="keypress"?Jx(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Jx(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),BK=xa($K),zK=Qt({},r0,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),m4=xa(zK),UK=Qt({},Vf,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:tS}),qK=xa(UK),VK=Qt({},tm,{propertyName:0,elapsedTime:0,pseudoElement:0}),WK=xa(VK),HK=Qt({},r0,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),KK=xa(HK),GK=[9,13,27,32],sS=Ii&&"CompositionEvent"in window,ph=null;Ii&&"documentMode"in document&&(ph=document.documentMode);var YK=Ii&&"TextEvent"in window&&!ph,uD=Ii&&(!sS||ph&&8<ph&&11>=ph),h4=" ",f4=!1;function mD(e,t){switch(e){case"keyup":return GK.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function hD(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ad=!1;function XK(e,t){switch(e){case"compositionend":return hD(t);case"keypress":return t.which!==32?null:(f4=!0,h4);case"textInput":return e=t.data,e===h4&&f4?null:e;default:return null}}function QK(e,t){if(Ad)return e==="compositionend"||!sS&&mD(e,t)?(e=dD(),Qx=Z2=Ko=null,Ad=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return uD&&t.locale!=="ko"?null:t.data;default:return null}}var JK={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function p4(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!JK[e.type]:t==="textarea"}function fD(e,t,r,a){W5(a),t=kg(t,"onChange"),0<t.length&&(r=new eS("onChange","change",null,r,a),e.push({event:r,listeners:t}))}var xh=null,Uh=null;function ZK(e){_D(e,0)}function a0(e){var t=Od(e);if(L5(t))return e}function eG(e,t){if(e==="change")return t}var pD=!1;if(Ii){var Lb;if(Ii){var $b="oninput"in document;if(!$b){var x4=document.createElement("div");x4.setAttribute("oninput","return;"),$b=typeof x4.oninput=="function"}Lb=$b}else Lb=!1;pD=Lb&&(!document.documentMode||9<document.documentMode)}function g4(){xh&&(xh.detachEvent("onpropertychange",xD),Uh=xh=null)}function xD(e){if(e.propertyName==="value"&&a0(Uh)){var t=[];fD(t,Uh,e,G2(e)),Y5(ZK,t)}}function tG(e,t,r){e==="focusin"?(g4(),xh=t,Uh=r,xh.attachEvent("onpropertychange",xD)):e==="focusout"&&g4()}function sG(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return a0(Uh)}function rG(e,t){if(e==="click")return a0(t)}function aG(e,t){if(e==="input"||e==="change")return a0(t)}function nG(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Nn=typeof Object.is=="function"?Object.is:nG;function qh(e,t){if(Nn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),a=Object.keys(t);if(r.length!==a.length)return!1;for(a=0;a<r.length;a++){var n=r[a];if(!Sw.call(t,n)||!Nn(e[n],t[n]))return!1}return!0}function v4(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function y4(e,t){var r=v4(e);e=0;for(var a;r;){if(r.nodeType===3){if(a=e+r.textContent.length,e<=t&&a>=t)return{node:r,offset:t-e};e=a}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=v4(r)}}function gD(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?gD(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function vD(){for(var e=window,t=bg();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=bg(e.document)}return t}function rS(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function iG(e){var t=vD(),r=e.focusedElem,a=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&gD(r.ownerDocument.documentElement,r)){if(a!==null&&rS(r)){if(t=a.start,e=a.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var n=r.textContent.length,i=Math.min(a.start,n);a=a.end===void 0?i:Math.min(a.end,n),!e.extend&&i>a&&(n=a,a=i,i=n),n=y4(r,i);var o=y4(r,a);n&&o&&(e.rangeCount!==1||e.anchorNode!==n.node||e.anchorOffset!==n.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(n.node,n.offset),e.removeAllRanges(),i>a?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var oG=Ii&&"documentMode"in document&&11>=document.documentMode,Td=null,qw=null,gh=null,Vw=!1;function b4(e,t,r){var a=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Vw||Td==null||Td!==bg(a)||(a=Td,"selectionStart"in a&&rS(a)?a={start:a.selectionStart,end:a.selectionEnd}:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection(),a={anchorNode:a.anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset}),gh&&qh(gh,a)||(gh=a,a=kg(qw,"onSelect"),0<a.length&&(t=new eS("onSelect","select",null,t,r),e.push({event:t,listeners:a}),t.target=Td)))}function ex(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Md={animationend:ex("Animation","AnimationEnd"),animationiteration:ex("Animation","AnimationIteration"),animationstart:ex("Animation","AnimationStart"),transitionend:ex("Transition","TransitionEnd")},Bb={},yD={};Ii&&(yD=document.createElement("div").style,"AnimationEvent"in window||(delete Md.animationend.animation,delete Md.animationiteration.animation,delete Md.animationstart.animation),"TransitionEvent"in window||delete Md.transitionend.transition);function n0(e){if(Bb[e])return Bb[e];if(!Md[e])return e;var t=Md[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in yD)return Bb[e]=t[r];return e}var bD=n0("animationend"),jD=n0("animationiteration"),wD=n0("animationstart"),ND=n0("transitionend"),SD=new Map,j4="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Nl(e,t){SD.set(e,t),Hc(t,[e])}for(var zb=0;zb<j4.length;zb++){var Ub=j4[zb],lG=Ub.toLowerCase(),cG=Ub[0].toUpperCase()+Ub.slice(1);Nl(lG,"on"+cG)}Nl(bD,"onAnimationEnd");Nl(jD,"onAnimationIteration");Nl(wD,"onAnimationStart");Nl("dblclick","onDoubleClick");Nl("focusin","onFocus");Nl("focusout","onBlur");Nl(ND,"onTransitionEnd");bu("onMouseEnter",["mouseout","mouseover"]);bu("onMouseLeave",["mouseout","mouseover"]);bu("onPointerEnter",["pointerout","pointerover"]);bu("onPointerLeave",["pointerout","pointerover"]);Hc("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Hc("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Hc("onBeforeInput",["compositionend","keypress","textInput","paste"]);Hc("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Hc("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Hc("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ah="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),dG=new Set("cancel close invalid load scroll toggle".split(" ").concat(ah));function w4(e,t,r){var a=e.type||"unknown-event";e.currentTarget=r,lK(a,t,void 0,e),e.currentTarget=null}function _D(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var a=e[r],n=a.event;a=a.listeners;e:{var i=void 0;if(t)for(var o=a.length-1;0<=o;o--){var l=a[o],c=l.instance,d=l.currentTarget;if(l=l.listener,c!==i&&n.isPropagationStopped())break e;w4(n,l,d),i=c}else for(o=0;o<a.length;o++){if(l=a[o],c=l.instance,d=l.currentTarget,l=l.listener,c!==i&&n.isPropagationStopped())break e;w4(n,l,d),i=c}}}if(wg)throw e=$w,wg=!1,$w=null,e}function Dt(e,t){var r=t[Yw];r===void 0&&(r=t[Yw]=new Set);var a=e+"__bubble";r.has(a)||(CD(t,e,2,!1),r.add(a))}function qb(e,t,r){var a=0;t&&(a|=4),CD(r,e,a,t)}var tx="_reactListening"+Math.random().toString(36).slice(2);function Vh(e){if(!e[tx]){e[tx]=!0,O5.forEach(function(r){r!=="selectionchange"&&(dG.has(r)||qb(r,!1,e),qb(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[tx]||(t[tx]=!0,qb("selectionchange",!1,t))}}function CD(e,t,r,a){switch(cD(t)){case 1:var n=SK;break;case 4:n=_K;break;default:n=J2}r=n.bind(null,t,r,e),n=void 0,!Lw||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(n=!0),a?n!==void 0?e.addEventListener(t,r,{capture:!0,passive:n}):e.addEventListener(t,r,!0):n!==void 0?e.addEventListener(t,r,{passive:n}):e.addEventListener(t,r,!1)}function Vb(e,t,r,a,n){var i=a;if(!(t&1)&&!(t&2)&&a!==null)e:for(;;){if(a===null)return;var o=a.tag;if(o===3||o===4){var l=a.stateNode.containerInfo;if(l===n||l.nodeType===8&&l.parentNode===n)break;if(o===4)for(o=a.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===n||c.nodeType===8&&c.parentNode===n))return;o=o.return}for(;l!==null;){if(o=Zl(l),o===null)return;if(c=o.tag,c===5||c===6){a=i=o;continue e}l=l.parentNode}}a=a.return}Y5(function(){var d=i,u=G2(r),m=[];e:{var h=SD.get(e);if(h!==void 0){var f=eS,g=e;switch(e){case"keypress":if(Jx(r)===0)break e;case"keydown":case"keyup":f=BK;break;case"focusin":g="focus",f=Fb;break;case"focusout":g="blur",f=Fb;break;case"beforeblur":case"afterblur":f=Fb;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":f=d4;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":f=PK;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":f=qK;break;case bD:case jD:case wD:f=TK;break;case ND:f=WK;break;case"scroll":f=CK;break;case"wheel":f=KK;break;case"copy":case"cut":case"paste":f=OK;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":f=m4}var x=(t&4)!==0,y=!x&&e==="scroll",v=x?h!==null?h+"Capture":null:h;x=[];for(var b=d,j;b!==null;){j=b;var N=j.stateNode;if(j.tag===5&&N!==null&&(j=N,v!==null&&(N=Lh(b,v),N!=null&&x.push(Wh(b,N,j)))),y)break;b=b.return}0<x.length&&(h=new f(h,g,null,r,u),m.push({event:h,listeners:x}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",f=e==="mouseout"||e==="pointerout",h&&r!==Iw&&(g=r.relatedTarget||r.fromElement)&&(Zl(g)||g[Fi]))break e;if((f||h)&&(h=u.window===u?u:(h=u.ownerDocument)?h.defaultView||h.parentWindow:window,f?(g=r.relatedTarget||r.toElement,f=d,g=g?Zl(g):null,g!==null&&(y=Kc(g),g!==y||g.tag!==5&&g.tag!==6)&&(g=null)):(f=null,g=d),f!==g)){if(x=d4,N="onMouseLeave",v="onMouseEnter",b="mouse",(e==="pointerout"||e==="pointerover")&&(x=m4,N="onPointerLeave",v="onPointerEnter",b="pointer"),y=f==null?h:Od(f),j=g==null?h:Od(g),h=new x(N,b+"leave",f,r,u),h.target=y,h.relatedTarget=j,N=null,Zl(u)===d&&(x=new x(v,b+"enter",g,r,u),x.target=j,x.relatedTarget=y,N=x),y=N,f&&g)t:{for(x=f,v=g,b=0,j=x;j;j=dd(j))b++;for(j=0,N=v;N;N=dd(N))j++;for(;0<b-j;)x=dd(x),b--;for(;0<j-b;)v=dd(v),j--;for(;b--;){if(x===v||v!==null&&x===v.alternate)break t;x=dd(x),v=dd(v)}x=null}else x=null;f!==null&&N4(m,h,f,x,!1),g!==null&&y!==null&&N4(m,y,g,x,!0)}}e:{if(h=d?Od(d):window,f=h.nodeName&&h.nodeName.toLowerCase(),f==="select"||f==="input"&&h.type==="file")var w=eG;else if(p4(h))if(pD)w=aG;else{w=sG;var S=tG}else(f=h.nodeName)&&f.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(w=rG);if(w&&(w=w(e,d))){fD(m,w,r,u);break e}S&&S(e,h,d),e==="focusout"&&(S=h._wrapperState)&&S.controlled&&h.type==="number"&&Tw(h,"number",h.value)}switch(S=d?Od(d):window,e){case"focusin":(p4(S)||S.contentEditable==="true")&&(Td=S,qw=d,gh=null);break;case"focusout":gh=qw=Td=null;break;case"mousedown":Vw=!0;break;case"contextmenu":case"mouseup":case"dragend":Vw=!1,b4(m,r,u);break;case"selectionchange":if(oG)break;case"keydown":case"keyup":b4(m,r,u)}var _;if(sS)e:{switch(e){case"compositionstart":var C="onCompositionStart";break e;case"compositionend":C="onCompositionEnd";break e;case"compositionupdate":C="onCompositionUpdate";break e}C=void 0}else Ad?mD(e,r)&&(C="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(C="onCompositionStart");C&&(uD&&r.locale!=="ko"&&(Ad||C!=="onCompositionStart"?C==="onCompositionEnd"&&Ad&&(_=dD()):(Ko=u,Z2="value"in Ko?Ko.value:Ko.textContent,Ad=!0)),S=kg(d,C),0<S.length&&(C=new u4(C,e,null,r,u),m.push({event:C,listeners:S}),_?C.data=_:(_=hD(r),_!==null&&(C.data=_)))),(_=YK?XK(e,r):QK(e,r))&&(d=kg(d,"onBeforeInput"),0<d.length&&(u=new u4("onBeforeInput","beforeinput",null,r,u),m.push({event:u,listeners:d}),u.data=_))}_D(m,t)})}function Wh(e,t,r){return{instance:e,listener:t,currentTarget:r}}function kg(e,t){for(var r=t+"Capture",a=[];e!==null;){var n=e,i=n.stateNode;n.tag===5&&i!==null&&(n=i,i=Lh(e,r),i!=null&&a.unshift(Wh(e,i,n)),i=Lh(e,t),i!=null&&a.push(Wh(e,i,n))),e=e.return}return a}function dd(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function N4(e,t,r,a,n){for(var i=t._reactName,o=[];r!==null&&r!==a;){var l=r,c=l.alternate,d=l.stateNode;if(c!==null&&c===a)break;l.tag===5&&d!==null&&(l=d,n?(c=Lh(r,i),c!=null&&o.unshift(Wh(r,c,l))):n||(c=Lh(r,i),c!=null&&o.push(Wh(r,c,l)))),r=r.return}o.length!==0&&e.push({event:t,listeners:o})}var uG=/\r\n?/g,mG=/\u0000|\uFFFD/g;function S4(e){return(typeof e=="string"?e:""+e).replace(uG,`
`).replace(mG,"")}function sx(e,t,r){if(t=S4(t),S4(e)!==t&&r)throw Error(de(425))}function Pg(){}var Ww=null,Hw=null;function Kw(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Gw=typeof setTimeout=="function"?setTimeout:void 0,hG=typeof clearTimeout=="function"?clearTimeout:void 0,_4=typeof Promise=="function"?Promise:void 0,fG=typeof queueMicrotask=="function"?queueMicrotask:typeof _4<"u"?function(e){return _4.resolve(null).then(e).catch(pG)}:Gw;function pG(e){setTimeout(function(){throw e})}function Wb(e,t){var r=t,a=0;do{var n=r.nextSibling;if(e.removeChild(r),n&&n.nodeType===8)if(r=n.data,r==="/$"){if(a===0){e.removeChild(n),zh(t);return}a--}else r!=="$"&&r!=="$?"&&r!=="$!"||a++;r=n}while(r);zh(t)}function Zo(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function C4(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var sm=Math.random().toString(36).slice(2),$n="__reactFiber$"+sm,Hh="__reactProps$"+sm,Fi="__reactContainer$"+sm,Yw="__reactEvents$"+sm,xG="__reactListeners$"+sm,gG="__reactHandles$"+sm;function Zl(e){var t=e[$n];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Fi]||r[$n]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=C4(e);e!==null;){if(r=e[$n])return r;e=C4(e)}return t}e=r,r=e.parentNode}return null}function Wf(e){return e=e[$n]||e[Fi],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Od(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(de(33))}function i0(e){return e[Hh]||null}var Xw=[],Dd=-1;function Sl(e){return{current:e}}function Ft(e){0>Dd||(e.current=Xw[Dd],Xw[Dd]=null,Dd--)}function Tt(e,t){Dd++,Xw[Dd]=e.current,e.current=t}var dl={},cr=Sl(dl),Br=Sl(!1),kc=dl;function ju(e,t){var r=e.type.contextTypes;if(!r)return dl;var a=e.stateNode;if(a&&a.__reactInternalMemoizedUnmaskedChildContext===t)return a.__reactInternalMemoizedMaskedChildContext;var n={},i;for(i in r)n[i]=t[i];return a&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=n),n}function zr(e){return e=e.childContextTypes,e!=null}function Eg(){Ft(Br),Ft(cr)}function k4(e,t,r){if(cr.current!==dl)throw Error(de(168));Tt(cr,t),Tt(Br,r)}function kD(e,t,r){var a=e.stateNode;if(t=t.childContextTypes,typeof a.getChildContext!="function")return r;a=a.getChildContext();for(var n in a)if(!(n in t))throw Error(de(108,tK(e)||"Unknown",n));return Qt({},r,a)}function Ag(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||dl,kc=cr.current,Tt(cr,e),Tt(Br,Br.current),!0}function P4(e,t,r){var a=e.stateNode;if(!a)throw Error(de(169));r?(e=kD(e,t,kc),a.__reactInternalMemoizedMergedChildContext=e,Ft(Br),Ft(cr),Tt(cr,e)):Ft(Br),Tt(Br,r)}var wi=null,o0=!1,Hb=!1;function PD(e){wi===null?wi=[e]:wi.push(e)}function vG(e){o0=!0,PD(e)}function _l(){if(!Hb&&wi!==null){Hb=!0;var e=0,t=xt;try{var r=wi;for(xt=1;e<r.length;e++){var a=r[e];do a=a(!0);while(a!==null)}wi=null,o0=!1}catch(n){throw wi!==null&&(wi=wi.slice(e+1)),Z5(Y2,_l),n}finally{xt=t,Hb=!1}}return null}var Rd=[],Id=0,Tg=null,Mg=0,ka=[],Pa=0,Pc=null,Ci=1,ki="";function Vl(e,t){Rd[Id++]=Mg,Rd[Id++]=Tg,Tg=e,Mg=t}function ED(e,t,r){ka[Pa++]=Ci,ka[Pa++]=ki,ka[Pa++]=Pc,Pc=e;var a=Ci;e=ki;var n=32-vn(a)-1;a&=~(1<<n),r+=1;var i=32-vn(t)+n;if(30<i){var o=n-n%5;i=(a&(1<<o)-1).toString(32),a>>=o,n-=o,Ci=1<<32-vn(t)+n|r<<n|a,ki=i+e}else Ci=1<<i|r<<n|a,ki=e}function aS(e){e.return!==null&&(Vl(e,1),ED(e,1,0))}function nS(e){for(;e===Tg;)Tg=Rd[--Id],Rd[Id]=null,Mg=Rd[--Id],Rd[Id]=null;for(;e===Pc;)Pc=ka[--Pa],ka[Pa]=null,ki=ka[--Pa],ka[Pa]=null,Ci=ka[--Pa],ka[Pa]=null}var na=null,aa=null,$t=!1,mn=null;function AD(e,t){var r=Aa(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function E4(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,na=e,aa=Zo(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,na=e,aa=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=Pc!==null?{id:Ci,overflow:ki}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=Aa(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,na=e,aa=null,!0):!1;default:return!1}}function Qw(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Jw(e){if($t){var t=aa;if(t){var r=t;if(!E4(e,t)){if(Qw(e))throw Error(de(418));t=Zo(r.nextSibling);var a=na;t&&E4(e,t)?AD(a,r):(e.flags=e.flags&-4097|2,$t=!1,na=e)}}else{if(Qw(e))throw Error(de(418));e.flags=e.flags&-4097|2,$t=!1,na=e}}}function A4(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;na=e}function rx(e){if(e!==na)return!1;if(!$t)return A4(e),$t=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Kw(e.type,e.memoizedProps)),t&&(t=aa)){if(Qw(e))throw TD(),Error(de(418));for(;t;)AD(e,t),t=Zo(t.nextSibling)}if(A4(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(de(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){aa=Zo(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}aa=null}}else aa=na?Zo(e.stateNode.nextSibling):null;return!0}function TD(){for(var e=aa;e;)e=Zo(e.nextSibling)}function wu(){aa=na=null,$t=!1}function iS(e){mn===null?mn=[e]:mn.push(e)}var yG=ro.ReactCurrentBatchConfig;function Bm(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(de(309));var a=r.stateNode}if(!a)throw Error(de(147,e));var n=a,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var l=n.refs;o===null?delete l[i]:l[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(de(284));if(!r._owner)throw Error(de(290,e))}return e}function ax(e,t){throw e=Object.prototype.toString.call(t),Error(de(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function T4(e){var t=e._init;return t(e._payload)}function MD(e){function t(v,b){if(e){var j=v.deletions;j===null?(v.deletions=[b],v.flags|=16):j.push(b)}}function r(v,b){if(!e)return null;for(;b!==null;)t(v,b),b=b.sibling;return null}function a(v,b){for(v=new Map;b!==null;)b.key!==null?v.set(b.key,b):v.set(b.index,b),b=b.sibling;return v}function n(v,b){return v=rl(v,b),v.index=0,v.sibling=null,v}function i(v,b,j){return v.index=j,e?(j=v.alternate,j!==null?(j=j.index,j<b?(v.flags|=2,b):j):(v.flags|=2,b)):(v.flags|=1048576,b)}function o(v){return e&&v.alternate===null&&(v.flags|=2),v}function l(v,b,j,N){return b===null||b.tag!==6?(b=Zb(j,v.mode,N),b.return=v,b):(b=n(b,j),b.return=v,b)}function c(v,b,j,N){var w=j.type;return w===Ed?u(v,b,j.props.children,N,j.key):b!==null&&(b.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===Ao&&T4(w)===b.type)?(N=n(b,j.props),N.ref=Bm(v,b,j),N.return=v,N):(N=ng(j.type,j.key,j.props,null,v.mode,N),N.ref=Bm(v,b,j),N.return=v,N)}function d(v,b,j,N){return b===null||b.tag!==4||b.stateNode.containerInfo!==j.containerInfo||b.stateNode.implementation!==j.implementation?(b=ej(j,v.mode,N),b.return=v,b):(b=n(b,j.children||[]),b.return=v,b)}function u(v,b,j,N,w){return b===null||b.tag!==7?(b=bc(j,v.mode,N,w),b.return=v,b):(b=n(b,j),b.return=v,b)}function m(v,b,j){if(typeof b=="string"&&b!==""||typeof b=="number")return b=Zb(""+b,v.mode,j),b.return=v,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Kp:return j=ng(b.type,b.key,b.props,null,v.mode,j),j.ref=Bm(v,null,b),j.return=v,j;case Pd:return b=ej(b,v.mode,j),b.return=v,b;case Ao:var N=b._init;return m(v,N(b._payload),j)}if(sh(b)||Rm(b))return b=bc(b,v.mode,j,null),b.return=v,b;ax(v,b)}return null}function h(v,b,j,N){var w=b!==null?b.key:null;if(typeof j=="string"&&j!==""||typeof j=="number")return w!==null?null:l(v,b,""+j,N);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case Kp:return j.key===w?c(v,b,j,N):null;case Pd:return j.key===w?d(v,b,j,N):null;case Ao:return w=j._init,h(v,b,w(j._payload),N)}if(sh(j)||Rm(j))return w!==null?null:u(v,b,j,N,null);ax(v,j)}return null}function f(v,b,j,N,w){if(typeof N=="string"&&N!==""||typeof N=="number")return v=v.get(j)||null,l(b,v,""+N,w);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case Kp:return v=v.get(N.key===null?j:N.key)||null,c(b,v,N,w);case Pd:return v=v.get(N.key===null?j:N.key)||null,d(b,v,N,w);case Ao:var S=N._init;return f(v,b,j,S(N._payload),w)}if(sh(N)||Rm(N))return v=v.get(j)||null,u(b,v,N,w,null);ax(b,N)}return null}function g(v,b,j,N){for(var w=null,S=null,_=b,C=b=0,E=null;_!==null&&C<j.length;C++){_.index>C?(E=_,_=null):E=_.sibling;var T=h(v,_,j[C],N);if(T===null){_===null&&(_=E);break}e&&_&&T.alternate===null&&t(v,_),b=i(T,b,C),S===null?w=T:S.sibling=T,S=T,_=E}if(C===j.length)return r(v,_),$t&&Vl(v,C),w;if(_===null){for(;C<j.length;C++)_=m(v,j[C],N),_!==null&&(b=i(_,b,C),S===null?w=_:S.sibling=_,S=_);return $t&&Vl(v,C),w}for(_=a(v,_);C<j.length;C++)E=f(_,v,C,j[C],N),E!==null&&(e&&E.alternate!==null&&_.delete(E.key===null?C:E.key),b=i(E,b,C),S===null?w=E:S.sibling=E,S=E);return e&&_.forEach(function(k){return t(v,k)}),$t&&Vl(v,C),w}function x(v,b,j,N){var w=Rm(j);if(typeof w!="function")throw Error(de(150));if(j=w.call(j),j==null)throw Error(de(151));for(var S=w=null,_=b,C=b=0,E=null,T=j.next();_!==null&&!T.done;C++,T=j.next()){_.index>C?(E=_,_=null):E=_.sibling;var k=h(v,_,T.value,N);if(k===null){_===null&&(_=E);break}e&&_&&k.alternate===null&&t(v,_),b=i(k,b,C),S===null?w=k:S.sibling=k,S=k,_=E}if(T.done)return r(v,_),$t&&Vl(v,C),w;if(_===null){for(;!T.done;C++,T=j.next())T=m(v,T.value,N),T!==null&&(b=i(T,b,C),S===null?w=T:S.sibling=T,S=T);return $t&&Vl(v,C),w}for(_=a(v,_);!T.done;C++,T=j.next())T=f(_,v,C,T.value,N),T!==null&&(e&&T.alternate!==null&&_.delete(T.key===null?C:T.key),b=i(T,b,C),S===null?w=T:S.sibling=T,S=T);return e&&_.forEach(function(P){return t(v,P)}),$t&&Vl(v,C),w}function y(v,b,j,N){if(typeof j=="object"&&j!==null&&j.type===Ed&&j.key===null&&(j=j.props.children),typeof j=="object"&&j!==null){switch(j.$$typeof){case Kp:e:{for(var w=j.key,S=b;S!==null;){if(S.key===w){if(w=j.type,w===Ed){if(S.tag===7){r(v,S.sibling),b=n(S,j.props.children),b.return=v,v=b;break e}}else if(S.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===Ao&&T4(w)===S.type){r(v,S.sibling),b=n(S,j.props),b.ref=Bm(v,S,j),b.return=v,v=b;break e}r(v,S);break}else t(v,S);S=S.sibling}j.type===Ed?(b=bc(j.props.children,v.mode,N,j.key),b.return=v,v=b):(N=ng(j.type,j.key,j.props,null,v.mode,N),N.ref=Bm(v,b,j),N.return=v,v=N)}return o(v);case Pd:e:{for(S=j.key;b!==null;){if(b.key===S)if(b.tag===4&&b.stateNode.containerInfo===j.containerInfo&&b.stateNode.implementation===j.implementation){r(v,b.sibling),b=n(b,j.children||[]),b.return=v,v=b;break e}else{r(v,b);break}else t(v,b);b=b.sibling}b=ej(j,v.mode,N),b.return=v,v=b}return o(v);case Ao:return S=j._init,y(v,b,S(j._payload),N)}if(sh(j))return g(v,b,j,N);if(Rm(j))return x(v,b,j,N);ax(v,j)}return typeof j=="string"&&j!==""||typeof j=="number"?(j=""+j,b!==null&&b.tag===6?(r(v,b.sibling),b=n(b,j),b.return=v,v=b):(r(v,b),b=Zb(j,v.mode,N),b.return=v,v=b),o(v)):r(v,b)}return y}var Nu=MD(!0),OD=MD(!1),Og=Sl(null),Dg=null,Fd=null,oS=null;function lS(){oS=Fd=Dg=null}function cS(e){var t=Og.current;Ft(Og),e._currentValue=t}function Zw(e,t,r){for(;e!==null;){var a=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,a!==null&&(a.childLanes|=t)):a!==null&&(a.childLanes&t)!==t&&(a.childLanes|=t),e===r)break;e=e.return}}function Jd(e,t){Dg=e,oS=Fd=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Ir=!0),e.firstContext=null)}function $a(e){var t=e._currentValue;if(oS!==e)if(e={context:e,memoizedValue:t,next:null},Fd===null){if(Dg===null)throw Error(de(308));Fd=e,Dg.dependencies={lanes:0,firstContext:e}}else Fd=Fd.next=e;return t}var ec=null;function dS(e){ec===null?ec=[e]:ec.push(e)}function DD(e,t,r,a){var n=t.interleaved;return n===null?(r.next=r,dS(t)):(r.next=n.next,n.next=r),t.interleaved=r,Li(e,a)}function Li(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var To=!1;function uS(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function RD(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Mi(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function el(e,t,r){var a=e.updateQueue;if(a===null)return null;if(a=a.shared,nt&2){var n=a.pending;return n===null?t.next=t:(t.next=n.next,n.next=t),a.pending=t,Li(e,r)}return n=a.interleaved,n===null?(t.next=t,dS(a)):(t.next=n.next,n.next=t),a.interleaved=t,Li(e,r)}function Zx(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var a=t.lanes;a&=e.pendingLanes,r|=a,t.lanes=r,X2(e,r)}}function M4(e,t){var r=e.updateQueue,a=e.alternate;if(a!==null&&(a=a.updateQueue,r===a)){var n=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?n=i=o:i=i.next=o,r=r.next}while(r!==null);i===null?n=i=t:i=i.next=t}else n=i=t;r={baseState:a.baseState,firstBaseUpdate:n,lastBaseUpdate:i,shared:a.shared,effects:a.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Rg(e,t,r,a){var n=e.updateQueue;To=!1;var i=n.firstBaseUpdate,o=n.lastBaseUpdate,l=n.shared.pending;if(l!==null){n.shared.pending=null;var c=l,d=c.next;c.next=null,o===null?i=d:o.next=d,o=c;var u=e.alternate;u!==null&&(u=u.updateQueue,l=u.lastBaseUpdate,l!==o&&(l===null?u.firstBaseUpdate=d:l.next=d,u.lastBaseUpdate=c))}if(i!==null){var m=n.baseState;o=0,u=d=c=null,l=i;do{var h=l.lane,f=l.eventTime;if((a&h)===h){u!==null&&(u=u.next={eventTime:f,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var g=e,x=l;switch(h=t,f=r,x.tag){case 1:if(g=x.payload,typeof g=="function"){m=g.call(f,m,h);break e}m=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=x.payload,h=typeof g=="function"?g.call(f,m,h):g,h==null)break e;m=Qt({},m,h);break e;case 2:To=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,h=n.effects,h===null?n.effects=[l]:h.push(l))}else f={eventTime:f,lane:h,tag:l.tag,payload:l.payload,callback:l.callback,next:null},u===null?(d=u=f,c=m):u=u.next=f,o|=h;if(l=l.next,l===null){if(l=n.shared.pending,l===null)break;h=l,l=h.next,h.next=null,n.lastBaseUpdate=h,n.shared.pending=null}}while(!0);if(u===null&&(c=m),n.baseState=c,n.firstBaseUpdate=d,n.lastBaseUpdate=u,t=n.shared.interleaved,t!==null){n=t;do o|=n.lane,n=n.next;while(n!==t)}else i===null&&(n.shared.lanes=0);Ac|=o,e.lanes=o,e.memoizedState=m}}function O4(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var a=e[t],n=a.callback;if(n!==null){if(a.callback=null,a=r,typeof n!="function")throw Error(de(191,n));n.call(a)}}}var Hf={},Xn=Sl(Hf),Kh=Sl(Hf),Gh=Sl(Hf);function tc(e){if(e===Hf)throw Error(de(174));return e}function mS(e,t){switch(Tt(Gh,t),Tt(Kh,e),Tt(Xn,Hf),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Ow(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Ow(t,e)}Ft(Xn),Tt(Xn,t)}function Su(){Ft(Xn),Ft(Kh),Ft(Gh)}function ID(e){tc(Gh.current);var t=tc(Xn.current),r=Ow(t,e.type);t!==r&&(Tt(Kh,e),Tt(Xn,r))}function hS(e){Kh.current===e&&(Ft(Xn),Ft(Kh))}var Ht=Sl(0);function Ig(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Kb=[];function fS(){for(var e=0;e<Kb.length;e++)Kb[e]._workInProgressVersionPrimary=null;Kb.length=0}var eg=ro.ReactCurrentDispatcher,Gb=ro.ReactCurrentBatchConfig,Ec=0,Yt=null,ws=null,Ms=null,Fg=!1,vh=!1,Yh=0,bG=0;function Ys(){throw Error(de(321))}function pS(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Nn(e[r],t[r]))return!1;return!0}function xS(e,t,r,a,n,i){if(Ec=i,Yt=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,eg.current=e===null||e.memoizedState===null?SG:_G,e=r(a,n),vh){i=0;do{if(vh=!1,Yh=0,25<=i)throw Error(de(301));i+=1,Ms=ws=null,t.updateQueue=null,eg.current=CG,e=r(a,n)}while(vh)}if(eg.current=Lg,t=ws!==null&&ws.next!==null,Ec=0,Ms=ws=Yt=null,Fg=!1,t)throw Error(de(300));return e}function gS(){var e=Yh!==0;return Yh=0,e}function Rn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ms===null?Yt.memoizedState=Ms=e:Ms=Ms.next=e,Ms}function Ba(){if(ws===null){var e=Yt.alternate;e=e!==null?e.memoizedState:null}else e=ws.next;var t=Ms===null?Yt.memoizedState:Ms.next;if(t!==null)Ms=t,ws=e;else{if(e===null)throw Error(de(310));ws=e,e={memoizedState:ws.memoizedState,baseState:ws.baseState,baseQueue:ws.baseQueue,queue:ws.queue,next:null},Ms===null?Yt.memoizedState=Ms=e:Ms=Ms.next=e}return Ms}function Xh(e,t){return typeof t=="function"?t(e):t}function Yb(e){var t=Ba(),r=t.queue;if(r===null)throw Error(de(311));r.lastRenderedReducer=e;var a=ws,n=a.baseQueue,i=r.pending;if(i!==null){if(n!==null){var o=n.next;n.next=i.next,i.next=o}a.baseQueue=n=i,r.pending=null}if(n!==null){i=n.next,a=a.baseState;var l=o=null,c=null,d=i;do{var u=d.lane;if((Ec&u)===u)c!==null&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),a=d.hasEagerState?d.eagerState:e(a,d.action);else{var m={lane:u,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};c===null?(l=c=m,o=a):c=c.next=m,Yt.lanes|=u,Ac|=u}d=d.next}while(d!==null&&d!==i);c===null?o=a:c.next=l,Nn(a,t.memoizedState)||(Ir=!0),t.memoizedState=a,t.baseState=o,t.baseQueue=c,r.lastRenderedState=a}if(e=r.interleaved,e!==null){n=e;do i=n.lane,Yt.lanes|=i,Ac|=i,n=n.next;while(n!==e)}else n===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function Xb(e){var t=Ba(),r=t.queue;if(r===null)throw Error(de(311));r.lastRenderedReducer=e;var a=r.dispatch,n=r.pending,i=t.memoizedState;if(n!==null){r.pending=null;var o=n=n.next;do i=e(i,o.action),o=o.next;while(o!==n);Nn(i,t.memoizedState)||(Ir=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),r.lastRenderedState=i}return[i,a]}function FD(){}function LD(e,t){var r=Yt,a=Ba(),n=t(),i=!Nn(a.memoizedState,n);if(i&&(a.memoizedState=n,Ir=!0),a=a.queue,vS(zD.bind(null,r,a,e),[e]),a.getSnapshot!==t||i||Ms!==null&&Ms.memoizedState.tag&1){if(r.flags|=2048,Qh(9,BD.bind(null,r,a,n,t),void 0,null),Is===null)throw Error(de(349));Ec&30||$D(r,t,n)}return n}function $D(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=Yt.updateQueue,t===null?(t={lastEffect:null,stores:null},Yt.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function BD(e,t,r,a){t.value=r,t.getSnapshot=a,UD(t)&&qD(e)}function zD(e,t,r){return r(function(){UD(t)&&qD(e)})}function UD(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Nn(e,r)}catch{return!0}}function qD(e){var t=Li(e,1);t!==null&&yn(t,e,1,-1)}function D4(e){var t=Rn();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Xh,lastRenderedState:e},t.queue=e,e=e.dispatch=NG.bind(null,Yt,e),[t.memoizedState,e]}function Qh(e,t,r,a){return e={tag:e,create:t,destroy:r,deps:a,next:null},t=Yt.updateQueue,t===null?(t={lastEffect:null,stores:null},Yt.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(a=r.next,r.next=e,e.next=a,t.lastEffect=e)),e}function VD(){return Ba().memoizedState}function tg(e,t,r,a){var n=Rn();Yt.flags|=e,n.memoizedState=Qh(1|t,r,void 0,a===void 0?null:a)}function l0(e,t,r,a){var n=Ba();a=a===void 0?null:a;var i=void 0;if(ws!==null){var o=ws.memoizedState;if(i=o.destroy,a!==null&&pS(a,o.deps)){n.memoizedState=Qh(t,r,i,a);return}}Yt.flags|=e,n.memoizedState=Qh(1|t,r,i,a)}function R4(e,t){return tg(8390656,8,e,t)}function vS(e,t){return l0(2048,8,e,t)}function WD(e,t){return l0(4,2,e,t)}function HD(e,t){return l0(4,4,e,t)}function KD(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function GD(e,t,r){return r=r!=null?r.concat([e]):null,l0(4,4,KD.bind(null,t,e),r)}function yS(){}function YD(e,t){var r=Ba();t=t===void 0?null:t;var a=r.memoizedState;return a!==null&&t!==null&&pS(t,a[1])?a[0]:(r.memoizedState=[e,t],e)}function XD(e,t){var r=Ba();t=t===void 0?null:t;var a=r.memoizedState;return a!==null&&t!==null&&pS(t,a[1])?a[0]:(e=e(),r.memoizedState=[e,t],e)}function QD(e,t,r){return Ec&21?(Nn(r,t)||(r=sD(),Yt.lanes|=r,Ac|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Ir=!0),e.memoizedState=r)}function jG(e,t){var r=xt;xt=r!==0&&4>r?r:4,e(!0);var a=Gb.transition;Gb.transition={};try{e(!1),t()}finally{xt=r,Gb.transition=a}}function JD(){return Ba().memoizedState}function wG(e,t,r){var a=sl(e);if(r={lane:a,action:r,hasEagerState:!1,eagerState:null,next:null},ZD(e))eR(t,r);else if(r=DD(e,t,r,a),r!==null){var n=wr();yn(r,e,a,n),tR(r,t,a)}}function NG(e,t,r){var a=sl(e),n={lane:a,action:r,hasEagerState:!1,eagerState:null,next:null};if(ZD(e))eR(t,n);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,l=i(o,r);if(n.hasEagerState=!0,n.eagerState=l,Nn(l,o)){var c=t.interleaved;c===null?(n.next=n,dS(t)):(n.next=c.next,c.next=n),t.interleaved=n;return}}catch{}finally{}r=DD(e,t,n,a),r!==null&&(n=wr(),yn(r,e,a,n),tR(r,t,a))}}function ZD(e){var t=e.alternate;return e===Yt||t!==null&&t===Yt}function eR(e,t){vh=Fg=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function tR(e,t,r){if(r&4194240){var a=t.lanes;a&=e.pendingLanes,r|=a,t.lanes=r,X2(e,r)}}var Lg={readContext:$a,useCallback:Ys,useContext:Ys,useEffect:Ys,useImperativeHandle:Ys,useInsertionEffect:Ys,useLayoutEffect:Ys,useMemo:Ys,useReducer:Ys,useRef:Ys,useState:Ys,useDebugValue:Ys,useDeferredValue:Ys,useTransition:Ys,useMutableSource:Ys,useSyncExternalStore:Ys,useId:Ys,unstable_isNewReconciler:!1},SG={readContext:$a,useCallback:function(e,t){return Rn().memoizedState=[e,t===void 0?null:t],e},useContext:$a,useEffect:R4,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,tg(4194308,4,KD.bind(null,t,e),r)},useLayoutEffect:function(e,t){return tg(4194308,4,e,t)},useInsertionEffect:function(e,t){return tg(4,2,e,t)},useMemo:function(e,t){var r=Rn();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var a=Rn();return t=r!==void 0?r(t):t,a.memoizedState=a.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},a.queue=e,e=e.dispatch=wG.bind(null,Yt,e),[a.memoizedState,e]},useRef:function(e){var t=Rn();return e={current:e},t.memoizedState=e},useState:D4,useDebugValue:yS,useDeferredValue:function(e){return Rn().memoizedState=e},useTransition:function(){var e=D4(!1),t=e[0];return e=jG.bind(null,e[1]),Rn().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var a=Yt,n=Rn();if($t){if(r===void 0)throw Error(de(407));r=r()}else{if(r=t(),Is===null)throw Error(de(349));Ec&30||$D(a,t,r)}n.memoizedState=r;var i={value:r,getSnapshot:t};return n.queue=i,R4(zD.bind(null,a,i,e),[e]),a.flags|=2048,Qh(9,BD.bind(null,a,i,r,t),void 0,null),r},useId:function(){var e=Rn(),t=Is.identifierPrefix;if($t){var r=ki,a=Ci;r=(a&~(1<<32-vn(a)-1)).toString(32)+r,t=":"+t+"R"+r,r=Yh++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=bG++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},_G={readContext:$a,useCallback:YD,useContext:$a,useEffect:vS,useImperativeHandle:GD,useInsertionEffect:WD,useLayoutEffect:HD,useMemo:XD,useReducer:Yb,useRef:VD,useState:function(){return Yb(Xh)},useDebugValue:yS,useDeferredValue:function(e){var t=Ba();return QD(t,ws.memoizedState,e)},useTransition:function(){var e=Yb(Xh)[0],t=Ba().memoizedState;return[e,t]},useMutableSource:FD,useSyncExternalStore:LD,useId:JD,unstable_isNewReconciler:!1},CG={readContext:$a,useCallback:YD,useContext:$a,useEffect:vS,useImperativeHandle:GD,useInsertionEffect:WD,useLayoutEffect:HD,useMemo:XD,useReducer:Xb,useRef:VD,useState:function(){return Xb(Xh)},useDebugValue:yS,useDeferredValue:function(e){var t=Ba();return ws===null?t.memoizedState=e:QD(t,ws.memoizedState,e)},useTransition:function(){var e=Xb(Xh)[0],t=Ba().memoizedState;return[e,t]},useMutableSource:FD,useSyncExternalStore:LD,useId:JD,unstable_isNewReconciler:!1};function on(e,t){if(e&&e.defaultProps){t=Qt({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function eN(e,t,r,a){t=e.memoizedState,r=r(a,t),r=r==null?t:Qt({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var c0={isMounted:function(e){return(e=e._reactInternals)?Kc(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var a=wr(),n=sl(e),i=Mi(a,n);i.payload=t,r!=null&&(i.callback=r),t=el(e,i,n),t!==null&&(yn(t,e,n,a),Zx(t,e,n))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var a=wr(),n=sl(e),i=Mi(a,n);i.tag=1,i.payload=t,r!=null&&(i.callback=r),t=el(e,i,n),t!==null&&(yn(t,e,n,a),Zx(t,e,n))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=wr(),a=sl(e),n=Mi(r,a);n.tag=2,t!=null&&(n.callback=t),t=el(e,n,a),t!==null&&(yn(t,e,a,r),Zx(t,e,a))}};function I4(e,t,r,a,n,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(a,i,o):t.prototype&&t.prototype.isPureReactComponent?!qh(r,a)||!qh(n,i):!0}function sR(e,t,r){var a=!1,n=dl,i=t.contextType;return typeof i=="object"&&i!==null?i=$a(i):(n=zr(t)?kc:cr.current,a=t.contextTypes,i=(a=a!=null)?ju(e,n):dl),t=new t(r,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=c0,e.stateNode=t,t._reactInternals=e,a&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=n,e.__reactInternalMemoizedMaskedChildContext=i),t}function F4(e,t,r,a){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,a),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,a),t.state!==e&&c0.enqueueReplaceState(t,t.state,null)}function tN(e,t,r,a){var n=e.stateNode;n.props=r,n.state=e.memoizedState,n.refs={},uS(e);var i=t.contextType;typeof i=="object"&&i!==null?n.context=$a(i):(i=zr(t)?kc:cr.current,n.context=ju(e,i)),n.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(eN(e,t,i,r),n.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof n.getSnapshotBeforeUpdate=="function"||typeof n.UNSAFE_componentWillMount!="function"&&typeof n.componentWillMount!="function"||(t=n.state,typeof n.componentWillMount=="function"&&n.componentWillMount(),typeof n.UNSAFE_componentWillMount=="function"&&n.UNSAFE_componentWillMount(),t!==n.state&&c0.enqueueReplaceState(n,n.state,null),Rg(e,r,n,a),n.state=e.memoizedState),typeof n.componentDidMount=="function"&&(e.flags|=4194308)}function _u(e,t){try{var r="",a=t;do r+=eK(a),a=a.return;while(a);var n=r}catch(i){n=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:n,digest:null}}function Qb(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function sN(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var kG=typeof WeakMap=="function"?WeakMap:Map;function rR(e,t,r){r=Mi(-1,r),r.tag=3,r.payload={element:null};var a=t.value;return r.callback=function(){Bg||(Bg=!0,mN=a),sN(e,t)},r}function aR(e,t,r){r=Mi(-1,r),r.tag=3;var a=e.type.getDerivedStateFromError;if(typeof a=="function"){var n=t.value;r.payload=function(){return a(n)},r.callback=function(){sN(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){sN(e,t),typeof a!="function"&&(tl===null?tl=new Set([this]):tl.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),r}function L4(e,t,r){var a=e.pingCache;if(a===null){a=e.pingCache=new kG;var n=new Set;a.set(t,n)}else n=a.get(t),n===void 0&&(n=new Set,a.set(t,n));n.has(r)||(n.add(r),e=zG.bind(null,e,t,r),t.then(e,e))}function $4(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function B4(e,t,r,a,n){return e.mode&1?(e.flags|=65536,e.lanes=n,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=Mi(-1,1),t.tag=2,el(r,t,1))),r.lanes|=1),e)}var PG=ro.ReactCurrentOwner,Ir=!1;function pr(e,t,r,a){t.child=e===null?OD(t,null,r,a):Nu(t,e.child,r,a)}function z4(e,t,r,a,n){r=r.render;var i=t.ref;return Jd(t,n),a=xS(e,t,r,a,i,n),r=gS(),e!==null&&!Ir?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n,$i(e,t,n)):($t&&r&&aS(t),t.flags|=1,pr(e,t,a,n),t.child)}function U4(e,t,r,a,n){if(e===null){var i=r.type;return typeof i=="function"&&!kS(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=i,nR(e,t,i,a,n)):(e=ng(r.type,null,a,t,t.mode,n),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&n)){var o=i.memoizedProps;if(r=r.compare,r=r!==null?r:qh,r(o,a)&&e.ref===t.ref)return $i(e,t,n)}return t.flags|=1,e=rl(i,a),e.ref=t.ref,e.return=t,t.child=e}function nR(e,t,r,a,n){if(e!==null){var i=e.memoizedProps;if(qh(i,a)&&e.ref===t.ref)if(Ir=!1,t.pendingProps=a=i,(e.lanes&n)!==0)e.flags&131072&&(Ir=!0);else return t.lanes=e.lanes,$i(e,t,n)}return rN(e,t,r,a,n)}function iR(e,t,r){var a=t.pendingProps,n=a.children,i=e!==null?e.memoizedState:null;if(a.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Tt($d,Zr),Zr|=r;else{if(!(r&1073741824))return e=i!==null?i.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Tt($d,Zr),Zr|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},a=i!==null?i.baseLanes:r,Tt($d,Zr),Zr|=a}else i!==null?(a=i.baseLanes|r,t.memoizedState=null):a=r,Tt($d,Zr),Zr|=a;return pr(e,t,n,r),t.child}function oR(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function rN(e,t,r,a,n){var i=zr(r)?kc:cr.current;return i=ju(t,i),Jd(t,n),r=xS(e,t,r,a,i,n),a=gS(),e!==null&&!Ir?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n,$i(e,t,n)):($t&&a&&aS(t),t.flags|=1,pr(e,t,r,n),t.child)}function q4(e,t,r,a,n){if(zr(r)){var i=!0;Ag(t)}else i=!1;if(Jd(t,n),t.stateNode===null)sg(e,t),sR(t,r,a),tN(t,r,a,n),a=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var c=o.context,d=r.contextType;typeof d=="object"&&d!==null?d=$a(d):(d=zr(r)?kc:cr.current,d=ju(t,d));var u=r.getDerivedStateFromProps,m=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";m||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==a||c!==d)&&F4(t,o,a,d),To=!1;var h=t.memoizedState;o.state=h,Rg(t,a,o,n),c=t.memoizedState,l!==a||h!==c||Br.current||To?(typeof u=="function"&&(eN(t,r,u,a),c=t.memoizedState),(l=To||I4(t,r,l,a,h,c,d))?(m||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=a,t.memoizedState=c),o.props=a,o.state=c,o.context=d,a=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),a=!1)}else{o=t.stateNode,RD(e,t),l=t.memoizedProps,d=t.type===t.elementType?l:on(t.type,l),o.props=d,m=t.pendingProps,h=o.context,c=r.contextType,typeof c=="object"&&c!==null?c=$a(c):(c=zr(r)?kc:cr.current,c=ju(t,c));var f=r.getDerivedStateFromProps;(u=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==m||h!==c)&&F4(t,o,a,c),To=!1,h=t.memoizedState,o.state=h,Rg(t,a,o,n);var g=t.memoizedState;l!==m||h!==g||Br.current||To?(typeof f=="function"&&(eN(t,r,f,a),g=t.memoizedState),(d=To||I4(t,r,d,a,h,g,c)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(a,g,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(a,g,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=a,t.memoizedState=g),o.props=a,o.state=g,o.context=c,a=d):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),a=!1)}return aN(e,t,r,a,i,n)}function aN(e,t,r,a,n,i){oR(e,t);var o=(t.flags&128)!==0;if(!a&&!o)return n&&P4(t,r,!1),$i(e,t,i);a=t.stateNode,PG.current=t;var l=o&&typeof r.getDerivedStateFromError!="function"?null:a.render();return t.flags|=1,e!==null&&o?(t.child=Nu(t,e.child,null,i),t.child=Nu(t,null,l,i)):pr(e,t,l,i),t.memoizedState=a.state,n&&P4(t,r,!0),t.child}function lR(e){var t=e.stateNode;t.pendingContext?k4(e,t.pendingContext,t.pendingContext!==t.context):t.context&&k4(e,t.context,!1),mS(e,t.containerInfo)}function V4(e,t,r,a,n){return wu(),iS(n),t.flags|=256,pr(e,t,r,a),t.child}var nN={dehydrated:null,treeContext:null,retryLane:0};function iN(e){return{baseLanes:e,cachePool:null,transitions:null}}function cR(e,t,r){var a=t.pendingProps,n=Ht.current,i=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(n&2)!==0),l?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(n|=1),Tt(Ht,n&1),e===null)return Jw(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=a.children,e=a.fallback,i?(a=t.mode,i=t.child,o={mode:"hidden",children:o},!(a&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=m0(o,a,0,null),e=bc(e,a,r,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=iN(r),t.memoizedState=nN,e):bS(t,o));if(n=e.memoizedState,n!==null&&(l=n.dehydrated,l!==null))return EG(e,t,o,a,l,n,r);if(i){i=a.fallback,o=t.mode,n=e.child,l=n.sibling;var c={mode:"hidden",children:a.children};return!(o&1)&&t.child!==n?(a=t.child,a.childLanes=0,a.pendingProps=c,t.deletions=null):(a=rl(n,c),a.subtreeFlags=n.subtreeFlags&14680064),l!==null?i=rl(l,i):(i=bc(i,o,r,null),i.flags|=2),i.return=t,a.return=t,a.sibling=i,t.child=a,a=i,i=t.child,o=e.child.memoizedState,o=o===null?iN(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~r,t.memoizedState=nN,a}return i=e.child,e=i.sibling,a=rl(i,{mode:"visible",children:a.children}),!(t.mode&1)&&(a.lanes=r),a.return=t,a.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=a,t.memoizedState=null,a}function bS(e,t){return t=m0({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function nx(e,t,r,a){return a!==null&&iS(a),Nu(t,e.child,null,r),e=bS(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function EG(e,t,r,a,n,i,o){if(r)return t.flags&256?(t.flags&=-257,a=Qb(Error(de(422))),nx(e,t,o,a)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=a.fallback,n=t.mode,a=m0({mode:"visible",children:a.children},n,0,null),i=bc(i,n,o,null),i.flags|=2,a.return=t,i.return=t,a.sibling=i,t.child=a,t.mode&1&&Nu(t,e.child,null,o),t.child.memoizedState=iN(o),t.memoizedState=nN,i);if(!(t.mode&1))return nx(e,t,o,null);if(n.data==="$!"){if(a=n.nextSibling&&n.nextSibling.dataset,a)var l=a.dgst;return a=l,i=Error(de(419)),a=Qb(i,a,void 0),nx(e,t,o,a)}if(l=(o&e.childLanes)!==0,Ir||l){if(a=Is,a!==null){switch(o&-o){case 4:n=2;break;case 16:n=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:n=32;break;case 536870912:n=268435456;break;default:n=0}n=n&(a.suspendedLanes|o)?0:n,n!==0&&n!==i.retryLane&&(i.retryLane=n,Li(e,n),yn(a,e,n,-1))}return CS(),a=Qb(Error(de(421))),nx(e,t,o,a)}return n.data==="$?"?(t.flags|=128,t.child=e.child,t=UG.bind(null,e),n._reactRetry=t,null):(e=i.treeContext,aa=Zo(n.nextSibling),na=t,$t=!0,mn=null,e!==null&&(ka[Pa++]=Ci,ka[Pa++]=ki,ka[Pa++]=Pc,Ci=e.id,ki=e.overflow,Pc=t),t=bS(t,a.children),t.flags|=4096,t)}function W4(e,t,r){e.lanes|=t;var a=e.alternate;a!==null&&(a.lanes|=t),Zw(e.return,t,r)}function Jb(e,t,r,a,n){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:a,tail:r,tailMode:n}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=a,i.tail=r,i.tailMode=n)}function dR(e,t,r){var a=t.pendingProps,n=a.revealOrder,i=a.tail;if(pr(e,t,a.children,r),a=Ht.current,a&2)a=a&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&W4(e,r,t);else if(e.tag===19)W4(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}a&=1}if(Tt(Ht,a),!(t.mode&1))t.memoizedState=null;else switch(n){case"forwards":for(r=t.child,n=null;r!==null;)e=r.alternate,e!==null&&Ig(e)===null&&(n=r),r=r.sibling;r=n,r===null?(n=t.child,t.child=null):(n=r.sibling,r.sibling=null),Jb(t,!1,n,r,i);break;case"backwards":for(r=null,n=t.child,t.child=null;n!==null;){if(e=n.alternate,e!==null&&Ig(e)===null){t.child=n;break}e=n.sibling,n.sibling=r,r=n,n=e}Jb(t,!0,r,null,i);break;case"together":Jb(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function sg(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function $i(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Ac|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(de(153));if(t.child!==null){for(e=t.child,r=rl(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=rl(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function AG(e,t,r){switch(t.tag){case 3:lR(t),wu();break;case 5:ID(t);break;case 1:zr(t.type)&&Ag(t);break;case 4:mS(t,t.stateNode.containerInfo);break;case 10:var a=t.type._context,n=t.memoizedProps.value;Tt(Og,a._currentValue),a._currentValue=n;break;case 13:if(a=t.memoizedState,a!==null)return a.dehydrated!==null?(Tt(Ht,Ht.current&1),t.flags|=128,null):r&t.child.childLanes?cR(e,t,r):(Tt(Ht,Ht.current&1),e=$i(e,t,r),e!==null?e.sibling:null);Tt(Ht,Ht.current&1);break;case 19:if(a=(r&t.childLanes)!==0,e.flags&128){if(a)return dR(e,t,r);t.flags|=128}if(n=t.memoizedState,n!==null&&(n.rendering=null,n.tail=null,n.lastEffect=null),Tt(Ht,Ht.current),a)break;return null;case 22:case 23:return t.lanes=0,iR(e,t,r)}return $i(e,t,r)}var uR,oN,mR,hR;uR=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};oN=function(){};mR=function(e,t,r,a){var n=e.memoizedProps;if(n!==a){e=t.stateNode,tc(Xn.current);var i=null;switch(r){case"input":n=Ew(e,n),a=Ew(e,a),i=[];break;case"select":n=Qt({},n,{value:void 0}),a=Qt({},a,{value:void 0}),i=[];break;case"textarea":n=Mw(e,n),a=Mw(e,a),i=[];break;default:typeof n.onClick!="function"&&typeof a.onClick=="function"&&(e.onclick=Pg)}Dw(r,a);var o;r=null;for(d in n)if(!a.hasOwnProperty(d)&&n.hasOwnProperty(d)&&n[d]!=null)if(d==="style"){var l=n[d];for(o in l)l.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(Ih.hasOwnProperty(d)?i||(i=[]):(i=i||[]).push(d,null));for(d in a){var c=a[d];if(l=n!=null?n[d]:void 0,a.hasOwnProperty(d)&&c!==l&&(c!=null||l!=null))if(d==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(r||(r={}),r[o]=c[o])}else r||(i||(i=[]),i.push(d,r)),r=c;else d==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(i=i||[]).push(d,c)):d==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(d,""+c):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(Ih.hasOwnProperty(d)?(c!=null&&d==="onScroll"&&Dt("scroll",e),i||l===c||(i=[])):(i=i||[]).push(d,c))}r&&(i=i||[]).push("style",r);var d=i;(t.updateQueue=d)&&(t.flags|=4)}};hR=function(e,t,r,a){r!==a&&(t.flags|=4)};function zm(e,t){if(!$t)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var a=null;r!==null;)r.alternate!==null&&(a=r),r=r.sibling;a===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:a.sibling=null}}function Xs(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,a=0;if(t)for(var n=e.child;n!==null;)r|=n.lanes|n.childLanes,a|=n.subtreeFlags&14680064,a|=n.flags&14680064,n.return=e,n=n.sibling;else for(n=e.child;n!==null;)r|=n.lanes|n.childLanes,a|=n.subtreeFlags,a|=n.flags,n.return=e,n=n.sibling;return e.subtreeFlags|=a,e.childLanes=r,t}function TG(e,t,r){var a=t.pendingProps;switch(nS(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Xs(t),null;case 1:return zr(t.type)&&Eg(),Xs(t),null;case 3:return a=t.stateNode,Su(),Ft(Br),Ft(cr),fS(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(rx(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,mn!==null&&(pN(mn),mn=null))),oN(e,t),Xs(t),null;case 5:hS(t);var n=tc(Gh.current);if(r=t.type,e!==null&&t.stateNode!=null)mR(e,t,r,a,n),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!a){if(t.stateNode===null)throw Error(de(166));return Xs(t),null}if(e=tc(Xn.current),rx(t)){a=t.stateNode,r=t.type;var i=t.memoizedProps;switch(a[$n]=t,a[Hh]=i,e=(t.mode&1)!==0,r){case"dialog":Dt("cancel",a),Dt("close",a);break;case"iframe":case"object":case"embed":Dt("load",a);break;case"video":case"audio":for(n=0;n<ah.length;n++)Dt(ah[n],a);break;case"source":Dt("error",a);break;case"img":case"image":case"link":Dt("error",a),Dt("load",a);break;case"details":Dt("toggle",a);break;case"input":e4(a,i),Dt("invalid",a);break;case"select":a._wrapperState={wasMultiple:!!i.multiple},Dt("invalid",a);break;case"textarea":s4(a,i),Dt("invalid",a)}Dw(r,i),n=null;for(var o in i)if(i.hasOwnProperty(o)){var l=i[o];o==="children"?typeof l=="string"?a.textContent!==l&&(i.suppressHydrationWarning!==!0&&sx(a.textContent,l,e),n=["children",l]):typeof l=="number"&&a.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&sx(a.textContent,l,e),n=["children",""+l]):Ih.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&Dt("scroll",a)}switch(r){case"input":Gp(a),t4(a,i,!0);break;case"textarea":Gp(a),r4(a);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(a.onclick=Pg)}a=n,t.updateQueue=a,a!==null&&(t.flags|=4)}else{o=n.nodeType===9?n:n.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=z5(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof a.is=="string"?e=o.createElement(r,{is:a.is}):(e=o.createElement(r),r==="select"&&(o=e,a.multiple?o.multiple=!0:a.size&&(o.size=a.size))):e=o.createElementNS(e,r),e[$n]=t,e[Hh]=a,uR(e,t,!1,!1),t.stateNode=e;e:{switch(o=Rw(r,a),r){case"dialog":Dt("cancel",e),Dt("close",e),n=a;break;case"iframe":case"object":case"embed":Dt("load",e),n=a;break;case"video":case"audio":for(n=0;n<ah.length;n++)Dt(ah[n],e);n=a;break;case"source":Dt("error",e),n=a;break;case"img":case"image":case"link":Dt("error",e),Dt("load",e),n=a;break;case"details":Dt("toggle",e),n=a;break;case"input":e4(e,a),n=Ew(e,a),Dt("invalid",e);break;case"option":n=a;break;case"select":e._wrapperState={wasMultiple:!!a.multiple},n=Qt({},a,{value:void 0}),Dt("invalid",e);break;case"textarea":s4(e,a),n=Mw(e,a),Dt("invalid",e);break;default:n=a}Dw(r,n),l=n;for(i in l)if(l.hasOwnProperty(i)){var c=l[i];i==="style"?V5(e,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&U5(e,c)):i==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&Fh(e,c):typeof c=="number"&&Fh(e,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Ih.hasOwnProperty(i)?c!=null&&i==="onScroll"&&Dt("scroll",e):c!=null&&V2(e,i,c,o))}switch(r){case"input":Gp(e),t4(e,a,!1);break;case"textarea":Gp(e),r4(e);break;case"option":a.value!=null&&e.setAttribute("value",""+cl(a.value));break;case"select":e.multiple=!!a.multiple,i=a.value,i!=null?Gd(e,!!a.multiple,i,!1):a.defaultValue!=null&&Gd(e,!!a.multiple,a.defaultValue,!0);break;default:typeof n.onClick=="function"&&(e.onclick=Pg)}switch(r){case"button":case"input":case"select":case"textarea":a=!!a.autoFocus;break e;case"img":a=!0;break e;default:a=!1}}a&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Xs(t),null;case 6:if(e&&t.stateNode!=null)hR(e,t,e.memoizedProps,a);else{if(typeof a!="string"&&t.stateNode===null)throw Error(de(166));if(r=tc(Gh.current),tc(Xn.current),rx(t)){if(a=t.stateNode,r=t.memoizedProps,a[$n]=t,(i=a.nodeValue!==r)&&(e=na,e!==null))switch(e.tag){case 3:sx(a.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&sx(a.nodeValue,r,(e.mode&1)!==0)}i&&(t.flags|=4)}else a=(r.nodeType===9?r:r.ownerDocument).createTextNode(a),a[$n]=t,t.stateNode=a}return Xs(t),null;case 13:if(Ft(Ht),a=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if($t&&aa!==null&&t.mode&1&&!(t.flags&128))TD(),wu(),t.flags|=98560,i=!1;else if(i=rx(t),a!==null&&a.dehydrated!==null){if(e===null){if(!i)throw Error(de(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(de(317));i[$n]=t}else wu(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Xs(t),i=!1}else mn!==null&&(pN(mn),mn=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(a=a!==null,a!==(e!==null&&e.memoizedState!==null)&&a&&(t.child.flags|=8192,t.mode&1&&(e===null||Ht.current&1?Cs===0&&(Cs=3):CS())),t.updateQueue!==null&&(t.flags|=4),Xs(t),null);case 4:return Su(),oN(e,t),e===null&&Vh(t.stateNode.containerInfo),Xs(t),null;case 10:return cS(t.type._context),Xs(t),null;case 17:return zr(t.type)&&Eg(),Xs(t),null;case 19:if(Ft(Ht),i=t.memoizedState,i===null)return Xs(t),null;if(a=(t.flags&128)!==0,o=i.rendering,o===null)if(a)zm(i,!1);else{if(Cs!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=Ig(e),o!==null){for(t.flags|=128,zm(i,!1),a=o.updateQueue,a!==null&&(t.updateQueue=a,t.flags|=4),t.subtreeFlags=0,a=r,r=t.child;r!==null;)i=r,e=a,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Tt(Ht,Ht.current&1|2),t.child}e=e.sibling}i.tail!==null&&os()>Cu&&(t.flags|=128,a=!0,zm(i,!1),t.lanes=4194304)}else{if(!a)if(e=Ig(o),e!==null){if(t.flags|=128,a=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),zm(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!$t)return Xs(t),null}else 2*os()-i.renderingStartTime>Cu&&r!==1073741824&&(t.flags|=128,a=!0,zm(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(r=i.last,r!==null?r.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=os(),t.sibling=null,r=Ht.current,Tt(Ht,a?r&1|2:r&1),t):(Xs(t),null);case 22:case 23:return _S(),a=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==a&&(t.flags|=8192),a&&t.mode&1?Zr&1073741824&&(Xs(t),t.subtreeFlags&6&&(t.flags|=8192)):Xs(t),null;case 24:return null;case 25:return null}throw Error(de(156,t.tag))}function MG(e,t){switch(nS(t),t.tag){case 1:return zr(t.type)&&Eg(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Su(),Ft(Br),Ft(cr),fS(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return hS(t),null;case 13:if(Ft(Ht),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(de(340));wu()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Ft(Ht),null;case 4:return Su(),null;case 10:return cS(t.type._context),null;case 22:case 23:return _S(),null;case 24:return null;default:return null}}var ix=!1,er=!1,OG=typeof WeakSet=="function"?WeakSet:Set,we=null;function Ld(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(a){es(e,t,a)}else r.current=null}function lN(e,t,r){try{r()}catch(a){es(e,t,a)}}var H4=!1;function DG(e,t){if(Ww=_g,e=vD(),rS(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var a=r.getSelection&&r.getSelection();if(a&&a.rangeCount!==0){r=a.anchorNode;var n=a.anchorOffset,i=a.focusNode;a=a.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var o=0,l=-1,c=-1,d=0,u=0,m=e,h=null;t:for(;;){for(var f;m!==r||n!==0&&m.nodeType!==3||(l=o+n),m!==i||a!==0&&m.nodeType!==3||(c=o+a),m.nodeType===3&&(o+=m.nodeValue.length),(f=m.firstChild)!==null;)h=m,m=f;for(;;){if(m===e)break t;if(h===r&&++d===n&&(l=o),h===i&&++u===a&&(c=o),(f=m.nextSibling)!==null)break;m=h,h=m.parentNode}m=f}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(Hw={focusedElem:e,selectionRange:r},_g=!1,we=t;we!==null;)if(t=we,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,we=e;else for(;we!==null;){t=we;try{var g=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var x=g.memoizedProps,y=g.memoizedState,v=t.stateNode,b=v.getSnapshotBeforeUpdate(t.elementType===t.type?x:on(t.type,x),y);v.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var j=t.stateNode.containerInfo;j.nodeType===1?j.textContent="":j.nodeType===9&&j.documentElement&&j.removeChild(j.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(de(163))}}catch(N){es(t,t.return,N)}if(e=t.sibling,e!==null){e.return=t.return,we=e;break}we=t.return}return g=H4,H4=!1,g}function yh(e,t,r){var a=t.updateQueue;if(a=a!==null?a.lastEffect:null,a!==null){var n=a=a.next;do{if((n.tag&e)===e){var i=n.destroy;n.destroy=void 0,i!==void 0&&lN(t,r,i)}n=n.next}while(n!==a)}}function d0(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var a=r.create;r.destroy=a()}r=r.next}while(r!==t)}}function cN(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function fR(e){var t=e.alternate;t!==null&&(e.alternate=null,fR(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[$n],delete t[Hh],delete t[Yw],delete t[xG],delete t[gG])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function pR(e){return e.tag===5||e.tag===3||e.tag===4}function K4(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||pR(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function dN(e,t,r){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=Pg));else if(a!==4&&(e=e.child,e!==null))for(dN(e,t,r),e=e.sibling;e!==null;)dN(e,t,r),e=e.sibling}function uN(e,t,r){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(a!==4&&(e=e.child,e!==null))for(uN(e,t,r),e=e.sibling;e!==null;)uN(e,t,r),e=e.sibling}var Bs=null,dn=!1;function po(e,t,r){for(r=r.child;r!==null;)xR(e,t,r),r=r.sibling}function xR(e,t,r){if(Yn&&typeof Yn.onCommitFiberUnmount=="function")try{Yn.onCommitFiberUnmount(s0,r)}catch{}switch(r.tag){case 5:er||Ld(r,t);case 6:var a=Bs,n=dn;Bs=null,po(e,t,r),Bs=a,dn=n,Bs!==null&&(dn?(e=Bs,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Bs.removeChild(r.stateNode));break;case 18:Bs!==null&&(dn?(e=Bs,r=r.stateNode,e.nodeType===8?Wb(e.parentNode,r):e.nodeType===1&&Wb(e,r),zh(e)):Wb(Bs,r.stateNode));break;case 4:a=Bs,n=dn,Bs=r.stateNode.containerInfo,dn=!0,po(e,t,r),Bs=a,dn=n;break;case 0:case 11:case 14:case 15:if(!er&&(a=r.updateQueue,a!==null&&(a=a.lastEffect,a!==null))){n=a=a.next;do{var i=n,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&lN(r,t,o),n=n.next}while(n!==a)}po(e,t,r);break;case 1:if(!er&&(Ld(r,t),a=r.stateNode,typeof a.componentWillUnmount=="function"))try{a.props=r.memoizedProps,a.state=r.memoizedState,a.componentWillUnmount()}catch(l){es(r,t,l)}po(e,t,r);break;case 21:po(e,t,r);break;case 22:r.mode&1?(er=(a=er)||r.memoizedState!==null,po(e,t,r),er=a):po(e,t,r);break;default:po(e,t,r)}}function G4(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new OG),t.forEach(function(a){var n=qG.bind(null,e,a);r.has(a)||(r.add(a),a.then(n,n))})}}function tn(e,t){var r=t.deletions;if(r!==null)for(var a=0;a<r.length;a++){var n=r[a];try{var i=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:Bs=l.stateNode,dn=!1;break e;case 3:Bs=l.stateNode.containerInfo,dn=!0;break e;case 4:Bs=l.stateNode.containerInfo,dn=!0;break e}l=l.return}if(Bs===null)throw Error(de(160));xR(i,o,n),Bs=null,dn=!1;var c=n.alternate;c!==null&&(c.return=null),n.return=null}catch(d){es(n,t,d)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)gR(t,e),t=t.sibling}function gR(e,t){var r=e.alternate,a=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(tn(t,e),Dn(e),a&4){try{yh(3,e,e.return),d0(3,e)}catch(x){es(e,e.return,x)}try{yh(5,e,e.return)}catch(x){es(e,e.return,x)}}break;case 1:tn(t,e),Dn(e),a&512&&r!==null&&Ld(r,r.return);break;case 5:if(tn(t,e),Dn(e),a&512&&r!==null&&Ld(r,r.return),e.flags&32){var n=e.stateNode;try{Fh(n,"")}catch(x){es(e,e.return,x)}}if(a&4&&(n=e.stateNode,n!=null)){var i=e.memoizedProps,o=r!==null?r.memoizedProps:i,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&$5(n,i),Rw(l,o);var d=Rw(l,i);for(o=0;o<c.length;o+=2){var u=c[o],m=c[o+1];u==="style"?V5(n,m):u==="dangerouslySetInnerHTML"?U5(n,m):u==="children"?Fh(n,m):V2(n,u,m,d)}switch(l){case"input":Aw(n,i);break;case"textarea":B5(n,i);break;case"select":var h=n._wrapperState.wasMultiple;n._wrapperState.wasMultiple=!!i.multiple;var f=i.value;f!=null?Gd(n,!!i.multiple,f,!1):h!==!!i.multiple&&(i.defaultValue!=null?Gd(n,!!i.multiple,i.defaultValue,!0):Gd(n,!!i.multiple,i.multiple?[]:"",!1))}n[Hh]=i}catch(x){es(e,e.return,x)}}break;case 6:if(tn(t,e),Dn(e),a&4){if(e.stateNode===null)throw Error(de(162));n=e.stateNode,i=e.memoizedProps;try{n.nodeValue=i}catch(x){es(e,e.return,x)}}break;case 3:if(tn(t,e),Dn(e),a&4&&r!==null&&r.memoizedState.isDehydrated)try{zh(t.containerInfo)}catch(x){es(e,e.return,x)}break;case 4:tn(t,e),Dn(e);break;case 13:tn(t,e),Dn(e),n=e.child,n.flags&8192&&(i=n.memoizedState!==null,n.stateNode.isHidden=i,!i||n.alternate!==null&&n.alternate.memoizedState!==null||(NS=os())),a&4&&G4(e);break;case 22:if(u=r!==null&&r.memoizedState!==null,e.mode&1?(er=(d=er)||u,tn(t,e),er=d):tn(t,e),Dn(e),a&8192){if(d=e.memoizedState!==null,(e.stateNode.isHidden=d)&&!u&&e.mode&1)for(we=e,u=e.child;u!==null;){for(m=we=u;we!==null;){switch(h=we,f=h.child,h.tag){case 0:case 11:case 14:case 15:yh(4,h,h.return);break;case 1:Ld(h,h.return);var g=h.stateNode;if(typeof g.componentWillUnmount=="function"){a=h,r=h.return;try{t=a,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(x){es(a,r,x)}}break;case 5:Ld(h,h.return);break;case 22:if(h.memoizedState!==null){X4(m);continue}}f!==null?(f.return=h,we=f):X4(m)}u=u.sibling}e:for(u=null,m=e;;){if(m.tag===5){if(u===null){u=m;try{n=m.stateNode,d?(i=n.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=m.stateNode,c=m.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=q5("display",o))}catch(x){es(e,e.return,x)}}}else if(m.tag===6){if(u===null)try{m.stateNode.nodeValue=d?"":m.memoizedProps}catch(x){es(e,e.return,x)}}else if((m.tag!==22&&m.tag!==23||m.memoizedState===null||m===e)&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===e)break e;for(;m.sibling===null;){if(m.return===null||m.return===e)break e;u===m&&(u=null),m=m.return}u===m&&(u=null),m.sibling.return=m.return,m=m.sibling}}break;case 19:tn(t,e),Dn(e),a&4&&G4(e);break;case 21:break;default:tn(t,e),Dn(e)}}function Dn(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(pR(r)){var a=r;break e}r=r.return}throw Error(de(160))}switch(a.tag){case 5:var n=a.stateNode;a.flags&32&&(Fh(n,""),a.flags&=-33);var i=K4(e);uN(e,i,n);break;case 3:case 4:var o=a.stateNode.containerInfo,l=K4(e);dN(e,l,o);break;default:throw Error(de(161))}}catch(c){es(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function RG(e,t,r){we=e,vR(e)}function vR(e,t,r){for(var a=(e.mode&1)!==0;we!==null;){var n=we,i=n.child;if(n.tag===22&&a){var o=n.memoizedState!==null||ix;if(!o){var l=n.alternate,c=l!==null&&l.memoizedState!==null||er;l=ix;var d=er;if(ix=o,(er=c)&&!d)for(we=n;we!==null;)o=we,c=o.child,o.tag===22&&o.memoizedState!==null?Q4(n):c!==null?(c.return=o,we=c):Q4(n);for(;i!==null;)we=i,vR(i),i=i.sibling;we=n,ix=l,er=d}Y4(e)}else n.subtreeFlags&8772&&i!==null?(i.return=n,we=i):Y4(e)}}function Y4(e){for(;we!==null;){var t=we;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:er||d0(5,t);break;case 1:var a=t.stateNode;if(t.flags&4&&!er)if(r===null)a.componentDidMount();else{var n=t.elementType===t.type?r.memoizedProps:on(t.type,r.memoizedProps);a.componentDidUpdate(n,r.memoizedState,a.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&O4(t,i,a);break;case 3:var o=t.updateQueue;if(o!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}O4(t,o,r)}break;case 5:var l=t.stateNode;if(r===null&&t.flags&4){r=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var d=t.alternate;if(d!==null){var u=d.memoizedState;if(u!==null){var m=u.dehydrated;m!==null&&zh(m)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(de(163))}er||t.flags&512&&cN(t)}catch(h){es(t,t.return,h)}}if(t===e){we=null;break}if(r=t.sibling,r!==null){r.return=t.return,we=r;break}we=t.return}}function X4(e){for(;we!==null;){var t=we;if(t===e){we=null;break}var r=t.sibling;if(r!==null){r.return=t.return,we=r;break}we=t.return}}function Q4(e){for(;we!==null;){var t=we;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{d0(4,t)}catch(c){es(t,r,c)}break;case 1:var a=t.stateNode;if(typeof a.componentDidMount=="function"){var n=t.return;try{a.componentDidMount()}catch(c){es(t,n,c)}}var i=t.return;try{cN(t)}catch(c){es(t,i,c)}break;case 5:var o=t.return;try{cN(t)}catch(c){es(t,o,c)}}}catch(c){es(t,t.return,c)}if(t===e){we=null;break}var l=t.sibling;if(l!==null){l.return=t.return,we=l;break}we=t.return}}var IG=Math.ceil,$g=ro.ReactCurrentDispatcher,jS=ro.ReactCurrentOwner,Oa=ro.ReactCurrentBatchConfig,nt=0,Is=null,ps=null,Vs=0,Zr=0,$d=Sl(0),Cs=0,Jh=null,Ac=0,u0=0,wS=0,bh=null,Or=null,NS=0,Cu=1/0,yi=null,Bg=!1,mN=null,tl=null,ox=!1,Go=null,zg=0,jh=0,hN=null,rg=-1,ag=0;function wr(){return nt&6?os():rg!==-1?rg:rg=os()}function sl(e){return e.mode&1?nt&2&&Vs!==0?Vs&-Vs:yG.transition!==null?(ag===0&&(ag=sD()),ag):(e=xt,e!==0||(e=window.event,e=e===void 0?16:cD(e.type)),e):1}function yn(e,t,r,a){if(50<jh)throw jh=0,hN=null,Error(de(185));qf(e,r,a),(!(nt&2)||e!==Is)&&(e===Is&&(!(nt&2)&&(u0|=r),Cs===4&&Do(e,Vs)),Ur(e,a),r===1&&nt===0&&!(t.mode&1)&&(Cu=os()+500,o0&&_l()))}function Ur(e,t){var r=e.callbackNode;yK(e,t);var a=Sg(e,e===Is?Vs:0);if(a===0)r!==null&&i4(r),e.callbackNode=null,e.callbackPriority=0;else if(t=a&-a,e.callbackPriority!==t){if(r!=null&&i4(r),t===1)e.tag===0?vG(J4.bind(null,e)):PD(J4.bind(null,e)),fG(function(){!(nt&6)&&_l()}),r=null;else{switch(rD(a)){case 1:r=Y2;break;case 4:r=eD;break;case 16:r=Ng;break;case 536870912:r=tD;break;default:r=Ng}r=CR(r,yR.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function yR(e,t){if(rg=-1,ag=0,nt&6)throw Error(de(327));var r=e.callbackNode;if(Zd()&&e.callbackNode!==r)return null;var a=Sg(e,e===Is?Vs:0);if(a===0)return null;if(a&30||a&e.expiredLanes||t)t=Ug(e,a);else{t=a;var n=nt;nt|=2;var i=jR();(Is!==e||Vs!==t)&&(yi=null,Cu=os()+500,yc(e,t));do try{$G();break}catch(l){bR(e,l)}while(!0);lS(),$g.current=i,nt=n,ps!==null?t=0:(Is=null,Vs=0,t=Cs)}if(t!==0){if(t===2&&(n=Bw(e),n!==0&&(a=n,t=fN(e,n))),t===1)throw r=Jh,yc(e,0),Do(e,a),Ur(e,os()),r;if(t===6)Do(e,a);else{if(n=e.current.alternate,!(a&30)&&!FG(n)&&(t=Ug(e,a),t===2&&(i=Bw(e),i!==0&&(a=i,t=fN(e,i))),t===1))throw r=Jh,yc(e,0),Do(e,a),Ur(e,os()),r;switch(e.finishedWork=n,e.finishedLanes=a,t){case 0:case 1:throw Error(de(345));case 2:Wl(e,Or,yi);break;case 3:if(Do(e,a),(a&130023424)===a&&(t=NS+500-os(),10<t)){if(Sg(e,0)!==0)break;if(n=e.suspendedLanes,(n&a)!==a){wr(),e.pingedLanes|=e.suspendedLanes&n;break}e.timeoutHandle=Gw(Wl.bind(null,e,Or,yi),t);break}Wl(e,Or,yi);break;case 4:if(Do(e,a),(a&4194240)===a)break;for(t=e.eventTimes,n=-1;0<a;){var o=31-vn(a);i=1<<o,o=t[o],o>n&&(n=o),a&=~i}if(a=n,a=os()-a,a=(120>a?120:480>a?480:1080>a?1080:1920>a?1920:3e3>a?3e3:4320>a?4320:1960*IG(a/1960))-a,10<a){e.timeoutHandle=Gw(Wl.bind(null,e,Or,yi),a);break}Wl(e,Or,yi);break;case 5:Wl(e,Or,yi);break;default:throw Error(de(329))}}}return Ur(e,os()),e.callbackNode===r?yR.bind(null,e):null}function fN(e,t){var r=bh;return e.current.memoizedState.isDehydrated&&(yc(e,t).flags|=256),e=Ug(e,t),e!==2&&(t=Or,Or=r,t!==null&&pN(t)),e}function pN(e){Or===null?Or=e:Or.push.apply(Or,e)}function FG(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var a=0;a<r.length;a++){var n=r[a],i=n.getSnapshot;n=n.value;try{if(!Nn(i(),n))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Do(e,t){for(t&=~wS,t&=~u0,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-vn(t),a=1<<r;e[r]=-1,t&=~a}}function J4(e){if(nt&6)throw Error(de(327));Zd();var t=Sg(e,0);if(!(t&1))return Ur(e,os()),null;var r=Ug(e,t);if(e.tag!==0&&r===2){var a=Bw(e);a!==0&&(t=a,r=fN(e,a))}if(r===1)throw r=Jh,yc(e,0),Do(e,t),Ur(e,os()),r;if(r===6)throw Error(de(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Wl(e,Or,yi),Ur(e,os()),null}function SS(e,t){var r=nt;nt|=1;try{return e(t)}finally{nt=r,nt===0&&(Cu=os()+500,o0&&_l())}}function Tc(e){Go!==null&&Go.tag===0&&!(nt&6)&&Zd();var t=nt;nt|=1;var r=Oa.transition,a=xt;try{if(Oa.transition=null,xt=1,e)return e()}finally{xt=a,Oa.transition=r,nt=t,!(nt&6)&&_l()}}function _S(){Zr=$d.current,Ft($d)}function yc(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,hG(r)),ps!==null)for(r=ps.return;r!==null;){var a=r;switch(nS(a),a.tag){case 1:a=a.type.childContextTypes,a!=null&&Eg();break;case 3:Su(),Ft(Br),Ft(cr),fS();break;case 5:hS(a);break;case 4:Su();break;case 13:Ft(Ht);break;case 19:Ft(Ht);break;case 10:cS(a.type._context);break;case 22:case 23:_S()}r=r.return}if(Is=e,ps=e=rl(e.current,null),Vs=Zr=t,Cs=0,Jh=null,wS=u0=Ac=0,Or=bh=null,ec!==null){for(t=0;t<ec.length;t++)if(r=ec[t],a=r.interleaved,a!==null){r.interleaved=null;var n=a.next,i=r.pending;if(i!==null){var o=i.next;i.next=n,a.next=o}r.pending=a}ec=null}return e}function bR(e,t){do{var r=ps;try{if(lS(),eg.current=Lg,Fg){for(var a=Yt.memoizedState;a!==null;){var n=a.queue;n!==null&&(n.pending=null),a=a.next}Fg=!1}if(Ec=0,Ms=ws=Yt=null,vh=!1,Yh=0,jS.current=null,r===null||r.return===null){Cs=1,Jh=t,ps=null;break}e:{var i=e,o=r.return,l=r,c=t;if(t=Vs,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=c,u=l,m=u.tag;if(!(u.mode&1)&&(m===0||m===11||m===15)){var h=u.alternate;h?(u.updateQueue=h.updateQueue,u.memoizedState=h.memoizedState,u.lanes=h.lanes):(u.updateQueue=null,u.memoizedState=null)}var f=$4(o);if(f!==null){f.flags&=-257,B4(f,o,l,i,t),f.mode&1&&L4(i,d,t),t=f,c=d;var g=t.updateQueue;if(g===null){var x=new Set;x.add(c),t.updateQueue=x}else g.add(c);break e}else{if(!(t&1)){L4(i,d,t),CS();break e}c=Error(de(426))}}else if($t&&l.mode&1){var y=$4(o);if(y!==null){!(y.flags&65536)&&(y.flags|=256),B4(y,o,l,i,t),iS(_u(c,l));break e}}i=c=_u(c,l),Cs!==4&&(Cs=2),bh===null?bh=[i]:bh.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var v=rR(i,c,t);M4(i,v);break e;case 1:l=c;var b=i.type,j=i.stateNode;if(!(i.flags&128)&&(typeof b.getDerivedStateFromError=="function"||j!==null&&typeof j.componentDidCatch=="function"&&(tl===null||!tl.has(j)))){i.flags|=65536,t&=-t,i.lanes|=t;var N=aR(i,l,t);M4(i,N);break e}}i=i.return}while(i!==null)}NR(r)}catch(w){t=w,ps===r&&r!==null&&(ps=r=r.return);continue}break}while(!0)}function jR(){var e=$g.current;return $g.current=Lg,e===null?Lg:e}function CS(){(Cs===0||Cs===3||Cs===2)&&(Cs=4),Is===null||!(Ac&268435455)&&!(u0&268435455)||Do(Is,Vs)}function Ug(e,t){var r=nt;nt|=2;var a=jR();(Is!==e||Vs!==t)&&(yi=null,yc(e,t));do try{LG();break}catch(n){bR(e,n)}while(!0);if(lS(),nt=r,$g.current=a,ps!==null)throw Error(de(261));return Is=null,Vs=0,Cs}function LG(){for(;ps!==null;)wR(ps)}function $G(){for(;ps!==null&&!dK();)wR(ps)}function wR(e){var t=_R(e.alternate,e,Zr);e.memoizedProps=e.pendingProps,t===null?NR(e):ps=t,jS.current=null}function NR(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=MG(r,t),r!==null){r.flags&=32767,ps=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Cs=6,ps=null;return}}else if(r=TG(r,t,Zr),r!==null){ps=r;return}if(t=t.sibling,t!==null){ps=t;return}ps=t=e}while(t!==null);Cs===0&&(Cs=5)}function Wl(e,t,r){var a=xt,n=Oa.transition;try{Oa.transition=null,xt=1,BG(e,t,r,a)}finally{Oa.transition=n,xt=a}return null}function BG(e,t,r,a){do Zd();while(Go!==null);if(nt&6)throw Error(de(327));r=e.finishedWork;var n=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(de(177));e.callbackNode=null,e.callbackPriority=0;var i=r.lanes|r.childLanes;if(bK(e,i),e===Is&&(ps=Is=null,Vs=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||ox||(ox=!0,CR(Ng,function(){return Zd(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=Oa.transition,Oa.transition=null;var o=xt;xt=1;var l=nt;nt|=4,jS.current=null,DG(e,r),gR(r,e),iG(Hw),_g=!!Ww,Hw=Ww=null,e.current=r,RG(r),uK(),nt=l,xt=o,Oa.transition=i}else e.current=r;if(ox&&(ox=!1,Go=e,zg=n),i=e.pendingLanes,i===0&&(tl=null),fK(r.stateNode),Ur(e,os()),t!==null)for(a=e.onRecoverableError,r=0;r<t.length;r++)n=t[r],a(n.value,{componentStack:n.stack,digest:n.digest});if(Bg)throw Bg=!1,e=mN,mN=null,e;return zg&1&&e.tag!==0&&Zd(),i=e.pendingLanes,i&1?e===hN?jh++:(jh=0,hN=e):jh=0,_l(),null}function Zd(){if(Go!==null){var e=rD(zg),t=Oa.transition,r=xt;try{if(Oa.transition=null,xt=16>e?16:e,Go===null)var a=!1;else{if(e=Go,Go=null,zg=0,nt&6)throw Error(de(331));var n=nt;for(nt|=4,we=e.current;we!==null;){var i=we,o=i.child;if(we.flags&16){var l=i.deletions;if(l!==null){for(var c=0;c<l.length;c++){var d=l[c];for(we=d;we!==null;){var u=we;switch(u.tag){case 0:case 11:case 15:yh(8,u,i)}var m=u.child;if(m!==null)m.return=u,we=m;else for(;we!==null;){u=we;var h=u.sibling,f=u.return;if(fR(u),u===d){we=null;break}if(h!==null){h.return=f,we=h;break}we=f}}}var g=i.alternate;if(g!==null){var x=g.child;if(x!==null){g.child=null;do{var y=x.sibling;x.sibling=null,x=y}while(x!==null)}}we=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,we=o;else e:for(;we!==null;){if(i=we,i.flags&2048)switch(i.tag){case 0:case 11:case 15:yh(9,i,i.return)}var v=i.sibling;if(v!==null){v.return=i.return,we=v;break e}we=i.return}}var b=e.current;for(we=b;we!==null;){o=we;var j=o.child;if(o.subtreeFlags&2064&&j!==null)j.return=o,we=j;else e:for(o=b;we!==null;){if(l=we,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:d0(9,l)}}catch(w){es(l,l.return,w)}if(l===o){we=null;break e}var N=l.sibling;if(N!==null){N.return=l.return,we=N;break e}we=l.return}}if(nt=n,_l(),Yn&&typeof Yn.onPostCommitFiberRoot=="function")try{Yn.onPostCommitFiberRoot(s0,e)}catch{}a=!0}return a}finally{xt=r,Oa.transition=t}}return!1}function Z4(e,t,r){t=_u(r,t),t=rR(e,t,1),e=el(e,t,1),t=wr(),e!==null&&(qf(e,1,t),Ur(e,t))}function es(e,t,r){if(e.tag===3)Z4(e,e,r);else for(;t!==null;){if(t.tag===3){Z4(t,e,r);break}else if(t.tag===1){var a=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof a.componentDidCatch=="function"&&(tl===null||!tl.has(a))){e=_u(r,e),e=aR(t,e,1),t=el(t,e,1),e=wr(),t!==null&&(qf(t,1,e),Ur(t,e));break}}t=t.return}}function zG(e,t,r){var a=e.pingCache;a!==null&&a.delete(t),t=wr(),e.pingedLanes|=e.suspendedLanes&r,Is===e&&(Vs&r)===r&&(Cs===4||Cs===3&&(Vs&130023424)===Vs&&500>os()-NS?yc(e,0):wS|=r),Ur(e,t)}function SR(e,t){t===0&&(e.mode&1?(t=Qp,Qp<<=1,!(Qp&130023424)&&(Qp=4194304)):t=1);var r=wr();e=Li(e,t),e!==null&&(qf(e,t,r),Ur(e,r))}function UG(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),SR(e,r)}function qG(e,t){var r=0;switch(e.tag){case 13:var a=e.stateNode,n=e.memoizedState;n!==null&&(r=n.retryLane);break;case 19:a=e.stateNode;break;default:throw Error(de(314))}a!==null&&a.delete(t),SR(e,r)}var _R;_R=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Br.current)Ir=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return Ir=!1,AG(e,t,r);Ir=!!(e.flags&131072)}else Ir=!1,$t&&t.flags&1048576&&ED(t,Mg,t.index);switch(t.lanes=0,t.tag){case 2:var a=t.type;sg(e,t),e=t.pendingProps;var n=ju(t,cr.current);Jd(t,r),n=xS(null,t,a,e,n,r);var i=gS();return t.flags|=1,typeof n=="object"&&n!==null&&typeof n.render=="function"&&n.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,zr(a)?(i=!0,Ag(t)):i=!1,t.memoizedState=n.state!==null&&n.state!==void 0?n.state:null,uS(t),n.updater=c0,t.stateNode=n,n._reactInternals=t,tN(t,a,e,r),t=aN(null,t,a,!0,i,r)):(t.tag=0,$t&&i&&aS(t),pr(null,t,n,r),t=t.child),t;case 16:a=t.elementType;e:{switch(sg(e,t),e=t.pendingProps,n=a._init,a=n(a._payload),t.type=a,n=t.tag=WG(a),e=on(a,e),n){case 0:t=rN(null,t,a,e,r);break e;case 1:t=q4(null,t,a,e,r);break e;case 11:t=z4(null,t,a,e,r);break e;case 14:t=U4(null,t,a,on(a.type,e),r);break e}throw Error(de(306,a,""))}return t;case 0:return a=t.type,n=t.pendingProps,n=t.elementType===a?n:on(a,n),rN(e,t,a,n,r);case 1:return a=t.type,n=t.pendingProps,n=t.elementType===a?n:on(a,n),q4(e,t,a,n,r);case 3:e:{if(lR(t),e===null)throw Error(de(387));a=t.pendingProps,i=t.memoizedState,n=i.element,RD(e,t),Rg(t,a,null,r);var o=t.memoizedState;if(a=o.element,i.isDehydrated)if(i={element:a,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){n=_u(Error(de(423)),t),t=V4(e,t,a,r,n);break e}else if(a!==n){n=_u(Error(de(424)),t),t=V4(e,t,a,r,n);break e}else for(aa=Zo(t.stateNode.containerInfo.firstChild),na=t,$t=!0,mn=null,r=OD(t,null,a,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(wu(),a===n){t=$i(e,t,r);break e}pr(e,t,a,r)}t=t.child}return t;case 5:return ID(t),e===null&&Jw(t),a=t.type,n=t.pendingProps,i=e!==null?e.memoizedProps:null,o=n.children,Kw(a,n)?o=null:i!==null&&Kw(a,i)&&(t.flags|=32),oR(e,t),pr(e,t,o,r),t.child;case 6:return e===null&&Jw(t),null;case 13:return cR(e,t,r);case 4:return mS(t,t.stateNode.containerInfo),a=t.pendingProps,e===null?t.child=Nu(t,null,a,r):pr(e,t,a,r),t.child;case 11:return a=t.type,n=t.pendingProps,n=t.elementType===a?n:on(a,n),z4(e,t,a,n,r);case 7:return pr(e,t,t.pendingProps,r),t.child;case 8:return pr(e,t,t.pendingProps.children,r),t.child;case 12:return pr(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(a=t.type._context,n=t.pendingProps,i=t.memoizedProps,o=n.value,Tt(Og,a._currentValue),a._currentValue=o,i!==null)if(Nn(i.value,o)){if(i.children===n.children&&!Br.current){t=$i(e,t,r);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var l=i.dependencies;if(l!==null){o=i.child;for(var c=l.firstContext;c!==null;){if(c.context===a){if(i.tag===1){c=Mi(-1,r&-r),c.tag=2;var d=i.updateQueue;if(d!==null){d=d.shared;var u=d.pending;u===null?c.next=c:(c.next=u.next,u.next=c),d.pending=c}}i.lanes|=r,c=i.alternate,c!==null&&(c.lanes|=r),Zw(i.return,r,t),l.lanes|=r;break}c=c.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(de(341));o.lanes|=r,l=o.alternate,l!==null&&(l.lanes|=r),Zw(o,r,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}pr(e,t,n.children,r),t=t.child}return t;case 9:return n=t.type,a=t.pendingProps.children,Jd(t,r),n=$a(n),a=a(n),t.flags|=1,pr(e,t,a,r),t.child;case 14:return a=t.type,n=on(a,t.pendingProps),n=on(a.type,n),U4(e,t,a,n,r);case 15:return nR(e,t,t.type,t.pendingProps,r);case 17:return a=t.type,n=t.pendingProps,n=t.elementType===a?n:on(a,n),sg(e,t),t.tag=1,zr(a)?(e=!0,Ag(t)):e=!1,Jd(t,r),sR(t,a,n),tN(t,a,n,r),aN(null,t,a,!0,e,r);case 19:return dR(e,t,r);case 22:return iR(e,t,r)}throw Error(de(156,t.tag))};function CR(e,t){return Z5(e,t)}function VG(e,t,r,a){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Aa(e,t,r,a){return new VG(e,t,r,a)}function kS(e){return e=e.prototype,!(!e||!e.isReactComponent)}function WG(e){if(typeof e=="function")return kS(e)?1:0;if(e!=null){if(e=e.$$typeof,e===H2)return 11;if(e===K2)return 14}return 2}function rl(e,t){var r=e.alternate;return r===null?(r=Aa(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function ng(e,t,r,a,n,i){var o=2;if(a=e,typeof e=="function")kS(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case Ed:return bc(r.children,n,i,t);case W2:o=8,n|=8;break;case _w:return e=Aa(12,r,t,n|2),e.elementType=_w,e.lanes=i,e;case Cw:return e=Aa(13,r,t,n),e.elementType=Cw,e.lanes=i,e;case kw:return e=Aa(19,r,t,n),e.elementType=kw,e.lanes=i,e;case I5:return m0(r,n,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case D5:o=10;break e;case R5:o=9;break e;case H2:o=11;break e;case K2:o=14;break e;case Ao:o=16,a=null;break e}throw Error(de(130,e==null?e:typeof e,""))}return t=Aa(o,r,t,n),t.elementType=e,t.type=a,t.lanes=i,t}function bc(e,t,r,a){return e=Aa(7,e,a,t),e.lanes=r,e}function m0(e,t,r,a){return e=Aa(22,e,a,t),e.elementType=I5,e.lanes=r,e.stateNode={isHidden:!1},e}function Zb(e,t,r){return e=Aa(6,e,null,t),e.lanes=r,e}function ej(e,t,r){return t=Aa(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function HG(e,t,r,a,n){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Db(0),this.expirationTimes=Db(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Db(0),this.identifierPrefix=a,this.onRecoverableError=n,this.mutableSourceEagerHydrationData=null}function PS(e,t,r,a,n,i,o,l,c){return e=new HG(e,t,r,l,c),t===1?(t=1,i===!0&&(t|=8)):t=0,i=Aa(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:a,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},uS(i),e}function KG(e,t,r){var a=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Pd,key:a==null?null:""+a,children:e,containerInfo:t,implementation:r}}function kR(e){if(!e)return dl;e=e._reactInternals;e:{if(Kc(e)!==e||e.tag!==1)throw Error(de(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(zr(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(de(171))}if(e.tag===1){var r=e.type;if(zr(r))return kD(e,r,t)}return t}function PR(e,t,r,a,n,i,o,l,c){return e=PS(r,a,!0,e,n,i,o,l,c),e.context=kR(null),r=e.current,a=wr(),n=sl(r),i=Mi(a,n),i.callback=t??null,el(r,i,n),e.current.lanes=n,qf(e,n,a),Ur(e,a),e}function h0(e,t,r,a){var n=t.current,i=wr(),o=sl(n);return r=kR(r),t.context===null?t.context=r:t.pendingContext=r,t=Mi(i,o),t.payload={element:e},a=a===void 0?null:a,a!==null&&(t.callback=a),e=el(n,t,o),e!==null&&(yn(e,n,o,i),Zx(e,n,o)),o}function qg(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function eE(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function ES(e,t){eE(e,t),(e=e.alternate)&&eE(e,t)}function GG(){return null}var ER=typeof reportError=="function"?reportError:function(e){console.error(e)};function AS(e){this._internalRoot=e}f0.prototype.render=AS.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(de(409));h0(e,t,null,null)};f0.prototype.unmount=AS.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Tc(function(){h0(null,e,null,null)}),t[Fi]=null}};function f0(e){this._internalRoot=e}f0.prototype.unstable_scheduleHydration=function(e){if(e){var t=iD();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Oo.length&&t!==0&&t<Oo[r].priority;r++);Oo.splice(r,0,e),r===0&&lD(e)}};function TS(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function p0(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function tE(){}function YG(e,t,r,a,n){if(n){if(typeof a=="function"){var i=a;a=function(){var d=qg(o);i.call(d)}}var o=PR(t,a,e,0,null,!1,!1,"",tE);return e._reactRootContainer=o,e[Fi]=o.current,Vh(e.nodeType===8?e.parentNode:e),Tc(),o}for(;n=e.lastChild;)e.removeChild(n);if(typeof a=="function"){var l=a;a=function(){var d=qg(c);l.call(d)}}var c=PS(e,0,!1,null,null,!1,!1,"",tE);return e._reactRootContainer=c,e[Fi]=c.current,Vh(e.nodeType===8?e.parentNode:e),Tc(function(){h0(t,c,r,a)}),c}function x0(e,t,r,a,n){var i=r._reactRootContainer;if(i){var o=i;if(typeof n=="function"){var l=n;n=function(){var c=qg(o);l.call(c)}}h0(t,o,e,n)}else o=YG(r,t,e,n,a);return qg(o)}aD=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=rh(t.pendingLanes);r!==0&&(X2(t,r|1),Ur(t,os()),!(nt&6)&&(Cu=os()+500,_l()))}break;case 13:Tc(function(){var a=Li(e,1);if(a!==null){var n=wr();yn(a,e,1,n)}}),ES(e,1)}};Q2=function(e){if(e.tag===13){var t=Li(e,134217728);if(t!==null){var r=wr();yn(t,e,134217728,r)}ES(e,134217728)}};nD=function(e){if(e.tag===13){var t=sl(e),r=Li(e,t);if(r!==null){var a=wr();yn(r,e,t,a)}ES(e,t)}};iD=function(){return xt};oD=function(e,t){var r=xt;try{return xt=e,t()}finally{xt=r}};Fw=function(e,t,r){switch(t){case"input":if(Aw(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var a=r[t];if(a!==e&&a.form===e.form){var n=i0(a);if(!n)throw Error(de(90));L5(a),Aw(a,n)}}}break;case"textarea":B5(e,r);break;case"select":t=r.value,t!=null&&Gd(e,!!r.multiple,t,!1)}};K5=SS;G5=Tc;var XG={usingClientEntryPoint:!1,Events:[Wf,Od,i0,W5,H5,SS]},Um={findFiberByHostInstance:Zl,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},QG={bundleType:Um.bundleType,version:Um.version,rendererPackageName:Um.rendererPackageName,rendererConfig:Um.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ro.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Q5(e),e===null?null:e.stateNode},findFiberByHostInstance:Um.findFiberByHostInstance||GG,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var lx=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!lx.isDisabled&&lx.supportsFiber)try{s0=lx.inject(QG),Yn=lx}catch{}}pa.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=XG;pa.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!TS(t))throw Error(de(200));return KG(e,t,null,r)};pa.createRoot=function(e,t){if(!TS(e))throw Error(de(299));var r=!1,a="",n=ER;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(a=t.identifierPrefix),t.onRecoverableError!==void 0&&(n=t.onRecoverableError)),t=PS(e,1,!1,null,null,r,!1,a,n),e[Fi]=t.current,Vh(e.nodeType===8?e.parentNode:e),new AS(t)};pa.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(de(188)):(e=Object.keys(e).join(","),Error(de(268,e)));return e=Q5(t),e=e===null?null:e.stateNode,e};pa.flushSync=function(e){return Tc(e)};pa.hydrate=function(e,t,r){if(!p0(t))throw Error(de(200));return x0(null,e,t,!0,r)};pa.hydrateRoot=function(e,t,r){if(!TS(e))throw Error(de(405));var a=r!=null&&r.hydratedSources||null,n=!1,i="",o=ER;if(r!=null&&(r.unstable_strictMode===!0&&(n=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),t=PR(t,null,e,1,r??null,n,!1,i,o),e[Fi]=t.current,Vh(e),a)for(e=0;e<a.length;e++)r=a[e],n=r._getVersion,n=n(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,n]:t.mutableSourceEagerHydrationData.push(r,n);return new f0(t)};pa.render=function(e,t,r){if(!p0(t))throw Error(de(200));return x0(null,e,t,!1,r)};pa.unmountComponentAtNode=function(e){if(!p0(e))throw Error(de(40));return e._reactRootContainer?(Tc(function(){x0(null,null,e,!1,function(){e._reactRootContainer=null,e[Fi]=null})}),!0):!1};pa.unstable_batchedUpdates=SS;pa.unstable_renderSubtreeIntoContainer=function(e,t,r,a){if(!p0(r))throw Error(de(200));if(e==null||e._reactInternals===void 0)throw Error(de(38));return x0(e,t,r,!1,a)};pa.version="18.3.1-next-f1338f8080-20240426";function AR(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(AR)}catch(e){console.error(e)}}AR(),A5.exports=pa;var ao=A5.exports;const TR=fa(ao);var MR,sE=ao;MR=sE.createRoot,sE.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Zh(){return Zh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Zh.apply(this,arguments)}var Yo;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Yo||(Yo={}));const rE="popstate";function JG(e){e===void 0&&(e={});function t(a,n){let{pathname:i,search:o,hash:l}=a.location;return xN("",{pathname:i,search:o,hash:l},n.state&&n.state.usr||null,n.state&&n.state.key||"default")}function r(a,n){return typeof n=="string"?n:Vg(n)}return eY(t,r,null,e)}function xs(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function OR(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function ZG(){return Math.random().toString(36).substr(2,8)}function aE(e,t){return{usr:e.state,key:e.key,idx:t}}function xN(e,t,r,a){return r===void 0&&(r=null),Zh({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?rm(t):t,{state:r,key:t&&t.key||a||ZG()})}function Vg(e){let{pathname:t="/",search:r="",hash:a=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),a&&a!=="#"&&(t+=a.charAt(0)==="#"?a:"#"+a),t}function rm(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let a=e.indexOf("?");a>=0&&(t.search=e.substr(a),e=e.substr(0,a)),e&&(t.pathname=e)}return t}function eY(e,t,r,a){a===void 0&&(a={});let{window:n=document.defaultView,v5Compat:i=!1}=a,o=n.history,l=Yo.Pop,c=null,d=u();d==null&&(d=0,o.replaceState(Zh({},o.state,{idx:d}),""));function u(){return(o.state||{idx:null}).idx}function m(){l=Yo.Pop;let y=u(),v=y==null?null:y-d;d=y,c&&c({action:l,location:x.location,delta:v})}function h(y,v){l=Yo.Push;let b=xN(x.location,y,v);d=u()+1;let j=aE(b,d),N=x.createHref(b);try{o.pushState(j,"",N)}catch(w){if(w instanceof DOMException&&w.name==="DataCloneError")throw w;n.location.assign(N)}i&&c&&c({action:l,location:x.location,delta:1})}function f(y,v){l=Yo.Replace;let b=xN(x.location,y,v);d=u();let j=aE(b,d),N=x.createHref(b);o.replaceState(j,"",N),i&&c&&c({action:l,location:x.location,delta:0})}function g(y){let v=n.location.origin!=="null"?n.location.origin:n.location.href,b=typeof y=="string"?y:Vg(y);return b=b.replace(/ $/,"%20"),xs(v,"No window.location.(origin|href) available to create URL for href: "+b),new URL(b,v)}let x={get action(){return l},get location(){return e(n,o)},listen(y){if(c)throw new Error("A history only accepts one active listener");return n.addEventListener(rE,m),c=y,()=>{n.removeEventListener(rE,m),c=null}},createHref(y){return t(n,y)},createURL:g,encodeLocation(y){let v=g(y);return{pathname:v.pathname,search:v.search,hash:v.hash}},push:h,replace:f,go(y){return o.go(y)}};return x}var nE;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(nE||(nE={}));function tY(e,t,r){return r===void 0&&(r="/"),sY(e,t,r)}function sY(e,t,r,a){let n=typeof t=="string"?rm(t):t,i=MS(n.pathname||"/",r);if(i==null)return null;let o=DR(e);rY(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let d=pY(i);l=mY(o[c],d)}return l}function DR(e,t,r,a){t===void 0&&(t=[]),r===void 0&&(r=[]),a===void 0&&(a="");let n=(i,o,l)=>{let c={relativePath:l===void 0?i.path||"":l,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};c.relativePath.startsWith("/")&&(xs(c.relativePath.startsWith(a),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+a+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(a.length));let d=al([a,c.relativePath]),u=r.concat(c);i.children&&i.children.length>0&&(xs(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+d+'".')),DR(i.children,t,u,d)),!(i.path==null&&!i.index)&&t.push({path:d,score:dY(d,i.index),routesMeta:u})};return e.forEach((i,o)=>{var l;if(i.path===""||!((l=i.path)!=null&&l.includes("?")))n(i,o);else for(let c of RR(i.path))n(i,o,c)}),t}function RR(e){let t=e.split("/");if(t.length===0)return[];let[r,...a]=t,n=r.endsWith("?"),i=r.replace(/\?$/,"");if(a.length===0)return n?[i,""]:[i];let o=RR(a.join("/")),l=[];return l.push(...o.map(c=>c===""?i:[i,c].join("/"))),n&&l.push(...o),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function rY(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:uY(t.routesMeta.map(a=>a.childrenIndex),r.routesMeta.map(a=>a.childrenIndex)))}const aY=/^:[\w-]+$/,nY=3,iY=2,oY=1,lY=10,cY=-2,iE=e=>e==="*";function dY(e,t){let r=e.split("/"),a=r.length;return r.some(iE)&&(a+=cY),t&&(a+=iY),r.filter(n=>!iE(n)).reduce((n,i)=>n+(aY.test(i)?nY:i===""?oY:lY),a)}function uY(e,t){return e.length===t.length&&e.slice(0,-1).every((a,n)=>a===t[n])?e[e.length-1]-t[t.length-1]:0}function mY(e,t,r){let{routesMeta:a}=e,n={},i="/",o=[];for(let l=0;l<a.length;++l){let c=a[l],d=l===a.length-1,u=i==="/"?t:t.slice(i.length)||"/",m=hY({path:c.relativePath,caseSensitive:c.caseSensitive,end:d},u),h=c.route;if(!m)return null;Object.assign(n,m.params),o.push({params:n,pathname:al([i,m.pathname]),pathnameBase:yY(al([i,m.pathnameBase])),route:h}),m.pathnameBase!=="/"&&(i=al([i,m.pathnameBase]))}return o}function hY(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,a]=fY(e.path,e.caseSensitive,e.end),n=t.match(r);if(!n)return null;let i=n[0],o=i.replace(/(.)\/+$/,"$1"),l=n.slice(1);return{params:a.reduce((d,u,m)=>{let{paramName:h,isOptional:f}=u;if(h==="*"){let x=l[m]||"";o=i.slice(0,i.length-x.length).replace(/(.)\/+$/,"$1")}const g=l[m];return f&&!g?d[h]=void 0:d[h]=(g||"").replace(/%2F/g,"/"),d},{}),pathname:i,pathnameBase:o,pattern:e}}function fY(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),OR(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let a=[],n="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(a.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(a.push({paramName:"*"}),n+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?n+="\\/*$":e!==""&&e!=="/"&&(n+="(?:(?=\\/|$))"),[new RegExp(n,t?void 0:"i"),a]}function pY(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return OR(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function MS(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,a=e.charAt(r);return a&&a!=="/"?null:e.slice(r)||"/"}function xY(e,t){t===void 0&&(t="/");let{pathname:r,search:a="",hash:n=""}=typeof e=="string"?rm(e):e;return{pathname:r?r.startsWith("/")?r:gY(r,t):t,search:bY(a),hash:jY(n)}}function gY(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(n=>{n===".."?r.length>1&&r.pop():n!=="."&&r.push(n)}),r.length>1?r.join("/"):"/"}function tj(e,t,r,a){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(a)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function vY(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function IR(e,t){let r=vY(e);return t?r.map((a,n)=>n===r.length-1?a.pathname:a.pathnameBase):r.map(a=>a.pathnameBase)}function FR(e,t,r,a){a===void 0&&(a=!1);let n;typeof e=="string"?n=rm(e):(n=Zh({},e),xs(!n.pathname||!n.pathname.includes("?"),tj("?","pathname","search",n)),xs(!n.pathname||!n.pathname.includes("#"),tj("#","pathname","hash",n)),xs(!n.search||!n.search.includes("#"),tj("#","search","hash",n)));let i=e===""||n.pathname==="",o=i?"/":n.pathname,l;if(o==null)l=r;else{let m=t.length-1;if(!a&&o.startsWith("..")){let h=o.split("/");for(;h[0]==="..";)h.shift(),m-=1;n.pathname=h.join("/")}l=m>=0?t[m]:"/"}let c=xY(n,l),d=o&&o!=="/"&&o.endsWith("/"),u=(i||o===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(d||u)&&(c.pathname+="/"),c}const al=e=>e.join("/").replace(/\/\/+/g,"/"),yY=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),bY=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,jY=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function wY(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const LR=["post","put","patch","delete"];new Set(LR);const NY=["get",...LR];new Set(NY);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ef(){return ef=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},ef.apply(this,arguments)}const OS=p.createContext(null),SY=p.createContext(null),Gc=p.createContext(null),g0=p.createContext(null),Cl=p.createContext({outlet:null,matches:[],isDataRoute:!1}),$R=p.createContext(null);function _Y(e,t){let{relative:r}=t===void 0?{}:t;Kf()||xs(!1);let{basename:a,navigator:n}=p.useContext(Gc),{hash:i,pathname:o,search:l}=zR(e,{relative:r}),c=o;return a!=="/"&&(c=o==="/"?a:al([a,o])),n.createHref({pathname:c,search:l,hash:i})}function Kf(){return p.useContext(g0)!=null}function am(){return Kf()||xs(!1),p.useContext(g0).location}function BR(e){p.useContext(Gc).static||p.useLayoutEffect(e)}function ur(){let{isDataRoute:e}=p.useContext(Cl);return e?$Y():CY()}function CY(){Kf()||xs(!1);let e=p.useContext(OS),{basename:t,future:r,navigator:a}=p.useContext(Gc),{matches:n}=p.useContext(Cl),{pathname:i}=am(),o=JSON.stringify(IR(n,r.v7_relativeSplatPath)),l=p.useRef(!1);return BR(()=>{l.current=!0}),p.useCallback(function(d,u){if(u===void 0&&(u={}),!l.current)return;if(typeof d=="number"){a.go(d);return}let m=FR(d,JSON.parse(o),i,u.relative==="path");e==null&&t!=="/"&&(m.pathname=m.pathname==="/"?t:al([t,m.pathname])),(u.replace?a.replace:a.push)(m,u.state,u)},[t,a,o,i,e])}function kY(){let{matches:e}=p.useContext(Cl),t=e[e.length-1];return t?t.params:{}}function zR(e,t){let{relative:r}=t===void 0?{}:t,{future:a}=p.useContext(Gc),{matches:n}=p.useContext(Cl),{pathname:i}=am(),o=JSON.stringify(IR(n,a.v7_relativeSplatPath));return p.useMemo(()=>FR(e,JSON.parse(o),i,r==="path"),[e,o,i,r])}function PY(e,t){return EY(e,t)}function EY(e,t,r,a){Kf()||xs(!1);let{navigator:n}=p.useContext(Gc),{matches:i}=p.useContext(Cl),o=i[i.length-1],l=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let d=am(),u;if(t){var m;let y=typeof t=="string"?rm(t):t;c==="/"||(m=y.pathname)!=null&&m.startsWith(c)||xs(!1),u=y}else u=d;let h=u.pathname||"/",f=h;if(c!=="/"){let y=c.replace(/^\//,"").split("/");f="/"+h.replace(/^\//,"").split("/").slice(y.length).join("/")}let g=tY(e,{pathname:f}),x=DY(g&&g.map(y=>Object.assign({},y,{params:Object.assign({},l,y.params),pathname:al([c,n.encodeLocation?n.encodeLocation(y.pathname).pathname:y.pathname]),pathnameBase:y.pathnameBase==="/"?c:al([c,n.encodeLocation?n.encodeLocation(y.pathnameBase).pathname:y.pathnameBase])})),i,r,a);return t&&x?p.createElement(g0.Provider,{value:{location:ef({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:Yo.Pop}},x):x}function AY(){let e=LY(),t=wY(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,n={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return p.createElement(p.Fragment,null,p.createElement("h2",null,"Unexpected Application Error!"),p.createElement("h3",{style:{fontStyle:"italic"}},t),r?p.createElement("pre",{style:n},r):null,null)}const TY=p.createElement(AY,null);class MY extends p.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?p.createElement(Cl.Provider,{value:this.props.routeContext},p.createElement($R.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function OY(e){let{routeContext:t,match:r,children:a}=e,n=p.useContext(OS);return n&&n.static&&n.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=r.route.id),p.createElement(Cl.Provider,{value:t},a)}function DY(e,t,r,a){var n;if(t===void 0&&(t=[]),r===void 0&&(r=null),a===void 0&&(a=null),e==null){var i;if(!r)return null;if(r.errors)e=r.matches;else if((i=a)!=null&&i.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let o=e,l=(n=r)==null?void 0:n.errors;if(l!=null){let u=o.findIndex(m=>m.route.id&&(l==null?void 0:l[m.route.id])!==void 0);u>=0||xs(!1),o=o.slice(0,Math.min(o.length,u+1))}let c=!1,d=-1;if(r&&a&&a.v7_partialHydration)for(let u=0;u<o.length;u++){let m=o[u];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(d=u),m.route.id){let{loaderData:h,errors:f}=r,g=m.route.loader&&h[m.route.id]===void 0&&(!f||f[m.route.id]===void 0);if(m.route.lazy||g){c=!0,d>=0?o=o.slice(0,d+1):o=[o[0]];break}}}return o.reduceRight((u,m,h)=>{let f,g=!1,x=null,y=null;r&&(f=l&&m.route.id?l[m.route.id]:void 0,x=m.route.errorElement||TY,c&&(d<0&&h===0?(BY("route-fallback"),g=!0,y=null):d===h&&(g=!0,y=m.route.hydrateFallbackElement||null)));let v=t.concat(o.slice(0,h+1)),b=()=>{let j;return f?j=x:g?j=y:m.route.Component?j=p.createElement(m.route.Component,null):m.route.element?j=m.route.element:j=u,p.createElement(OY,{match:m,routeContext:{outlet:u,matches:v,isDataRoute:r!=null},children:j})};return r&&(m.route.ErrorBoundary||m.route.errorElement||h===0)?p.createElement(MY,{location:r.location,revalidation:r.revalidation,component:x,error:f,children:b(),routeContext:{outlet:null,matches:v,isDataRoute:!0}}):b()},null)}var UR=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(UR||{}),qR=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(qR||{});function RY(e){let t=p.useContext(OS);return t||xs(!1),t}function IY(e){let t=p.useContext(SY);return t||xs(!1),t}function FY(e){let t=p.useContext(Cl);return t||xs(!1),t}function VR(e){let t=FY(),r=t.matches[t.matches.length-1];return r.route.id||xs(!1),r.route.id}function LY(){var e;let t=p.useContext($R),r=IY(),a=VR();return t!==void 0?t:(e=r.errors)==null?void 0:e[a]}function $Y(){let{router:e}=RY(UR.UseNavigateStable),t=VR(qR.UseNavigateStable),r=p.useRef(!1);return BR(()=>{r.current=!0}),p.useCallback(function(n,i){i===void 0&&(i={}),r.current&&(typeof n=="number"?e.navigate(n):e.navigate(n,ef({fromRouteId:t},i)))},[e,t])}const oE={};function BY(e,t,r){oE[e]||(oE[e]=!0)}function zY(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function Qe(e){xs(!1)}function UY(e){let{basename:t="/",children:r=null,location:a,navigationType:n=Yo.Pop,navigator:i,static:o=!1,future:l}=e;Kf()&&xs(!1);let c=t.replace(/^\/*/,"/"),d=p.useMemo(()=>({basename:c,navigator:i,static:o,future:ef({v7_relativeSplatPath:!1},l)}),[c,l,i,o]);typeof a=="string"&&(a=rm(a));let{pathname:u="/",search:m="",hash:h="",state:f=null,key:g="default"}=a,x=p.useMemo(()=>{let y=MS(u,c);return y==null?null:{location:{pathname:y,search:m,hash:h,state:f,key:g},navigationType:n}},[c,u,m,h,f,g,n]);return x==null?null:p.createElement(Gc.Provider,{value:d},p.createElement(g0.Provider,{children:r,value:x}))}function qY(e){let{children:t,location:r}=e;return PY(gN(t),r)}new Promise(()=>{});function gN(e,t){t===void 0&&(t=[]);let r=[];return p.Children.forEach(e,(a,n)=>{if(!p.isValidElement(a))return;let i=[...t,n];if(a.type===p.Fragment){r.push.apply(r,gN(a.props.children,i));return}a.type!==Qe&&xs(!1),!a.props.index||!a.props.children||xs(!1);let o={id:a.props.id||i.join("-"),caseSensitive:a.props.caseSensitive,element:a.props.element,Component:a.props.Component,index:a.props.index,path:a.props.path,loader:a.props.loader,action:a.props.action,errorElement:a.props.errorElement,ErrorBoundary:a.props.ErrorBoundary,hasErrorBoundary:a.props.ErrorBoundary!=null||a.props.errorElement!=null,shouldRevalidate:a.props.shouldRevalidate,handle:a.props.handle,lazy:a.props.lazy};a.props.children&&(o.children=gN(a.props.children,i)),r.push(o)}),r}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function vN(){return vN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},vN.apply(this,arguments)}function VY(e,t){if(e==null)return{};var r={},a=Object.keys(e),n,i;for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&(r[n]=e[n]);return r}function WY(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function HY(e,t){return e.button===0&&(!t||t==="_self")&&!WY(e)}function yN(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,r)=>{let a=e[r];return t.concat(Array.isArray(a)?a.map(n=>[r,n]):[[r,a]])},[]))}function KY(e,t){let r=yN(e);return t&&t.forEach((a,n)=>{r.has(n)||t.getAll(n).forEach(i=>{r.append(n,i)})}),r}const GY=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],YY="6";try{window.__reactRouterVersion=YY}catch{}const XY="startTransition",lE=z2[XY];function QY(e){let{basename:t,children:r,future:a,window:n}=e,i=p.useRef();i.current==null&&(i.current=JG({window:n,v5Compat:!0}));let o=i.current,[l,c]=p.useState({action:o.action,location:o.location}),{v7_startTransition:d}=a||{},u=p.useCallback(m=>{d&&lE?lE(()=>c(m)):c(m)},[c,d]);return p.useLayoutEffect(()=>o.listen(u),[o,u]),p.useEffect(()=>zY(a),[a]),p.createElement(UY,{basename:t,children:r,location:l.location,navigationType:l.action,navigator:o,future:a})}const JY=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",ZY=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Os=p.forwardRef(function(t,r){let{onClick:a,relative:n,reloadDocument:i,replace:o,state:l,target:c,to:d,preventScrollReset:u,viewTransition:m}=t,h=VY(t,GY),{basename:f}=p.useContext(Gc),g,x=!1;if(typeof d=="string"&&ZY.test(d)&&(g=d,JY))try{let j=new URL(window.location.href),N=d.startsWith("//")?new URL(j.protocol+d):new URL(d),w=MS(N.pathname,f);N.origin===j.origin&&w!=null?d=w+N.search+N.hash:x=!0}catch{}let y=_Y(d,{relative:n}),v=eX(d,{replace:o,state:l,target:c,preventScrollReset:u,relative:n,viewTransition:m});function b(j){a&&a(j),j.defaultPrevented||v(j)}return p.createElement("a",vN({},h,{href:g||y,onClick:x||i?a:b,ref:r,target:c}))});var cE;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(cE||(cE={}));var dE;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(dE||(dE={}));function eX(e,t){let{target:r,replace:a,state:n,preventScrollReset:i,relative:o,viewTransition:l}=t===void 0?{}:t,c=ur(),d=am(),u=zR(e,{relative:o});return p.useCallback(m=>{if(HY(m,r)){m.preventDefault();let h=a!==void 0?a:Vg(d)===Vg(u);c(e,{replace:h,state:n,preventScrollReset:i,relative:o,viewTransition:l})}},[d,c,u,a,n,r,e,i,o,l])}function tX(e){let t=p.useRef(yN(e)),r=p.useRef(!1),a=am(),n=p.useMemo(()=>KY(a.search,r.current?null:t.current),[a.search]),i=ur(),o=p.useCallback((l,c)=>{const d=yN(typeof l=="function"?l(n):l);r.current=!0,i("?"+d,c)},[i,n]);return[n,o]}var nm=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Mc=typeof window>"u"||"Deno"in globalThis;function xr(){}function sX(e,t){return typeof e=="function"?e(t):e}function bN(e){return typeof e=="number"&&e>=0&&e!==1/0}function WR(e,t){return Math.max(e+(t||0)-Date.now(),0)}function nl(e,t){return typeof e=="function"?e(t):e}function Ca(e,t){return typeof e=="function"?e(t):e}function uE(e,t){const{type:r="all",exact:a,fetchStatus:n,predicate:i,queryKey:o,stale:l}=e;if(o){if(a){if(t.queryHash!==DS(o,t.options))return!1}else if(!tf(t.queryKey,o))return!1}if(r!=="all"){const c=t.isActive();if(r==="active"&&!c||r==="inactive"&&c)return!1}return!(typeof l=="boolean"&&t.isStale()!==l||n&&n!==t.state.fetchStatus||i&&!i(t))}function mE(e,t){const{exact:r,status:a,predicate:n,mutationKey:i}=e;if(i){if(!t.options.mutationKey)return!1;if(r){if(Oc(t.options.mutationKey)!==Oc(i))return!1}else if(!tf(t.options.mutationKey,i))return!1}return!(a&&t.state.status!==a||n&&!n(t))}function DS(e,t){return((t==null?void 0:t.queryKeyHashFn)||Oc)(e)}function Oc(e){return JSON.stringify(e,(t,r)=>jN(r)?Object.keys(r).sort().reduce((a,n)=>(a[n]=r[n],a),{}):r)}function tf(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(r=>tf(e[r],t[r])):!1}function HR(e,t){if(e===t)return e;const r=hE(e)&&hE(t);if(r||jN(e)&&jN(t)){const a=r?e:Object.keys(e),n=a.length,i=r?t:Object.keys(t),o=i.length,l=r?[]:{},c=new Set(a);let d=0;for(let u=0;u<o;u++){const m=r?u:i[u];(!r&&c.has(m)||r)&&e[m]===void 0&&t[m]===void 0?(l[m]=void 0,d++):(l[m]=HR(e[m],t[m]),l[m]===e[m]&&e[m]!==void 0&&d++)}return n===o&&d===n?e:l}return t}function Wg(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}function hE(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function jN(e){if(!fE(e))return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(!fE(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function fE(e){return Object.prototype.toString.call(e)==="[object Object]"}function rX(e){return new Promise(t=>{setTimeout(t,e)})}function wN(e,t,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,t):r.structuralSharing!==!1?HR(e,t):t}function aX(e,t,r=0){const a=[...e,t];return r&&a.length>r?a.slice(1):a}function nX(e,t,r=0){const a=[t,...e];return r&&a.length>r?a.slice(0,-1):a}var RS=Symbol();function KR(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===RS?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function GR(e,t){return typeof e=="function"?e(...t):!!e}var dc,Fo,lu,c5,iX=(c5=class extends nm{constructor(){super();Ae(this,dc);Ae(this,Fo);Ae(this,lu);be(this,lu,t=>{if(!Mc&&window.addEventListener){const r=()=>t();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){G(this,Fo)||this.setEventListener(G(this,lu))}onUnsubscribe(){var t;this.hasListeners()||((t=G(this,Fo))==null||t.call(this),be(this,Fo,void 0))}setEventListener(t){var r;be(this,lu,t),(r=G(this,Fo))==null||r.call(this),be(this,Fo,t(a=>{typeof a=="boolean"?this.setFocused(a):this.onFocus()}))}setFocused(t){G(this,dc)!==t&&(be(this,dc,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(r=>{r(t)})}isFocused(){var t;return typeof G(this,dc)=="boolean"?G(this,dc):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},dc=new WeakMap,Fo=new WeakMap,lu=new WeakMap,c5),IS=new iX,cu,Lo,du,d5,oX=(d5=class extends nm{constructor(){super();Ae(this,cu,!0);Ae(this,Lo);Ae(this,du);be(this,du,t=>{if(!Mc&&window.addEventListener){const r=()=>t(!0),a=()=>t(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",a,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",a)}}})}onSubscribe(){G(this,Lo)||this.setEventListener(G(this,du))}onUnsubscribe(){var t;this.hasListeners()||((t=G(this,Lo))==null||t.call(this),be(this,Lo,void 0))}setEventListener(t){var r;be(this,du,t),(r=G(this,Lo))==null||r.call(this),be(this,Lo,t(this.setOnline.bind(this)))}setOnline(t){G(this,cu)!==t&&(be(this,cu,t),this.listeners.forEach(a=>{a(t)}))}isOnline(){return G(this,cu)}},cu=new WeakMap,Lo=new WeakMap,du=new WeakMap,d5),Hg=new oX;function NN(){let e,t;const r=new Promise((n,i)=>{e=n,t=i});r.status="pending",r.catch(()=>{});function a(n){Object.assign(r,n),delete r.resolve,delete r.reject}return r.resolve=n=>{a({status:"fulfilled",value:n}),e(n)},r.reject=n=>{a({status:"rejected",reason:n}),t(n)},r}function lX(e){return Math.min(1e3*2**e,3e4)}function YR(e){return(e??"online")==="online"?Hg.isOnline():!0}var XR=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function sj(e){return e instanceof XR}function QR(e){let t=!1,r=0,a=!1,n;const i=NN(),o=x=>{var y;a||(h(new XR(x)),(y=e.abort)==null||y.call(e))},l=()=>{t=!0},c=()=>{t=!1},d=()=>IS.isFocused()&&(e.networkMode==="always"||Hg.isOnline())&&e.canRun(),u=()=>YR(e.networkMode)&&e.canRun(),m=x=>{var y;a||(a=!0,(y=e.onSuccess)==null||y.call(e,x),n==null||n(),i.resolve(x))},h=x=>{var y;a||(a=!0,(y=e.onError)==null||y.call(e,x),n==null||n(),i.reject(x))},f=()=>new Promise(x=>{var y;n=v=>{(a||d())&&x(v)},(y=e.onPause)==null||y.call(e)}).then(()=>{var x;n=void 0,a||(x=e.onContinue)==null||x.call(e)}),g=()=>{if(a)return;let x;const y=r===0?e.initialPromise:void 0;try{x=y??e.fn()}catch(v){x=Promise.reject(v)}Promise.resolve(x).then(m).catch(v=>{var S;if(a)return;const b=e.retry??(Mc?0:3),j=e.retryDelay??lX,N=typeof j=="function"?j(r,v):j,w=b===!0||typeof b=="number"&&r<b||typeof b=="function"&&b(r,v);if(t||!w){h(v);return}r++,(S=e.onFail)==null||S.call(e,r,v),rX(N).then(()=>d()?void 0:f()).then(()=>{t?h(v):g()})})};return{promise:i,cancel:o,continue:()=>(n==null||n(),i),cancelRetry:l,continueRetry:c,canStart:u,start:()=>(u()?g():f().then(g),i)}}var cX=e=>setTimeout(e,0);function dX(){let e=[],t=0,r=l=>{l()},a=l=>{l()},n=cX;const i=l=>{t?e.push(l):n(()=>{r(l)})},o=()=>{const l=e;e=[],l.length&&n(()=>{a(()=>{l.forEach(c=>{r(c)})})})};return{batch:l=>{let c;t++;try{c=l()}finally{t--,t||o()}return c},batchCalls:l=>(...c)=>{i(()=>{l(...c)})},schedule:i,setNotifyFunction:l=>{r=l},setBatchNotifyFunction:l=>{a=l},setScheduler:l=>{n=l}}}var Ns=dX(),uc,u5,JR=(u5=class{constructor(){Ae(this,uc)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),bN(this.gcTime)&&be(this,uc,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Mc?1/0:5*60*1e3))}clearGcTimeout(){G(this,uc)&&(clearTimeout(G(this,uc)),be(this,uc,void 0))}},uc=new WeakMap,u5),uu,mc,_a,hc,Js,Lf,fc,ln,gi,m5,uX=(m5=class extends JR{constructor(t){super();Ae(this,ln);Ae(this,uu);Ae(this,mc);Ae(this,_a);Ae(this,hc);Ae(this,Js);Ae(this,Lf);Ae(this,fc);be(this,fc,!1),be(this,Lf,t.defaultOptions),this.setOptions(t.options),this.observers=[],be(this,hc,t.client),be(this,_a,G(this,hc).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,be(this,uu,mX(this.options)),this.state=t.state??G(this,uu),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=G(this,Js))==null?void 0:t.promise}setOptions(t){this.options={...G(this,Lf),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&G(this,_a).remove(this)}setData(t,r){const a=wN(this.state.data,t,this.options);return We(this,ln,gi).call(this,{data:a,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),a}setState(t,r){We(this,ln,gi).call(this,{type:"setState",state:t,setStateOptions:r})}cancel(t){var a,n;const r=(a=G(this,Js))==null?void 0:a.promise;return(n=G(this,Js))==null||n.cancel(t),r?r.then(xr).catch(xr):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(G(this,uu))}isActive(){return this.observers.some(t=>Ca(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===RS||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>nl(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!WR(this.state.dataUpdatedAt,t)}onFocus(){var r;const t=this.observers.find(a=>a.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(r=G(this,Js))==null||r.continue()}onOnline(){var r;const t=this.observers.find(a=>a.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(r=G(this,Js))==null||r.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),G(this,_a).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(r=>r!==t),this.observers.length||(G(this,Js)&&(G(this,fc)?G(this,Js).cancel({revert:!0}):G(this,Js).cancelRetry()),this.scheduleGc()),G(this,_a).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||We(this,ln,gi).call(this,{type:"invalidate"})}fetch(t,r){var d,u,m;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(G(this,Js))return G(this,Js).continueRetry(),G(this,Js).promise}if(t&&this.setOptions(t),!this.options.queryFn){const h=this.observers.find(f=>f.options.queryFn);h&&this.setOptions(h.options)}const a=new AbortController,n=h=>{Object.defineProperty(h,"signal",{enumerable:!0,get:()=>(be(this,fc,!0),a.signal)})},i=()=>{const h=KR(this.options,r),g=(()=>{const x={client:G(this,hc),queryKey:this.queryKey,meta:this.meta};return n(x),x})();return be(this,fc,!1),this.options.persister?this.options.persister(h,g,this):h(g)},l=(()=>{const h={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:G(this,hc),state:this.state,fetchFn:i};return n(h),h})();(d=this.options.behavior)==null||d.onFetch(l,this),be(this,mc,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((u=l.fetchOptions)==null?void 0:u.meta))&&We(this,ln,gi).call(this,{type:"fetch",meta:(m=l.fetchOptions)==null?void 0:m.meta});const c=h=>{var f,g,x,y;sj(h)&&h.silent||We(this,ln,gi).call(this,{type:"error",error:h}),sj(h)||((g=(f=G(this,_a).config).onError)==null||g.call(f,h,this),(y=(x=G(this,_a).config).onSettled)==null||y.call(x,this.state.data,h,this)),this.scheduleGc()};return be(this,Js,QR({initialPromise:r==null?void 0:r.initialPromise,fn:l.fetchFn,abort:a.abort.bind(a),onSuccess:h=>{var f,g,x,y;if(h===void 0){c(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(h)}catch(v){c(v);return}(g=(f=G(this,_a).config).onSuccess)==null||g.call(f,h,this),(y=(x=G(this,_a).config).onSettled)==null||y.call(x,h,this.state.error,this),this.scheduleGc()},onError:c,onFail:(h,f)=>{We(this,ln,gi).call(this,{type:"failed",failureCount:h,error:f})},onPause:()=>{We(this,ln,gi).call(this,{type:"pause"})},onContinue:()=>{We(this,ln,gi).call(this,{type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0})),G(this,Js).start()}},uu=new WeakMap,mc=new WeakMap,_a=new WeakMap,hc=new WeakMap,Js=new WeakMap,Lf=new WeakMap,fc=new WeakMap,ln=new WeakSet,gi=function(t){const r=a=>{switch(t.type){case"failed":return{...a,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...a,fetchStatus:"paused"};case"continue":return{...a,fetchStatus:"fetching"};case"fetch":return{...a,...ZR(a.data,this.options),fetchMeta:t.meta??null};case"success":return be(this,mc,void 0),{...a,data:t.data,dataUpdateCount:a.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const n=t.error;return sj(n)&&n.revert&&G(this,mc)?{...G(this,mc),fetchStatus:"idle"}:{...a,error:n,errorUpdateCount:a.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:a.fetchFailureCount+1,fetchFailureReason:n,fetchStatus:"idle",status:"error"};case"invalidate":return{...a,isInvalidated:!0};case"setState":return{...a,...t.state}}};this.state=r(this.state),Ns.batch(()=>{this.observers.forEach(a=>{a.onQueryUpdate()}),G(this,_a).notify({query:this,type:"updated",action:t})})},m5);function ZR(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:YR(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function mX(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,r=t!==void 0,a=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?a??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var In,h5,hX=(h5=class extends nm{constructor(t={}){super();Ae(this,In);this.config=t,be(this,In,new Map)}build(t,r,a){const n=r.queryKey,i=r.queryHash??DS(n,r);let o=this.get(i);return o||(o=new uX({client:t,queryKey:n,queryHash:i,options:t.defaultQueryOptions(r),state:a,defaultOptions:t.getQueryDefaults(n)}),this.add(o)),o}add(t){G(this,In).has(t.queryHash)||(G(this,In).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const r=G(this,In).get(t.queryHash);r&&(t.destroy(),r===t&&G(this,In).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){Ns.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return G(this,In).get(t)}getAll(){return[...G(this,In).values()]}find(t){const r={exact:!0,...t};return this.getAll().find(a=>uE(r,a))}findAll(t={}){const r=this.getAll();return Object.keys(t).length>0?r.filter(a=>uE(t,a)):r}notify(t){Ns.batch(()=>{this.listeners.forEach(r=>{r(t)})})}onFocus(){Ns.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){Ns.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},In=new WeakMap,h5),Fn,hr,pc,Ln,_o,f5,fX=(f5=class extends JR{constructor(t){super();Ae(this,Ln);Ae(this,Fn);Ae(this,hr);Ae(this,pc);this.mutationId=t.mutationId,be(this,hr,t.mutationCache),be(this,Fn,[]),this.state=t.state||eI(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){G(this,Fn).includes(t)||(G(this,Fn).push(t),this.clearGcTimeout(),G(this,hr).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){be(this,Fn,G(this,Fn).filter(r=>r!==t)),this.scheduleGc(),G(this,hr).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){G(this,Fn).length||(this.state.status==="pending"?this.scheduleGc():G(this,hr).remove(this))}continue(){var t;return((t=G(this,pc))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var i,o,l,c,d,u,m,h,f,g,x,y,v,b,j,N,w,S,_,C;const r=()=>{We(this,Ln,_o).call(this,{type:"continue"})};be(this,pc,QR({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(E,T)=>{We(this,Ln,_o).call(this,{type:"failed",failureCount:E,error:T})},onPause:()=>{We(this,Ln,_o).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>G(this,hr).canRun(this)}));const a=this.state.status==="pending",n=!G(this,pc).canStart();try{if(a)r();else{We(this,Ln,_o).call(this,{type:"pending",variables:t,isPaused:n}),await((o=(i=G(this,hr).config).onMutate)==null?void 0:o.call(i,t,this));const T=await((c=(l=this.options).onMutate)==null?void 0:c.call(l,t));T!==this.state.context&&We(this,Ln,_o).call(this,{type:"pending",context:T,variables:t,isPaused:n})}const E=await G(this,pc).start();return await((u=(d=G(this,hr).config).onSuccess)==null?void 0:u.call(d,E,t,this.state.context,this)),await((h=(m=this.options).onSuccess)==null?void 0:h.call(m,E,t,this.state.context)),await((g=(f=G(this,hr).config).onSettled)==null?void 0:g.call(f,E,null,this.state.variables,this.state.context,this)),await((y=(x=this.options).onSettled)==null?void 0:y.call(x,E,null,t,this.state.context)),We(this,Ln,_o).call(this,{type:"success",data:E}),E}catch(E){try{throw await((b=(v=G(this,hr).config).onError)==null?void 0:b.call(v,E,t,this.state.context,this)),await((N=(j=this.options).onError)==null?void 0:N.call(j,E,t,this.state.context)),await((S=(w=G(this,hr).config).onSettled)==null?void 0:S.call(w,void 0,E,this.state.variables,this.state.context,this)),await((C=(_=this.options).onSettled)==null?void 0:C.call(_,void 0,E,t,this.state.context)),E}finally{We(this,Ln,_o).call(this,{type:"error",error:E})}}finally{G(this,hr).runNext(this)}}},Fn=new WeakMap,hr=new WeakMap,pc=new WeakMap,Ln=new WeakSet,_o=function(t){const r=a=>{switch(t.type){case"failed":return{...a,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...a,isPaused:!0};case"continue":return{...a,isPaused:!1};case"pending":return{...a,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...a,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...a,data:void 0,error:t.error,failureCount:a.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=r(this.state),Ns.batch(()=>{G(this,Fn).forEach(a=>{a.onMutationUpdate(t)}),G(this,hr).notify({mutation:this,type:"updated",action:t})})},f5);function eI(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Ni,cn,$f,p5,pX=(p5=class extends nm{constructor(t={}){super();Ae(this,Ni);Ae(this,cn);Ae(this,$f);this.config=t,be(this,Ni,new Set),be(this,cn,new Map),be(this,$f,0)}build(t,r,a){const n=new fX({mutationCache:this,mutationId:++Wp(this,$f)._,options:t.defaultMutationOptions(r),state:a});return this.add(n),n}add(t){G(this,Ni).add(t);const r=cx(t);if(typeof r=="string"){const a=G(this,cn).get(r);a?a.push(t):G(this,cn).set(r,[t])}this.notify({type:"added",mutation:t})}remove(t){if(G(this,Ni).delete(t)){const r=cx(t);if(typeof r=="string"){const a=G(this,cn).get(r);if(a)if(a.length>1){const n=a.indexOf(t);n!==-1&&a.splice(n,1)}else a[0]===t&&G(this,cn).delete(r)}}this.notify({type:"removed",mutation:t})}canRun(t){const r=cx(t);if(typeof r=="string"){const a=G(this,cn).get(r),n=a==null?void 0:a.find(i=>i.state.status==="pending");return!n||n===t}else return!0}runNext(t){var a;const r=cx(t);if(typeof r=="string"){const n=(a=G(this,cn).get(r))==null?void 0:a.find(i=>i!==t&&i.state.isPaused);return(n==null?void 0:n.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Ns.batch(()=>{G(this,Ni).forEach(t=>{this.notify({type:"removed",mutation:t})}),G(this,Ni).clear(),G(this,cn).clear()})}getAll(){return Array.from(G(this,Ni))}find(t){const r={exact:!0,...t};return this.getAll().find(a=>mE(r,a))}findAll(t={}){return this.getAll().filter(r=>mE(t,r))}notify(t){Ns.batch(()=>{this.listeners.forEach(r=>{r(t)})})}resumePausedMutations(){const t=this.getAll().filter(r=>r.state.isPaused);return Ns.batch(()=>Promise.all(t.map(r=>r.continue().catch(xr))))}},Ni=new WeakMap,cn=new WeakMap,$f=new WeakMap,p5);function cx(e){var t;return(t=e.options.scope)==null?void 0:t.id}function pE(e){return{onFetch:(t,r)=>{var u,m,h,f,g;const a=t.options,n=(h=(m=(u=t.fetchOptions)==null?void 0:u.meta)==null?void 0:m.fetchMore)==null?void 0:h.direction,i=((f=t.state.data)==null?void 0:f.pages)||[],o=((g=t.state.data)==null?void 0:g.pageParams)||[];let l={pages:[],pageParams:[]},c=0;const d=async()=>{let x=!1;const y=j=>{Object.defineProperty(j,"signal",{enumerable:!0,get:()=>(t.signal.aborted?x=!0:t.signal.addEventListener("abort",()=>{x=!0}),t.signal)})},v=KR(t.options,t.fetchOptions),b=async(j,N,w)=>{if(x)return Promise.reject();if(N==null&&j.pages.length)return Promise.resolve(j);const _=(()=>{const k={client:t.client,queryKey:t.queryKey,pageParam:N,direction:w?"backward":"forward",meta:t.options.meta};return y(k),k})(),C=await v(_),{maxPages:E}=t.options,T=w?nX:aX;return{pages:T(j.pages,C,E),pageParams:T(j.pageParams,N,E)}};if(n&&i.length){const j=n==="backward",N=j?xX:xE,w={pages:i,pageParams:o},S=N(a,w);l=await b(w,S,j)}else{const j=e??i.length;do{const N=c===0?o[0]??a.initialPageParam:xE(a,l);if(c>0&&N==null)break;l=await b(l,N),c++}while(c<j)}return l};t.options.persister?t.fetchFn=()=>{var x,y;return(y=(x=t.options).persister)==null?void 0:y.call(x,d,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r)}:t.fetchFn=d}}}function xE(e,{pages:t,pageParams:r}){const a=t.length-1;return t.length>0?e.getNextPageParam(t[a],t,r[a],r):void 0}function xX(e,{pages:t,pageParams:r}){var a;return t.length>0?(a=e.getPreviousPageParam)==null?void 0:a.call(e,t[0],t,r[0],r):void 0}var Jt,$o,Bo,mu,hu,zo,fu,pu,x5,gX=(x5=class{constructor(e={}){Ae(this,Jt);Ae(this,$o);Ae(this,Bo);Ae(this,mu);Ae(this,hu);Ae(this,zo);Ae(this,fu);Ae(this,pu);be(this,Jt,e.queryCache||new hX),be(this,$o,e.mutationCache||new pX),be(this,Bo,e.defaultOptions||{}),be(this,mu,new Map),be(this,hu,new Map),be(this,zo,0)}mount(){Wp(this,zo)._++,G(this,zo)===1&&(be(this,fu,IS.subscribe(async e=>{e&&(await this.resumePausedMutations(),G(this,Jt).onFocus())})),be(this,pu,Hg.subscribe(async e=>{e&&(await this.resumePausedMutations(),G(this,Jt).onOnline())})))}unmount(){var e,t;Wp(this,zo)._--,G(this,zo)===0&&((e=G(this,fu))==null||e.call(this),be(this,fu,void 0),(t=G(this,pu))==null||t.call(this),be(this,pu,void 0))}isFetching(e){return G(this,Jt).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return G(this,$o).findAll({...e,status:"pending"}).length}getQueryData(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=G(this,Jt).get(t.queryHash))==null?void 0:r.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),r=G(this,Jt).build(this,t),a=r.state.data;return a===void 0?this.fetchQuery(e):(e.revalidateIfStale&&r.isStaleByTime(nl(t.staleTime,r))&&this.prefetchQuery(t),Promise.resolve(a))}getQueriesData(e){return G(this,Jt).findAll(e).map(({queryKey:t,state:r})=>{const a=r.data;return[t,a]})}setQueryData(e,t,r){const a=this.defaultQueryOptions({queryKey:e}),n=G(this,Jt).get(a.queryHash),i=n==null?void 0:n.state.data,o=sX(t,i);if(o!==void 0)return G(this,Jt).build(this,a).setData(o,{...r,manual:!0})}setQueriesData(e,t,r){return Ns.batch(()=>G(this,Jt).findAll(e).map(({queryKey:a})=>[a,this.setQueryData(a,t,r)]))}getQueryState(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=G(this,Jt).get(t.queryHash))==null?void 0:r.state}removeQueries(e){const t=G(this,Jt);Ns.batch(()=>{t.findAll(e).forEach(r=>{t.remove(r)})})}resetQueries(e,t){const r=G(this,Jt);return Ns.batch(()=>(r.findAll(e).forEach(a=>{a.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const r={revert:!0,...t},a=Ns.batch(()=>G(this,Jt).findAll(e).map(n=>n.cancel(r)));return Promise.all(a).then(xr).catch(xr)}invalidateQueries(e,t={}){return Ns.batch(()=>(G(this,Jt).findAll(e).forEach(r=>{r.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const r={...t,cancelRefetch:t.cancelRefetch??!0},a=Ns.batch(()=>G(this,Jt).findAll(e).filter(n=>!n.isDisabled()&&!n.isStatic()).map(n=>{let i=n.fetch(void 0,r);return r.throwOnError||(i=i.catch(xr)),n.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(a).then(xr)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const r=G(this,Jt).build(this,t);return r.isStaleByTime(nl(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(xr).catch(xr)}fetchInfiniteQuery(e){return e.behavior=pE(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(xr).catch(xr)}ensureInfiniteQueryData(e){return e.behavior=pE(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return Hg.isOnline()?G(this,$o).resumePausedMutations():Promise.resolve()}getQueryCache(){return G(this,Jt)}getMutationCache(){return G(this,$o)}getDefaultOptions(){return G(this,Bo)}setDefaultOptions(e){be(this,Bo,e)}setQueryDefaults(e,t){G(this,mu).set(Oc(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...G(this,mu).values()],r={};return t.forEach(a=>{tf(e,a.queryKey)&&Object.assign(r,a.defaultOptions)}),r}setMutationDefaults(e,t){G(this,hu).set(Oc(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...G(this,hu).values()],r={};return t.forEach(a=>{tf(e,a.mutationKey)&&Object.assign(r,a.defaultOptions)}),r}defaultQueryOptions(e){if(e._defaulted)return e;const t={...G(this,Bo).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=DS(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===RS&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...G(this,Bo).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){G(this,Jt).clear(),G(this,$o).clear()}},Jt=new WeakMap,$o=new WeakMap,Bo=new WeakMap,mu=new WeakMap,hu=new WeakMap,zo=new WeakMap,fu=new WeakMap,pu=new WeakMap,x5),Pr,et,Bf,fr,xc,xu,Uo,qo,zf,gu,vu,gc,vc,Vo,yu,mt,nh,SN,_N,CN,kN,PN,EN,AN,tI,g5,vX=(g5=class extends nm{constructor(t,r){super();Ae(this,mt);Ae(this,Pr);Ae(this,et);Ae(this,Bf);Ae(this,fr);Ae(this,xc);Ae(this,xu);Ae(this,Uo);Ae(this,qo);Ae(this,zf);Ae(this,gu);Ae(this,vu);Ae(this,gc);Ae(this,vc);Ae(this,Vo);Ae(this,yu,new Set);this.options=r,be(this,Pr,t),be(this,qo,null),be(this,Uo,NN()),this.options.experimental_prefetchInRender||G(this,Uo).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(r)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(G(this,et).addObserver(this),gE(G(this,et),this.options)?We(this,mt,nh).call(this):this.updateResult(),We(this,mt,kN).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return TN(G(this,et),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return TN(G(this,et),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,We(this,mt,PN).call(this),We(this,mt,EN).call(this),G(this,et).removeObserver(this)}setOptions(t){const r=this.options,a=G(this,et);if(this.options=G(this,Pr).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Ca(this.options.enabled,G(this,et))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");We(this,mt,AN).call(this),G(this,et).setOptions(this.options),r._defaulted&&!Wg(this.options,r)&&G(this,Pr).getQueryCache().notify({type:"observerOptionsUpdated",query:G(this,et),observer:this});const n=this.hasListeners();n&&vE(G(this,et),a,this.options,r)&&We(this,mt,nh).call(this),this.updateResult(),n&&(G(this,et)!==a||Ca(this.options.enabled,G(this,et))!==Ca(r.enabled,G(this,et))||nl(this.options.staleTime,G(this,et))!==nl(r.staleTime,G(this,et)))&&We(this,mt,SN).call(this);const i=We(this,mt,_N).call(this);n&&(G(this,et)!==a||Ca(this.options.enabled,G(this,et))!==Ca(r.enabled,G(this,et))||i!==G(this,Vo))&&We(this,mt,CN).call(this,i)}getOptimisticResult(t){const r=G(this,Pr).getQueryCache().build(G(this,Pr),t),a=this.createResult(r,t);return bX(this,a)&&(be(this,fr,a),be(this,xu,this.options),be(this,xc,G(this,et).state)),a}getCurrentResult(){return G(this,fr)}trackResult(t,r){return new Proxy(t,{get:(a,n)=>(this.trackProp(n),r==null||r(n),Reflect.get(a,n))})}trackProp(t){G(this,yu).add(t)}getCurrentQuery(){return G(this,et)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const r=G(this,Pr).defaultQueryOptions(t),a=G(this,Pr).getQueryCache().build(G(this,Pr),r);return a.fetch().then(()=>this.createResult(a,r))}fetch(t){return We(this,mt,nh).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),G(this,fr)))}createResult(t,r){var E;const a=G(this,et),n=this.options,i=G(this,fr),o=G(this,xc),l=G(this,xu),d=t!==a?t.state:G(this,Bf),{state:u}=t;let m={...u},h=!1,f;if(r._optimisticResults){const T=this.hasListeners(),k=!T&&gE(t,r),P=T&&vE(t,a,r,n);(k||P)&&(m={...m,...ZR(u.data,t.options)}),r._optimisticResults==="isRestoring"&&(m.fetchStatus="idle")}let{error:g,errorUpdatedAt:x,status:y}=m;f=m.data;let v=!1;if(r.placeholderData!==void 0&&f===void 0&&y==="pending"){let T;i!=null&&i.isPlaceholderData&&r.placeholderData===(l==null?void 0:l.placeholderData)?(T=i.data,v=!0):T=typeof r.placeholderData=="function"?r.placeholderData((E=G(this,vu))==null?void 0:E.state.data,G(this,vu)):r.placeholderData,T!==void 0&&(y="success",f=wN(i==null?void 0:i.data,T,r),h=!0)}if(r.select&&f!==void 0&&!v)if(i&&f===(o==null?void 0:o.data)&&r.select===G(this,zf))f=G(this,gu);else try{be(this,zf,r.select),f=r.select(f),f=wN(i==null?void 0:i.data,f,r),be(this,gu,f),be(this,qo,null)}catch(T){be(this,qo,T)}G(this,qo)&&(g=G(this,qo),f=G(this,gu),x=Date.now(),y="error");const b=m.fetchStatus==="fetching",j=y==="pending",N=y==="error",w=j&&b,S=f!==void 0,C={status:y,fetchStatus:m.fetchStatus,isPending:j,isSuccess:y==="success",isError:N,isInitialLoading:w,isLoading:w,data:f,dataUpdatedAt:m.dataUpdatedAt,error:g,errorUpdatedAt:x,failureCount:m.fetchFailureCount,failureReason:m.fetchFailureReason,errorUpdateCount:m.errorUpdateCount,isFetched:m.dataUpdateCount>0||m.errorUpdateCount>0,isFetchedAfterMount:m.dataUpdateCount>d.dataUpdateCount||m.errorUpdateCount>d.errorUpdateCount,isFetching:b,isRefetching:b&&!j,isLoadingError:N&&!S,isPaused:m.fetchStatus==="paused",isPlaceholderData:h,isRefetchError:N&&S,isStale:FS(t,r),refetch:this.refetch,promise:G(this,Uo),isEnabled:Ca(r.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){const T=D=>{C.status==="error"?D.reject(C.error):C.data!==void 0&&D.resolve(C.data)},k=()=>{const D=be(this,Uo,C.promise=NN());T(D)},P=G(this,Uo);switch(P.status){case"pending":t.queryHash===a.queryHash&&T(P);break;case"fulfilled":(C.status==="error"||C.data!==P.value)&&k();break;case"rejected":(C.status!=="error"||C.error!==P.reason)&&k();break}}return C}updateResult(){const t=G(this,fr),r=this.createResult(G(this,et),this.options);if(be(this,xc,G(this,et).state),be(this,xu,this.options),G(this,xc).data!==void 0&&be(this,vu,G(this,et)),Wg(r,t))return;be(this,fr,r);const a=()=>{if(!t)return!0;const{notifyOnChangeProps:n}=this.options,i=typeof n=="function"?n():n;if(i==="all"||!i&&!G(this,yu).size)return!0;const o=new Set(i??G(this,yu));return this.options.throwOnError&&o.add("error"),Object.keys(G(this,fr)).some(l=>{const c=l;return G(this,fr)[c]!==t[c]&&o.has(c)})};We(this,mt,tI).call(this,{listeners:a()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&We(this,mt,kN).call(this)}},Pr=new WeakMap,et=new WeakMap,Bf=new WeakMap,fr=new WeakMap,xc=new WeakMap,xu=new WeakMap,Uo=new WeakMap,qo=new WeakMap,zf=new WeakMap,gu=new WeakMap,vu=new WeakMap,gc=new WeakMap,vc=new WeakMap,Vo=new WeakMap,yu=new WeakMap,mt=new WeakSet,nh=function(t){We(this,mt,AN).call(this);let r=G(this,et).fetch(this.options,t);return t!=null&&t.throwOnError||(r=r.catch(xr)),r},SN=function(){We(this,mt,PN).call(this);const t=nl(this.options.staleTime,G(this,et));if(Mc||G(this,fr).isStale||!bN(t))return;const a=WR(G(this,fr).dataUpdatedAt,t)+1;be(this,gc,setTimeout(()=>{G(this,fr).isStale||this.updateResult()},a))},_N=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(G(this,et)):this.options.refetchInterval)??!1},CN=function(t){We(this,mt,EN).call(this),be(this,Vo,t),!(Mc||Ca(this.options.enabled,G(this,et))===!1||!bN(G(this,Vo))||G(this,Vo)===0)&&be(this,vc,setInterval(()=>{(this.options.refetchIntervalInBackground||IS.isFocused())&&We(this,mt,nh).call(this)},G(this,Vo)))},kN=function(){We(this,mt,SN).call(this),We(this,mt,CN).call(this,We(this,mt,_N).call(this))},PN=function(){G(this,gc)&&(clearTimeout(G(this,gc)),be(this,gc,void 0))},EN=function(){G(this,vc)&&(clearInterval(G(this,vc)),be(this,vc,void 0))},AN=function(){const t=G(this,Pr).getQueryCache().build(G(this,Pr),this.options);if(t===G(this,et))return;const r=G(this,et);be(this,et,t),be(this,Bf,t.state),this.hasListeners()&&(r==null||r.removeObserver(this),t.addObserver(this))},tI=function(t){Ns.batch(()=>{t.listeners&&this.listeners.forEach(r=>{r(G(this,fr))}),G(this,Pr).getQueryCache().notify({query:G(this,et),type:"observerResultsUpdated"})})},g5);function yX(e,t){return Ca(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function gE(e,t){return yX(e,t)||e.state.data!==void 0&&TN(e,t,t.refetchOnMount)}function TN(e,t,r){if(Ca(t.enabled,e)!==!1&&nl(t.staleTime,e)!=="static"){const a=typeof r=="function"?r(e):r;return a==="always"||a!==!1&&FS(e,t)}return!1}function vE(e,t,r,a){return(e!==t||Ca(a.enabled,e)===!1)&&(!r.suspense||e.state.status!=="error")&&FS(e,r)}function FS(e,t){return Ca(t.enabled,e)!==!1&&e.isStaleByTime(nl(t.staleTime,e))}function bX(e,t){return!Wg(e.getCurrentResult(),t)}var Wo,Ho,Er,Si,Ri,ig,MN,v5,jX=(v5=class extends nm{constructor(r,a){super();Ae(this,Ri);Ae(this,Wo);Ae(this,Ho);Ae(this,Er);Ae(this,Si);be(this,Wo,r),this.setOptions(a),this.bindMethods(),We(this,Ri,ig).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(r){var n;const a=this.options;this.options=G(this,Wo).defaultMutationOptions(r),Wg(this.options,a)||G(this,Wo).getMutationCache().notify({type:"observerOptionsUpdated",mutation:G(this,Er),observer:this}),a!=null&&a.mutationKey&&this.options.mutationKey&&Oc(a.mutationKey)!==Oc(this.options.mutationKey)?this.reset():((n=G(this,Er))==null?void 0:n.state.status)==="pending"&&G(this,Er).setOptions(this.options)}onUnsubscribe(){var r;this.hasListeners()||(r=G(this,Er))==null||r.removeObserver(this)}onMutationUpdate(r){We(this,Ri,ig).call(this),We(this,Ri,MN).call(this,r)}getCurrentResult(){return G(this,Ho)}reset(){var r;(r=G(this,Er))==null||r.removeObserver(this),be(this,Er,void 0),We(this,Ri,ig).call(this),We(this,Ri,MN).call(this)}mutate(r,a){var n;return be(this,Si,a),(n=G(this,Er))==null||n.removeObserver(this),be(this,Er,G(this,Wo).getMutationCache().build(G(this,Wo),this.options)),G(this,Er).addObserver(this),G(this,Er).execute(r)}},Wo=new WeakMap,Ho=new WeakMap,Er=new WeakMap,Si=new WeakMap,Ri=new WeakSet,ig=function(){var a;const r=((a=G(this,Er))==null?void 0:a.state)??eI();be(this,Ho,{...r,isPending:r.status==="pending",isSuccess:r.status==="success",isError:r.status==="error",isIdle:r.status==="idle",mutate:this.mutate,reset:this.reset})},MN=function(r){Ns.batch(()=>{var a,n,i,o,l,c,d,u;if(G(this,Si)&&this.hasListeners()){const m=G(this,Ho).variables,h=G(this,Ho).context;(r==null?void 0:r.type)==="success"?((n=(a=G(this,Si)).onSuccess)==null||n.call(a,r.data,m,h),(o=(i=G(this,Si)).onSettled)==null||o.call(i,r.data,null,m,h)):(r==null?void 0:r.type)==="error"&&((c=(l=G(this,Si)).onError)==null||c.call(l,r.error,m,h),(u=(d=G(this,Si)).onSettled)==null||u.call(d,void 0,r.error,m,h))}this.listeners.forEach(m=>{m(G(this,Ho))})})},v5),sI=p.createContext(void 0),kl=e=>{const t=p.useContext(sI);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},wX=({client:e,children:t})=>(p.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),s.jsx(sI.Provider,{value:e,children:t})),rI=p.createContext(!1),NX=()=>p.useContext(rI);rI.Provider;function SX(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var _X=p.createContext(SX()),CX=()=>p.useContext(_X),kX=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},PX=e=>{p.useEffect(()=>{e.clearReset()},[e])},EX=({result:e,errorResetBoundary:t,throwOnError:r,query:a,suspense:n})=>e.isError&&!t.isReset()&&!e.isFetching&&a&&(n&&e.data===void 0||GR(r,[e.error,a])),AX=e=>{if(e.suspense){const t=a=>a==="static"?a:Math.max(a??1e3,1e3),r=e.staleTime;e.staleTime=typeof r=="function"?(...a)=>t(r(...a)):t(r),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},TX=(e,t)=>e.isLoading&&e.isFetching&&!t,MX=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,yE=(e,t,r)=>t.fetchOptimistic(e).catch(()=>{r.clearReset()});function OX(e,t,r){var m,h,f,g,x;const a=NX(),n=CX(),i=kl(),o=i.defaultQueryOptions(e);(h=(m=i.getDefaultOptions().queries)==null?void 0:m._experimental_beforeQuery)==null||h.call(m,o),o._optimisticResults=a?"isRestoring":"optimistic",AX(o),kX(o,n),PX(n);const l=!i.getQueryCache().get(o.queryHash),[c]=p.useState(()=>new t(i,o)),d=c.getOptimisticResult(o),u=!a&&e.subscribed!==!1;if(p.useSyncExternalStore(p.useCallback(y=>{const v=u?c.subscribe(Ns.batchCalls(y)):xr;return c.updateResult(),v},[c,u]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),p.useEffect(()=>{c.setOptions(o)},[o,c]),MX(o,d))throw yE(o,c,n);if(EX({result:d,errorResetBoundary:n,throwOnError:o.throwOnError,query:i.getQueryCache().get(o.queryHash),suspense:o.suspense}))throw d.error;if((g=(f=i.getDefaultOptions().queries)==null?void 0:f._experimental_afterQuery)==null||g.call(f,o,d),o.experimental_prefetchInRender&&!Mc&&TX(d,a)){const y=l?yE(o,c,n):(x=i.getQueryCache().get(o.queryHash))==null?void 0:x.promise;y==null||y.catch(xr).finally(()=>{c.updateResult()})}return o.notifyOnChangeProps?d:c.trackResult(d)}function Sn(e,t){return OX(e,vX)}function bn(e,t){const r=kl(),[a]=p.useState(()=>new jX(r,e));p.useEffect(()=>{a.setOptions(e)},[a,e]);const n=p.useSyncExternalStore(p.useCallback(o=>a.subscribe(Ns.batchCalls(o)),[a]),()=>a.getCurrentResult(),()=>a.getCurrentResult()),i=p.useCallback((o,l)=>{a.mutate(o,l).catch(xr)},[a]);if(n.error&&GR(a.options.throwOnError,[n.error]))throw n.error;return{...n,mutate:i,mutateAsync:n.mutate}}const DX="modulepreload",RX=function(e){return"/"+e},bE={},Gf=function(t,r,a){let n=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));n=Promise.allSettled(r.map(c=>{if(c=RX(c),c in bE)return;bE[c]=!0;const d=c.endsWith(".css"),u=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${u}`))return;const m=document.createElement("link");if(m.rel=d?"stylesheet":DX,d||(m.as="script"),m.crossOrigin="",m.href=c,l&&m.setAttribute("nonce",l),document.head.appendChild(m),d)return new Promise((h,f)=>{m.addEventListener("load",h),m.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${c}`)))})}))}function i(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return n.then(o=>{for(const l of o||[])l.status==="rejected"&&i(l.reason);return t().catch(i)})},IX=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Gf(async()=>{const{default:a}=await Promise.resolve().then(()=>im);return{default:a}},void 0).then(({default:a})=>a(...r)):t=fetch,(...r)=>t(...r)};class LS extends Error{constructor(t,r="FunctionsError",a){super(t),this.name=r,this.context=a}}class FX extends LS{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class jE extends LS{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class wE extends LS{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var ON;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(ON||(ON={}));var LX=function(e,t,r,a){function n(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(u){try{d(a.next(u))}catch(m){o(m)}}function c(u){try{d(a.throw(u))}catch(m){o(m)}}function d(u){u.done?i(u.value):n(u.value).then(l,c)}d((a=a.apply(e,t||[])).next())})};class $X{constructor(t,{headers:r={},customFetch:a,region:n=ON.Any}={}){this.url=t,this.headers=r,this.region=n,this.fetch=IX(a)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,r={}){var a;return LX(this,void 0,void 0,function*(){try{const{headers:n,method:i,body:o}=r;let l={},{region:c}=r;c||(c=this.region);const d=new URL(`${this.url}/${t}`);c&&c!=="any"&&(l["x-region"]=c,d.searchParams.set("forceFunctionRegion",c));let u;o&&(n&&!Object.prototype.hasOwnProperty.call(n,"Content-Type")||!n)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(l["Content-Type"]="application/octet-stream",u=o):typeof o=="string"?(l["Content-Type"]="text/plain",u=o):typeof FormData<"u"&&o instanceof FormData?u=o:(l["Content-Type"]="application/json",u=JSON.stringify(o)));const m=yield this.fetch(d.toString(),{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},l),this.headers),n),body:u}).catch(x=>{throw new FX(x)}),h=m.headers.get("x-relay-error");if(h&&h==="true")throw new jE(m);if(!m.ok)throw new wE(m);let f=((a=m.headers.get("Content-Type"))!==null&&a!==void 0?a:"text/plain").split(";")[0].trim(),g;return f==="application/json"?g=yield m.json():f==="application/octet-stream"?g=yield m.blob():f==="text/event-stream"?g=m:f==="multipart/form-data"?g=yield m.formData():g=yield m.text(),{data:g,error:null,response:m}}catch(n){return{data:null,error:n,response:n instanceof wE||n instanceof jE?n.context:void 0}}})}}var Dr={},$S={},v0={},Yf={},y0={},b0={},BX=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},ku=BX();const zX=ku.fetch,aI=ku.fetch.bind(ku),nI=ku.Headers,UX=ku.Request,qX=ku.Response,im=Object.freeze(Object.defineProperty({__proto__:null,Headers:nI,Request:UX,Response:qX,default:aI,fetch:zX},Symbol.toStringTag,{value:"Module"})),VX=CH(im);var j0={};Object.defineProperty(j0,"__esModule",{value:!0});let WX=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};j0.default=WX;var iI=La&&La.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(b0,"__esModule",{value:!0});const HX=iI(VX),KX=iI(j0);let GX=class{constructor(t){this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=t.headers,this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=t.shouldThrowOnError,this.signal=t.signal,this.isMaybeSingle=t.isMaybeSingle,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=HX.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,r){return this.headers=Object.assign({},this.headers),this.headers[t]=r,this}then(t,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const a=this.fetch;let n=a(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var o,l,c;let d=null,u=null,m=null,h=i.status,f=i.statusText;if(i.ok){if(this.method!=="HEAD"){const v=await i.text();v===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?u=v:u=JSON.parse(v))}const x=(o=this.headers.Prefer)===null||o===void 0?void 0:o.match(/count=(exact|planned|estimated)/),y=(l=i.headers.get("content-range"))===null||l===void 0?void 0:l.split("/");x&&y&&y.length>1&&(m=parseInt(y[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(u)&&(u.length>1?(d={code:"PGRST116",details:`Results contain ${u.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},u=null,m=null,h=406,f="Not Acceptable"):u.length===1?u=u[0]:u=null)}else{const x=await i.text();try{d=JSON.parse(x),Array.isArray(d)&&i.status===404&&(u=[],d=null,h=200,f="OK")}catch{i.status===404&&x===""?(h=204,f="No Content"):d={message:x}}if(d&&this.isMaybeSingle&&(!((c=d==null?void 0:d.details)===null||c===void 0)&&c.includes("0 rows"))&&(d=null,h=200,f="OK"),d&&this.shouldThrowOnError)throw new KX.default(d)}return{error:d,data:u,count:m,status:h,statusText:f}});return this.shouldThrowOnError||(n=n.catch(i=>{var o,l,c;return{error:{message:`${(o=i==null?void 0:i.name)!==null&&o!==void 0?o:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(l=i==null?void 0:i.stack)!==null&&l!==void 0?l:""}`,hint:"",code:`${(c=i==null?void 0:i.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),n.then(t,r)}returns(){return this}overrideTypes(){return this}};b0.default=GX;var YX=La&&La.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(y0,"__esModule",{value:!0});const XX=YX(b0);let QX=class extends XX.default{select(t){let r=!1;const a=(t??"*").split("").map(n=>/\s/.test(n)&&!r?"":(n==='"'&&(r=!r),n)).join("");return this.url.searchParams.set("select",a),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(t,{ascending:r=!0,nullsFirst:a,foreignTable:n,referencedTable:i=n}={}){const o=i?`${i}.order`:"order",l=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${l?`${l},`:""}${t}.${r?"asc":"desc"}${a===void 0?"":a?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:r,referencedTable:a=r}={}){const n=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(n,`${t}`),this}range(t,r,{foreignTable:a,referencedTable:n=a}={}){const i=typeof n>"u"?"offset":`${n}.offset`,o=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(i,`${t}`),this.url.searchParams.set(o,`${r-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:t=!1,verbose:r=!1,settings:a=!1,buffers:n=!1,wal:i=!1,format:o="text"}={}){var l;const c=[t?"analyze":null,r?"verbose":null,a?"settings":null,n?"buffers":null,i?"wal":null].filter(Boolean).join("|"),d=(l=this.headers.Accept)!==null&&l!==void 0?l:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${o}; for="${d}"; options=${c};`,o==="json"?this:this}rollback(){var t;return((t=this.headers.Prefer)!==null&&t!==void 0?t:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};y0.default=QX;var JX=La&&La.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Yf,"__esModule",{value:!0});const ZX=JX(y0);let eQ=class extends ZX.default{eq(t,r){return this.url.searchParams.append(t,`eq.${r}`),this}neq(t,r){return this.url.searchParams.append(t,`neq.${r}`),this}gt(t,r){return this.url.searchParams.append(t,`gt.${r}`),this}gte(t,r){return this.url.searchParams.append(t,`gte.${r}`),this}lt(t,r){return this.url.searchParams.append(t,`lt.${r}`),this}lte(t,r){return this.url.searchParams.append(t,`lte.${r}`),this}like(t,r){return this.url.searchParams.append(t,`like.${r}`),this}likeAllOf(t,r){return this.url.searchParams.append(t,`like(all).{${r.join(",")}}`),this}likeAnyOf(t,r){return this.url.searchParams.append(t,`like(any).{${r.join(",")}}`),this}ilike(t,r){return this.url.searchParams.append(t,`ilike.${r}`),this}ilikeAllOf(t,r){return this.url.searchParams.append(t,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(t,r){return this.url.searchParams.append(t,`ilike(any).{${r.join(",")}}`),this}is(t,r){return this.url.searchParams.append(t,`is.${r}`),this}in(t,r){const a=Array.from(new Set(r)).map(n=>typeof n=="string"&&new RegExp("[,()]").test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(t,`in.(${a})`),this}contains(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cs.{${r.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(r)}`),this}containedBy(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cd.{${r.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(r)}`),this}rangeGt(t,r){return this.url.searchParams.append(t,`sr.${r}`),this}rangeGte(t,r){return this.url.searchParams.append(t,`nxl.${r}`),this}rangeLt(t,r){return this.url.searchParams.append(t,`sl.${r}`),this}rangeLte(t,r){return this.url.searchParams.append(t,`nxr.${r}`),this}rangeAdjacent(t,r){return this.url.searchParams.append(t,`adj.${r}`),this}overlaps(t,r){return typeof r=="string"?this.url.searchParams.append(t,`ov.${r}`):this.url.searchParams.append(t,`ov.{${r.join(",")}}`),this}textSearch(t,r,{config:a,type:n}={}){let i="";n==="plain"?i="pl":n==="phrase"?i="ph":n==="websearch"&&(i="w");const o=a===void 0?"":`(${a})`;return this.url.searchParams.append(t,`${i}fts${o}.${r}`),this}match(t){return Object.entries(t).forEach(([r,a])=>{this.url.searchParams.append(r,`eq.${a}`)}),this}not(t,r,a){return this.url.searchParams.append(t,`not.${r}.${a}`),this}or(t,{foreignTable:r,referencedTable:a=r}={}){const n=a?`${a}.or`:"or";return this.url.searchParams.append(n,`(${t})`),this}filter(t,r,a){return this.url.searchParams.append(t,`${r}.${a}`),this}};Yf.default=eQ;var tQ=La&&La.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(v0,"__esModule",{value:!0});const qm=tQ(Yf);let sQ=class{constructor(t,{headers:r={},schema:a,fetch:n}){this.url=t,this.headers=r,this.schema=a,this.fetch=n}select(t,{head:r=!1,count:a}={}){const n=r?"HEAD":"GET";let i=!1;const o=(t??"*").split("").map(l=>/\s/.test(l)&&!i?"":(l==='"'&&(i=!i),l)).join("");return this.url.searchParams.set("select",o),a&&(this.headers.Prefer=`count=${a}`),new qm.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(t,{count:r,defaultToNull:a=!0}={}){const n="POST",i=[];if(this.headers.Prefer&&i.push(this.headers.Prefer),r&&i.push(`count=${r}`),a||i.push("missing=default"),this.headers.Prefer=i.join(","),Array.isArray(t)){const o=t.reduce((l,c)=>l.concat(Object.keys(c)),[]);if(o.length>0){const l=[...new Set(o)].map(c=>`"${c}"`);this.url.searchParams.set("columns",l.join(","))}}return new qm.default({method:n,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}upsert(t,{onConflict:r,ignoreDuplicates:a=!1,count:n,defaultToNull:i=!0}={}){const o="POST",l=[`resolution=${a?"ignore":"merge"}-duplicates`];if(r!==void 0&&this.url.searchParams.set("on_conflict",r),this.headers.Prefer&&l.push(this.headers.Prefer),n&&l.push(`count=${n}`),i||l.push("missing=default"),this.headers.Prefer=l.join(","),Array.isArray(t)){const c=t.reduce((d,u)=>d.concat(Object.keys(u)),[]);if(c.length>0){const d=[...new Set(c)].map(u=>`"${u}"`);this.url.searchParams.set("columns",d.join(","))}}return new qm.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}update(t,{count:r}={}){const a="PATCH",n=[];return this.headers.Prefer&&n.push(this.headers.Prefer),r&&n.push(`count=${r}`),this.headers.Prefer=n.join(","),new qm.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}delete({count:t}={}){const r="DELETE",a=[];return t&&a.push(`count=${t}`),this.headers.Prefer&&a.unshift(this.headers.Prefer),this.headers.Prefer=a.join(","),new qm.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};v0.default=sQ;var w0={},N0={};Object.defineProperty(N0,"__esModule",{value:!0});N0.version=void 0;N0.version="0.0.0-automated";Object.defineProperty(w0,"__esModule",{value:!0});w0.DEFAULT_HEADERS=void 0;const rQ=N0;w0.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${rQ.version}`};var oI=La&&La.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty($S,"__esModule",{value:!0});const aQ=oI(v0),nQ=oI(Yf),iQ=w0;let oQ=class lI{constructor(t,{headers:r={},schema:a,fetch:n}={}){this.url=t,this.headers=Object.assign(Object.assign({},iQ.DEFAULT_HEADERS),r),this.schemaName=a,this.fetch=n}from(t){const r=new URL(`${this.url}/${t}`);return new aQ.default(r,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new lI(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,r={},{head:a=!1,get:n=!1,count:i}={}){let o;const l=new URL(`${this.url}/rpc/${t}`);let c;a||n?(o=a?"HEAD":"GET",Object.entries(r).filter(([u,m])=>m!==void 0).map(([u,m])=>[u,Array.isArray(m)?`{${m.join(",")}}`:`${m}`]).forEach(([u,m])=>{l.searchParams.append(u,m)})):(o="POST",c=r);const d=Object.assign({},this.headers);return i&&(d.Prefer=`count=${i}`),new nQ.default({method:o,url:l,headers:d,schema:this.schemaName,body:c,fetch:this.fetch,allowEmpty:!1})}};$S.default=oQ;var om=La&&La.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Dr,"__esModule",{value:!0});Dr.PostgrestError=Dr.PostgrestBuilder=Dr.PostgrestTransformBuilder=Dr.PostgrestFilterBuilder=Dr.PostgrestQueryBuilder=Dr.PostgrestClient=void 0;const cI=om($S);Dr.PostgrestClient=cI.default;const dI=om(v0);Dr.PostgrestQueryBuilder=dI.default;const uI=om(Yf);Dr.PostgrestFilterBuilder=uI.default;const mI=om(y0);Dr.PostgrestTransformBuilder=mI.default;const hI=om(b0);Dr.PostgrestBuilder=hI.default;const fI=om(j0);Dr.PostgrestError=fI.default;var lQ=Dr.default={PostgrestClient:cI.default,PostgrestQueryBuilder:dI.default,PostgrestFilterBuilder:uI.default,PostgrestTransformBuilder:mI.default,PostgrestBuilder:hI.default,PostgrestError:fI.default};const{PostgrestClient:cQ,PostgrestQueryBuilder:$Oe,PostgrestFilterBuilder:BOe,PostgrestTransformBuilder:zOe,PostgrestBuilder:UOe,PostgrestError:qOe}=lQ;function dQ(){if(typeof WebSocket<"u")return WebSocket;if(typeof global.WebSocket<"u")return global.WebSocket;if(typeof window.WebSocket<"u")return window.WebSocket;if(typeof self.WebSocket<"u")return self.WebSocket;throw new Error("`WebSocket` is not supported in this environment")}const uQ=dQ(),mQ="2.11.15",hQ=`realtime-js/${mQ}`,fQ="1.0.0",pI=1e4,pQ=1e3;var wh;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(wh||(wh={}));var Qs;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Qs||(Qs={}));var un;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(un||(un={}));var DN;(function(e){e.websocket="websocket"})(DN||(DN={}));var Jl;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Jl||(Jl={}));class xQ{constructor(){this.HEADER_LENGTH=1}decode(t,r){return t.constructor===ArrayBuffer?r(this._binaryDecode(t)):r(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const r=new DataView(t),a=new TextDecoder;return this._decodeBroadcast(t,r,a)}_decodeBroadcast(t,r,a){const n=r.getUint8(1),i=r.getUint8(2);let o=this.HEADER_LENGTH+2;const l=a.decode(t.slice(o,o+n));o=o+n;const c=a.decode(t.slice(o,o+i));o=o+i;const d=JSON.parse(a.decode(t.slice(o,t.byteLength)));return{ref:null,topic:l,event:c,payload:d}}}let xI=class{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}};var Et;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(Et||(Et={}));const NE=(e,t,r={})=>{var a;const n=(a=r.skipTypes)!==null&&a!==void 0?a:[];return Object.keys(t).reduce((i,o)=>(i[o]=gQ(o,e,t,n),i),{})},gQ=(e,t,r,a)=>{const n=t.find(l=>l.name===e),i=n==null?void 0:n.type,o=r[e];return i&&!a.includes(i)?gI(i,o):RN(o)},gI=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return jQ(t,r)}switch(e){case Et.bool:return vQ(t);case Et.float4:case Et.float8:case Et.int2:case Et.int4:case Et.int8:case Et.numeric:case Et.oid:return yQ(t);case Et.json:case Et.jsonb:return bQ(t);case Et.timestamp:return wQ(t);case Et.abstime:case Et.date:case Et.daterange:case Et.int4range:case Et.int8range:case Et.money:case Et.reltime:case Et.text:case Et.time:case Et.timestamptz:case Et.timetz:case Et.tsrange:case Et.tstzrange:return RN(t);default:return RN(t)}},RN=e=>e,vQ=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},yQ=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},bQ=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},jQ=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,a=e[r];if(e[0]==="{"&&a==="}"){let i;const o=e.slice(1,r);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(l=>gI(t,l))}return e},wQ=e=>typeof e=="string"?e.replace(" ","T"):e,vI=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class rj{constructor(t,r,a={},n=pI){this.channel=t,this.event=r,this.payload=a,this.timeout=n,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var a;return this._hasReceived(t)&&r((a=this.receivedResp)===null||a===void 0?void 0:a.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(a=>a.status===t).forEach(a=>a.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var SE;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(SE||(SE={}));class Nh{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const a=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(a.state,{},n=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Nh.syncState(this.state,n,i,o),this.pendingDiffs.forEach(c=>{this.state=Nh.syncDiff(this.state,c,i,o)}),this.pendingDiffs=[],l()}),this.channel._on(a.diff,{},n=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(n):(this.state=Nh.syncDiff(this.state,n,i,o),l())}),this.onJoin((n,i,o)=>{this.channel._trigger("presence",{event:"join",key:n,currentPresences:i,newPresences:o})}),this.onLeave((n,i,o)=>{this.channel._trigger("presence",{event:"leave",key:n,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,a,n){const i=this.cloneDeep(t),o=this.transformState(r),l={},c={};return this.map(i,(d,u)=>{o[d]||(c[d]=u)}),this.map(o,(d,u)=>{const m=i[d];if(m){const h=u.map(y=>y.presence_ref),f=m.map(y=>y.presence_ref),g=u.filter(y=>f.indexOf(y.presence_ref)<0),x=m.filter(y=>h.indexOf(y.presence_ref)<0);g.length>0&&(l[d]=g),x.length>0&&(c[d]=x)}else l[d]=u}),this.syncDiff(i,{joins:l,leaves:c},a,n)}static syncDiff(t,r,a,n){const{joins:i,leaves:o}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return a||(a=()=>{}),n||(n=()=>{}),this.map(i,(l,c)=>{var d;const u=(d=t[l])!==null&&d!==void 0?d:[];if(t[l]=this.cloneDeep(c),u.length>0){const m=t[l].map(f=>f.presence_ref),h=u.filter(f=>m.indexOf(f.presence_ref)<0);t[l].unshift(...h)}a(l,u,c)}),this.map(o,(l,c)=>{let d=t[l];if(!d)return;const u=c.map(m=>m.presence_ref);d=d.filter(m=>u.indexOf(m.presence_ref)<0),t[l]=d,n(l,d,c),d.length===0&&delete t[l]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(a=>r(a,t[a]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,a)=>{const n=t[a];return"metas"in n?r[a]=n.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[a]=n,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var _E;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(_E||(_E={}));var CE;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(CE||(CE={}));var bi;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(bi||(bi={}));class BS{constructor(t,r={config:{}},a){this.topic=t,this.params=r,this.socket=a,this.bindings={},this.state=Qs.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new rj(this,un.join,this.params,this.timeout),this.rejoinTimer=new xI(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Qs.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(n=>n.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Qs.closed,this.socket._remove(this)}),this._onError(n=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,n),this.state=Qs.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Qs.errored,this.rejoinTimer.scheduleTimeout())}),this._on(un.reply,{},(n,i)=>{this._trigger(this._replyEventName(i),n)}),this.presence=new Nh(this),this.broadcastEndpointURL=vI(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,r=this.timeout){var a,n;if(this.socket.isConnected()||this.socket.connect(),this.state==Qs.closed){const{config:{broadcast:i,presence:o,private:l}}=this.params;this._onError(u=>t==null?void 0:t(bi.CHANNEL_ERROR,u)),this._onClose(()=>t==null?void 0:t(bi.CLOSED));const c={},d={broadcast:i,presence:o,postgres_changes:(n=(a=this.bindings.postgres_changes)===null||a===void 0?void 0:a.map(u=>u.filter))!==null&&n!==void 0?n:[],private:l};this.socket.accessTokenValue&&(c.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:d},c)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:u})=>{var m;if(this.socket.setAuth(),u===void 0){t==null||t(bi.SUBSCRIBED);return}else{const h=this.bindings.postgres_changes,f=(m=h==null?void 0:h.length)!==null&&m!==void 0?m:0,g=[];for(let x=0;x<f;x++){const y=h[x],{filter:{event:v,schema:b,table:j,filter:N}}=y,w=u&&u[x];if(w&&w.event===v&&w.schema===b&&w.table===j&&w.filter===N)g.push(Object.assign(Object.assign({},y),{id:w.id}));else{this.unsubscribe(),this.state=Qs.errored,t==null||t(bi.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=g,t&&t(bi.SUBSCRIBED);return}}).receive("error",u=>{this.state=Qs.errored,t==null||t(bi.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(u).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(bi.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,a){return this._on(t,r,a)}async send(t,r={}){var a,n;if(!this._canPush()&&t.type==="broadcast"){const{event:i,payload:o}=t,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const d=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(a=r.timeout)!==null&&a!==void 0?a:this.timeout);return await((n=d.body)===null||n===void 0?void 0:n.cancel()),d.ok?"ok":"error"}catch(d){return d.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,l,c;const d=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(l=(o=this.params)===null||o===void 0?void 0:o.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&i("ok"),d.receive("ok",()=>i("ok")),d.receive("error",()=>i("error")),d.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Qs.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(un.close,"leave",this._joinRef())};this.joinPush.destroy();let a=null;return new Promise(n=>{a=new rj(this,un.leave,{},t),a.receive("ok",()=>{r(),n("ok")}).receive("timeout",()=>{r(),n("timed out")}).receive("error",()=>{n("error")}),a.send(),this._canPush()||a.trigger("ok",{})}).finally(()=>{a==null||a.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}async _fetchWithTimeout(t,r,a){const n=new AbortController,i=setTimeout(()=>n.abort(),a),o=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:n.signal}));return clearTimeout(i),o}_push(t,r,a=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let n=new rj(this,t,r,a);return this._canPush()?n.send():(n.startTimeout(),this.pushBuffer.push(n)),n}_onMessage(t,r,a){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,a){var n,i;const o=t.toLocaleLowerCase(),{close:l,error:c,leave:d,join:u}=un;if(a&&[l,c,d,u].indexOf(o)>=0&&a!==this._joinRef())return;let h=this._onMessage(o,r,a);if(r&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(n=this.bindings.postgres_changes)===null||n===void 0||n.filter(f=>{var g,x,y;return((g=f.filter)===null||g===void 0?void 0:g.event)==="*"||((y=(x=f.filter)===null||x===void 0?void 0:x.event)===null||y===void 0?void 0:y.toLocaleLowerCase())===o}).map(f=>f.callback(h,a)):(i=this.bindings[o])===null||i===void 0||i.filter(f=>{var g,x,y,v,b,j;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in f){const N=f.id,w=(g=f.filter)===null||g===void 0?void 0:g.event;return N&&((x=r.ids)===null||x===void 0?void 0:x.includes(N))&&(w==="*"||(w==null?void 0:w.toLocaleLowerCase())===((y=r.data)===null||y===void 0?void 0:y.type.toLocaleLowerCase()))}else{const N=(b=(v=f==null?void 0:f.filter)===null||v===void 0?void 0:v.event)===null||b===void 0?void 0:b.toLocaleLowerCase();return N==="*"||N===((j=r==null?void 0:r.event)===null||j===void 0?void 0:j.toLocaleLowerCase())}else return f.type.toLocaleLowerCase()===o}).map(f=>{if(typeof h=="object"&&"ids"in h){const g=h.data,{schema:x,table:y,commit_timestamp:v,type:b,errors:j}=g;h=Object.assign(Object.assign({},{schema:x,table:y,commit_timestamp:v,eventType:b,new:{},old:{},errors:j}),this._getPayloadRecords(g))}f.callback(h,a)})}_isClosed(){return this.state===Qs.closed}_isJoined(){return this.state===Qs.joined}_isJoining(){return this.state===Qs.joining}_isLeaving(){return this.state===Qs.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,a){const n=t.toLocaleLowerCase(),i={type:n,filter:r,callback:a};return this.bindings[n]?this.bindings[n].push(i):this.bindings[n]=[i],this}_off(t,r){const a=t.toLocaleLowerCase();return this.bindings[a]=this.bindings[a].filter(n=>{var i;return!(((i=n.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===a&&BS.isEqual(n.filter,r))}),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const a in t)if(t[a]!==r[a])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(un.close,{},t)}_onError(t){this._on(un.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Qs.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=NE(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=NE(t.columns,t.old_record)),r}}const kE=()=>{},NQ=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class SQ{constructor(t,r){var a;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=pI,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=kE,this.ref=0,this.logger=kE,this.conn=null,this.sendBuffer=[],this.serializer=new xQ,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=i=>{let o;return i?o=i:typeof fetch>"u"?o=(...l)=>Gf(async()=>{const{default:c}=await Promise.resolve().then(()=>im);return{default:c}},void 0).then(({default:c})=>c(...l)):o=fetch,(...l)=>o(...l)},this.endPoint=`${t}/${DN.websocket}`,this.httpEndpoint=vI(t),r!=null&&r.transport?this.transport=r.transport:this.transport=null,r!=null&&r.params&&(this.params=r.params),r!=null&&r.timeout&&(this.timeout=r.timeout),r!=null&&r.logger&&(this.logger=r.logger),(r!=null&&r.logLevel||r!=null&&r.log_level)&&(this.logLevel=r.logLevel||r.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),r!=null&&r.heartbeatIntervalMs&&(this.heartbeatIntervalMs=r.heartbeatIntervalMs);const n=(a=r==null?void 0:r.params)===null||a===void 0?void 0:a.apikey;if(n&&(this.accessTokenValue=n,this.apiKey=n),this.reconnectAfterMs=r!=null&&r.reconnectAfterMs?r.reconnectAfterMs:i=>[1e3,2e3,5e3,1e4][i-1]||1e4,this.encode=r!=null&&r.encode?r.encode:(i,o)=>o(JSON.stringify(i)),this.decode=r!=null&&r.decode?r.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new xI(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(r==null?void 0:r.fetch),r!=null&&r.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(r==null?void 0:r.worker)||!1,this.workerUrl=r==null?void 0:r.workerUrl}this.accessToken=(r==null?void 0:r.accessToken)||null}connect(){if(!this.conn){if(this.transport||(this.transport=uQ),!this.transport)throw new Error("No transport provided");this.conn=new this.transport(this.endpointURL()),this.setupConnection()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:fQ}))}disconnect(t,r){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,r??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(a=>a.teardown()))}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,a){this.logger(t,r,a)}connectionState(){switch(this.conn&&this.conn.readyState){case wh.connecting:return Jl.Connecting;case wh.open:return Jl.Open;case wh.closing:return Jl.Closing;default:return Jl.Closed}}isConnected(){return this.connectionState()===Jl.Open}channel(t,r={config:{}}){const a=`realtime:${t}`,n=this.getChannels().find(i=>i.topic===a);if(n)return n;{const i=new BS(`realtime:${t}`,r,this);return this.channels.push(i),i}}push(t){const{topic:r,event:a,payload:n,ref:i}=t,o=()=>{this.encode(t,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${r} ${a} (${i})`,n),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){let r=t||this.accessToken&&await this.accessToken()||this.accessTokenValue;this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(a=>{const n={access_token:r,version:hQ};r&&a.updateJoinPayload(n),a.joinedOnce&&a._isJoined()&&a._push(un.access_token,{access_token:r})}))}async sendHeartbeat(){var t;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(t=this.conn)===null||t===void 0||t.close(pQ,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),await this.setAuth()}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(a=>a.topic===t&&(a._isJoined()||a._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,r=>{let{topic:a,event:n,payload:i,ref:o}=r;a==="phoenix"&&n==="phx_reply"&&this.heartbeatCallback(r.payload.status=="ok"?"ok":"error"),o&&o===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${i.status||""} ${a} ${n} ${o&&"("+o+")"||""}`,i),Array.from(this.channels).filter(l=>l._isMember(a)).forEach(l=>l._trigger(n,i,o)),this.stateChangeCallbacks.message.forEach(l=>l(r))})}_onConnOpen(){this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this.stateChangeCallbacks.open.forEach(t=>t())}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(r=>r(t))}_onConnError(t){this.log("transport",`${t}`),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(r=>r(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(un.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const a=t.match(/\?/)?"&":"?",n=new URLSearchParams(r);return`${t}${a}${n}`}_workerObjectUrl(t){let r;if(t)r=t;else{const a=new Blob([NQ],{type:"application/javascript"});r=URL.createObjectURL(a)}return r}}class zS extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function As(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class _Q extends zS{constructor(t,r,a){super(t),this.name="StorageApiError",this.status=r,this.statusCode=a}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class IN extends zS{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}var CQ=function(e,t,r,a){function n(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(u){try{d(a.next(u))}catch(m){o(m)}}function c(u){try{d(a.throw(u))}catch(m){o(m)}}function d(u){u.done?i(u.value):n(u.value).then(l,c)}d((a=a.apply(e,t||[])).next())})};const yI=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Gf(async()=>{const{default:a}=await Promise.resolve().then(()=>im);return{default:a}},void 0).then(({default:a})=>a(...r)):t=fetch,(...r)=>t(...r)},kQ=()=>CQ(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Gf(()=>Promise.resolve().then(()=>im),void 0)).Response:Response}),FN=e=>{if(Array.isArray(e))return e.map(r=>FN(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,a])=>{const n=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[n]=FN(a)}),t},PQ=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)};var Yc=function(e,t,r,a){function n(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(u){try{d(a.next(u))}catch(m){o(m)}}function c(u){try{d(a.throw(u))}catch(m){o(m)}}function d(u){u.done?i(u.value):n(u.value).then(l,c)}d((a=a.apply(e,t||[])).next())})};const aj=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),EQ=(e,t,r)=>Yc(void 0,void 0,void 0,function*(){const a=yield kQ();e instanceof a&&!(r!=null&&r.noResolveJson)?e.json().then(n=>{const i=e.status||500,o=(n==null?void 0:n.statusCode)||i+"";t(new _Q(aj(n),i,o))}).catch(n=>{t(new IN(aj(n),n))}):t(new IN(aj(e),e))}),AQ=(e,t,r,a)=>{const n={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!a?n:(PQ(a)?(n.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),n.body=JSON.stringify(a)):n.body=a,Object.assign(Object.assign({},n),r))};function Xf(e,t,r,a,n,i){return Yc(this,void 0,void 0,function*(){return new Promise((o,l)=>{e(r,AQ(t,a,n,i)).then(c=>{if(!c.ok)throw c;return a!=null&&a.noResolveJson?c:c.json()}).then(c=>o(c)).catch(c=>EQ(c,l,a))})})}function Kg(e,t,r,a){return Yc(this,void 0,void 0,function*(){return Xf(e,"GET",t,r,a)})}function ji(e,t,r,a,n){return Yc(this,void 0,void 0,function*(){return Xf(e,"POST",t,a,n,r)})}function LN(e,t,r,a,n){return Yc(this,void 0,void 0,function*(){return Xf(e,"PUT",t,a,n,r)})}function TQ(e,t,r,a){return Yc(this,void 0,void 0,function*(){return Xf(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),a)})}function bI(e,t,r,a,n){return Yc(this,void 0,void 0,function*(){return Xf(e,"DELETE",t,a,n,r)})}var kr=function(e,t,r,a){function n(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(u){try{d(a.next(u))}catch(m){o(m)}}function c(u){try{d(a.throw(u))}catch(m){o(m)}}function d(u){u.done?i(u.value):n(u.value).then(l,c)}d((a=a.apply(e,t||[])).next())})};const MQ={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},PE={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class OQ{constructor(t,r={},a,n){this.url=t,this.headers=r,this.bucketId=a,this.fetch=yI(n)}uploadOrUpdate(t,r,a,n){return kr(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},PE),n);let l=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const c=o.metadata;typeof Blob<"u"&&a instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),c&&i.append("metadata",this.encodeMetadata(c)),i.append("",a)):typeof FormData<"u"&&a instanceof FormData?(i=a,i.append("cacheControl",o.cacheControl),c&&i.append("metadata",this.encodeMetadata(c))):(i=a,l["cache-control"]=`max-age=${o.cacheControl}`,l["content-type"]=o.contentType,c&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),n!=null&&n.headers&&(l=Object.assign(Object.assign({},l),n.headers));const d=this._removeEmptyFolders(r),u=this._getFinalPath(d),m=yield(t=="PUT"?LN:ji)(this.fetch,`${this.url}/object/${u}`,i,Object.assign({headers:l},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{data:{path:d,id:m.Id,fullPath:m.Key},error:null}}catch(i){if(As(i))return{data:null,error:i};throw i}})}upload(t,r,a){return kr(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,a)})}uploadToSignedUrl(t,r,a,n){return kr(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(t),o=this._getFinalPath(i),l=new URL(this.url+`/object/upload/sign/${o}`);l.searchParams.set("token",r);try{let c;const d=Object.assign({upsert:PE.upsert},n),u=Object.assign(Object.assign({},this.headers),{"x-upsert":String(d.upsert)});typeof Blob<"u"&&a instanceof Blob?(c=new FormData,c.append("cacheControl",d.cacheControl),c.append("",a)):typeof FormData<"u"&&a instanceof FormData?(c=a,c.append("cacheControl",d.cacheControl)):(c=a,u["cache-control"]=`max-age=${d.cacheControl}`,u["content-type"]=d.contentType);const m=yield LN(this.fetch,l.toString(),c,{headers:u});return{data:{path:i,fullPath:m.Key},error:null}}catch(c){if(As(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(t,r){return kr(this,void 0,void 0,function*(){try{let a=this._getFinalPath(t);const n=Object.assign({},this.headers);r!=null&&r.upsert&&(n["x-upsert"]="true");const i=yield ji(this.fetch,`${this.url}/object/upload/sign/${a}`,{},{headers:n}),o=new URL(this.url+i.url),l=o.searchParams.get("token");if(!l)throw new zS("No token returned by API");return{data:{signedUrl:o.toString(),path:t,token:l},error:null}}catch(a){if(As(a))return{data:null,error:a};throw a}})}update(t,r,a){return kr(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,a)})}move(t,r,a){return kr(this,void 0,void 0,function*(){try{return{data:yield ji(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:a==null?void 0:a.destinationBucket},{headers:this.headers}),error:null}}catch(n){if(As(n))return{data:null,error:n};throw n}})}copy(t,r,a){return kr(this,void 0,void 0,function*(){try{return{data:{path:(yield ji(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:a==null?void 0:a.destinationBucket},{headers:this.headers})).Key},error:null}}catch(n){if(As(n))return{data:null,error:n};throw n}})}createSignedUrl(t,r,a){return kr(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t),i=yield ji(this.fetch,`${this.url}/object/sign/${n}`,Object.assign({expiresIn:r},a!=null&&a.transform?{transform:a.transform}:{}),{headers:this.headers});const o=a!=null&&a.download?`&download=${a.download===!0?"":a.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(n){if(As(n))return{data:null,error:n};throw n}})}createSignedUrls(t,r,a){return kr(this,void 0,void 0,function*(){try{const n=yield ji(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),i=a!=null&&a.download?`&download=${a.download===!0?"":a.download}`:"";return{data:n.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(n){if(As(n))return{data:null,error:n};throw n}})}download(t,r){return kr(this,void 0,void 0,function*(){const n=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),o=i?`?${i}`:"";try{const l=this._getFinalPath(t);return{data:yield(yield Kg(this.fetch,`${this.url}/${n}/${l}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(l){if(As(l))return{data:null,error:l};throw l}})}info(t){return kr(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const a=yield Kg(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:FN(a),error:null}}catch(a){if(As(a))return{data:null,error:a};throw a}})}exists(t){return kr(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield TQ(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(a){if(As(a)&&a instanceof IN){const n=a.originalError;if([400,404].includes(n==null?void 0:n.status))return{data:!1,error:a}}throw a}})}getPublicUrl(t,r){const a=this._getFinalPath(t),n=[],i=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";i!==""&&n.push(i);const l=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});c!==""&&n.push(c);let d=n.join("&");return d!==""&&(d=`?${d}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${a}${d}`)}}}remove(t){return kr(this,void 0,void 0,function*(){try{return{data:yield bI(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(As(r))return{data:null,error:r};throw r}})}list(t,r,a){return kr(this,void 0,void 0,function*(){try{const n=Object.assign(Object.assign(Object.assign({},MQ),r),{prefix:t||""});return{data:yield ji(this.fetch,`${this.url}/object/list/${this.bucketId}`,n,{headers:this.headers},a),error:null}}catch(n){if(As(n))return{data:null,error:n};throw n}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const DQ="2.10.4",RQ={"X-Client-Info":`storage-js/${DQ}`};var ud=function(e,t,r,a){function n(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(u){try{d(a.next(u))}catch(m){o(m)}}function c(u){try{d(a.throw(u))}catch(m){o(m)}}function d(u){u.done?i(u.value):n(u.value).then(l,c)}d((a=a.apply(e,t||[])).next())})};class IQ{constructor(t,r={},a,n){const i=new URL(t);n!=null&&n.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href,this.headers=Object.assign(Object.assign({},RQ),r),this.fetch=yI(a)}listBuckets(){return ud(this,void 0,void 0,function*(){try{return{data:yield Kg(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(As(t))return{data:null,error:t};throw t}})}getBucket(t){return ud(this,void 0,void 0,function*(){try{return{data:yield Kg(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(As(r))return{data:null,error:r};throw r}})}createBucket(t,r={public:!1}){return ud(this,void 0,void 0,function*(){try{return{data:yield ji(this.fetch,`${this.url}/bucket`,{id:t,name:t,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(a){if(As(a))return{data:null,error:a};throw a}})}updateBucket(t,r){return ud(this,void 0,void 0,function*(){try{return{data:yield LN(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(a){if(As(a))return{data:null,error:a};throw a}})}emptyBucket(t){return ud(this,void 0,void 0,function*(){try{return{data:yield ji(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(As(r))return{data:null,error:r};throw r}})}deleteBucket(t){return ud(this,void 0,void 0,function*(){try{return{data:yield bI(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(As(r))return{data:null,error:r};throw r}})}}class FQ extends IQ{constructor(t,r={},a,n){super(t,r,a,n)}from(t){return new OQ(this.url,this.headers,t,this.fetch)}}const LQ="2.53.0";let ih="";typeof Deno<"u"?ih="deno":typeof document<"u"?ih="web":typeof navigator<"u"&&navigator.product==="ReactNative"?ih="react-native":ih="node";const $Q={"X-Client-Info":`supabase-js-${ih}/${LQ}`},BQ={headers:$Q},zQ={schema:"public"},UQ={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},qQ={};var VQ=function(e,t,r,a){function n(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(u){try{d(a.next(u))}catch(m){o(m)}}function c(u){try{d(a.throw(u))}catch(m){o(m)}}function d(u){u.done?i(u.value):n(u.value).then(l,c)}d((a=a.apply(e,t||[])).next())})};const WQ=e=>{let t;return e?t=e:typeof fetch>"u"?t=aI:t=fetch,(...r)=>t(...r)},HQ=()=>typeof Headers>"u"?nI:Headers,KQ=(e,t,r)=>{const a=WQ(r),n=HQ();return(i,o)=>VQ(void 0,void 0,void 0,function*(){var l;const c=(l=yield t())!==null&&l!==void 0?l:e;let d=new n(o==null?void 0:o.headers);return d.has("apikey")||d.set("apikey",e),d.has("Authorization")||d.set("Authorization",`Bearer ${c}`),a(i,Object.assign(Object.assign({},o),{headers:d}))})};var GQ=function(e,t,r,a){function n(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(u){try{d(a.next(u))}catch(m){o(m)}}function c(u){try{d(a.throw(u))}catch(m){o(m)}}function d(u){u.done?i(u.value):n(u.value).then(l,c)}d((a=a.apply(e,t||[])).next())})};function YQ(e){return e.endsWith("/")?e:e+"/"}function XQ(e,t){var r,a;const{db:n,auth:i,realtime:o,global:l}=e,{db:c,auth:d,realtime:u,global:m}=t,h={db:Object.assign(Object.assign({},c),n),auth:Object.assign(Object.assign({},d),i),realtime:Object.assign(Object.assign({},u),o),storage:{},global:Object.assign(Object.assign(Object.assign({},m),l),{headers:Object.assign(Object.assign({},(r=m==null?void 0:m.headers)!==null&&r!==void 0?r:{}),(a=l==null?void 0:l.headers)!==null&&a!==void 0?a:{})}),accessToken:()=>GQ(this,void 0,void 0,function*(){return""})};return e.accessToken?h.accessToken=e.accessToken:delete h.accessToken,h}const jI="2.71.1",_d=30*1e3,$N=3,nj=$N*_d,QQ="http://localhost:9999",JQ="supabase.auth.token",ZQ={"X-Client-Info":`gotrue-js/${jI}`},BN="X-Supabase-Api-Version",wI={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},eJ=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,tJ=10*60*1e3;class US extends Error{constructor(t,r,a){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=a}}function Ue(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class sJ extends US{constructor(t,r,a){super(t,r,a),this.name="AuthApiError",this.status=r,this.code=a}}function rJ(e){return Ue(e)&&e.name==="AuthApiError"}class NI extends US{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class Pl extends US{constructor(t,r,a,n){super(t,a,n),this.name=r,this.status=a}}class Co extends Pl{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function aJ(e){return Ue(e)&&e.name==="AuthSessionMissingError"}class dx extends Pl{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class ux extends Pl{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class mx extends Pl{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function nJ(e){return Ue(e)&&e.name==="AuthImplicitGrantRedirectError"}class EE extends Pl{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class zN extends Pl{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function ij(e){return Ue(e)&&e.name==="AuthRetryableFetchError"}class AE extends Pl{constructor(t,r,a){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=a}}class UN extends Pl{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Gg="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),TE=` 	
\r=`.split(""),iJ=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<TE.length;t+=1)e[TE[t].charCodeAt(0)]=-2;for(let t=0;t<Gg.length;t+=1)e[Gg[t].charCodeAt(0)]=t;return e})();function ME(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const a=t.queue>>t.queuedBits-6&63;r(Gg[a]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const a=t.queue>>t.queuedBits-6&63;r(Gg[a]),t.queuedBits-=6}}function SI(e,t,r){const a=iJ[e];if(a>-1)for(t.queue=t.queue<<6|a,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(a===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function OE(e){const t=[],r=o=>{t.push(String.fromCodePoint(o))},a={utf8seq:0,codepoint:0},n={queue:0,queuedBits:0},i=o=>{cJ(o,a,r)};for(let o=0;o<e.length;o+=1)SI(e.charCodeAt(o),n,i);return t.join("")}function oJ(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function lJ(e,t){for(let r=0;r<e.length;r+=1){let a=e.charCodeAt(r);if(a>55295&&a<=56319){const n=(a-55296)*1024&65535;a=(e.charCodeAt(r+1)-56320&65535|n)+65536,r+=1}oJ(a,t)}}function cJ(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let a=1;a<6;a+=1)if(!(e>>7-a&1)){t.utf8seq=a;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function dJ(e){const t=[],r={queue:0,queuedBits:0},a=n=>{t.push(n)};for(let n=0;n<e.length;n+=1)SI(e.charCodeAt(n),r,a);return new Uint8Array(t)}function uJ(e){const t=[];return lJ(e,r=>t.push(r)),new Uint8Array(t)}function mJ(e){const t=[],r={queue:0,queuedBits:0},a=n=>{t.push(n)};return e.forEach(n=>ME(n,r,a)),ME(null,r,a),t.join("")}function hJ(e){return Math.round(Date.now()/1e3)+e}function fJ(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const rn=()=>typeof window<"u"&&typeof document<"u",Bl={tested:!1,writable:!1},_I=()=>{if(!rn())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Bl.tested)return Bl.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Bl.tested=!0,Bl.writable=!0}catch{Bl.tested=!0,Bl.writable=!1}return Bl.writable};function pJ(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((n,i)=>{t[i]=n})}catch{}return r.searchParams.forEach((a,n)=>{t[n]=a}),t}const CI=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Gf(async()=>{const{default:a}=await Promise.resolve().then(()=>im);return{default:a}},void 0).then(({default:a})=>a(...r)):t=fetch,(...r)=>t(...r)},xJ=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Cd=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},zl=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},xo=async(e,t)=>{await e.removeItem(t)};class S0{constructor(){this.promise=new S0.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}S0.promiseConstructor=Promise;function oj(e){const t=e.split(".");if(t.length!==3)throw new UN("Invalid JWT structure");for(let a=0;a<t.length;a++)if(!eJ.test(t[a]))throw new UN("JWT not in base64url format");return{header:JSON.parse(OE(t[0])),payload:JSON.parse(OE(t[1])),signature:dJ(t[2]),raw:{header:t[0],payload:t[1]}}}async function gJ(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function vJ(e,t){return new Promise((a,n)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await e(i);if(!t(i,null,o)){a(o);return}}catch(o){if(!t(i,o)){n(o);return}}})()})}function yJ(e){return("0"+e.toString(16)).substr(-2)}function bJ(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",a=r.length;let n="";for(let i=0;i<56;i++)n+=r.charAt(Math.floor(Math.random()*a));return n}return crypto.getRandomValues(t),Array.from(t,yJ).join("")}async function jJ(e){const r=new TextEncoder().encode(e),a=await crypto.subtle.digest("SHA-256",r),n=new Uint8Array(a);return Array.from(n).map(i=>String.fromCharCode(i)).join("")}async function wJ(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await jJ(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function md(e,t,r=!1){const a=bJ();let n=a;r&&(n+="/PASSWORD_RECOVERY"),await Cd(e,`${t}-code-verifier`,n);const i=await wJ(a);return[i,a===i?"plain":"s256"]}const NJ=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function SJ(e){const t=e.headers.get(BN);if(!t||!t.match(NJ))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function _J(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function CJ(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const kJ=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function hd(e){if(!kJ.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function lj(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const a=r.toString();if(a==="Symbol(Symbol.toPrimitive)"||a==="Symbol(Symbol.toStringTag)"||a==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function DE(e){return JSON.parse(JSON.stringify(e))}var PJ=function(e,t){var r={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(r[a]=e[a]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,a=Object.getOwnPropertySymbols(e);n<a.length;n++)t.indexOf(a[n])<0&&Object.prototype.propertyIsEnumerable.call(e,a[n])&&(r[a[n]]=e[a[n]]);return r};const Hl=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),EJ=[502,503,504];async function RE(e){var t;if(!xJ(e))throw new zN(Hl(e),0);if(EJ.includes(e.status))throw new zN(Hl(e),e.status);let r;try{r=await e.json()}catch(i){throw new NI(Hl(i),i)}let a;const n=SJ(e);if(n&&n.getTime()>=wI["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?a=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(a=r.error_code),a){if(a==="weak_password")throw new AE(Hl(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(a==="session_not_found")throw new Co}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new AE(Hl(r),e.status,r.weak_password.reasons);throw new sJ(Hl(r),e.status||500,a)}const AJ=(e,t,r,a)=>{const n={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?n:(n.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),n.body=JSON.stringify(a),Object.assign(Object.assign({},n),r))};async function Je(e,t,r,a){var n;const i=Object.assign({},a==null?void 0:a.headers);i[BN]||(i[BN]=wI["2024-01-01"].name),a!=null&&a.jwt&&(i.Authorization=`Bearer ${a.jwt}`);const o=(n=a==null?void 0:a.query)!==null&&n!==void 0?n:{};a!=null&&a.redirectTo&&(o.redirect_to=a.redirectTo);const l=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",c=await TJ(e,t,r+l,{headers:i,noResolveJson:a==null?void 0:a.noResolveJson},{},a==null?void 0:a.body);return a!=null&&a.xform?a==null?void 0:a.xform(c):{data:Object.assign({},c),error:null}}async function TJ(e,t,r,a,n,i){const o=AJ(t,a,n,i);let l;try{l=await e(r,Object.assign({},o))}catch(c){throw console.error(c),new zN(Hl(c),0)}if(l.ok||await RE(l),a!=null&&a.noResolveJson)return l;try{return await l.json()}catch(c){await RE(c)}}function vi(e){var t;let r=null;RJ(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=hJ(e.expires_in)));const a=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:a},error:null}}function IE(e){const t=vi(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,a)=>r&&typeof a=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Ro(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function MJ(e){return{data:e,error:null}}function OJ(e){const{action_link:t,email_otp:r,hashed_token:a,redirect_to:n,verification_type:i}=e,o=PJ(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:r,hashed_token:a,redirect_to:n,verification_type:i},c=Object.assign({},o);return{data:{properties:l,user:c},error:null}}function DJ(e){return e}function RJ(e){return e.access_token&&e.refresh_token&&e.expires_in}const cj=["global","local","others"];var IJ=function(e,t){var r={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(r[a]=e[a]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,a=Object.getOwnPropertySymbols(e);n<a.length;n++)t.indexOf(a[n])<0&&Object.prototype.propertyIsEnumerable.call(e,a[n])&&(r[a[n]]=e[a[n]]);return r};class FJ{constructor({url:t="",headers:r={},fetch:a}){this.url=t,this.headers=r,this.fetch=CI(a),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,r=cj[0]){if(cj.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${cj.join(", ")}`);try{return await Je(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(a){if(Ue(a))return{data:null,error:a};throw a}}async inviteUserByEmail(t,r={}){try{return await Je(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Ro})}catch(a){if(Ue(a))return{data:{user:null},error:a};throw a}}async generateLink(t){try{const{options:r}=t,a=IJ(t,["options"]),n=Object.assign(Object.assign({},a),r);return"newEmail"in a&&(n.new_email=a==null?void 0:a.newEmail,delete n.newEmail),await Je(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:n,headers:this.headers,xform:OJ,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(Ue(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await Je(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Ro})}catch(r){if(Ue(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,a,n,i,o,l,c;try{const d={nextPage:null,lastPage:0,total:0},u=await Je(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(a=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&a!==void 0?a:"",per_page:(i=(n=t==null?void 0:t.perPage)===null||n===void 0?void 0:n.toString())!==null&&i!==void 0?i:""},xform:DJ});if(u.error)throw u.error;const m=await u.json(),h=(o=u.headers.get("x-total-count"))!==null&&o!==void 0?o:0,f=(c=(l=u.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return f.length>0&&(f.forEach(g=>{const x=parseInt(g.split(";")[0].split("=")[1].substring(0,1)),y=JSON.parse(g.split(";")[1].split("=")[1]);d[`${y}Page`]=x}),d.total=parseInt(h)),{data:Object.assign(Object.assign({},m),d),error:null}}catch(d){if(Ue(d))return{data:{users:[]},error:d};throw d}}async getUserById(t){hd(t);try{return await Je(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Ro})}catch(r){if(Ue(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){hd(t);try{return await Je(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:Ro})}catch(a){if(Ue(a))return{data:{user:null},error:a};throw a}}async deleteUser(t,r=!1){hd(t);try{return await Je(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:Ro})}catch(a){if(Ue(a))return{data:{user:null},error:a};throw a}}async _listFactors(t){hd(t.userId);try{const{data:r,error:a}=await Je(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:n=>({data:{factors:n},error:null})});return{data:r,error:a}}catch(r){if(Ue(r))return{data:null,error:r};throw r}}async _deleteFactor(t){hd(t.userId),hd(t.id);try{return{data:await Je(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(Ue(r))return{data:null,error:r};throw r}}}function FE(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}function LJ(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const fd={debug:!!(globalThis&&_I()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class kI extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class $J extends kI{}async function BJ(e,t,r){fd.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const a=new globalThis.AbortController;return t>0&&setTimeout(()=>{a.abort(),fd.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:a.signal},async n=>{if(n){fd.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,n.name);try{return await r()}finally{fd.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,n.name)}}else{if(t===0)throw fd.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new $J(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(fd.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}LJ();const zJ={url:QQ,storageKey:JQ,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:ZQ,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function LE(e,t,r){return await r()}const pd={};class sf{constructor(t){var r,a;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=sf.nextInstanceID,sf.nextInstanceID+=1,this.instanceID>0&&rn()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const n=Object.assign(Object.assign({},zJ),t);if(this.logDebugMessages=!!n.debug,typeof n.debug=="function"&&(this.logger=n.debug),this.persistSession=n.persistSession,this.storageKey=n.storageKey,this.autoRefreshToken=n.autoRefreshToken,this.admin=new FJ({url:n.url,headers:n.headers,fetch:n.fetch}),this.url=n.url,this.headers=n.headers,this.fetch=CI(n.fetch),this.lock=n.lock||LE,this.detectSessionInUrl=n.detectSessionInUrl,this.flowType=n.flowType,this.hasCustomAuthorizationHeader=n.hasCustomAuthorizationHeader,n.lock?this.lock=n.lock:rn()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=BJ:this.lock=LE,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(n.storage?this.storage=n.storage:_I()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=FE(this.memoryStorage)),n.userStorage&&(this.userStorage=n.userStorage)):(this.memoryStorage={},this.storage=FE(this.memoryStorage)),rn()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(a=this.broadcastChannel)===null||a===void 0||a.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}get jwks(){var t,r;return(r=(t=pd[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){pd[this.storageKey]=Object.assign(Object.assign({},pd[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=pd[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){pd[this.storageKey]=Object.assign(Object.assign({},pd[this.storageKey]),{cachedAt:t})}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${jI}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const r=pJ(window.location.href);let a="none";if(this._isImplicitGrantCallback(r)?a="implicit":await this._isPKCECallback(r)&&(a="pkce"),rn()&&this.detectSessionInUrl&&a!=="none"){const{data:n,error:i}=await this._getSessionFromURL(r,a);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),nJ(i)){const c=(t=i.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:l}=n;return this._debug("#_initialize()","detected session in URL",o,"redirect type",l),await this._saveSession(o),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return Ue(r)?{error:r}:{error:new NI("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,a,n;try{const i=await Je(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(a=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&a!==void 0?a:{},gotrue_meta_security:{captcha_token:(n=t==null?void 0:t.options)===null||n===void 0?void 0:n.captchaToken}},xform:vi}),{data:o,error:l}=i;if(l||!o)return{data:{user:null,session:null},error:l};const c=o.session,d=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:d,session:c},error:null}}catch(i){if(Ue(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(t){var r,a,n;try{let i;if("email"in t){const{email:u,password:m,options:h}=t;let f=null,g=null;this.flowType==="pkce"&&([f,g]=await md(this.storage,this.storageKey)),i=await Je(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:u,password:m,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:f,code_challenge_method:g},xform:vi})}else if("phone"in t){const{phone:u,password:m,options:h}=t;i=await Je(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:u,password:m,data:(a=h==null?void 0:h.data)!==null&&a!==void 0?a:{},channel:(n=h==null?void 0:h.channel)!==null&&n!==void 0?n:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:vi})}else throw new ux("You must provide either an email or phone number and a password");const{data:o,error:l}=i;if(l||!o)return{data:{user:null,session:null},error:l};const c=o.session,d=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:d,session:c},error:null}}catch(i){if(Ue(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(t){try{let r;if("email"in t){const{email:i,password:o,options:l}=t;r=await Je(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:IE})}else if("phone"in t){const{phone:i,password:o,options:l}=t;r=await Je(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:IE})}else throw new ux("You must provide either an email or phone number and a password");const{data:a,error:n}=r;return n?{data:{user:null,session:null},error:n}:!a||!a.session||!a.user?{data:{user:null,session:null},error:new dx}:(a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),{data:Object.assign({user:a.user,session:a.session},a.weak_password?{weakPassword:a.weak_password}:null),error:n})}catch(r){if(Ue(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(t){var r,a,n,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(a=t.options)===null||a===void 0?void 0:a.scopes,queryParams:(n=t.options)===null||n===void 0?void 0:n.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;if(r==="solana")return await this.signInWithSolana(t);throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}async signInWithSolana(t){var r,a,n,i,o,l,c,d,u,m,h,f;let g,x;if("message"in t)g=t.message,x=t.signature;else{const{chain:y,wallet:v,statement:b,options:j}=t;let N;if(rn())if(typeof v=="object")N=v;else{const S=window;if("solana"in S&&typeof S.solana=="object"&&("signIn"in S.solana&&typeof S.solana.signIn=="function"||"signMessage"in S.solana&&typeof S.solana.signMessage=="function"))N=S.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof v!="object"||!(j!=null&&j.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");N=v}const w=new URL((r=j==null?void 0:j.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in N&&N.signIn){const S=await N.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},j==null?void 0:j.signInWithSolana),{version:"1",domain:w.host,uri:w.href}),b?{statement:b}:null));let _;if(Array.isArray(S)&&S[0]&&typeof S[0]=="object")_=S[0];else if(S&&typeof S=="object"&&"signedMessage"in S&&"signature"in S)_=S;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in _&&"signature"in _&&(typeof _.signedMessage=="string"||_.signedMessage instanceof Uint8Array)&&_.signature instanceof Uint8Array)g=typeof _.signedMessage=="string"?_.signedMessage:new TextDecoder().decode(_.signedMessage),x=_.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in N)||typeof N.signMessage!="function"||!("publicKey"in N)||typeof N!="object"||!N.publicKey||!("toBase58"in N.publicKey)||typeof N.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");g=[`${w.host} wants you to sign in with your Solana account:`,N.publicKey.toBase58(),...b?["",b,""]:[""],"Version: 1",`URI: ${w.href}`,`Issued At: ${(n=(a=j==null?void 0:j.signInWithSolana)===null||a===void 0?void 0:a.issuedAt)!==null&&n!==void 0?n:new Date().toISOString()}`,...!((i=j==null?void 0:j.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${j.signInWithSolana.notBefore}`]:[],...!((o=j==null?void 0:j.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${j.signInWithSolana.expirationTime}`]:[],...!((l=j==null?void 0:j.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${j.signInWithSolana.chainId}`]:[],...!((c=j==null?void 0:j.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${j.signInWithSolana.nonce}`]:[],...!((d=j==null?void 0:j.signInWithSolana)===null||d===void 0)&&d.requestId?[`Request ID: ${j.signInWithSolana.requestId}`]:[],...!((m=(u=j==null?void 0:j.signInWithSolana)===null||u===void 0?void 0:u.resources)===null||m===void 0)&&m.length?["Resources",...j.signInWithSolana.resources.map(_=>`- ${_}`)]:[]].join(`
`);const S=await N.signMessage(new TextEncoder().encode(g),"utf8");if(!S||!(S instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");x=S}}try{const{data:y,error:v}=await Je(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:g,signature:mJ(x)},!((h=t.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(f=t.options)===null||f===void 0?void 0:f.captchaToken}}:null),xform:vi});if(v)throw v;return!y||!y.session||!y.user?{data:{user:null,session:null},error:new dx}:(y.session&&(await this._saveSession(y.session),await this._notifyAllSubscribers("SIGNED_IN",y.session)),{data:Object.assign({},y),error:v})}catch(y){if(Ue(y))return{data:{user:null,session:null},error:y};throw y}}async _exchangeCodeForSession(t){const r=await zl(this.storage,`${this.storageKey}-code-verifier`),[a,n]=(r??"").split("/");try{const{data:i,error:o}=await Je(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:a},xform:vi});if(await xo(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new dx}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:n??null}),error:o})}catch(i){if(Ue(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(t){try{const{options:r,provider:a,token:n,access_token:i,nonce:o}=t,l=await Je(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:a,id_token:n,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:vi}),{data:c,error:d}=l;return d?{data:{user:null,session:null},error:d}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new dx}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:d})}catch(r){if(Ue(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(t){var r,a,n,i,o;try{if("email"in t){const{email:l,options:c}=t;let d=null,u=null;this.flowType==="pkce"&&([d,u]=await md(this.storage,this.storageKey));const{error:m}=await Je(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(r=c==null?void 0:c.data)!==null&&r!==void 0?r:{},create_user:(a=c==null?void 0:c.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:d,code_challenge_method:u},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:m}}if("phone"in t){const{phone:l,options:c}=t,{data:d,error:u}=await Je(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(n=c==null?void 0:c.data)!==null&&n!==void 0?n:{},create_user:(i=c==null?void 0:c.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(o=c==null?void 0:c.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:d==null?void 0:d.message_id},error:u}}throw new ux("You must provide either an email or phone number.")}catch(l){if(Ue(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(t){var r,a;try{let n,i;"options"in t&&(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo,i=(a=t.options)===null||a===void 0?void 0:a.captchaToken);const{data:o,error:l}=await Je(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:n,xform:vi});if(l)throw l;if(!o)throw new Error("An error occurred on token verification.");const c=o.session,d=o.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:d,session:c},error:null}}catch(n){if(Ue(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithSSO(t){var r,a,n;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await md(this.storage,this.storageKey)),await Je(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(a=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&a!==void 0?a:void 0}),!((n=t==null?void 0:t.options)===null||n===void 0)&&n.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:MJ})}catch(i){if(Ue(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:a}=t;if(a)throw a;if(!r)throw new Co;const{error:n}=await Je(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:n}})}catch(t){if(Ue(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:a,type:n,options:i}=t,{error:o}=await Je(this.fetch,"POST",r,{headers:this.headers,body:{email:a,type:n,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in t){const{phone:a,type:n,options:i}=t,{data:o,error:l}=await Je(this.fetch,"POST",r,{headers:this.headers,body:{phone:a,type:n,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:l}}throw new ux("You must provide either an email or phone number and a type")}catch(r){if(Ue(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const a=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),n=(async()=>(await a,await r()))();return this.pendingInLock.push((async()=>{try{await n}catch{}})()),n}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const a=r();for(this.pendingInLock.push((async()=>{try{await a}catch{}})()),await a;this.pendingInLock.length;){const n=[...this.pendingInLock];await Promise.all(n),this.pendingInLock.splice(0,n.length)}return await a}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await zl(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const a=t.expires_at?t.expires_at*1e3-Date.now()<nj:!1;if(this._debug("#__loadSession()",`session has${a?"":" not"} expired`,"expires_at",t.expires_at),!a){if(this.userStorage){const o=await zl(this.userStorage,this.storageKey+"-user");o!=null&&o.user?t.user=o.user:t.user=lj()}if(this.storage.isServer&&t.user){let o=this.suppressGetSessionWarning;t=new Proxy(t,{get:(c,d,u)=>(!o&&d==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,d,u))})}return{data:{session:t},error:null}}const{session:n,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{session:null},error:i}:{data:{session:n},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await Je(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Ro}):await this._useSession(async r=>{var a,n,i;const{data:o,error:l}=r;if(l)throw l;return!(!((a=o.session)===null||a===void 0)&&a.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Co}:await Je(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(n=o.session)===null||n===void 0?void 0:n.access_token)!==null&&i!==void 0?i:void 0,xform:Ro})})}catch(r){if(Ue(r))return aJ(r)&&(await this._removeSession(),await xo(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async a=>{const{data:n,error:i}=a;if(i)throw i;if(!n.session)throw new Co;const o=n.session;let l=null,c=null;this.flowType==="pkce"&&t.email!=null&&([l,c]=await md(this.storage,this.storageKey));const{data:d,error:u}=await Je(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:c}),jwt:o.access_token,xform:Ro});if(u)throw u;return o.user=d.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(a){if(Ue(a))return{data:{user:null},error:a};throw a}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Co;const r=Date.now()/1e3;let a=r,n=!0,i=null;const{payload:o}=oj(t.access_token);if(o.exp&&(a=o.exp,n=a<=r),n){const{session:l,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!l)return{data:{user:null,session:null},error:null};i=l}else{const{data:l,error:c}=await this._getUser(t.access_token);if(c)throw c;i={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:a-r,expires_at:a},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(r){if(Ue(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var a;if(!t){const{data:o,error:l}=r;if(l)throw l;t=(a=o.session)!==null&&a!==void 0?a:void 0}if(!(t!=null&&t.refresh_token))throw new Co;const{session:n,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{user:null,session:null},error:i}:n?{data:{user:n.user,session:n},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(Ue(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(t,r){try{if(!rn())throw new mx("No browser detected.");if(t.error||t.error_description||t.error_code)throw new mx(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new EE("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new mx("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new EE("No code detected.");const{data:b,error:j}=await this._exchangeCodeForSession(t.code);if(j)throw j;const N=new URL(window.location.href);return N.searchParams.delete("code"),window.history.replaceState(window.history.state,"",N.toString()),{data:{session:b.session,redirectType:null},error:null}}const{provider_token:a,provider_refresh_token:n,access_token:i,refresh_token:o,expires_in:l,expires_at:c,token_type:d}=t;if(!i||!l||!o||!d)throw new mx("No session defined in URL");const u=Math.round(Date.now()/1e3),m=parseInt(l);let h=u+m;c&&(h=parseInt(c));const f=h-u;f*1e3<=_d&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${f}s, should have been closer to ${m}s`);const g=h-m;u-g>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",g,h,u):u-g<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",g,h,u);const{data:x,error:y}=await this._getUser(i);if(y)throw y;const v={provider_token:a,provider_refresh_token:n,access_token:i,expires_in:m,expires_at:h,refresh_token:o,token_type:d,user:x.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:v,redirectType:t.type},error:null}}catch(a){if(Ue(a))return{data:{session:null,redirectType:null},error:a};throw a}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await zl(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var a;const{data:n,error:i}=r;if(i)return{error:i};const o=(a=n.session)===null||a===void 0?void 0:a.access_token;if(o){const{error:l}=await this.admin.signOut(o,t);if(l&&!(rJ(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return t!=="others"&&(await this._removeSession(),await xo(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const r=fJ(),a={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,a),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:a}}}async _emitInitialSession(t){return await this._useSession(async r=>{var a,n;try{const{data:{session:i},error:o}=r;if(o)throw o;await((a=this.stateChangeEmitters.get(t))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,r={}){let a=null,n=null;this.flowType==="pkce"&&([a,n]=await md(this.storage,this.storageKey,!0));try{return await Je(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:a,code_challenge_method:n,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(Ue(i))return{data:null,error:i};throw i}}async getUserIdentities(){var t;try{const{data:r,error:a}=await this.getUser();if(a)throw a;return{data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(r){if(Ue(r))return{data:null,error:r};throw r}}async linkIdentity(t){var r;try{const{data:a,error:n}=await this._useSession(async i=>{var o,l,c,d,u;const{data:m,error:h}=i;if(h)throw h;const f=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await Je(this.fetch,"GET",f,{headers:this.headers,jwt:(u=(d=m.session)===null||d===void 0?void 0:d.access_token)!==null&&u!==void 0?u:void 0})});if(n)throw n;return rn()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(a==null?void 0:a.url),{data:{provider:t.provider,url:a==null?void 0:a.url},error:null}}catch(a){if(Ue(a))return{data:{provider:t.provider,url:null},error:a};throw a}}async unlinkIdentity(t){try{return await this._useSession(async r=>{var a,n;const{data:i,error:o}=r;if(o)throw o;return await Je(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(n=(a=i.session)===null||a===void 0?void 0:a.access_token)!==null&&n!==void 0?n:void 0})})}catch(r){if(Ue(r))return{data:null,error:r};throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const a=Date.now();return await vJ(async n=>(n>0&&await gJ(200*Math.pow(2,n-1)),this._debug(r,"refreshing attempt",n),await Je(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:vi})),(n,i)=>{const o=200*Math.pow(2,n);return i&&ij(i)&&Date.now()+o-a<_d})}catch(a){if(this._debug(r,"error",a),Ue(a))return{data:{session:null,user:null},error:a};throw a}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const a=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",a),rn()&&!r.skipBrowserRedirect&&window.location.assign(a),{data:{provider:t,url:a},error:null}}async _recoverAndRefresh(){var t,r;const a="#_recoverAndRefresh()";this._debug(a,"begin");try{const n=await zl(this.storage,this.storageKey);if(n&&this.userStorage){let o=await zl(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:n.user},await Cd(this.userStorage,this.storageKey+"-user",o)),n.user=(t=o==null?void 0:o.user)!==null&&t!==void 0?t:lj()}else if(n&&!n.user&&!n.user){const o=await zl(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(n.user=o.user,await xo(this.storage,this.storageKey+"-user"),await Cd(this.storage,this.storageKey,n)):n.user=lj()}if(this._debug(a,"session from storage",n),!this._isValidSession(n)){this._debug(a,"session is not valid"),n!==null&&await this._removeSession();return}const i=((r=n.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<nj;if(this._debug(a,`session has${i?"":" not"} expired with margin of ${nj}s`),i){if(this.autoRefreshToken&&n.refresh_token){const{error:o}=await this._callRefreshToken(n.refresh_token);o&&(console.error(o),ij(o)||(this._debug(a,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(n.user&&n.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:l}=await this._getUser(n.access_token);!l&&(o!=null&&o.user)?(n.user=o.user,await this._saveSession(n),await this._notifyAllSubscribers("SIGNED_IN",n)):this._debug(a,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(a,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",n)}catch(n){this._debug(a,"error",n),console.error(n);return}finally{this._debug(a,"end")}}async _callRefreshToken(t){var r,a;if(!t)throw new Co;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const n=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{this.refreshingDeferred=new S0;const{data:i,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!i.session)throw new Co;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const l={session:i.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(i){if(this._debug(n,"error",i),Ue(i)){const o={session:null,error:i};return ij(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(o),o}throw(a=this.refreshingDeferred)===null||a===void 0||a.reject(i),i}finally{this.refreshingDeferred=null,this._debug(n,"end")}}async _notifyAllSubscribers(t,r,a=!0){const n=`#_notifyAllSubscribers(${t})`;this._debug(n,"begin",r,`broadcast = ${a}`);try{this.broadcastChannel&&a&&this.broadcastChannel.postMessage({event:t,session:r});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,r)}catch(c){i.push(c)}});if(await Promise.all(o),i.length>0){for(let l=0;l<i.length;l+=1)console.error(i[l]);throw i[0]}}finally{this._debug(n,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const r=Object.assign({},t),a=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!a&&r.user&&await Cd(this.userStorage,this.storageKey+"-user",{user:r.user});const n=Object.assign({},r);delete n.user;const i=DE(n);await Cd(this.storage,this.storageKey,i)}else{const n=DE(r);await Cd(this.storage,this.storageKey,n)}}async _removeSession(){this._debug("#_removeSession()"),await xo(this.storage,this.storageKey),await xo(this.storage,this.storageKey+"-code-verifier"),await xo(this.storage,this.storageKey+"-user"),this.userStorage&&await xo(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&rn()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),_d);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:a}}=r;if(!a||!a.refresh_token||!a.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const n=Math.floor((a.expires_at*1e3-t)/_d);this._debug("#_autoRefreshTokenTick()",`access token expires in ${n} ticks, a tick lasts ${_d}ms, refresh threshold is ${$N} ticks`),n<=$N&&await this._callRefreshToken(a.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof kI)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!rn()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,a){const n=[`provider=${encodeURIComponent(r)}`];if(a!=null&&a.redirectTo&&n.push(`redirect_to=${encodeURIComponent(a.redirectTo)}`),a!=null&&a.scopes&&n.push(`scopes=${encodeURIComponent(a.scopes)}`),this.flowType==="pkce"){const[i,o]=await md(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});n.push(l.toString())}if(a!=null&&a.queryParams){const i=new URLSearchParams(a.queryParams);n.push(i.toString())}return a!=null&&a.skipBrowserRedirect&&n.push(`skip_http_redirect=${a.skipBrowserRedirect}`),`${t}?${n.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var a;const{data:n,error:i}=r;return i?{data:null,error:i}:await Je(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(a=n==null?void 0:n.session)===null||a===void 0?void 0:a.access_token})})}catch(r){if(Ue(r))return{data:null,error:r};throw r}}async _enroll(t){try{return await this._useSession(async r=>{var a,n;const{data:i,error:o}=r;if(o)return{data:null,error:o};const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:c,error:d}=await Je(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(a=i==null?void 0:i.session)===null||a===void 0?void 0:a.access_token});return d?{data:null,error:d}:(t.factorType==="totp"&&(!((n=c==null?void 0:c.totp)===null||n===void 0)&&n.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(r){if(Ue(r))return{data:null,error:r};throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var a;const{data:n,error:i}=r;if(i)return{data:null,error:i};const{data:o,error:l}=await Je(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(a=n==null?void 0:n.session)===null||a===void 0?void 0:a.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:l})})}catch(r){if(Ue(r))return{data:null,error:r};throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var a;const{data:n,error:i}=r;return i?{data:null,error:i}:await Je(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(a=n==null?void 0:n.session)===null||a===void 0?void 0:a.access_token})})}catch(r){if(Ue(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(t){const{data:r,error:a}=await this._challenge({factorId:t.factorId});return a?{data:null,error:a}:await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){const{data:{user:t},error:r}=await this.getUser();if(r)return{data:null,error:r};const a=(t==null?void 0:t.factors)||[],n=a.filter(o=>o.factor_type==="totp"&&o.status==="verified"),i=a.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:a,totp:n,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var r,a;const{data:{session:n},error:i}=t;if(i)return{data:null,error:i};if(!n)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=oj(n.access_token);let l=null;o.aal&&(l=o.aal);let c=l;((a=(r=n.user.factors)===null||r===void 0?void 0:r.filter(m=>m.status==="verified"))!==null&&a!==void 0?a:[]).length>0&&(c="aal2");const u=o.amr||[];return{data:{currentLevel:l,nextLevel:c,currentAuthenticationMethods:u},error:null}}))}async fetchJwk(t,r={keys:[]}){let a=r.keys.find(l=>l.kid===t);if(a)return a;const n=Date.now();if(a=this.jwks.keys.find(l=>l.kid===t),a&&this.jwks_cached_at+tJ>n)return a;const{data:i,error:o}=await Je(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=n,a=i.keys.find(l=>l.kid===t),!a)?null:a}async getClaims(t,r={}){try{let a=t;if(!a){const{data:f,error:g}=await this.getSession();if(g||!f.session)return{data:null,error:g};a=f.session.access_token}const{header:n,payload:i,signature:o,raw:{header:l,payload:c}}=oj(a);r!=null&&r.allowExpired||_J(i.exp);const d=!n.alg||n.alg.startsWith("HS")||!n.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(n.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!d){const{error:f}=await this.getUser(a);if(f)throw f;return{data:{claims:i,header:n,signature:o},error:null}}const u=CJ(n.alg),m=await crypto.subtle.importKey("jwk",d,u,!0,["verify"]);if(!await crypto.subtle.verify(u,m,o,uJ(`${l}.${c}`)))throw new UN("Invalid JWT signature");return{data:{claims:i,header:n,signature:o},error:null}}catch(a){if(Ue(a))return{data:null,error:a};throw a}}}sf.nextInstanceID=0;const UJ=sf;class qJ extends UJ{constructor(t){super(t)}}var VJ=function(e,t,r,a){function n(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(u){try{d(a.next(u))}catch(m){o(m)}}function c(u){try{d(a.throw(u))}catch(m){o(m)}}function d(u){u.done?i(u.value):n(u.value).then(l,c)}d((a=a.apply(e,t||[])).next())})};class WJ{constructor(t,r,a){var n,i,o;if(this.supabaseUrl=t,this.supabaseKey=r,!t)throw new Error("supabaseUrl is required.");if(!r)throw new Error("supabaseKey is required.");const l=YQ(t),c=new URL(l);this.realtimeUrl=new URL("realtime/v1",c),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",c),this.storageUrl=new URL("storage/v1",c),this.functionsUrl=new URL("functions/v1",c);const d=`sb-${c.hostname.split(".")[0]}-auth-token`,u={db:zQ,realtime:qQ,auth:Object.assign(Object.assign({},UQ),{storageKey:d}),global:BQ},m=XQ(a??{},u);this.storageKey=(n=m.auth.storageKey)!==null&&n!==void 0?n:"",this.headers=(i=m.global.headers)!==null&&i!==void 0?i:{},m.accessToken?(this.accessToken=m.accessToken,this.auth=new Proxy({},{get:(h,f)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(f)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=m.auth)!==null&&o!==void 0?o:{},this.headers,m.global.fetch),this.fetch=KQ(r,this._getAccessToken.bind(this),m.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},m.realtime)),this.rest=new cQ(new URL("rest/v1",c).href,{headers:this.headers,schema:m.db.schema,fetch:this.fetch}),this.storage=new FQ(this.storageUrl.href,this.headers,this.fetch,a==null?void 0:a.storage),m.accessToken||this._listenForAuthEvents()}get functions(){return new $X(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},a={}){return this.rest.rpc(t,r,a)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,r;return VJ(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:a}=yield this.auth.getSession();return(r=(t=a.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:a,storage:n,storageKey:i,flowType:o,lock:l,debug:c},d,u){const m={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new qJ({url:this.authUrl.href,headers:Object.assign(Object.assign({},m),d),storageKey:i,autoRefreshToken:t,persistSession:r,detectSessionInUrl:a,storage:n,flowType:o,lock:l,debug:c,fetch:u,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new SQ(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,a)=>{this._handleTokenChanged(r,"CLIENT",a==null?void 0:a.access_token)})}_handleTokenChanged(t,r,a){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==a?this.changedAccessToken=a:t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const HJ=(e,t,r)=>new WJ(e,t,r);function KJ(){if(typeof window<"u"||typeof process>"u"||process.version===void 0||process.version===null)return!1;const e=process.version.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}KJ()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const GJ="https://hlrkoyywjpckdotimtik.supabase.co",YJ="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImhscmtveXl3anBja2RvdGltdGlrIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTMxNTMwNDcsImV4cCI6MjA2ODcyOTA0N30.kYEtg1hYG2pmcyIeXRs-vgNIVOD76Yu7KPlyFN0vdUI",z=HJ(GJ,YJ,{auth:{storage:localStorage,persistSession:!0,autoRefreshToken:!0}}),XJ=1,QJ=1e6;let dj=0;function JJ(){return dj=(dj+1)%Number.MAX_SAFE_INTEGER,dj.toString()}const uj=new Map,$E=e=>{if(uj.has(e))return;const t=setTimeout(()=>{uj.delete(e),Sh({type:"REMOVE_TOAST",toastId:e})},QJ);uj.set(e,t)},ZJ=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,XJ)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(r=>r.id===t.toast.id?{...r,...t.toast}:r)};case"DISMISS_TOAST":{const{toastId:r}=t;return r?$E(r):e.toasts.forEach(a=>{$E(a.id)}),{...e,toasts:e.toasts.map(a=>a.id===r||r===void 0?{...a,open:!1}:a)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(r=>r.id!==t.toastId)}}},og=[];let lg={toasts:[]};function Sh(e){lg=ZJ(lg,e),og.forEach(t=>{t(lg)})}function ko({...e}){const t=JJ(),r=n=>Sh({type:"UPDATE_TOAST",toast:{...n,id:t}}),a=()=>Sh({type:"DISMISS_TOAST",toastId:t});return Sh({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:n=>{n||a()}}}),{id:t,dismiss:a,update:r}}function Ee(){const[e,t]=p.useState(lg);return p.useEffect(()=>(og.push(t),()=>{const r=og.indexOf(t);r>-1&&og.splice(r,1)}),[e]),{...e,toast:ko,dismiss:r=>Sh({type:"DISMISS_TOAST",toastId:r})}}function ce(e,t,{checkForDefaultPrevented:r=!0}={}){return function(n){if(e==null||e(n),r===!1||!n.defaultPrevented)return t==null?void 0:t(n)}}function BE(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function _0(...e){return t=>{let r=!1;const a=e.map(n=>{const i=BE(n,t);return!r&&typeof i=="function"&&(r=!0),i});if(r)return()=>{for(let n=0;n<a.length;n++){const i=a[n];typeof i=="function"?i():BE(e[n],null)}}}}function Me(...e){return p.useCallback(_0(...e),e)}function eZ(e,t){const r=p.createContext(t),a=i=>{const{children:o,...l}=i,c=p.useMemo(()=>l,Object.values(l));return s.jsx(r.Provider,{value:c,children:o})};a.displayName=e+"Provider";function n(i){const o=p.useContext(r);if(o)return o;if(t!==void 0)return t;throw new Error(`\`${i}\` must be used within \`${e}\``)}return[a,n]}function ys(e,t=[]){let r=[];function a(i,o){const l=p.createContext(o),c=r.length;r=[...r,o];const d=m=>{var v;const{scope:h,children:f,...g}=m,x=((v=h==null?void 0:h[e])==null?void 0:v[c])||l,y=p.useMemo(()=>g,Object.values(g));return s.jsx(x.Provider,{value:y,children:f})};d.displayName=i+"Provider";function u(m,h){var x;const f=((x=h==null?void 0:h[e])==null?void 0:x[c])||l,g=p.useContext(f);if(g)return g;if(o!==void 0)return o;throw new Error(`\`${m}\` must be used within \`${i}\``)}return[d,u]}const n=()=>{const i=r.map(o=>p.createContext(o));return function(l){const c=(l==null?void 0:l[e])||i;return p.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return n.scopeName=e,[a,tZ(n,...t)]}function tZ(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const a=e.map(n=>({useScope:n(),scopeName:n.scopeName}));return function(i){const o=a.reduce((l,{useScope:c,scopeName:d})=>{const m=c(i)[`__scope${d}`];return{...l,...m}},{});return p.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}function ul(e){const t=rZ(e),r=p.forwardRef((a,n)=>{const{children:i,...o}=a,l=p.Children.toArray(i),c=l.find(nZ);if(c){const d=c.props.children,u=l.map(m=>m===c?p.Children.count(d)>1?p.Children.only(null):p.isValidElement(d)?d.props.children:null:m);return s.jsx(t,{...o,ref:n,children:p.isValidElement(d)?p.cloneElement(d,void 0,u):null})}return s.jsx(t,{...o,ref:n,children:i})});return r.displayName=`${e}.Slot`,r}var sZ=ul("Slot");function rZ(e){const t=p.forwardRef((r,a)=>{const{children:n,...i}=r;if(p.isValidElement(n)){const o=oZ(n),l=iZ(i,n.props);return n.type!==p.Fragment&&(l.ref=a?_0(a,o):o),p.cloneElement(n,l)}return p.Children.count(n)>1?p.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var PI=Symbol("radix.slottable");function aZ(e){const t=({children:r})=>s.jsx(s.Fragment,{children:r});return t.displayName=`${e}.Slottable`,t.__radixId=PI,t}function nZ(e){return p.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===PI}function iZ(e,t){const r={...t};for(const a in t){const n=e[a],i=t[a];/^on[A-Z]/.test(a)?n&&i?r[a]=(...l)=>{const c=i(...l);return n(...l),c}:n&&(r[a]=n):a==="style"?r[a]={...n,...i}:a==="className"&&(r[a]=[n,i].filter(Boolean).join(" "))}return{...e,...r}}function oZ(e){var a,n;let t=(a=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(n=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function Qf(e){const t=e+"CollectionProvider",[r,a]=ys(t),[n,i]=r(t,{collectionRef:{current:null},itemMap:new Map}),o=x=>{const{scope:y,children:v}=x,b=me.useRef(null),j=me.useRef(new Map).current;return s.jsx(n,{scope:y,itemMap:j,collectionRef:b,children:v})};o.displayName=t;const l=e+"CollectionSlot",c=ul(l),d=me.forwardRef((x,y)=>{const{scope:v,children:b}=x,j=i(l,v),N=Me(y,j.collectionRef);return s.jsx(c,{ref:N,children:b})});d.displayName=l;const u=e+"CollectionItemSlot",m="data-radix-collection-item",h=ul(u),f=me.forwardRef((x,y)=>{const{scope:v,children:b,...j}=x,N=me.useRef(null),w=Me(y,N),S=i(u,v);return me.useEffect(()=>(S.itemMap.set(N,{ref:N,...j}),()=>void S.itemMap.delete(N))),s.jsx(h,{[m]:"",ref:w,children:b})});f.displayName=u;function g(x){const y=i(e+"CollectionConsumer",x);return me.useCallback(()=>{const b=y.collectionRef.current;if(!b)return[];const j=Array.from(b.querySelectorAll(`[${m}]`));return Array.from(y.itemMap.values()).sort((S,_)=>j.indexOf(S.ref.current)-j.indexOf(_.ref.current))},[y.collectionRef,y.itemMap])}return[{Provider:o,Slot:d,ItemSlot:f},g,a]}var lZ=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],ge=lZ.reduce((e,t)=>{const r=ul(`Primitive.${t}`),a=p.forwardRef((n,i)=>{const{asChild:o,...l}=n,c=o?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),s.jsx(c,{...l,ref:i})});return a.displayName=`Primitive.${t}`,{...e,[t]:a}},{});function qS(e,t){e&&ao.flushSync(()=>e.dispatchEvent(t))}function ss(e){const t=p.useRef(e);return p.useEffect(()=>{t.current=e}),p.useMemo(()=>(...r)=>{var a;return(a=t.current)==null?void 0:a.call(t,...r)},[])}function cZ(e,t=globalThis==null?void 0:globalThis.document){const r=ss(e);p.useEffect(()=>{const a=n=>{n.key==="Escape"&&r(n)};return t.addEventListener("keydown",a,{capture:!0}),()=>t.removeEventListener("keydown",a,{capture:!0})},[r,t])}var dZ="DismissableLayer",qN="dismissableLayer.update",uZ="dismissableLayer.pointerDownOutside",mZ="dismissableLayer.focusOutside",zE,EI=p.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Xc=p.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:a,onPointerDownOutside:n,onFocusOutside:i,onInteractOutside:o,onDismiss:l,...c}=e,d=p.useContext(EI),[u,m]=p.useState(null),h=(u==null?void 0:u.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,f]=p.useState({}),g=Me(t,_=>m(_)),x=Array.from(d.layers),[y]=[...d.layersWithOutsidePointerEventsDisabled].slice(-1),v=x.indexOf(y),b=u?x.indexOf(u):-1,j=d.layersWithOutsidePointerEventsDisabled.size>0,N=b>=v,w=fZ(_=>{const C=_.target,E=[...d.branches].some(T=>T.contains(C));!N||E||(n==null||n(_),o==null||o(_),_.defaultPrevented||l==null||l())},h),S=pZ(_=>{const C=_.target;[...d.branches].some(T=>T.contains(C))||(i==null||i(_),o==null||o(_),_.defaultPrevented||l==null||l())},h);return cZ(_=>{b===d.layers.size-1&&(a==null||a(_),!_.defaultPrevented&&l&&(_.preventDefault(),l()))},h),p.useEffect(()=>{if(u)return r&&(d.layersWithOutsidePointerEventsDisabled.size===0&&(zE=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),d.layersWithOutsidePointerEventsDisabled.add(u)),d.layers.add(u),UE(),()=>{r&&d.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=zE)}},[u,h,r,d]),p.useEffect(()=>()=>{u&&(d.layers.delete(u),d.layersWithOutsidePointerEventsDisabled.delete(u),UE())},[u,d]),p.useEffect(()=>{const _=()=>f({});return document.addEventListener(qN,_),()=>document.removeEventListener(qN,_)},[]),s.jsx(ge.div,{...c,ref:g,style:{pointerEvents:j?N?"auto":"none":void 0,...e.style},onFocusCapture:ce(e.onFocusCapture,S.onFocusCapture),onBlurCapture:ce(e.onBlurCapture,S.onBlurCapture),onPointerDownCapture:ce(e.onPointerDownCapture,w.onPointerDownCapture)})});Xc.displayName=dZ;var hZ="DismissableLayerBranch",AI=p.forwardRef((e,t)=>{const r=p.useContext(EI),a=p.useRef(null),n=Me(t,a);return p.useEffect(()=>{const i=a.current;if(i)return r.branches.add(i),()=>{r.branches.delete(i)}},[r.branches]),s.jsx(ge.div,{...e,ref:n})});AI.displayName=hZ;function fZ(e,t=globalThis==null?void 0:globalThis.document){const r=ss(e),a=p.useRef(!1),n=p.useRef(()=>{});return p.useEffect(()=>{const i=l=>{if(l.target&&!a.current){let c=function(){TI(uZ,r,d,{discrete:!0})};const d={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",n.current),n.current=c,t.addEventListener("click",n.current,{once:!0})):c()}else t.removeEventListener("click",n.current);a.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",i),t.removeEventListener("click",n.current)}},[t,r]),{onPointerDownCapture:()=>a.current=!0}}function pZ(e,t=globalThis==null?void 0:globalThis.document){const r=ss(e),a=p.useRef(!1);return p.useEffect(()=>{const n=i=>{i.target&&!a.current&&TI(mZ,r,{originalEvent:i},{discrete:!1})};return t.addEventListener("focusin",n),()=>t.removeEventListener("focusin",n)},[t,r]),{onFocusCapture:()=>a.current=!0,onBlurCapture:()=>a.current=!1}}function UE(){const e=new CustomEvent(qN);document.dispatchEvent(e)}function TI(e,t,r,{discrete:a}){const n=r.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&n.addEventListener(e,t,{once:!0}),a?qS(n,i):n.dispatchEvent(i)}var xZ=Xc,gZ=AI,ns=globalThis!=null&&globalThis.document?p.useLayoutEffect:()=>{},vZ="Portal",lm=p.forwardRef((e,t)=>{var l;const{container:r,...a}=e,[n,i]=p.useState(!1);ns(()=>i(!0),[]);const o=r||n&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return o?TR.createPortal(s.jsx(ge.div,{...a,ref:t}),o):null});lm.displayName=vZ;function yZ(e,t){return p.useReducer((r,a)=>t[r][a]??r,e)}var bs=e=>{const{present:t,children:r}=e,a=bZ(t),n=typeof r=="function"?r({present:a.isPresent}):p.Children.only(r),i=Me(a.ref,jZ(n));return typeof r=="function"||a.isPresent?p.cloneElement(n,{ref:i}):null};bs.displayName="Presence";function bZ(e){const[t,r]=p.useState(),a=p.useRef(null),n=p.useRef(e),i=p.useRef("none"),o=e?"mounted":"unmounted",[l,c]=yZ(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return p.useEffect(()=>{const d=hx(a.current);i.current=l==="mounted"?d:"none"},[l]),ns(()=>{const d=a.current,u=n.current;if(u!==e){const h=i.current,f=hx(d);e?c("MOUNT"):f==="none"||(d==null?void 0:d.display)==="none"?c("UNMOUNT"):c(u&&h!==f?"ANIMATION_OUT":"UNMOUNT"),n.current=e}},[e,c]),ns(()=>{if(t){let d;const u=t.ownerDocument.defaultView??window,m=f=>{const x=hx(a.current).includes(f.animationName);if(f.target===t&&x&&(c("ANIMATION_END"),!n.current)){const y=t.style.animationFillMode;t.style.animationFillMode="forwards",d=u.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=y)})}},h=f=>{f.target===t&&(i.current=hx(a.current))};return t.addEventListener("animationstart",h),t.addEventListener("animationcancel",m),t.addEventListener("animationend",m),()=>{u.clearTimeout(d),t.removeEventListener("animationstart",h),t.removeEventListener("animationcancel",m),t.removeEventListener("animationend",m)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:p.useCallback(d=>{a.current=d?getComputedStyle(d):null,r(d)},[])}}function hx(e){return(e==null?void 0:e.animationName)||"none"}function jZ(e){var a,n;let t=(a=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(n=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var wZ=z2[" useInsertionEffect ".trim().toString()]||ns;function Vr({prop:e,defaultProp:t,onChange:r=()=>{},caller:a}){const[n,i,o]=NZ({defaultProp:t,onChange:r}),l=e!==void 0,c=l?e:n;{const u=p.useRef(e!==void 0);p.useEffect(()=>{const m=u.current;m!==l&&console.warn(`${a} is changing from ${m?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),u.current=l},[l,a])}const d=p.useCallback(u=>{var m;if(l){const h=SZ(u)?u(e):u;h!==e&&((m=o.current)==null||m.call(o,h))}else i(u)},[l,e,i,o]);return[c,d]}function NZ({defaultProp:e,onChange:t}){const[r,a]=p.useState(e),n=p.useRef(r),i=p.useRef(t);return wZ(()=>{i.current=t},[t]),p.useEffect(()=>{var o;n.current!==r&&((o=i.current)==null||o.call(i,r),n.current=r)},[r,n]),[r,a,i]}function SZ(e){return typeof e=="function"}var MI=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),_Z="VisuallyHidden",C0=p.forwardRef((e,t)=>s.jsx(ge.span,{...e,ref:t,style:{...MI,...e.style}}));C0.displayName=_Z;var CZ=C0,VS="ToastProvider",[WS,kZ,PZ]=Qf("Toast"),[OI,WOe]=ys("Toast",[PZ]),[EZ,k0]=OI(VS),DI=e=>{const{__scopeToast:t,label:r="Notification",duration:a=5e3,swipeDirection:n="right",swipeThreshold:i=50,children:o}=e,[l,c]=p.useState(null),[d,u]=p.useState(0),m=p.useRef(!1),h=p.useRef(!1);return r.trim()||console.error(`Invalid prop \`label\` supplied to \`${VS}\`. Expected non-empty \`string\`.`),s.jsx(WS.Provider,{scope:t,children:s.jsx(EZ,{scope:t,label:r,duration:a,swipeDirection:n,swipeThreshold:i,toastCount:d,viewport:l,onViewportChange:c,onToastAdd:p.useCallback(()=>u(f=>f+1),[]),onToastRemove:p.useCallback(()=>u(f=>f-1),[]),isFocusedToastEscapeKeyDownRef:m,isClosePausedRef:h,children:o})})};DI.displayName=VS;var RI="ToastViewport",AZ=["F8"],VN="toast.viewportPause",WN="toast.viewportResume",II=p.forwardRef((e,t)=>{const{__scopeToast:r,hotkey:a=AZ,label:n="Notifications ({hotkey})",...i}=e,o=k0(RI,r),l=kZ(r),c=p.useRef(null),d=p.useRef(null),u=p.useRef(null),m=p.useRef(null),h=Me(t,m,o.onViewportChange),f=a.join("+").replace(/Key/g,"").replace(/Digit/g,""),g=o.toastCount>0;p.useEffect(()=>{const y=v=>{var j;a.length!==0&&a.every(N=>v[N]||v.code===N)&&((j=m.current)==null||j.focus())};return document.addEventListener("keydown",y),()=>document.removeEventListener("keydown",y)},[a]),p.useEffect(()=>{const y=c.current,v=m.current;if(g&&y&&v){const b=()=>{if(!o.isClosePausedRef.current){const S=new CustomEvent(VN);v.dispatchEvent(S),o.isClosePausedRef.current=!0}},j=()=>{if(o.isClosePausedRef.current){const S=new CustomEvent(WN);v.dispatchEvent(S),o.isClosePausedRef.current=!1}},N=S=>{!y.contains(S.relatedTarget)&&j()},w=()=>{y.contains(document.activeElement)||j()};return y.addEventListener("focusin",b),y.addEventListener("focusout",N),y.addEventListener("pointermove",b),y.addEventListener("pointerleave",w),window.addEventListener("blur",b),window.addEventListener("focus",j),()=>{y.removeEventListener("focusin",b),y.removeEventListener("focusout",N),y.removeEventListener("pointermove",b),y.removeEventListener("pointerleave",w),window.removeEventListener("blur",b),window.removeEventListener("focus",j)}}},[g,o.isClosePausedRef]);const x=p.useCallback(({tabbingDirection:y})=>{const b=l().map(j=>{const N=j.ref.current,w=[N,...qZ(N)];return y==="forwards"?w:w.reverse()});return(y==="forwards"?b.reverse():b).flat()},[l]);return p.useEffect(()=>{const y=m.current;if(y){const v=b=>{var w,S,_;const j=b.altKey||b.ctrlKey||b.metaKey;if(b.key==="Tab"&&!j){const C=document.activeElement,E=b.shiftKey;if(b.target===y&&E){(w=d.current)==null||w.focus();return}const P=x({tabbingDirection:E?"backwards":"forwards"}),D=P.findIndex(I=>I===C);mj(P.slice(D+1))?b.preventDefault():E?(S=d.current)==null||S.focus():(_=u.current)==null||_.focus()}};return y.addEventListener("keydown",v),()=>y.removeEventListener("keydown",v)}},[l,x]),s.jsxs(gZ,{ref:c,role:"region","aria-label":n.replace("{hotkey}",f),tabIndex:-1,style:{pointerEvents:g?void 0:"none"},children:[g&&s.jsx(HN,{ref:d,onFocusFromOutsideViewport:()=>{const y=x({tabbingDirection:"forwards"});mj(y)}}),s.jsx(WS.Slot,{scope:r,children:s.jsx(ge.ol,{tabIndex:-1,...i,ref:h})}),g&&s.jsx(HN,{ref:u,onFocusFromOutsideViewport:()=>{const y=x({tabbingDirection:"backwards"});mj(y)}})]})});II.displayName=RI;var FI="ToastFocusProxy",HN=p.forwardRef((e,t)=>{const{__scopeToast:r,onFocusFromOutsideViewport:a,...n}=e,i=k0(FI,r);return s.jsx(C0,{"aria-hidden":!0,tabIndex:0,...n,ref:t,style:{position:"fixed"},onFocus:o=>{var d;const l=o.relatedTarget;!((d=i.viewport)!=null&&d.contains(l))&&a()}})});HN.displayName=FI;var Jf="Toast",TZ="toast.swipeStart",MZ="toast.swipeMove",OZ="toast.swipeCancel",DZ="toast.swipeEnd",LI=p.forwardRef((e,t)=>{const{forceMount:r,open:a,defaultOpen:n,onOpenChange:i,...o}=e,[l,c]=Vr({prop:a,defaultProp:n??!0,onChange:i,caller:Jf});return s.jsx(bs,{present:r||l,children:s.jsx(FZ,{open:l,...o,ref:t,onClose:()=>c(!1),onPause:ss(e.onPause),onResume:ss(e.onResume),onSwipeStart:ce(e.onSwipeStart,d=>{d.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:ce(e.onSwipeMove,d=>{const{x:u,y:m}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","move"),d.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${u}px`),d.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${m}px`)}),onSwipeCancel:ce(e.onSwipeCancel,d=>{d.currentTarget.setAttribute("data-swipe","cancel"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:ce(e.onSwipeEnd,d=>{const{x:u,y:m}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","end"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${u}px`),d.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${m}px`),c(!1)})})})});LI.displayName=Jf;var[RZ,IZ]=OI(Jf,{onClose(){}}),FZ=p.forwardRef((e,t)=>{const{__scopeToast:r,type:a="foreground",duration:n,open:i,onClose:o,onEscapeKeyDown:l,onPause:c,onResume:d,onSwipeStart:u,onSwipeMove:m,onSwipeCancel:h,onSwipeEnd:f,...g}=e,x=k0(Jf,r),[y,v]=p.useState(null),b=Me(t,I=>v(I)),j=p.useRef(null),N=p.useRef(null),w=n||x.duration,S=p.useRef(0),_=p.useRef(w),C=p.useRef(0),{onToastAdd:E,onToastRemove:T}=x,k=ss(()=>{var V;(y==null?void 0:y.contains(document.activeElement))&&((V=x.viewport)==null||V.focus()),o()}),P=p.useCallback(I=>{!I||I===1/0||(window.clearTimeout(C.current),S.current=new Date().getTime(),C.current=window.setTimeout(k,I))},[k]);p.useEffect(()=>{const I=x.viewport;if(I){const V=()=>{P(_.current),d==null||d()},W=()=>{const R=new Date().getTime()-S.current;_.current=_.current-R,window.clearTimeout(C.current),c==null||c()};return I.addEventListener(VN,W),I.addEventListener(WN,V),()=>{I.removeEventListener(VN,W),I.removeEventListener(WN,V)}}},[x.viewport,w,c,d,P]),p.useEffect(()=>{i&&!x.isClosePausedRef.current&&P(w)},[i,w,x.isClosePausedRef,P]),p.useEffect(()=>(E(),()=>T()),[E,T]);const D=p.useMemo(()=>y?WI(y):null,[y]);return x.viewport?s.jsxs(s.Fragment,{children:[D&&s.jsx(LZ,{__scopeToast:r,role:"status","aria-live":a==="foreground"?"assertive":"polite","aria-atomic":!0,children:D}),s.jsx(RZ,{scope:r,onClose:k,children:ao.createPortal(s.jsx(WS.ItemSlot,{scope:r,children:s.jsx(xZ,{asChild:!0,onEscapeKeyDown:ce(l,()=>{x.isFocusedToastEscapeKeyDownRef.current||k(),x.isFocusedToastEscapeKeyDownRef.current=!1}),children:s.jsx(ge.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":x.swipeDirection,...g,ref:b,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:ce(e.onKeyDown,I=>{I.key==="Escape"&&(l==null||l(I.nativeEvent),I.nativeEvent.defaultPrevented||(x.isFocusedToastEscapeKeyDownRef.current=!0,k()))}),onPointerDown:ce(e.onPointerDown,I=>{I.button===0&&(j.current={x:I.clientX,y:I.clientY})}),onPointerMove:ce(e.onPointerMove,I=>{if(!j.current)return;const V=I.clientX-j.current.x,W=I.clientY-j.current.y,R=!!N.current,F=["left","right"].includes(x.swipeDirection),H=["left","up"].includes(x.swipeDirection)?Math.min:Math.max,Z=F?H(0,V):0,B=F?0:H(0,W),K=I.pointerType==="touch"?10:2,Q={x:Z,y:B},ie={originalEvent:I,delta:Q};R?(N.current=Q,fx(MZ,m,ie,{discrete:!1})):qE(Q,x.swipeDirection,K)?(N.current=Q,fx(TZ,u,ie,{discrete:!1}),I.target.setPointerCapture(I.pointerId)):(Math.abs(V)>K||Math.abs(W)>K)&&(j.current=null)}),onPointerUp:ce(e.onPointerUp,I=>{const V=N.current,W=I.target;if(W.hasPointerCapture(I.pointerId)&&W.releasePointerCapture(I.pointerId),N.current=null,j.current=null,V){const R=I.currentTarget,F={originalEvent:I,delta:V};qE(V,x.swipeDirection,x.swipeThreshold)?fx(DZ,f,F,{discrete:!0}):fx(OZ,h,F,{discrete:!0}),R.addEventListener("click",H=>H.preventDefault(),{once:!0})}})})})}),x.viewport)})]}):null}),LZ=e=>{const{__scopeToast:t,children:r,...a}=e,n=k0(Jf,t),[i,o]=p.useState(!1),[l,c]=p.useState(!1);return zZ(()=>o(!0)),p.useEffect(()=>{const d=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(d)},[]),l?null:s.jsx(lm,{asChild:!0,children:s.jsx(C0,{...a,children:i&&s.jsxs(s.Fragment,{children:[n.label," ",r]})})})},$Z="ToastTitle",$I=p.forwardRef((e,t)=>{const{__scopeToast:r,...a}=e;return s.jsx(ge.div,{...a,ref:t})});$I.displayName=$Z;var BZ="ToastDescription",BI=p.forwardRef((e,t)=>{const{__scopeToast:r,...a}=e;return s.jsx(ge.div,{...a,ref:t})});BI.displayName=BZ;var zI="ToastAction",UI=p.forwardRef((e,t)=>{const{altText:r,...a}=e;return r.trim()?s.jsx(VI,{altText:r,asChild:!0,children:s.jsx(HS,{...a,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${zI}\`. Expected non-empty \`string\`.`),null)});UI.displayName=zI;var qI="ToastClose",HS=p.forwardRef((e,t)=>{const{__scopeToast:r,...a}=e,n=IZ(qI,r);return s.jsx(VI,{asChild:!0,children:s.jsx(ge.button,{type:"button",...a,ref:t,onClick:ce(e.onClick,n.onClose)})})});HS.displayName=qI;var VI=p.forwardRef((e,t)=>{const{__scopeToast:r,altText:a,...n}=e;return s.jsx(ge.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":a||void 0,...n,ref:t})});function WI(e){const t=[];return Array.from(e.childNodes).forEach(a=>{if(a.nodeType===a.TEXT_NODE&&a.textContent&&t.push(a.textContent),UZ(a)){const n=a.ariaHidden||a.hidden||a.style.display==="none",i=a.dataset.radixToastAnnounceExclude==="";if(!n)if(i){const o=a.dataset.radixToastAnnounceAlt;o&&t.push(o)}else t.push(...WI(a))}}),t}function fx(e,t,r,{discrete:a}){const n=r.originalEvent.currentTarget,i=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:r});t&&n.addEventListener(e,t,{once:!0}),a?qS(n,i):n.dispatchEvent(i)}var qE=(e,t,r=0)=>{const a=Math.abs(e.x),n=Math.abs(e.y),i=a>n;return t==="left"||t==="right"?i&&a>r:!i&&n>r};function zZ(e=()=>{}){const t=ss(e);ns(()=>{let r=0,a=0;return r=window.requestAnimationFrame(()=>a=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(r),window.cancelAnimationFrame(a)}},[t])}function UZ(e){return e.nodeType===e.ELEMENT_NODE}function qZ(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:a=>{const n=a.tagName==="INPUT"&&a.type==="hidden";return a.disabled||a.hidden||n?NodeFilter.FILTER_SKIP:a.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function mj(e){const t=document.activeElement;return e.some(r=>r===t?!0:(r.focus(),document.activeElement!==t))}var VZ=DI,HI=II,KI=LI,GI=$I,YI=BI,XI=UI,QI=HS;function JI(e){var t,r,a="";if(typeof e=="string"||typeof e=="number")a+=e;else if(typeof e=="object")if(Array.isArray(e)){var n=e.length;for(t=0;t<n;t++)e[t]&&(r=JI(e[t]))&&(a&&(a+=" "),a+=r)}else for(r in e)e[r]&&(a&&(a+=" "),a+=r);return a}function Ie(){for(var e,t,r=0,a="",n=arguments.length;r<n;r++)(e=arguments[r])&&(t=JI(e))&&(a&&(a+=" "),a+=t);return a}const VE=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,WE=Ie,cm=(e,t)=>r=>{var a;if((t==null?void 0:t.variants)==null)return WE(e,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:n,defaultVariants:i}=t,o=Object.keys(n).map(d=>{const u=r==null?void 0:r[d],m=i==null?void 0:i[d];if(u===null)return null;const h=VE(u)||VE(m);return n[d][h]}),l=r&&Object.entries(r).reduce((d,u)=>{let[m,h]=u;return h===void 0||(d[m]=h),d},{}),c=t==null||(a=t.compoundVariants)===null||a===void 0?void 0:a.reduce((d,u)=>{let{class:m,className:h,...f}=u;return Object.entries(f).every(g=>{let[x,y]=g;return Array.isArray(y)?y.includes({...i,...l}[x]):{...i,...l}[x]===y})?[...d,m,h]:d},[]);return WE(e,o,c,r==null?void 0:r.class,r==null?void 0:r.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WZ=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),ZI=(...e)=>e.filter((t,r,a)=>!!t&&t.trim()!==""&&a.indexOf(t)===r).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var HZ={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KZ=p.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:a,className:n="",children:i,iconNode:o,...l},c)=>p.createElement("svg",{ref:c,...HZ,width:t,height:t,stroke:e,strokeWidth:a?Number(r)*24/Number(t):r,className:ZI("lucide",n),...l},[...o.map(([d,u])=>p.createElement(d,u)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ne=(e,t)=>{const r=p.forwardRef(({className:a,...n},i)=>p.createElement(KZ,{ref:i,iconNode:t,className:ZI(`lucide-${WZ(e)}`,a),...n}));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Te=ne("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KS=ne("Apple",[["path",{d:"M12 20.94c1.5 0 2.75 1.06 4 1.06 3 0 6-8 6-12.22A4.91 4.91 0 0 0 17 5c-2.22 0-4 1.44-5 2-1-.56-2.78-2-5-2a4.9 4.9 0 0 0-5 4.78C2 14 5 22 8 22c1.25 0 2.5-1.06 4-1.06Z",key:"3s7exb"}],["path",{d:"M10 2c1 .5 2 2 2 5",key:"fcco2y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wr=ne("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HE=ne("ArrowRightLeft",[["path",{d:"m16 3 4 4-4 4",key:"1x1c3m"}],["path",{d:"M20 7H4",key:"zbl0bi"}],["path",{d:"m8 21-4-4 4-4",key:"h9nckh"}],["path",{d:"M4 17h16",key:"g4d7ey"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ml=ne("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jt=ne("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e6=ne("Battery",[["rect",{width:"16",height:"10",x:"2",y:"7",rx:"2",ry:"2",key:"1w10f2"}],["line",{x1:"22",x2:"22",y1:"11",y2:"13",key:"4dh1rd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KN=ne("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rf=ne("Bluetooth",[["path",{d:"m7 7 10 10-5 5V2l5 5L7 17",key:"1q5490"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const px=ne("BookMarked",[["path",{d:"M10 2v8l3-3 3 3V2",key:"sqw3rj"}],["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const as=ne("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GS=ne("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ds=ne("Brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cg=ne("Bug",[["path",{d:"m8 2 1.88 1.88",key:"fmnt4t"}],["path",{d:"M14.12 3.88 16 2",key:"qol33r"}],["path",{d:"M9 7.13v-1a3.003 3.003 0 1 1 6 0v1",key:"d7y7pr"}],["path",{d:"M12 20c-3.3 0-6-2.7-6-6v-3a4 4 0 0 1 4-4h4a4 4 0 0 1 4 4v3c0 3.3-2.7 6-6 6",key:"xs1cw7"}],["path",{d:"M12 20v-9",key:"1qisl0"}],["path",{d:"M6.53 9C4.6 8.8 3 7.1 3 5",key:"32zzws"}],["path",{d:"M6 13H2",key:"82j7cp"}],["path",{d:"M3 21c0-2.1 1.7-3.9 3.8-4",key:"4p0ekp"}],["path",{d:"M20.97 5c0 2.1-1.6 3.8-3.5 4",key:"18gb23"}],["path",{d:"M22 13h-4",key:"1jl80f"}],["path",{d:"M17.2 17c2.1.1 3.8 1.9 3.8 4",key:"k3fwyw"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t6=ne("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GZ=ne("Calculator",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vt=ne("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dm=ne("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ar=ne("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KE=ne("ChartPie",[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dc=ne("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P0=ne("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YZ=ne("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pu=ne("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YS=ne("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ls=ne("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Se=ne("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s6=ne("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hj=ne("CircleHelp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xx=ne("CirclePlay",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polygon",{points:"10 8 16 12 10 16 10 8",key:"1cimsy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const za=ne("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r6=ne("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xt=ne("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XZ=ne("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yg=ne("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qn=ne("Crown",[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _h=ne("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E0=ne("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zf=ne("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bi=ne("Droplets",[["path",{d:"M7 16.3c2.2 0 4-1.83 4-4.05 0-1.16-.57-2.26-1.71-3.19S7.29 6.75 7 5.3c-.29 1.45-1.14 2.84-2.29 3.76S3 11.1 3 12.25c0 2.22 1.8 4.05 4 4.05z",key:"1ptgy4"}],["path",{d:"M12.56 6.6A10.97 10.97 0 0 0 14 3.02c.5 2.5 2 4.9 4 6.5s3 3.5 3 5.5a6.98 6.98 0 0 1-11.91 4.97",key:"1sl1rz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a6=ne("Dumbbell",[["path",{d:"M14.4 14.4 9.6 9.6",key:"ic80wn"}],["path",{d:"M18.657 21.485a2 2 0 1 1-2.829-2.828l-1.767 1.768a2 2 0 1 1-2.829-2.829l6.364-6.364a2 2 0 1 1 2.829 2.829l-1.768 1.767a2 2 0 1 1 2.828 2.829z",key:"nnl7wr"}],["path",{d:"m21.5 21.5-1.4-1.4",key:"1f1ice"}],["path",{d:"M3.9 3.9 2.5 2.5",key:"1evmna"}],["path",{d:"M6.404 12.768a2 2 0 1 1-2.829-2.829l1.768-1.767a2 2 0 1 1-2.828-2.829l2.828-2.828a2 2 0 1 1 2.829 2.828l1.767-1.768a2 2 0 1 1 2.829 2.829z",key:"yhosts"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n6=ne("Ellipsis",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pi=ne("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ni=ne("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ss=ne("Flame",[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XS=ne("Footprints",[["path",{d:"M4 16v-2.38C4 11.5 2.97 10.5 3 8c.03-2.72 1.49-6 4.5-6C9.37 2 10 3.8 10 5.5c0 3.11-2 5.66-2 8.68V16a2 2 0 1 1-4 0Z",key:"1dudjm"}],["path",{d:"M20 20v-2.38c0-2.12 1.03-3.12 1-5.62-.03-2.72-1.49-6-4.5-6C14.63 6 14 7.8 14 9.5c0 3.11 2 5.66 2 8.68V20a2 2 0 1 0 4 0Z",key:"l2t8xc"}],["path",{d:"M16 17h4",key:"1dejxt"}],["path",{d:"M4 13h4",key:"1bwh8b"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QZ=ne("Gamepad2",[["line",{x1:"6",x2:"10",y1:"11",y2:"11",key:"1gktln"}],["line",{x1:"8",x2:"8",y1:"9",y2:"13",key:"qnk9ow"}],["line",{x1:"15",x2:"15.01",y1:"12",y2:"12",key:"krot7o"}],["line",{x1:"18",x2:"18.01",y1:"10",y2:"10",key:"1lcuu1"}],["path",{d:"M17.32 5H6.68a4 4 0 0 0-3.978 3.59c-.006.052-.01.101-.017.152C2.604 9.416 2 14.456 2 16a3 3 0 0 0 3 3c1 0 1.5-.5 2-1l1.414-1.414A2 2 0 0 1 9.828 16h4.344a2 2 0 0 1 1.414.586L17 18c.5.5 1 1 2 1a3 3 0 0 0 3-3c0-1.545-.604-6.584-.685-7.258-.007-.05-.011-.1-.017-.151A4 4 0 0 0 17.32 5z",key:"mfqc10"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JZ=ne("Gem",[["path",{d:"M6 3h12l4 6-10 13L2 9Z",key:"1pcd5k"}],["path",{d:"M11 3 8 9l4 13 4-13-3-6",key:"1fcu3u"}],["path",{d:"M2 9h20",key:"16fsjt"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GN=ne("Gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZZ=ne("GraduationCap",[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const He=ne("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eee=ne("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rc=ne("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QS=ne("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tee=ne("List",[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eu=ne("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const af=ne("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A0=ne("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ei=ne("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ep=ne("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nf=ne("Medal",[["path",{d:"M7.21 15 2.66 7.14a2 2 0 0 1 .13-2.2L4.4 2.8A2 2 0 0 1 6 2h12a2 2 0 0 1 1.6.8l1.6 2.14a2 2 0 0 1 .14 2.2L16.79 15",key:"143lza"}],["path",{d:"M11 12 5.12 2.2",key:"qhuxz6"}],["path",{d:"m13 12 5.88-9.8",key:"hbye0f"}],["path",{d:"M8 7h8",key:"i86dvs"}],["circle",{cx:"12",cy:"17",r:"5",key:"qbz8iq"}],["path",{d:"M12 18v-2h-.5",key:"fawc4q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GE=ne("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zi=ne("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T0=ne("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YN=ne("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fj=ne("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ii=ne("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i6=ne("Navigation",[["polygon",{points:"3 11 22 2 13 21 11 13 3 11",key:"1ltx0t"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o6=ne("Pause",[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ch=ne("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.376 3.622a1 1 0 0 1 3.002 3.002L7.368 18.635a2 2 0 0 1-.855.506l-2.872.838a.5.5 0 0 1-.62-.62l.838-2.872a2 2 0 0 1 .506-.854z",key:"1ykcvy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l6=ne("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rr=ne("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _s=ne("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c6=ne("Printer",[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gn=ne("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JS=ne("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const of=ne("Ruler",[["path",{d:"M21.3 15.3a2.4 2.4 0 0 1 0 3.4l-2.6 2.6a2.4 2.4 0 0 1-3.4 0L2.7 8.7a2.41 2.41 0 0 1 0-3.4l2.6-2.6a2.41 2.41 0 0 1 3.4 0Z",key:"icamh8"}],["path",{d:"m14.5 12.5 2-2",key:"inckbg"}],["path",{d:"m11.5 9.5 2-2",key:"fmmyf7"}],["path",{d:"m8.5 6.5 2-2",key:"vc6u1g"}],["path",{d:"m17.5 15.5 2-2",key:"wo5hmg"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ia=ne("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _t=ne("Scale",[["path",{d:"m16 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"7g6ntu"}],["path",{d:"m2 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"ijws7r"}],["path",{d:"M7 21h10",key:"1b0cd5"}],["path",{d:"M12 3v18",key:"108xh3"}],["path",{d:"M3 7h2c2 0 5-1 7-2 2 1 5 2 7 2h2",key:"3gwbw2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const um=ne("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hn=ne("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const see=ne("Server",[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hs=ne("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZS=ne("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d6=ne("Share",[["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["polyline",{points:"16 6 12 2 8 6",key:"m901s6"}],["line",{x1:"12",x2:"12",y1:"2",y2:"15",key:"1p0rca"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Da=ne("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ree=ne("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XN=ne("Smile",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 14s1.5 2 4 2 4-2 4-2",key:"1y1vjs"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ta=ne("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hl=ne("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aee=ne("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nee=ne("StarOff",[["path",{d:"M8.34 8.34 2 9.27l5 4.87L5.82 21 12 17.77 18.18 21l-.59-3.43",key:"16m0ql"}],["path",{d:"M18.42 12.76 22 9.27l-6.91-1L12 2l-1.44 2.91",key:"1vt8nq"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kt=ne("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iee=ne("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _e=ne("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oee=ne("TestTube",[["path",{d:"M14.5 2v17.5c0 1.4-1.1 2.5-2.5 2.5c-1.4 0-2.5-1.1-2.5-2.5V2",key:"125lnx"}],["path",{d:"M8.5 2h7",key:"csnxdl"}],["path",{d:"M14.5 16h-5",key:"1ox875"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tp=ne("Timer",[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fl=ne("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mm=ne("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ye=ne("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bt=ne("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Be=ne("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xg=ne("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lee=ne("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u6=ne("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ui=ne("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Le=ne("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ta=ne("Video",[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m6=ne("Wifi",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cee=ne("Wrench",[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z",key:"cbrjhi"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nr=ne("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const us=ne("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),e_="-",dee=e=>{const t=mee(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:a}=e;return{getClassGroupId:o=>{const l=o.split(e_);return l[0]===""&&l.length!==1&&l.shift(),h6(l,t)||uee(o)},getConflictingClassGroupIds:(o,l)=>{const c=r[o]||[];return l&&a[o]?[...c,...a[o]]:c}}},h6=(e,t)=>{var o;if(e.length===0)return t.classGroupId;const r=e[0],a=t.nextPart.get(r),n=a?h6(e.slice(1),a):void 0;if(n)return n;if(t.validators.length===0)return;const i=e.join(e_);return(o=t.validators.find(({validator:l})=>l(i)))==null?void 0:o.classGroupId},YE=/^\[(.+)\]$/,uee=e=>{if(YE.test(e)){const t=YE.exec(e)[1],r=t==null?void 0:t.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},mee=e=>{const{theme:t,prefix:r}=e,a={nextPart:new Map,validators:[]};return fee(Object.entries(e.classGroups),r).forEach(([i,o])=>{QN(o,a,i,t)}),a},QN=(e,t,r,a)=>{e.forEach(n=>{if(typeof n=="string"){const i=n===""?t:XE(t,n);i.classGroupId=r;return}if(typeof n=="function"){if(hee(n)){QN(n(a),t,r,a);return}t.validators.push({validator:n,classGroupId:r});return}Object.entries(n).forEach(([i,o])=>{QN(o,XE(t,i),r,a)})})},XE=(e,t)=>{let r=e;return t.split(e_).forEach(a=>{r.nextPart.has(a)||r.nextPart.set(a,{nextPart:new Map,validators:[]}),r=r.nextPart.get(a)}),r},hee=e=>e.isThemeGetter,fee=(e,t)=>t?e.map(([r,a])=>{const n=a.map(i=>typeof i=="string"?t+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,l])=>[t+o,l])):i);return[r,n]}):e,pee=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,a=new Map;const n=(i,o)=>{r.set(i,o),t++,t>e&&(t=0,a=r,r=new Map)};return{get(i){let o=r.get(i);if(o!==void 0)return o;if((o=a.get(i))!==void 0)return n(i,o),o},set(i,o){r.has(i)?r.set(i,o):n(i,o)}}},f6="!",xee=e=>{const{separator:t,experimentalParseClassName:r}=e,a=t.length===1,n=t[0],i=t.length,o=l=>{const c=[];let d=0,u=0,m;for(let y=0;y<l.length;y++){let v=l[y];if(d===0){if(v===n&&(a||l.slice(y,y+i)===t)){c.push(l.slice(u,y)),u=y+i;continue}if(v==="/"){m=y;continue}}v==="["?d++:v==="]"&&d--}const h=c.length===0?l:l.substring(u),f=h.startsWith(f6),g=f?h.substring(1):h,x=m&&m>u?m-u:void 0;return{modifiers:c,hasImportantModifier:f,baseClassName:g,maybePostfixModifierPosition:x}};return r?l=>r({className:l,parseClassName:o}):o},gee=e=>{if(e.length<=1)return e;const t=[];let r=[];return e.forEach(a=>{a[0]==="["?(t.push(...r.sort(),a),r=[]):r.push(a)}),t.push(...r.sort()),t},vee=e=>({cache:pee(e.cacheSize),parseClassName:xee(e),...dee(e)}),yee=/\s+/,bee=(e,t)=>{const{parseClassName:r,getClassGroupId:a,getConflictingClassGroupIds:n}=t,i=[],o=e.trim().split(yee);let l="";for(let c=o.length-1;c>=0;c-=1){const d=o[c],{modifiers:u,hasImportantModifier:m,baseClassName:h,maybePostfixModifierPosition:f}=r(d);let g=!!f,x=a(g?h.substring(0,f):h);if(!x){if(!g){l=d+(l.length>0?" "+l:l);continue}if(x=a(h),!x){l=d+(l.length>0?" "+l:l);continue}g=!1}const y=gee(u).join(":"),v=m?y+f6:y,b=v+x;if(i.includes(b))continue;i.push(b);const j=n(x,g);for(let N=0;N<j.length;++N){const w=j[N];i.push(v+w)}l=d+(l.length>0?" "+l:l)}return l};function jee(){let e=0,t,r,a="";for(;e<arguments.length;)(t=arguments[e++])&&(r=p6(t))&&(a&&(a+=" "),a+=r);return a}const p6=e=>{if(typeof e=="string")return e;let t,r="";for(let a=0;a<e.length;a++)e[a]&&(t=p6(e[a]))&&(r&&(r+=" "),r+=t);return r};function wee(e,...t){let r,a,n,i=o;function o(c){const d=t.reduce((u,m)=>m(u),e());return r=vee(d),a=r.cache.get,n=r.cache.set,i=l,l(c)}function l(c){const d=a(c);if(d)return d;const u=bee(c,r);return n(c,u),u}return function(){return i(jee.apply(null,arguments))}}const Ot=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},x6=/^\[(?:([a-z-]+):)?(.+)\]$/i,Nee=/^\d+\/\d+$/,See=new Set(["px","full","screen"]),_ee=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Cee=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,kee=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,Pee=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Eee=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,pi=e=>tu(e)||See.has(e)||Nee.test(e),go=e=>hm(e,"length",Fee),tu=e=>!!e&&!Number.isNaN(Number(e)),pj=e=>hm(e,"number",tu),Vm=e=>!!e&&Number.isInteger(Number(e)),Aee=e=>e.endsWith("%")&&tu(e.slice(0,-1)),qe=e=>x6.test(e),vo=e=>_ee.test(e),Tee=new Set(["length","size","percentage"]),Mee=e=>hm(e,Tee,g6),Oee=e=>hm(e,"position",g6),Dee=new Set(["image","url"]),Ree=e=>hm(e,Dee,$ee),Iee=e=>hm(e,"",Lee),Wm=()=>!0,hm=(e,t,r)=>{const a=x6.exec(e);return a?a[1]?typeof t=="string"?a[1]===t:t.has(a[1]):r(a[2]):!1},Fee=e=>Cee.test(e)&&!kee.test(e),g6=()=>!1,Lee=e=>Pee.test(e),$ee=e=>Eee.test(e),Bee=()=>{const e=Ot("colors"),t=Ot("spacing"),r=Ot("blur"),a=Ot("brightness"),n=Ot("borderColor"),i=Ot("borderRadius"),o=Ot("borderSpacing"),l=Ot("borderWidth"),c=Ot("contrast"),d=Ot("grayscale"),u=Ot("hueRotate"),m=Ot("invert"),h=Ot("gap"),f=Ot("gradientColorStops"),g=Ot("gradientColorStopPositions"),x=Ot("inset"),y=Ot("margin"),v=Ot("opacity"),b=Ot("padding"),j=Ot("saturate"),N=Ot("scale"),w=Ot("sepia"),S=Ot("skew"),_=Ot("space"),C=Ot("translate"),E=()=>["auto","contain","none"],T=()=>["auto","hidden","clip","visible","scroll"],k=()=>["auto",qe,t],P=()=>[qe,t],D=()=>["",pi,go],I=()=>["auto",tu,qe],V=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],W=()=>["solid","dashed","dotted","double","none"],R=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],F=()=>["start","end","center","between","around","evenly","stretch"],H=()=>["","0",qe],Z=()=>["auto","avoid","all","avoid-page","page","left","right","column"],B=()=>[tu,qe];return{cacheSize:500,separator:":",theme:{colors:[Wm],spacing:[pi,go],blur:["none","",vo,qe],brightness:B(),borderColor:[e],borderRadius:["none","","full",vo,qe],borderSpacing:P(),borderWidth:D(),contrast:B(),grayscale:H(),hueRotate:B(),invert:H(),gap:P(),gradientColorStops:[e],gradientColorStopPositions:[Aee,go],inset:k(),margin:k(),opacity:B(),padding:P(),saturate:B(),scale:B(),sepia:H(),skew:B(),space:P(),translate:P()},classGroups:{aspect:[{aspect:["auto","square","video",qe]}],container:["container"],columns:[{columns:[vo]}],"break-after":[{"break-after":Z()}],"break-before":[{"break-before":Z()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...V(),qe]}],overflow:[{overflow:T()}],"overflow-x":[{"overflow-x":T()}],"overflow-y":[{"overflow-y":T()}],overscroll:[{overscroll:E()}],"overscroll-x":[{"overscroll-x":E()}],"overscroll-y":[{"overscroll-y":E()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[x]}],"inset-x":[{"inset-x":[x]}],"inset-y":[{"inset-y":[x]}],start:[{start:[x]}],end:[{end:[x]}],top:[{top:[x]}],right:[{right:[x]}],bottom:[{bottom:[x]}],left:[{left:[x]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Vm,qe]}],basis:[{basis:k()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",qe]}],grow:[{grow:H()}],shrink:[{shrink:H()}],order:[{order:["first","last","none",Vm,qe]}],"grid-cols":[{"grid-cols":[Wm]}],"col-start-end":[{col:["auto",{span:["full",Vm,qe]},qe]}],"col-start":[{"col-start":I()}],"col-end":[{"col-end":I()}],"grid-rows":[{"grid-rows":[Wm]}],"row-start-end":[{row:["auto",{span:[Vm,qe]},qe]}],"row-start":[{"row-start":I()}],"row-end":[{"row-end":I()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",qe]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",qe]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal",...F()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...F(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...F(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[b]}],px:[{px:[b]}],py:[{py:[b]}],ps:[{ps:[b]}],pe:[{pe:[b]}],pt:[{pt:[b]}],pr:[{pr:[b]}],pb:[{pb:[b]}],pl:[{pl:[b]}],m:[{m:[y]}],mx:[{mx:[y]}],my:[{my:[y]}],ms:[{ms:[y]}],me:[{me:[y]}],mt:[{mt:[y]}],mr:[{mr:[y]}],mb:[{mb:[y]}],ml:[{ml:[y]}],"space-x":[{"space-x":[_]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[_]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",qe,t]}],"min-w":[{"min-w":[qe,t,"min","max","fit"]}],"max-w":[{"max-w":[qe,t,"none","full","min","max","fit","prose",{screen:[vo]},vo]}],h:[{h:[qe,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[qe,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[qe,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[qe,t,"auto","min","max","fit"]}],"font-size":[{text:["base",vo,go]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",pj]}],"font-family":[{font:[Wm]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",qe]}],"line-clamp":[{"line-clamp":["none",tu,pj]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",pi,qe]}],"list-image":[{"list-image":["none",qe]}],"list-style-type":[{list:["none","disc","decimal",qe]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[v]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[v]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...W(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",pi,go]}],"underline-offset":[{"underline-offset":["auto",pi,qe]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:P()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",qe]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",qe]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[v]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...V(),Oee]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",Mee]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},Ree]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[g]}],"gradient-via-pos":[{via:[g]}],"gradient-to-pos":[{to:[g]}],"gradient-from":[{from:[f]}],"gradient-via":[{via:[f]}],"gradient-to":[{to:[f]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[v]}],"border-style":[{border:[...W(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[v]}],"divide-style":[{divide:W()}],"border-color":[{border:[n]}],"border-color-x":[{"border-x":[n]}],"border-color-y":[{"border-y":[n]}],"border-color-s":[{"border-s":[n]}],"border-color-e":[{"border-e":[n]}],"border-color-t":[{"border-t":[n]}],"border-color-r":[{"border-r":[n]}],"border-color-b":[{"border-b":[n]}],"border-color-l":[{"border-l":[n]}],"divide-color":[{divide:[n]}],"outline-style":[{outline:["",...W()]}],"outline-offset":[{"outline-offset":[pi,qe]}],"outline-w":[{outline:[pi,go]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:D()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[v]}],"ring-offset-w":[{"ring-offset":[pi,go]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",vo,Iee]}],"shadow-color":[{shadow:[Wm]}],opacity:[{opacity:[v]}],"mix-blend":[{"mix-blend":[...R(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":R()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[a]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",vo,qe]}],grayscale:[{grayscale:[d]}],"hue-rotate":[{"hue-rotate":[u]}],invert:[{invert:[m]}],saturate:[{saturate:[j]}],sepia:[{sepia:[w]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[a]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[d]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[u]}],"backdrop-invert":[{"backdrop-invert":[m]}],"backdrop-opacity":[{"backdrop-opacity":[v]}],"backdrop-saturate":[{"backdrop-saturate":[j]}],"backdrop-sepia":[{"backdrop-sepia":[w]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",qe]}],duration:[{duration:B()}],ease:[{ease:["linear","in","out","in-out",qe]}],delay:[{delay:B()}],animate:[{animate:["none","spin","ping","pulse","bounce",qe]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[N]}],"scale-x":[{"scale-x":[N]}],"scale-y":[{"scale-y":[N]}],rotate:[{rotate:[Vm,qe]}],"translate-x":[{"translate-x":[C]}],"translate-y":[{"translate-y":[C]}],"skew-x":[{"skew-x":[S]}],"skew-y":[{"skew-y":[S]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",qe]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",qe]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":P()}],"scroll-mx":[{"scroll-mx":P()}],"scroll-my":[{"scroll-my":P()}],"scroll-ms":[{"scroll-ms":P()}],"scroll-me":[{"scroll-me":P()}],"scroll-mt":[{"scroll-mt":P()}],"scroll-mr":[{"scroll-mr":P()}],"scroll-mb":[{"scroll-mb":P()}],"scroll-ml":[{"scroll-ml":P()}],"scroll-p":[{"scroll-p":P()}],"scroll-px":[{"scroll-px":P()}],"scroll-py":[{"scroll-py":P()}],"scroll-ps":[{"scroll-ps":P()}],"scroll-pe":[{"scroll-pe":P()}],"scroll-pt":[{"scroll-pt":P()}],"scroll-pr":[{"scroll-pr":P()}],"scroll-pb":[{"scroll-pb":P()}],"scroll-pl":[{"scroll-pl":P()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",qe]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[pi,go,pj]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},zee=wee(Bee);function xe(...e){return zee(Ie(e))}const Uee=VZ,v6=p.forwardRef(({className:e,...t},r)=>s.jsx(HI,{ref:r,className:xe("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));v6.displayName=HI.displayName;const qee=cm("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),y6=p.forwardRef(({className:e,variant:t,...r},a)=>s.jsx(KI,{ref:a,className:xe(qee({variant:t}),e),...r}));y6.displayName=KI.displayName;const Vee=p.forwardRef(({className:e,...t},r)=>s.jsx(XI,{ref:r,className:xe("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));Vee.displayName=XI.displayName;const b6=p.forwardRef(({className:e,...t},r)=>s.jsx(QI,{ref:r,className:xe("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:s.jsx(nr,{className:"h-4 w-4"})}));b6.displayName=QI.displayName;const j6=p.forwardRef(({className:e,...t},r)=>s.jsx(GI,{ref:r,className:xe("text-sm font-semibold",e),...t}));j6.displayName=GI.displayName;const w6=p.forwardRef(({className:e,...t},r)=>s.jsx(YI,{ref:r,className:xe("text-sm opacity-90",e),...t}));w6.displayName=YI.displayName;function Wee(){const{toasts:e}=Ee();return s.jsxs(Uee,{children:[e.map(function({id:t,title:r,description:a,action:n,...i}){return s.jsxs(y6,{...i,children:[s.jsxs("div",{className:"grid gap-1",children:[r&&s.jsx(j6,{children:r}),a&&s.jsx(w6,{children:a})]}),n,s.jsx(b6,{})]},t)}),s.jsx(v6,{})]})}var QE=["light","dark"],Hee="(prefers-color-scheme: dark)",Kee=p.createContext(void 0),Gee={setTheme:e=>{},themes:[]},Yee=()=>{var e;return(e=p.useContext(Kee))!=null?e:Gee};p.memo(({forcedTheme:e,storageKey:t,attribute:r,enableSystem:a,enableColorScheme:n,defaultTheme:i,value:o,attrs:l,nonce:c})=>{let d=i==="system",u=r==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${l.map(g=>`'${g}'`).join(",")})`};`:`var d=document.documentElement,n='${r}',s='setAttribute';`,m=n?QE.includes(i)&&i?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${i}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",h=(g,x=!1,y=!0)=>{let v=o?o[g]:g,b=x?g+"|| ''":`'${v}'`,j="";return n&&y&&!x&&QE.includes(g)&&(j+=`d.style.colorScheme = '${g}';`),r==="class"?x||v?j+=`c.add(${b})`:j+="null":v&&(j+=`d[s](n,${b})`),j},f=e?`!function(){${u}${h(e)}}()`:a?`!function(){try{${u}var e=localStorage.getItem('${t}');if('system'===e||(!e&&${d})){var t='${Hee}',m=window.matchMedia(t);if(m.media!==t||m.matches){${h("dark")}}else{${h("light")}}}else if(e){${o?`var x=${JSON.stringify(o)};`:""}${h(o?"x[e]":"e",!0)}}${d?"":"else{"+h(i,!1,!1)+"}"}${m}}catch(e){}}()`:`!function(){try{${u}var e=localStorage.getItem('${t}');if(e){${o?`var x=${JSON.stringify(o)};`:""}${h(o?"x[e]":"e",!0)}}else{${h(i,!1,!1)};}${m}}catch(t){}}();`;return p.createElement("script",{nonce:c,dangerouslySetInnerHTML:{__html:f}})});var Xee=e=>{switch(e){case"success":return Zee;case"info":return tte;case"warning":return ete;case"error":return ste;default:return null}},Qee=Array(12).fill(0),Jee=({visible:e,className:t})=>me.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":e},me.createElement("div",{className:"sonner-spinner"},Qee.map((r,a)=>me.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${a}`})))),Zee=me.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},me.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),ete=me.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},me.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),tte=me.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},me.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),ste=me.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},me.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),rte=me.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},me.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),me.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),ate=()=>{let[e,t]=me.useState(document.hidden);return me.useEffect(()=>{let r=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",r),()=>window.removeEventListener("visibilitychange",r)},[]),e},JN=1,nte=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;let{message:r,...a}=e,n=typeof(e==null?void 0:e.id)=="number"||((t=e.id)==null?void 0:t.length)>0?e.id:JN++,i=this.toasts.find(l=>l.id===n),o=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(n)&&this.dismissedToasts.delete(n),i?this.toasts=this.toasts.map(l=>l.id===n?(this.publish({...l,...e,id:n,title:r}),{...l,...e,id:n,dismissible:o,title:r}):l):this.addToast({title:r,...a,dismissible:o,id:n}),n},this.dismiss=e=>(this.dismissedToasts.add(e),e||this.toasts.forEach(t=>{this.subscribers.forEach(r=>r({id:t.id,dismiss:!0}))}),this.subscribers.forEach(t=>t({id:e,dismiss:!0})),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let r;t.loading!==void 0&&(r=this.create({...t,promise:e,type:"loading",message:t.loading,description:typeof t.description!="function"?t.description:void 0}));let a=e instanceof Promise?e:e(),n=r!==void 0,i,o=a.then(async c=>{if(i=["resolve",c],me.isValidElement(c))n=!1,this.create({id:r,type:"default",message:c});else if(ote(c)&&!c.ok){n=!1;let d=typeof t.error=="function"?await t.error(`HTTP error! status: ${c.status}`):t.error,u=typeof t.description=="function"?await t.description(`HTTP error! status: ${c.status}`):t.description;this.create({id:r,type:"error",message:d,description:u})}else if(t.success!==void 0){n=!1;let d=typeof t.success=="function"?await t.success(c):t.success,u=typeof t.description=="function"?await t.description(c):t.description;this.create({id:r,type:"success",message:d,description:u})}}).catch(async c=>{if(i=["reject",c],t.error!==void 0){n=!1;let d=typeof t.error=="function"?await t.error(c):t.error,u=typeof t.description=="function"?await t.description(c):t.description;this.create({id:r,type:"error",message:d,description:u})}}).finally(()=>{var c;n&&(this.dismiss(r),r=void 0),(c=t.finally)==null||c.call(t)}),l=()=>new Promise((c,d)=>o.then(()=>i[0]==="reject"?d(i[1]):c(i[1])).catch(d));return typeof r!="string"&&typeof r!="number"?{unwrap:l}:Object.assign(r,{unwrap:l})},this.custom=(e,t)=>{let r=(t==null?void 0:t.id)||JN++;return this.create({jsx:e(r),id:r,...t}),r},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},Ar=new nte,ite=(e,t)=>{let r=(t==null?void 0:t.id)||JN++;return Ar.addToast({title:e,...t,id:r}),r},ote=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",lte=ite,cte=()=>Ar.toasts,dte=()=>Ar.getActiveToasts(),sa=Object.assign(lte,{success:Ar.success,info:Ar.info,warning:Ar.warning,error:Ar.error,custom:Ar.custom,message:Ar.message,promise:Ar.promise,dismiss:Ar.dismiss,loading:Ar.loading},{getHistory:cte,getToasts:dte});function ute(e,{insertAt:t}={}){if(typeof document>"u")return;let r=document.head||document.getElementsByTagName("head")[0],a=document.createElement("style");a.type="text/css",t==="top"&&r.firstChild?r.insertBefore(a,r.firstChild):r.appendChild(a),a.styleSheet?a.styleSheet.cssText=e:a.appendChild(document.createTextNode(e))}ute(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function gx(e){return e.label!==void 0}var mte=3,hte="32px",fte="16px",JE=4e3,pte=356,xte=14,gte=20,vte=200;function sn(...e){return e.filter(Boolean).join(" ")}function yte(e){let[t,r]=e.split("-"),a=[];return t&&a.push(t),r&&a.push(r),a}var bte=e=>{var t,r,a,n,i,o,l,c,d,u,m;let{invert:h,toast:f,unstyled:g,interacting:x,setHeights:y,visibleToasts:v,heights:b,index:j,toasts:N,expanded:w,removeToast:S,defaultRichColors:_,closeButton:C,style:E,cancelButtonStyle:T,actionButtonStyle:k,className:P="",descriptionClassName:D="",duration:I,position:V,gap:W,loadingIcon:R,expandByDefault:F,classNames:H,icons:Z,closeButtonAriaLabel:B="Close toast",pauseWhenPageIsHidden:K}=e,[Q,ie]=me.useState(null),[oe,je]=me.useState(null),[le,Oe]=me.useState(!1),[ae,ue]=me.useState(!1),[L,q]=me.useState(!1),[te,ye]=me.useState(!1),[Pe,J]=me.useState(!1),[se,ke]=me.useState(0),[$e,ut]=me.useState(0),On=me.useRef(f.duration||I||JE),Ll=me.useRef(null),Yr=me.useRef(null),fH=j===0,pH=j+1<=v,va=f.type,od=f.dismissible!==!1,xH=f.className||"",gH=f.descriptionClassName||"",Vp=me.useMemo(()=>b.findIndex(ze=>ze.toastId===f.id)||0,[b,f.id]),vH=me.useMemo(()=>{var ze;return(ze=f.closeButton)!=null?ze:C},[f.closeButton,C]),qP=me.useMemo(()=>f.duration||I||JE,[f.duration,I]),_b=me.useRef(0),ld=me.useRef(0),VP=me.useRef(0),cd=me.useRef(null),[yH,bH]=V.split("-"),WP=me.useMemo(()=>b.reduce((ze,Nt,Lt)=>Lt>=Vp?ze:ze+Nt.height,0),[b,Vp]),HP=ate(),jH=f.invert||h,Cb=va==="loading";ld.current=me.useMemo(()=>Vp*W+WP,[Vp,WP]),me.useEffect(()=>{On.current=qP},[qP]),me.useEffect(()=>{Oe(!0)},[]),me.useEffect(()=>{let ze=Yr.current;if(ze){let Nt=ze.getBoundingClientRect().height;return ut(Nt),y(Lt=>[{toastId:f.id,height:Nt,position:f.position},...Lt]),()=>y(Lt=>Lt.filter(Ja=>Ja.toastId!==f.id))}},[y,f.id]),me.useLayoutEffect(()=>{if(!le)return;let ze=Yr.current,Nt=ze.style.height;ze.style.height="auto";let Lt=ze.getBoundingClientRect().height;ze.style.height=Nt,ut(Lt),y(Ja=>Ja.find(Za=>Za.toastId===f.id)?Ja.map(Za=>Za.toastId===f.id?{...Za,height:Lt}:Za):[{toastId:f.id,height:Lt,position:f.position},...Ja])},[le,f.title,f.description,y,f.id]);let mo=me.useCallback(()=>{ue(!0),ke(ld.current),y(ze=>ze.filter(Nt=>Nt.toastId!==f.id)),setTimeout(()=>{S(f)},vte)},[f,S,y,ld]);me.useEffect(()=>{if(f.promise&&va==="loading"||f.duration===1/0||f.type==="loading")return;let ze;return w||x||K&&HP?(()=>{if(VP.current<_b.current){let Nt=new Date().getTime()-_b.current;On.current=On.current-Nt}VP.current=new Date().getTime()})():On.current!==1/0&&(_b.current=new Date().getTime(),ze=setTimeout(()=>{var Nt;(Nt=f.onAutoClose)==null||Nt.call(f,f),mo()},On.current)),()=>clearTimeout(ze)},[w,x,f,va,K,HP,mo]),me.useEffect(()=>{f.delete&&mo()},[mo,f.delete]);function wH(){var ze,Nt,Lt;return Z!=null&&Z.loading?me.createElement("div",{className:sn(H==null?void 0:H.loader,(ze=f==null?void 0:f.classNames)==null?void 0:ze.loader,"sonner-loader"),"data-visible":va==="loading"},Z.loading):R?me.createElement("div",{className:sn(H==null?void 0:H.loader,(Nt=f==null?void 0:f.classNames)==null?void 0:Nt.loader,"sonner-loader"),"data-visible":va==="loading"},R):me.createElement(Jee,{className:sn(H==null?void 0:H.loader,(Lt=f==null?void 0:f.classNames)==null?void 0:Lt.loader),visible:va==="loading"})}return me.createElement("li",{tabIndex:0,ref:Yr,className:sn(P,xH,H==null?void 0:H.toast,(t=f==null?void 0:f.classNames)==null?void 0:t.toast,H==null?void 0:H.default,H==null?void 0:H[va],(r=f==null?void 0:f.classNames)==null?void 0:r[va]),"data-sonner-toast":"","data-rich-colors":(a=f.richColors)!=null?a:_,"data-styled":!(f.jsx||f.unstyled||g),"data-mounted":le,"data-promise":!!f.promise,"data-swiped":Pe,"data-removed":ae,"data-visible":pH,"data-y-position":yH,"data-x-position":bH,"data-index":j,"data-front":fH,"data-swiping":L,"data-dismissible":od,"data-type":va,"data-invert":jH,"data-swipe-out":te,"data-swipe-direction":oe,"data-expanded":!!(w||F&&le),style:{"--index":j,"--toasts-before":j,"--z-index":N.length-j,"--offset":`${ae?se:ld.current}px`,"--initial-height":F?"auto":`${$e}px`,...E,...f.style},onDragEnd:()=>{q(!1),ie(null),cd.current=null},onPointerDown:ze=>{Cb||!od||(Ll.current=new Date,ke(ld.current),ze.target.setPointerCapture(ze.pointerId),ze.target.tagName!=="BUTTON"&&(q(!0),cd.current={x:ze.clientX,y:ze.clientY}))},onPointerUp:()=>{var ze,Nt,Lt,Ja;if(te||!od)return;cd.current=null;let Za=Number(((ze=Yr.current)==null?void 0:ze.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),ho=Number(((Nt=Yr.current)==null?void 0:Nt.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),$l=new Date().getTime()-((Lt=Ll.current)==null?void 0:Lt.getTime()),en=Q==="x"?Za:ho,fo=Math.abs(en)/$l;if(Math.abs(en)>=gte||fo>.11){ke(ld.current),(Ja=f.onDismiss)==null||Ja.call(f,f),je(Q==="x"?Za>0?"right":"left":ho>0?"down":"up"),mo(),ye(!0),J(!1);return}q(!1),ie(null)},onPointerMove:ze=>{var Nt,Lt,Ja,Za;if(!cd.current||!od||((Nt=window.getSelection())==null?void 0:Nt.toString().length)>0)return;let ho=ze.clientY-cd.current.y,$l=ze.clientX-cd.current.x,en=(Lt=e.swipeDirections)!=null?Lt:yte(V);!Q&&(Math.abs($l)>1||Math.abs(ho)>1)&&ie(Math.abs($l)>Math.abs(ho)?"x":"y");let fo={x:0,y:0};Q==="y"?(en.includes("top")||en.includes("bottom"))&&(en.includes("top")&&ho<0||en.includes("bottom")&&ho>0)&&(fo.y=ho):Q==="x"&&(en.includes("left")||en.includes("right"))&&(en.includes("left")&&$l<0||en.includes("right")&&$l>0)&&(fo.x=$l),(Math.abs(fo.x)>0||Math.abs(fo.y)>0)&&J(!0),(Ja=Yr.current)==null||Ja.style.setProperty("--swipe-amount-x",`${fo.x}px`),(Za=Yr.current)==null||Za.style.setProperty("--swipe-amount-y",`${fo.y}px`)}},vH&&!f.jsx?me.createElement("button",{"aria-label":B,"data-disabled":Cb,"data-close-button":!0,onClick:Cb||!od?()=>{}:()=>{var ze;mo(),(ze=f.onDismiss)==null||ze.call(f,f)},className:sn(H==null?void 0:H.closeButton,(n=f==null?void 0:f.classNames)==null?void 0:n.closeButton)},(i=Z==null?void 0:Z.close)!=null?i:rte):null,f.jsx||p.isValidElement(f.title)?f.jsx?f.jsx:typeof f.title=="function"?f.title():f.title:me.createElement(me.Fragment,null,va||f.icon||f.promise?me.createElement("div",{"data-icon":"",className:sn(H==null?void 0:H.icon,(o=f==null?void 0:f.classNames)==null?void 0:o.icon)},f.promise||f.type==="loading"&&!f.icon?f.icon||wH():null,f.type!=="loading"?f.icon||(Z==null?void 0:Z[va])||Xee(va):null):null,me.createElement("div",{"data-content":"",className:sn(H==null?void 0:H.content,(l=f==null?void 0:f.classNames)==null?void 0:l.content)},me.createElement("div",{"data-title":"",className:sn(H==null?void 0:H.title,(c=f==null?void 0:f.classNames)==null?void 0:c.title)},typeof f.title=="function"?f.title():f.title),f.description?me.createElement("div",{"data-description":"",className:sn(D,gH,H==null?void 0:H.description,(d=f==null?void 0:f.classNames)==null?void 0:d.description)},typeof f.description=="function"?f.description():f.description):null),p.isValidElement(f.cancel)?f.cancel:f.cancel&&gx(f.cancel)?me.createElement("button",{"data-button":!0,"data-cancel":!0,style:f.cancelButtonStyle||T,onClick:ze=>{var Nt,Lt;gx(f.cancel)&&od&&((Lt=(Nt=f.cancel).onClick)==null||Lt.call(Nt,ze),mo())},className:sn(H==null?void 0:H.cancelButton,(u=f==null?void 0:f.classNames)==null?void 0:u.cancelButton)},f.cancel.label):null,p.isValidElement(f.action)?f.action:f.action&&gx(f.action)?me.createElement("button",{"data-button":!0,"data-action":!0,style:f.actionButtonStyle||k,onClick:ze=>{var Nt,Lt;gx(f.action)&&((Lt=(Nt=f.action).onClick)==null||Lt.call(Nt,ze),!ze.defaultPrevented&&mo())},className:sn(H==null?void 0:H.actionButton,(m=f==null?void 0:f.classNames)==null?void 0:m.actionButton)},f.action.label):null))};function ZE(){if(typeof window>"u"||typeof document>"u")return"ltr";let e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}function jte(e,t){let r={};return[e,t].forEach((a,n)=>{let i=n===1,o=i?"--mobile-offset":"--offset",l=i?fte:hte;function c(d){["top","right","bottom","left"].forEach(u=>{r[`${o}-${u}`]=typeof d=="number"?`${d}px`:d})}typeof a=="number"||typeof a=="string"?c(a):typeof a=="object"?["top","right","bottom","left"].forEach(d=>{a[d]===void 0?r[`${o}-${d}`]=l:r[`${o}-${d}`]=typeof a[d]=="number"?`${a[d]}px`:a[d]}):c(l)}),r}var wte=p.forwardRef(function(e,t){let{invert:r,position:a="bottom-right",hotkey:n=["altKey","KeyT"],expand:i,closeButton:o,className:l,offset:c,mobileOffset:d,theme:u="light",richColors:m,duration:h,style:f,visibleToasts:g=mte,toastOptions:x,dir:y=ZE(),gap:v=xte,loadingIcon:b,icons:j,containerAriaLabel:N="Notifications",pauseWhenPageIsHidden:w}=e,[S,_]=me.useState([]),C=me.useMemo(()=>Array.from(new Set([a].concat(S.filter(K=>K.position).map(K=>K.position)))),[S,a]),[E,T]=me.useState([]),[k,P]=me.useState(!1),[D,I]=me.useState(!1),[V,W]=me.useState(u!=="system"?u:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),R=me.useRef(null),F=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),H=me.useRef(null),Z=me.useRef(!1),B=me.useCallback(K=>{_(Q=>{var ie;return(ie=Q.find(oe=>oe.id===K.id))!=null&&ie.delete||Ar.dismiss(K.id),Q.filter(({id:oe})=>oe!==K.id)})},[]);return me.useEffect(()=>Ar.subscribe(K=>{if(K.dismiss){_(Q=>Q.map(ie=>ie.id===K.id?{...ie,delete:!0}:ie));return}setTimeout(()=>{TR.flushSync(()=>{_(Q=>{let ie=Q.findIndex(oe=>oe.id===K.id);return ie!==-1?[...Q.slice(0,ie),{...Q[ie],...K},...Q.slice(ie+1)]:[K,...Q]})})})}),[]),me.useEffect(()=>{if(u!=="system"){W(u);return}if(u==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?W("dark"):W("light")),typeof window>"u")return;let K=window.matchMedia("(prefers-color-scheme: dark)");try{K.addEventListener("change",({matches:Q})=>{W(Q?"dark":"light")})}catch{K.addListener(({matches:ie})=>{try{W(ie?"dark":"light")}catch(oe){console.error(oe)}})}},[u]),me.useEffect(()=>{S.length<=1&&P(!1)},[S]),me.useEffect(()=>{let K=Q=>{var ie,oe;n.every(je=>Q[je]||Q.code===je)&&(P(!0),(ie=R.current)==null||ie.focus()),Q.code==="Escape"&&(document.activeElement===R.current||(oe=R.current)!=null&&oe.contains(document.activeElement))&&P(!1)};return document.addEventListener("keydown",K),()=>document.removeEventListener("keydown",K)},[n]),me.useEffect(()=>{if(R.current)return()=>{H.current&&(H.current.focus({preventScroll:!0}),H.current=null,Z.current=!1)}},[R.current]),me.createElement("section",{ref:t,"aria-label":`${N} ${F}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},C.map((K,Q)=>{var ie;let[oe,je]=K.split("-");return S.length?me.createElement("ol",{key:K,dir:y==="auto"?ZE():y,tabIndex:-1,ref:R,className:l,"data-sonner-toaster":!0,"data-theme":V,"data-y-position":oe,"data-lifted":k&&S.length>1&&!i,"data-x-position":je,style:{"--front-toast-height":`${((ie=E[0])==null?void 0:ie.height)||0}px`,"--width":`${pte}px`,"--gap":`${v}px`,...f,...jte(c,d)},onBlur:le=>{Z.current&&!le.currentTarget.contains(le.relatedTarget)&&(Z.current=!1,H.current&&(H.current.focus({preventScroll:!0}),H.current=null))},onFocus:le=>{le.target instanceof HTMLElement&&le.target.dataset.dismissible==="false"||Z.current||(Z.current=!0,H.current=le.relatedTarget)},onMouseEnter:()=>P(!0),onMouseMove:()=>P(!0),onMouseLeave:()=>{D||P(!1)},onDragEnd:()=>P(!1),onPointerDown:le=>{le.target instanceof HTMLElement&&le.target.dataset.dismissible==="false"||I(!0)},onPointerUp:()=>I(!1)},S.filter(le=>!le.position&&Q===0||le.position===K).map((le,Oe)=>{var ae,ue;return me.createElement(bte,{key:le.id,icons:j,index:Oe,toast:le,defaultRichColors:m,duration:(ae=x==null?void 0:x.duration)!=null?ae:h,className:x==null?void 0:x.className,descriptionClassName:x==null?void 0:x.descriptionClassName,invert:r,visibleToasts:g,closeButton:(ue=x==null?void 0:x.closeButton)!=null?ue:o,interacting:D,position:K,style:x==null?void 0:x.style,unstyled:x==null?void 0:x.unstyled,classNames:x==null?void 0:x.classNames,cancelButtonStyle:x==null?void 0:x.cancelButtonStyle,actionButtonStyle:x==null?void 0:x.actionButtonStyle,removeToast:B,toasts:S.filter(L=>L.position==le.position),heights:E.filter(L=>L.position==le.position),setHeights:T,expandByDefault:i,gap:v,loadingIcon:b,expanded:k,pauseWhenPageIsHidden:w,swipeDirections:e.swipeDirections})})):null}))});const Nte=({...e})=>{const{theme:t="system"}=Yee();return s.jsx(wte,{theme:t,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...e})};var Ste=z2[" useId ".trim().toString()]||(()=>{}),_te=0;function oa(e){const[t,r]=p.useState(Ste());return ns(()=>{r(a=>a??String(_te++))},[e]),t?`radix-${t}`:""}const Cte=["top","right","bottom","left"],pl=Math.min,ea=Math.max,Qg=Math.round,vx=Math.floor,Jn=e=>({x:e,y:e}),kte={left:"right",right:"left",bottom:"top",top:"bottom"},Pte={start:"end",end:"start"};function ZN(e,t,r){return ea(e,pl(t,r))}function qi(e,t){return typeof e=="function"?e(t):e}function Vi(e){return e.split("-")[0]}function fm(e){return e.split("-")[1]}function t_(e){return e==="x"?"y":"x"}function s_(e){return e==="y"?"height":"width"}const Ete=new Set(["top","bottom"]);function Wn(e){return Ete.has(Vi(e))?"y":"x"}function r_(e){return t_(Wn(e))}function Ate(e,t,r){r===void 0&&(r=!1);const a=fm(e),n=r_(e),i=s_(n);let o=n==="x"?a===(r?"end":"start")?"right":"left":a==="start"?"bottom":"top";return t.reference[i]>t.floating[i]&&(o=Jg(o)),[o,Jg(o)]}function Tte(e){const t=Jg(e);return[e1(e),t,e1(t)]}function e1(e){return e.replace(/start|end/g,t=>Pte[t])}const eA=["left","right"],tA=["right","left"],Mte=["top","bottom"],Ote=["bottom","top"];function Dte(e,t,r){switch(e){case"top":case"bottom":return r?t?tA:eA:t?eA:tA;case"left":case"right":return t?Mte:Ote;default:return[]}}function Rte(e,t,r,a){const n=fm(e);let i=Dte(Vi(e),r==="start",a);return n&&(i=i.map(o=>o+"-"+n),t&&(i=i.concat(i.map(e1)))),i}function Jg(e){return e.replace(/left|right|bottom|top/g,t=>kte[t])}function Ite(e){return{top:0,right:0,bottom:0,left:0,...e}}function N6(e){return typeof e!="number"?Ite(e):{top:e,right:e,bottom:e,left:e}}function Zg(e){const{x:t,y:r,width:a,height:n}=e;return{width:a,height:n,top:r,left:t,right:t+a,bottom:r+n,x:t,y:r}}function sA(e,t,r){let{reference:a,floating:n}=e;const i=Wn(t),o=r_(t),l=s_(o),c=Vi(t),d=i==="y",u=a.x+a.width/2-n.width/2,m=a.y+a.height/2-n.height/2,h=a[l]/2-n[l]/2;let f;switch(c){case"top":f={x:u,y:a.y-n.height};break;case"bottom":f={x:u,y:a.y+a.height};break;case"right":f={x:a.x+a.width,y:m};break;case"left":f={x:a.x-n.width,y:m};break;default:f={x:a.x,y:a.y}}switch(fm(t)){case"start":f[o]-=h*(r&&d?-1:1);break;case"end":f[o]+=h*(r&&d?-1:1);break}return f}const Fte=async(e,t,r)=>{const{placement:a="bottom",strategy:n="absolute",middleware:i=[],platform:o}=r,l=i.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(t));let d=await o.getElementRects({reference:e,floating:t,strategy:n}),{x:u,y:m}=sA(d,a,c),h=a,f={},g=0;for(let x=0;x<l.length;x++){const{name:y,fn:v}=l[x],{x:b,y:j,data:N,reset:w}=await v({x:u,y:m,initialPlacement:a,placement:h,strategy:n,middlewareData:f,rects:d,platform:o,elements:{reference:e,floating:t}});u=b??u,m=j??m,f={...f,[y]:{...f[y],...N}},w&&g<=50&&(g++,typeof w=="object"&&(w.placement&&(h=w.placement),w.rects&&(d=w.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:n}):w.rects),{x:u,y:m}=sA(d,h,c)),x=-1)}return{x:u,y:m,placement:h,strategy:n,middlewareData:f}};async function lf(e,t){var r;t===void 0&&(t={});const{x:a,y:n,platform:i,rects:o,elements:l,strategy:c}=e,{boundary:d="clippingAncestors",rootBoundary:u="viewport",elementContext:m="floating",altBoundary:h=!1,padding:f=0}=qi(t,e),g=N6(f),y=l[h?m==="floating"?"reference":"floating":m],v=Zg(await i.getClippingRect({element:(r=await(i.isElement==null?void 0:i.isElement(y)))==null||r?y:y.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(l.floating)),boundary:d,rootBoundary:u,strategy:c})),b=m==="floating"?{x:a,y:n,width:o.floating.width,height:o.floating.height}:o.reference,j=await(i.getOffsetParent==null?void 0:i.getOffsetParent(l.floating)),N=await(i.isElement==null?void 0:i.isElement(j))?await(i.getScale==null?void 0:i.getScale(j))||{x:1,y:1}:{x:1,y:1},w=Zg(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:b,offsetParent:j,strategy:c}):b);return{top:(v.top-w.top+g.top)/N.y,bottom:(w.bottom-v.bottom+g.bottom)/N.y,left:(v.left-w.left+g.left)/N.x,right:(w.right-v.right+g.right)/N.x}}const Lte=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:a,placement:n,rects:i,platform:o,elements:l,middlewareData:c}=t,{element:d,padding:u=0}=qi(e,t)||{};if(d==null)return{};const m=N6(u),h={x:r,y:a},f=r_(n),g=s_(f),x=await o.getDimensions(d),y=f==="y",v=y?"top":"left",b=y?"bottom":"right",j=y?"clientHeight":"clientWidth",N=i.reference[g]+i.reference[f]-h[f]-i.floating[g],w=h[f]-i.reference[f],S=await(o.getOffsetParent==null?void 0:o.getOffsetParent(d));let _=S?S[j]:0;(!_||!await(o.isElement==null?void 0:o.isElement(S)))&&(_=l.floating[j]||i.floating[g]);const C=N/2-w/2,E=_/2-x[g]/2-1,T=pl(m[v],E),k=pl(m[b],E),P=T,D=_-x[g]-k,I=_/2-x[g]/2+C,V=ZN(P,I,D),W=!c.arrow&&fm(n)!=null&&I!==V&&i.reference[g]/2-(I<P?T:k)-x[g]/2<0,R=W?I<P?I-P:I-D:0;return{[f]:h[f]+R,data:{[f]:V,centerOffset:I-V-R,...W&&{alignmentOffset:R}},reset:W}}}),$te=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,a;const{placement:n,middlewareData:i,rects:o,initialPlacement:l,platform:c,elements:d}=t,{mainAxis:u=!0,crossAxis:m=!0,fallbackPlacements:h,fallbackStrategy:f="bestFit",fallbackAxisSideDirection:g="none",flipAlignment:x=!0,...y}=qi(e,t);if((r=i.arrow)!=null&&r.alignmentOffset)return{};const v=Vi(n),b=Wn(l),j=Vi(l)===l,N=await(c.isRTL==null?void 0:c.isRTL(d.floating)),w=h||(j||!x?[Jg(l)]:Tte(l)),S=g!=="none";!h&&S&&w.push(...Rte(l,x,g,N));const _=[l,...w],C=await lf(t,y),E=[];let T=((a=i.flip)==null?void 0:a.overflows)||[];if(u&&E.push(C[v]),m){const I=Ate(n,o,N);E.push(C[I[0]],C[I[1]])}if(T=[...T,{placement:n,overflows:E}],!E.every(I=>I<=0)){var k,P;const I=(((k=i.flip)==null?void 0:k.index)||0)+1,V=_[I];if(V&&(!(m==="alignment"?b!==Wn(V):!1)||T.every(F=>F.overflows[0]>0&&Wn(F.placement)===b)))return{data:{index:I,overflows:T},reset:{placement:V}};let W=(P=T.filter(R=>R.overflows[0]<=0).sort((R,F)=>R.overflows[1]-F.overflows[1])[0])==null?void 0:P.placement;if(!W)switch(f){case"bestFit":{var D;const R=(D=T.filter(F=>{if(S){const H=Wn(F.placement);return H===b||H==="y"}return!0}).map(F=>[F.placement,F.overflows.filter(H=>H>0).reduce((H,Z)=>H+Z,0)]).sort((F,H)=>F[1]-H[1])[0])==null?void 0:D[0];R&&(W=R);break}case"initialPlacement":W=l;break}if(n!==W)return{reset:{placement:W}}}return{}}}};function rA(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function aA(e){return Cte.some(t=>e[t]>=0)}const Bte=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:r}=t,{strategy:a="referenceHidden",...n}=qi(e,t);switch(a){case"referenceHidden":{const i=await lf(t,{...n,elementContext:"reference"}),o=rA(i,r.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:aA(o)}}}case"escaped":{const i=await lf(t,{...n,altBoundary:!0}),o=rA(i,r.floating);return{data:{escapedOffsets:o,escaped:aA(o)}}}default:return{}}}}},S6=new Set(["left","top"]);async function zte(e,t){const{placement:r,platform:a,elements:n}=e,i=await(a.isRTL==null?void 0:a.isRTL(n.floating)),o=Vi(r),l=fm(r),c=Wn(r)==="y",d=S6.has(o)?-1:1,u=i&&c?-1:1,m=qi(t,e);let{mainAxis:h,crossAxis:f,alignmentAxis:g}=typeof m=="number"?{mainAxis:m,crossAxis:0,alignmentAxis:null}:{mainAxis:m.mainAxis||0,crossAxis:m.crossAxis||0,alignmentAxis:m.alignmentAxis};return l&&typeof g=="number"&&(f=l==="end"?g*-1:g),c?{x:f*u,y:h*d}:{x:h*d,y:f*u}}const Ute=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,a;const{x:n,y:i,placement:o,middlewareData:l}=t,c=await zte(t,e);return o===((r=l.offset)==null?void 0:r.placement)&&(a=l.arrow)!=null&&a.alignmentOffset?{}:{x:n+c.x,y:i+c.y,data:{...c,placement:o}}}}},qte=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:a,placement:n}=t,{mainAxis:i=!0,crossAxis:o=!1,limiter:l={fn:y=>{let{x:v,y:b}=y;return{x:v,y:b}}},...c}=qi(e,t),d={x:r,y:a},u=await lf(t,c),m=Wn(Vi(n)),h=t_(m);let f=d[h],g=d[m];if(i){const y=h==="y"?"top":"left",v=h==="y"?"bottom":"right",b=f+u[y],j=f-u[v];f=ZN(b,f,j)}if(o){const y=m==="y"?"top":"left",v=m==="y"?"bottom":"right",b=g+u[y],j=g-u[v];g=ZN(b,g,j)}const x=l.fn({...t,[h]:f,[m]:g});return{...x,data:{x:x.x-r,y:x.y-a,enabled:{[h]:i,[m]:o}}}}}},Vte=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:r,y:a,placement:n,rects:i,middlewareData:o}=t,{offset:l=0,mainAxis:c=!0,crossAxis:d=!0}=qi(e,t),u={x:r,y:a},m=Wn(n),h=t_(m);let f=u[h],g=u[m];const x=qi(l,t),y=typeof x=="number"?{mainAxis:x,crossAxis:0}:{mainAxis:0,crossAxis:0,...x};if(c){const j=h==="y"?"height":"width",N=i.reference[h]-i.floating[j]+y.mainAxis,w=i.reference[h]+i.reference[j]-y.mainAxis;f<N?f=N:f>w&&(f=w)}if(d){var v,b;const j=h==="y"?"width":"height",N=S6.has(Vi(n)),w=i.reference[m]-i.floating[j]+(N&&((v=o.offset)==null?void 0:v[m])||0)+(N?0:y.crossAxis),S=i.reference[m]+i.reference[j]+(N?0:((b=o.offset)==null?void 0:b[m])||0)-(N?y.crossAxis:0);g<w?g=w:g>S&&(g=S)}return{[h]:f,[m]:g}}}},Wte=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,a;const{placement:n,rects:i,platform:o,elements:l}=t,{apply:c=()=>{},...d}=qi(e,t),u=await lf(t,d),m=Vi(n),h=fm(n),f=Wn(n)==="y",{width:g,height:x}=i.floating;let y,v;m==="top"||m==="bottom"?(y=m,v=h===(await(o.isRTL==null?void 0:o.isRTL(l.floating))?"start":"end")?"left":"right"):(v=m,y=h==="end"?"top":"bottom");const b=x-u.top-u.bottom,j=g-u.left-u.right,N=pl(x-u[y],b),w=pl(g-u[v],j),S=!t.middlewareData.shift;let _=N,C=w;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(C=j),(a=t.middlewareData.shift)!=null&&a.enabled.y&&(_=b),S&&!h){const T=ea(u.left,0),k=ea(u.right,0),P=ea(u.top,0),D=ea(u.bottom,0);f?C=g-2*(T!==0||k!==0?T+k:ea(u.left,u.right)):_=x-2*(P!==0||D!==0?P+D:ea(u.top,u.bottom))}await c({...t,availableWidth:C,availableHeight:_});const E=await o.getDimensions(l.floating);return g!==E.width||x!==E.height?{reset:{rects:!0}}:{}}}};function M0(){return typeof window<"u"}function pm(e){return _6(e)?(e.nodeName||"").toLowerCase():"#document"}function la(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function ui(e){var t;return(t=(_6(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function _6(e){return M0()?e instanceof Node||e instanceof la(e).Node:!1}function _n(e){return M0()?e instanceof Element||e instanceof la(e).Element:!1}function oi(e){return M0()?e instanceof HTMLElement||e instanceof la(e).HTMLElement:!1}function nA(e){return!M0()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof la(e).ShadowRoot}const Hte=new Set(["inline","contents"]);function sp(e){const{overflow:t,overflowX:r,overflowY:a,display:n}=Cn(e);return/auto|scroll|overlay|hidden|clip/.test(t+a+r)&&!Hte.has(n)}const Kte=new Set(["table","td","th"]);function Gte(e){return Kte.has(pm(e))}const Yte=[":popover-open",":modal"];function O0(e){return Yte.some(t=>{try{return e.matches(t)}catch{return!1}})}const Xte=["transform","translate","scale","rotate","perspective"],Qte=["transform","translate","scale","rotate","perspective","filter"],Jte=["paint","layout","strict","content"];function a_(e){const t=n_(),r=_n(e)?Cn(e):e;return Xte.some(a=>r[a]?r[a]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||Qte.some(a=>(r.willChange||"").includes(a))||Jte.some(a=>(r.contain||"").includes(a))}function Zte(e){let t=xl(e);for(;oi(t)&&!Eu(t);){if(a_(t))return t;if(O0(t))return null;t=xl(t)}return null}function n_(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const ese=new Set(["html","body","#document"]);function Eu(e){return ese.has(pm(e))}function Cn(e){return la(e).getComputedStyle(e)}function D0(e){return _n(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function xl(e){if(pm(e)==="html")return e;const t=e.assignedSlot||e.parentNode||nA(e)&&e.host||ui(e);return nA(t)?t.host:t}function C6(e){const t=xl(e);return Eu(t)?e.ownerDocument?e.ownerDocument.body:e.body:oi(t)&&sp(t)?t:C6(t)}function cf(e,t,r){var a;t===void 0&&(t=[]),r===void 0&&(r=!0);const n=C6(e),i=n===((a=e.ownerDocument)==null?void 0:a.body),o=la(n);if(i){const l=t1(o);return t.concat(o,o.visualViewport||[],sp(n)?n:[],l&&r?cf(l):[])}return t.concat(n,cf(n,[],r))}function t1(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function k6(e){const t=Cn(e);let r=parseFloat(t.width)||0,a=parseFloat(t.height)||0;const n=oi(e),i=n?e.offsetWidth:r,o=n?e.offsetHeight:a,l=Qg(r)!==i||Qg(a)!==o;return l&&(r=i,a=o),{width:r,height:a,$:l}}function i_(e){return _n(e)?e:e.contextElement}function su(e){const t=i_(e);if(!oi(t))return Jn(1);const r=t.getBoundingClientRect(),{width:a,height:n,$:i}=k6(t);let o=(i?Qg(r.width):r.width)/a,l=(i?Qg(r.height):r.height)/n;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const tse=Jn(0);function P6(e){const t=la(e);return!n_()||!t.visualViewport?tse:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function sse(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==la(e)?!1:t}function Ic(e,t,r,a){t===void 0&&(t=!1),r===void 0&&(r=!1);const n=e.getBoundingClientRect(),i=i_(e);let o=Jn(1);t&&(a?_n(a)&&(o=su(a)):o=su(e));const l=sse(i,r,a)?P6(i):Jn(0);let c=(n.left+l.x)/o.x,d=(n.top+l.y)/o.y,u=n.width/o.x,m=n.height/o.y;if(i){const h=la(i),f=a&&_n(a)?la(a):a;let g=h,x=t1(g);for(;x&&a&&f!==g;){const y=su(x),v=x.getBoundingClientRect(),b=Cn(x),j=v.left+(x.clientLeft+parseFloat(b.paddingLeft))*y.x,N=v.top+(x.clientTop+parseFloat(b.paddingTop))*y.y;c*=y.x,d*=y.y,u*=y.x,m*=y.y,c+=j,d+=N,g=la(x),x=t1(g)}}return Zg({width:u,height:m,x:c,y:d})}function o_(e,t){const r=D0(e).scrollLeft;return t?t.left+r:Ic(ui(e)).left+r}function E6(e,t,r){r===void 0&&(r=!1);const a=e.getBoundingClientRect(),n=a.left+t.scrollLeft-(r?0:o_(e,a)),i=a.top+t.scrollTop;return{x:n,y:i}}function rse(e){let{elements:t,rect:r,offsetParent:a,strategy:n}=e;const i=n==="fixed",o=ui(a),l=t?O0(t.floating):!1;if(a===o||l&&i)return r;let c={scrollLeft:0,scrollTop:0},d=Jn(1);const u=Jn(0),m=oi(a);if((m||!m&&!i)&&((pm(a)!=="body"||sp(o))&&(c=D0(a)),oi(a))){const f=Ic(a);d=su(a),u.x=f.x+a.clientLeft,u.y=f.y+a.clientTop}const h=o&&!m&&!i?E6(o,c,!0):Jn(0);return{width:r.width*d.x,height:r.height*d.y,x:r.x*d.x-c.scrollLeft*d.x+u.x+h.x,y:r.y*d.y-c.scrollTop*d.y+u.y+h.y}}function ase(e){return Array.from(e.getClientRects())}function nse(e){const t=ui(e),r=D0(e),a=e.ownerDocument.body,n=ea(t.scrollWidth,t.clientWidth,a.scrollWidth,a.clientWidth),i=ea(t.scrollHeight,t.clientHeight,a.scrollHeight,a.clientHeight);let o=-r.scrollLeft+o_(e);const l=-r.scrollTop;return Cn(a).direction==="rtl"&&(o+=ea(t.clientWidth,a.clientWidth)-n),{width:n,height:i,x:o,y:l}}function ise(e,t){const r=la(e),a=ui(e),n=r.visualViewport;let i=a.clientWidth,o=a.clientHeight,l=0,c=0;if(n){i=n.width,o=n.height;const d=n_();(!d||d&&t==="fixed")&&(l=n.offsetLeft,c=n.offsetTop)}return{width:i,height:o,x:l,y:c}}const ose=new Set(["absolute","fixed"]);function lse(e,t){const r=Ic(e,!0,t==="fixed"),a=r.top+e.clientTop,n=r.left+e.clientLeft,i=oi(e)?su(e):Jn(1),o=e.clientWidth*i.x,l=e.clientHeight*i.y,c=n*i.x,d=a*i.y;return{width:o,height:l,x:c,y:d}}function iA(e,t,r){let a;if(t==="viewport")a=ise(e,r);else if(t==="document")a=nse(ui(e));else if(_n(t))a=lse(t,r);else{const n=P6(e);a={x:t.x-n.x,y:t.y-n.y,width:t.width,height:t.height}}return Zg(a)}function A6(e,t){const r=xl(e);return r===t||!_n(r)||Eu(r)?!1:Cn(r).position==="fixed"||A6(r,t)}function cse(e,t){const r=t.get(e);if(r)return r;let a=cf(e,[],!1).filter(l=>_n(l)&&pm(l)!=="body"),n=null;const i=Cn(e).position==="fixed";let o=i?xl(e):e;for(;_n(o)&&!Eu(o);){const l=Cn(o),c=a_(o);!c&&l.position==="fixed"&&(n=null),(i?!c&&!n:!c&&l.position==="static"&&!!n&&ose.has(n.position)||sp(o)&&!c&&A6(e,o))?a=a.filter(u=>u!==o):n=l,o=xl(o)}return t.set(e,a),a}function dse(e){let{element:t,boundary:r,rootBoundary:a,strategy:n}=e;const o=[...r==="clippingAncestors"?O0(t)?[]:cse(t,this._c):[].concat(r),a],l=o[0],c=o.reduce((d,u)=>{const m=iA(t,u,n);return d.top=ea(m.top,d.top),d.right=pl(m.right,d.right),d.bottom=pl(m.bottom,d.bottom),d.left=ea(m.left,d.left),d},iA(t,l,n));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function use(e){const{width:t,height:r}=k6(e);return{width:t,height:r}}function mse(e,t,r){const a=oi(t),n=ui(t),i=r==="fixed",o=Ic(e,!0,i,t);let l={scrollLeft:0,scrollTop:0};const c=Jn(0);function d(){c.x=o_(n)}if(a||!a&&!i)if((pm(t)!=="body"||sp(n))&&(l=D0(t)),a){const f=Ic(t,!0,i,t);c.x=f.x+t.clientLeft,c.y=f.y+t.clientTop}else n&&d();i&&!a&&n&&d();const u=n&&!a&&!i?E6(n,l):Jn(0),m=o.left+l.scrollLeft-c.x-u.x,h=o.top+l.scrollTop-c.y-u.y;return{x:m,y:h,width:o.width,height:o.height}}function xj(e){return Cn(e).position==="static"}function oA(e,t){if(!oi(e)||Cn(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return ui(e)===r&&(r=r.ownerDocument.body),r}function T6(e,t){const r=la(e);if(O0(e))return r;if(!oi(e)){let n=xl(e);for(;n&&!Eu(n);){if(_n(n)&&!xj(n))return n;n=xl(n)}return r}let a=oA(e,t);for(;a&&Gte(a)&&xj(a);)a=oA(a,t);return a&&Eu(a)&&xj(a)&&!a_(a)?r:a||Zte(e)||r}const hse=async function(e){const t=this.getOffsetParent||T6,r=this.getDimensions,a=await r(e.floating);return{reference:mse(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:a.width,height:a.height}}};function fse(e){return Cn(e).direction==="rtl"}const pse={convertOffsetParentRelativeRectToViewportRelativeRect:rse,getDocumentElement:ui,getClippingRect:dse,getOffsetParent:T6,getElementRects:hse,getClientRects:ase,getDimensions:use,getScale:su,isElement:_n,isRTL:fse};function M6(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function xse(e,t){let r=null,a;const n=ui(e);function i(){var l;clearTimeout(a),(l=r)==null||l.disconnect(),r=null}function o(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),i();const d=e.getBoundingClientRect(),{left:u,top:m,width:h,height:f}=d;if(l||t(),!h||!f)return;const g=vx(m),x=vx(n.clientWidth-(u+h)),y=vx(n.clientHeight-(m+f)),v=vx(u),j={rootMargin:-g+"px "+-x+"px "+-y+"px "+-v+"px",threshold:ea(0,pl(1,c))||1};let N=!0;function w(S){const _=S[0].intersectionRatio;if(_!==c){if(!N)return o();_?o(!1,_):a=setTimeout(()=>{o(!1,1e-7)},1e3)}_===1&&!M6(d,e.getBoundingClientRect())&&o(),N=!1}try{r=new IntersectionObserver(w,{...j,root:n.ownerDocument})}catch{r=new IntersectionObserver(w,j)}r.observe(e)}return o(!0),i}function gse(e,t,r,a){a===void 0&&(a={});const{ancestorScroll:n=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=a,d=i_(e),u=n||i?[...d?cf(d):[],...cf(t)]:[];u.forEach(v=>{n&&v.addEventListener("scroll",r,{passive:!0}),i&&v.addEventListener("resize",r)});const m=d&&l?xse(d,r):null;let h=-1,f=null;o&&(f=new ResizeObserver(v=>{let[b]=v;b&&b.target===d&&f&&(f.unobserve(t),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var j;(j=f)==null||j.observe(t)})),r()}),d&&!c&&f.observe(d),f.observe(t));let g,x=c?Ic(e):null;c&&y();function y(){const v=Ic(e);x&&!M6(x,v)&&r(),x=v,g=requestAnimationFrame(y)}return r(),()=>{var v;u.forEach(b=>{n&&b.removeEventListener("scroll",r),i&&b.removeEventListener("resize",r)}),m==null||m(),(v=f)==null||v.disconnect(),f=null,c&&cancelAnimationFrame(g)}}const vse=Ute,yse=qte,bse=$te,jse=Wte,wse=Bte,lA=Lte,Nse=Vte,Sse=(e,t,r)=>{const a=new Map,n={platform:pse,...r},i={...n.platform,_c:a};return Fte(e,t,{...n,platform:i})};var _se=typeof document<"u",Cse=function(){},dg=_se?p.useLayoutEffect:Cse;function ev(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,a,n;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(a=r;a--!==0;)if(!ev(e[a],t[a]))return!1;return!0}if(n=Object.keys(e),r=n.length,r!==Object.keys(t).length)return!1;for(a=r;a--!==0;)if(!{}.hasOwnProperty.call(t,n[a]))return!1;for(a=r;a--!==0;){const i=n[a];if(!(i==="_owner"&&e.$$typeof)&&!ev(e[i],t[i]))return!1}return!0}return e!==e&&t!==t}function O6(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function cA(e,t){const r=O6(e);return Math.round(t*r)/r}function gj(e){const t=p.useRef(e);return dg(()=>{t.current=e}),t}function kse(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:a=[],platform:n,elements:{reference:i,floating:o}={},transform:l=!0,whileElementsMounted:c,open:d}=e,[u,m]=p.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[h,f]=p.useState(a);ev(h,a)||f(a);const[g,x]=p.useState(null),[y,v]=p.useState(null),b=p.useCallback(F=>{F!==S.current&&(S.current=F,x(F))},[]),j=p.useCallback(F=>{F!==_.current&&(_.current=F,v(F))},[]),N=i||g,w=o||y,S=p.useRef(null),_=p.useRef(null),C=p.useRef(u),E=c!=null,T=gj(c),k=gj(n),P=gj(d),D=p.useCallback(()=>{if(!S.current||!_.current)return;const F={placement:t,strategy:r,middleware:h};k.current&&(F.platform=k.current),Sse(S.current,_.current,F).then(H=>{const Z={...H,isPositioned:P.current!==!1};I.current&&!ev(C.current,Z)&&(C.current=Z,ao.flushSync(()=>{m(Z)}))})},[h,t,r,k,P]);dg(()=>{d===!1&&C.current.isPositioned&&(C.current.isPositioned=!1,m(F=>({...F,isPositioned:!1})))},[d]);const I=p.useRef(!1);dg(()=>(I.current=!0,()=>{I.current=!1}),[]),dg(()=>{if(N&&(S.current=N),w&&(_.current=w),N&&w){if(T.current)return T.current(N,w,D);D()}},[N,w,D,T,E]);const V=p.useMemo(()=>({reference:S,floating:_,setReference:b,setFloating:j}),[b,j]),W=p.useMemo(()=>({reference:N,floating:w}),[N,w]),R=p.useMemo(()=>{const F={position:r,left:0,top:0};if(!W.floating)return F;const H=cA(W.floating,u.x),Z=cA(W.floating,u.y);return l?{...F,transform:"translate("+H+"px, "+Z+"px)",...O6(W.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:H,top:Z}},[r,l,W.floating,u.x,u.y]);return p.useMemo(()=>({...u,update:D,refs:V,elements:W,floatingStyles:R}),[u,D,V,W,R])}const Pse=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:a,padding:n}=typeof e=="function"?e(r):e;return a&&t(a)?a.current!=null?lA({element:a.current,padding:n}).fn(r):{}:a?lA({element:a,padding:n}).fn(r):{}}}},Ese=(e,t)=>({...vse(e),options:[e,t]}),Ase=(e,t)=>({...yse(e),options:[e,t]}),Tse=(e,t)=>({...Nse(e),options:[e,t]}),Mse=(e,t)=>({...bse(e),options:[e,t]}),Ose=(e,t)=>({...jse(e),options:[e,t]}),Dse=(e,t)=>({...wse(e),options:[e,t]}),Rse=(e,t)=>({...Pse(e),options:[e,t]});var Ise="Arrow",D6=p.forwardRef((e,t)=>{const{children:r,width:a=10,height:n=5,...i}=e;return s.jsx(ge.svg,{...i,ref:t,width:a,height:n,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:s.jsx("polygon",{points:"0,0 30,0 15,10"})})});D6.displayName=Ise;var Fse=D6;function rp(e){const[t,r]=p.useState(void 0);return ns(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const a=new ResizeObserver(n=>{if(!Array.isArray(n)||!n.length)return;const i=n[0];let o,l;if("borderBoxSize"in i){const c=i.borderBoxSize,d=Array.isArray(c)?c[0]:c;o=d.inlineSize,l=d.blockSize}else o=e.offsetWidth,l=e.offsetHeight;r({width:o,height:l})});return a.observe(e,{box:"border-box"}),()=>a.unobserve(e)}else r(void 0)},[e]),t}var l_="Popper",[R6,El]=ys(l_),[Lse,I6]=R6(l_),F6=e=>{const{__scopePopper:t,children:r}=e,[a,n]=p.useState(null);return s.jsx(Lse,{scope:t,anchor:a,onAnchorChange:n,children:r})};F6.displayName=l_;var L6="PopperAnchor",$6=p.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:a,...n}=e,i=I6(L6,r),o=p.useRef(null),l=Me(t,o);return p.useEffect(()=>{i.onAnchorChange((a==null?void 0:a.current)||o.current)}),a?null:s.jsx(ge.div,{...n,ref:l})});$6.displayName=L6;var c_="PopperContent",[$se,Bse]=R6(c_),B6=p.forwardRef((e,t)=>{var le,Oe,ae,ue,L,q;const{__scopePopper:r,side:a="bottom",sideOffset:n=0,align:i="center",alignOffset:o=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:d=[],collisionPadding:u=0,sticky:m="partial",hideWhenDetached:h=!1,updatePositionStrategy:f="optimized",onPlaced:g,...x}=e,y=I6(c_,r),[v,b]=p.useState(null),j=Me(t,te=>b(te)),[N,w]=p.useState(null),S=rp(N),_=(S==null?void 0:S.width)??0,C=(S==null?void 0:S.height)??0,E=a+(i!=="center"?"-"+i:""),T=typeof u=="number"?u:{top:0,right:0,bottom:0,left:0,...u},k=Array.isArray(d)?d:[d],P=k.length>0,D={padding:T,boundary:k.filter(Use),altBoundary:P},{refs:I,floatingStyles:V,placement:W,isPositioned:R,middlewareData:F}=kse({strategy:"fixed",placement:E,whileElementsMounted:(...te)=>gse(...te,{animationFrame:f==="always"}),elements:{reference:y.anchor},middleware:[Ese({mainAxis:n+C,alignmentAxis:o}),c&&Ase({mainAxis:!0,crossAxis:!1,limiter:m==="partial"?Tse():void 0,...D}),c&&Mse({...D}),Ose({...D,apply:({elements:te,rects:ye,availableWidth:Pe,availableHeight:J})=>{const{width:se,height:ke}=ye.reference,$e=te.floating.style;$e.setProperty("--radix-popper-available-width",`${Pe}px`),$e.setProperty("--radix-popper-available-height",`${J}px`),$e.setProperty("--radix-popper-anchor-width",`${se}px`),$e.setProperty("--radix-popper-anchor-height",`${ke}px`)}}),N&&Rse({element:N,padding:l}),qse({arrowWidth:_,arrowHeight:C}),h&&Dse({strategy:"referenceHidden",...D})]}),[H,Z]=q6(W),B=ss(g);ns(()=>{R&&(B==null||B())},[R,B]);const K=(le=F.arrow)==null?void 0:le.x,Q=(Oe=F.arrow)==null?void 0:Oe.y,ie=((ae=F.arrow)==null?void 0:ae.centerOffset)!==0,[oe,je]=p.useState();return ns(()=>{v&&je(window.getComputedStyle(v).zIndex)},[v]),s.jsx("div",{ref:I.setFloating,"data-radix-popper-content-wrapper":"",style:{...V,transform:R?V.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:oe,"--radix-popper-transform-origin":[(ue=F.transformOrigin)==null?void 0:ue.x,(L=F.transformOrigin)==null?void 0:L.y].join(" "),...((q=F.hide)==null?void 0:q.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:s.jsx($se,{scope:r,placedSide:H,onArrowChange:w,arrowX:K,arrowY:Q,shouldHideArrow:ie,children:s.jsx(ge.div,{"data-side":H,"data-align":Z,...x,ref:j,style:{...x.style,animation:R?void 0:"none"}})})})});B6.displayName=c_;var z6="PopperArrow",zse={top:"bottom",right:"left",bottom:"top",left:"right"},U6=p.forwardRef(function(t,r){const{__scopePopper:a,...n}=t,i=Bse(z6,a),o=zse[i.placedSide];return s.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:s.jsx(Fse,{...n,ref:r,style:{...n.style,display:"block"}})})});U6.displayName=z6;function Use(e){return e!==null}var qse=e=>({name:"transformOrigin",options:e,fn(t){var y,v,b;const{placement:r,rects:a,middlewareData:n}=t,o=((y=n.arrow)==null?void 0:y.centerOffset)!==0,l=o?0:e.arrowWidth,c=o?0:e.arrowHeight,[d,u]=q6(r),m={start:"0%",center:"50%",end:"100%"}[u],h=(((v=n.arrow)==null?void 0:v.x)??0)+l/2,f=(((b=n.arrow)==null?void 0:b.y)??0)+c/2;let g="",x="";return d==="bottom"?(g=o?m:`${h}px`,x=`${-c}px`):d==="top"?(g=o?m:`${h}px`,x=`${a.floating.height+c}px`):d==="right"?(g=`${-c}px`,x=o?m:`${f}px`):d==="left"&&(g=`${a.floating.width+c}px`,x=o?m:`${f}px`),{data:{x:g,y:x}}}});function q6(e){const[t,r="center"]=e.split("-");return[t,r]}var R0=F6,ap=$6,I0=B6,F0=U6,[L0,HOe]=ys("Tooltip",[El]),$0=El(),V6="TooltipProvider",Vse=700,s1="tooltip.open",[Wse,d_]=L0(V6),W6=e=>{const{__scopeTooltip:t,delayDuration:r=Vse,skipDelayDuration:a=300,disableHoverableContent:n=!1,children:i}=e,o=p.useRef(!0),l=p.useRef(!1),c=p.useRef(0);return p.useEffect(()=>{const d=c.current;return()=>window.clearTimeout(d)},[]),s.jsx(Wse,{scope:t,isOpenDelayedRef:o,delayDuration:r,onOpen:p.useCallback(()=>{window.clearTimeout(c.current),o.current=!1},[]),onClose:p.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>o.current=!0,a)},[a]),isPointerInTransitRef:l,onPointerInTransitChange:p.useCallback(d=>{l.current=d},[]),disableHoverableContent:n,children:i})};W6.displayName=V6;var df="Tooltip",[Hse,B0]=L0(df),H6=e=>{const{__scopeTooltip:t,children:r,open:a,defaultOpen:n,onOpenChange:i,disableHoverableContent:o,delayDuration:l}=e,c=d_(df,e.__scopeTooltip),d=$0(t),[u,m]=p.useState(null),h=oa(),f=p.useRef(0),g=o??c.disableHoverableContent,x=l??c.delayDuration,y=p.useRef(!1),[v,b]=Vr({prop:a,defaultProp:n??!1,onChange:_=>{_?(c.onOpen(),document.dispatchEvent(new CustomEvent(s1))):c.onClose(),i==null||i(_)},caller:df}),j=p.useMemo(()=>v?y.current?"delayed-open":"instant-open":"closed",[v]),N=p.useCallback(()=>{window.clearTimeout(f.current),f.current=0,y.current=!1,b(!0)},[b]),w=p.useCallback(()=>{window.clearTimeout(f.current),f.current=0,b(!1)},[b]),S=p.useCallback(()=>{window.clearTimeout(f.current),f.current=window.setTimeout(()=>{y.current=!0,b(!0),f.current=0},x)},[x,b]);return p.useEffect(()=>()=>{f.current&&(window.clearTimeout(f.current),f.current=0)},[]),s.jsx(R0,{...d,children:s.jsx(Hse,{scope:t,contentId:h,open:v,stateAttribute:j,trigger:u,onTriggerChange:m,onTriggerEnter:p.useCallback(()=>{c.isOpenDelayedRef.current?S():N()},[c.isOpenDelayedRef,S,N]),onTriggerLeave:p.useCallback(()=>{g?w():(window.clearTimeout(f.current),f.current=0)},[w,g]),onOpen:N,onClose:w,disableHoverableContent:g,children:r})})};H6.displayName=df;var r1="TooltipTrigger",K6=p.forwardRef((e,t)=>{const{__scopeTooltip:r,...a}=e,n=B0(r1,r),i=d_(r1,r),o=$0(r),l=p.useRef(null),c=Me(t,l,n.onTriggerChange),d=p.useRef(!1),u=p.useRef(!1),m=p.useCallback(()=>d.current=!1,[]);return p.useEffect(()=>()=>document.removeEventListener("pointerup",m),[m]),s.jsx(ap,{asChild:!0,...o,children:s.jsx(ge.button,{"aria-describedby":n.open?n.contentId:void 0,"data-state":n.stateAttribute,...a,ref:c,onPointerMove:ce(e.onPointerMove,h=>{h.pointerType!=="touch"&&!u.current&&!i.isPointerInTransitRef.current&&(n.onTriggerEnter(),u.current=!0)}),onPointerLeave:ce(e.onPointerLeave,()=>{n.onTriggerLeave(),u.current=!1}),onPointerDown:ce(e.onPointerDown,()=>{n.open&&n.onClose(),d.current=!0,document.addEventListener("pointerup",m,{once:!0})}),onFocus:ce(e.onFocus,()=>{d.current||n.onOpen()}),onBlur:ce(e.onBlur,n.onClose),onClick:ce(e.onClick,n.onClose)})})});K6.displayName=r1;var Kse="TooltipPortal",[KOe,Gse]=L0(Kse,{forceMount:void 0}),Au="TooltipContent",G6=p.forwardRef((e,t)=>{const r=Gse(Au,e.__scopeTooltip),{forceMount:a=r.forceMount,side:n="top",...i}=e,o=B0(Au,e.__scopeTooltip);return s.jsx(bs,{present:a||o.open,children:o.disableHoverableContent?s.jsx(Y6,{side:n,...i,ref:t}):s.jsx(Yse,{side:n,...i,ref:t})})}),Yse=p.forwardRef((e,t)=>{const r=B0(Au,e.__scopeTooltip),a=d_(Au,e.__scopeTooltip),n=p.useRef(null),i=Me(t,n),[o,l]=p.useState(null),{trigger:c,onClose:d}=r,u=n.current,{onPointerInTransitChange:m}=a,h=p.useCallback(()=>{l(null),m(!1)},[m]),f=p.useCallback((g,x)=>{const y=g.currentTarget,v={x:g.clientX,y:g.clientY},b=ere(v,y.getBoundingClientRect()),j=tre(v,b),N=sre(x.getBoundingClientRect()),w=are([...j,...N]);l(w),m(!0)},[m]);return p.useEffect(()=>()=>h(),[h]),p.useEffect(()=>{if(c&&u){const g=y=>f(y,u),x=y=>f(y,c);return c.addEventListener("pointerleave",g),u.addEventListener("pointerleave",x),()=>{c.removeEventListener("pointerleave",g),u.removeEventListener("pointerleave",x)}}},[c,u,f,h]),p.useEffect(()=>{if(o){const g=x=>{const y=x.target,v={x:x.clientX,y:x.clientY},b=(c==null?void 0:c.contains(y))||(u==null?void 0:u.contains(y)),j=!rre(v,o);b?h():j&&(h(),d())};return document.addEventListener("pointermove",g),()=>document.removeEventListener("pointermove",g)}},[c,u,o,d,h]),s.jsx(Y6,{...e,ref:i})}),[Xse,Qse]=L0(df,{isInside:!1}),Jse=aZ("TooltipContent"),Y6=p.forwardRef((e,t)=>{const{__scopeTooltip:r,children:a,"aria-label":n,onEscapeKeyDown:i,onPointerDownOutside:o,...l}=e,c=B0(Au,r),d=$0(r),{onClose:u}=c;return p.useEffect(()=>(document.addEventListener(s1,u),()=>document.removeEventListener(s1,u)),[u]),p.useEffect(()=>{if(c.trigger){const m=h=>{const f=h.target;f!=null&&f.contains(c.trigger)&&u()};return window.addEventListener("scroll",m,{capture:!0}),()=>window.removeEventListener("scroll",m,{capture:!0})}},[c.trigger,u]),s.jsx(Xc,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:m=>m.preventDefault(),onDismiss:u,children:s.jsxs(I0,{"data-state":c.stateAttribute,...d,...l,ref:t,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[s.jsx(Jse,{children:a}),s.jsx(Xse,{scope:r,isInside:!0,children:s.jsx(CZ,{id:c.contentId,role:"tooltip",children:n||a})})]})})});G6.displayName=Au;var X6="TooltipArrow",Zse=p.forwardRef((e,t)=>{const{__scopeTooltip:r,...a}=e,n=$0(r);return Qse(X6,r).isInside?null:s.jsx(F0,{...n,...a,ref:t})});Zse.displayName=X6;function ere(e,t){const r=Math.abs(t.top-e.y),a=Math.abs(t.bottom-e.y),n=Math.abs(t.right-e.x),i=Math.abs(t.left-e.x);switch(Math.min(r,a,n,i)){case i:return"left";case n:return"right";case r:return"top";case a:return"bottom";default:throw new Error("unreachable")}}function tre(e,t,r=5){const a=[];switch(t){case"top":a.push({x:e.x-r,y:e.y+r},{x:e.x+r,y:e.y+r});break;case"bottom":a.push({x:e.x-r,y:e.y-r},{x:e.x+r,y:e.y-r});break;case"left":a.push({x:e.x+r,y:e.y-r},{x:e.x+r,y:e.y+r});break;case"right":a.push({x:e.x-r,y:e.y-r},{x:e.x-r,y:e.y+r});break}return a}function sre(e){const{top:t,right:r,bottom:a,left:n}=e;return[{x:n,y:t},{x:r,y:t},{x:r,y:a},{x:n,y:a}]}function rre(e,t){const{x:r,y:a}=e;let n=!1;for(let i=0,o=t.length-1;i<t.length;o=i++){const l=t[i],c=t[o],d=l.x,u=l.y,m=c.x,h=c.y;u>a!=h>a&&r<(m-d)*(a-u)/(h-u)+d&&(n=!n)}return n}function are(e){const t=e.slice();return t.sort((r,a)=>r.x<a.x?-1:r.x>a.x?1:r.y<a.y?-1:r.y>a.y?1:0),nre(t)}function nre(e){if(e.length<=1)return e.slice();const t=[];for(let a=0;a<e.length;a++){const n=e[a];for(;t.length>=2;){const i=t[t.length-1],o=t[t.length-2];if((i.x-o.x)*(n.y-o.y)>=(i.y-o.y)*(n.x-o.x))t.pop();else break}t.push(n)}t.pop();const r=[];for(let a=e.length-1;a>=0;a--){const n=e[a];for(;r.length>=2;){const i=r[r.length-1],o=r[r.length-2];if((i.x-o.x)*(n.y-o.y)>=(i.y-o.y)*(n.x-o.x))r.pop();else break}r.push(n)}return r.pop(),t.length===1&&r.length===1&&t[0].x===r[0].x&&t[0].y===r[0].y?t:t.concat(r)}var ire=W6,ore=H6,lre=K6,Q6=G6;const cre=ire,dre=ore,ure=lre,J6=p.forwardRef(({className:e,sideOffset:t=4,...r},a)=>s.jsx(Q6,{ref:a,sideOffset:t,className:xe("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r}));J6.displayName=Q6.displayName;var z0={},Z6={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==="__proto__"}e.isUnsafeProperty=t})(Z6);var u_={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){switch(typeof r){case"number":case"symbol":return!1;case"string":return r.includes(".")||r.includes("[")||r.includes("]")}}e.isDeepKey=t})(u_);var m_={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){var a;return typeof r=="string"||typeof r=="symbol"?r:Object.is((a=r==null?void 0:r.valueOf)==null?void 0:a.call(r),-0)?"-0":String(r)}e.toKey=t})(m_);var U0={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){const a=[],n=r.length;if(n===0)return a;let i=0,o="",l="",c=!1;for(r.charCodeAt(0)===46&&(a.push(""),i++);i<n;){const d=r[i];l?d==="\\"&&i+1<n?(i++,o+=r[i]):d===l?l="":o+=d:c?d==='"'||d==="'"?l=d:d==="]"?(c=!1,a.push(o),o=""):o+=d:d==="["?(c=!0,o&&(a.push(o),o="")):d==="."?o&&(a.push(o),o=""):o+=d,i++}return o&&a.push(o),a}e.toPath=t})(U0);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Z6,r=u_,a=m_,n=U0;function i(l,c,d){if(l==null)return d;switch(typeof c){case"string":{if(t.isUnsafeProperty(c))return d;const u=l[c];return u===void 0?r.isDeepKey(c)?i(l,n.toPath(c),d):d:u}case"number":case"symbol":{typeof c=="number"&&(c=a.toKey(c));const u=l[c];return u===void 0?d:u}default:{if(Array.isArray(c))return o(l,c,d);if(Object.is(c==null?void 0:c.valueOf(),-0)?c="-0":c=String(c),t.isUnsafeProperty(c))return d;const u=l[c];return u===void 0?d:u}}}function o(l,c,d){if(c.length===0)return d;let u=l;for(let m=0;m<c.length;m++){if(u==null||t.isUnsafeProperty(c[m]))return d;u=u[c[m]]}return u===void 0?d:u}e.get=i})(z0);var mre=z0.get;const gl=fa(mre);var eF={exports:{}},wt={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var h_=Symbol.for("react.element"),f_=Symbol.for("react.portal"),q0=Symbol.for("react.fragment"),V0=Symbol.for("react.strict_mode"),W0=Symbol.for("react.profiler"),H0=Symbol.for("react.provider"),K0=Symbol.for("react.context"),hre=Symbol.for("react.server_context"),G0=Symbol.for("react.forward_ref"),Y0=Symbol.for("react.suspense"),X0=Symbol.for("react.suspense_list"),Q0=Symbol.for("react.memo"),J0=Symbol.for("react.lazy"),fre=Symbol.for("react.offscreen"),tF;tF=Symbol.for("react.module.reference");function Ga(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case h_:switch(e=e.type,e){case q0:case W0:case V0:case Y0:case X0:return e;default:switch(e=e&&e.$$typeof,e){case hre:case K0:case G0:case J0:case Q0:case H0:return e;default:return t}}case f_:return t}}}wt.ContextConsumer=K0;wt.ContextProvider=H0;wt.Element=h_;wt.ForwardRef=G0;wt.Fragment=q0;wt.Lazy=J0;wt.Memo=Q0;wt.Portal=f_;wt.Profiler=W0;wt.StrictMode=V0;wt.Suspense=Y0;wt.SuspenseList=X0;wt.isAsyncMode=function(){return!1};wt.isConcurrentMode=function(){return!1};wt.isContextConsumer=function(e){return Ga(e)===K0};wt.isContextProvider=function(e){return Ga(e)===H0};wt.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===h_};wt.isForwardRef=function(e){return Ga(e)===G0};wt.isFragment=function(e){return Ga(e)===q0};wt.isLazy=function(e){return Ga(e)===J0};wt.isMemo=function(e){return Ga(e)===Q0};wt.isPortal=function(e){return Ga(e)===f_};wt.isProfiler=function(e){return Ga(e)===W0};wt.isStrictMode=function(e){return Ga(e)===V0};wt.isSuspense=function(e){return Ga(e)===Y0};wt.isSuspenseList=function(e){return Ga(e)===X0};wt.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===q0||e===W0||e===V0||e===Y0||e===X0||e===fre||typeof e=="object"&&e!==null&&(e.$$typeof===J0||e.$$typeof===Q0||e.$$typeof===H0||e.$$typeof===K0||e.$$typeof===G0||e.$$typeof===tF||e.getModuleId!==void 0)};wt.typeOf=Ga;eF.exports=wt;var pre=eF.exports,Rs=e=>e===0?0:e>0?1:-1,dr=e=>typeof e=="number"&&e!=+e,sc=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,ve=e=>(typeof e=="number"||e instanceof Number)&&!dr(e),Ua=e=>ve(e)||typeof e=="string",xre=0,vl=e=>{var t=++xre;return"".concat(e||"").concat(t)},Nr=function(t,r){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!ve(t)&&typeof t!="string")return a;var i;if(sc(t)){if(r==null)return a;var o=t.indexOf("%");i=r*parseFloat(t.slice(0,o))/100}else i=+t;return dr(i)&&(i=a),n&&r!=null&&i>r&&(i=r),i},sF=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,r={},a=0;a<t;a++)if(!r[e[a]])r[e[a]]=!0;else return!0;return!1},qs=(e,t)=>ve(e)&&ve(t)?r=>e+r*(t-e):()=>t;function xd(e,t,r){return ve(e)&&ve(t)?e+r*(t-e):t}function rF(e,t,r){if(!(!e||!e.length))return e.find(a=>a&&(typeof t=="function"?t(a):gl(a,t))===r)}var dt=e=>e===null||typeof e>"u",np=e=>dt(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1)),gre=["viewBox","children"],vre=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],dA=["points","pathLength"],vj={svg:gre,polygon:dA,polyline:dA},p_=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],x_=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(p.isValidElement(e)&&(r=e.props),typeof r!="object"&&typeof r!="function")return null;var a={};return Object.keys(r).forEach(n=>{p_.includes(n)&&(a[n]=i=>r[n](r,i))}),a},yre=(e,t,r)=>a=>(e(t,r,a),null),Qc=(e,t,r)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var a=null;return Object.keys(e).forEach(n=>{var i=e[n];p_.includes(n)&&typeof i=="function"&&(a||(a={}),a[n]=yre(i,t,r))}),a},uA=e=>typeof e=="string"?e:e?e.displayName||e.name||"Component":"",mA=null,yj=null,aF=e=>{if(e===mA&&Array.isArray(yj))return yj;var t=[];return p.Children.forEach(e,r=>{dt(r)||(pre.isFragment(r)?t=t.concat(aF(r.props.children)):t.push(r))}),yj=t,mA=e,t};function ip(e,t){var r=[],a=[];return Array.isArray(t)?a=t.map(n=>uA(n)):a=[uA(t)],aF(e).forEach(n=>{var i=gl(n,"type.displayName")||gl(n,"type.name");a.indexOf(i)!==-1&&r.push(n)}),r}var Z0=e=>e&&typeof e=="object"&&"clipDot"in e?!!e.clipDot:!0,bre=(e,t,r,a)=>{var n,i=(n=a&&(vj==null?void 0:vj[a]))!==null&&n!==void 0?n:[];return t.startsWith("data-")||typeof e!="function"&&(a&&i.includes(t)||vre.includes(t))||r&&p_.includes(t)},Ce=(e,t,r)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var a=e;if(p.isValidElement(e)&&(a=e.props),typeof a!="object"&&typeof a!="function")return null;var n={};return Object.keys(a).forEach(i=>{var o;bre((o=a)===null||o===void 0?void 0:o[i],i,t,r)&&(n[i]=a[i])}),n},jre=["children","width","height","viewBox","className","style","title","desc"];function a1(){return a1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},a1.apply(null,arguments)}function wre(e,t){if(e==null)return{};var r,a,n=Nre(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Nre(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}var g_=p.forwardRef((e,t)=>{var{children:r,width:a,height:n,viewBox:i,className:o,style:l,title:c,desc:d}=e,u=wre(e,jre),m=i||{width:a,height:n,x:0,y:0},h=Ie("recharts-surface",o);return p.createElement("svg",a1({},Ce(u,!0,"svg"),{className:h,width:a,height:n,style:l,viewBox:"".concat(m.x," ").concat(m.y," ").concat(m.width," ").concat(m.height),ref:t}),p.createElement("title",null,c),p.createElement("desc",null,d),r)}),Sre=["children","className"];function n1(){return n1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},n1.apply(null,arguments)}function _re(e,t){if(e==null)return{};var r,a,n=Cre(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Cre(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}var it=p.forwardRef((e,t)=>{var{children:r,className:a}=e,n=_re(e,Sre),i=Ie("recharts-layer",a);return p.createElement("g",n1({className:i},Ce(n,!0),{ref:t}),r)}),nF=p.createContext(null),kre=()=>p.useContext(nF);function At(e){return function(){return e}}const iF=Math.cos,tv=Math.sin,An=Math.sqrt,sv=Math.PI,ey=2*sv,i1=Math.PI,o1=2*i1,Kl=1e-6,Pre=o1-Kl;function oF(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function Ere(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return oF;const r=10**t;return function(a){this._+=a[0];for(let n=1,i=a.length;n<i;++n)this._+=Math.round(arguments[n]*r)/r+a[n]}}class Are{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?oF:Ere(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,a,n){this._append`Q${+t},${+r},${this._x1=+a},${this._y1=+n}`}bezierCurveTo(t,r,a,n,i,o){this._append`C${+t},${+r},${+a},${+n},${this._x1=+i},${this._y1=+o}`}arcTo(t,r,a,n,i){if(t=+t,r=+r,a=+a,n=+n,i=+i,i<0)throw new Error(`negative radius: ${i}`);let o=this._x1,l=this._y1,c=a-t,d=n-r,u=o-t,m=l-r,h=u*u+m*m;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(h>Kl)if(!(Math.abs(m*c-d*u)>Kl)||!i)this._append`L${this._x1=t},${this._y1=r}`;else{let f=a-o,g=n-l,x=c*c+d*d,y=f*f+g*g,v=Math.sqrt(x),b=Math.sqrt(h),j=i*Math.tan((i1-Math.acos((x+h-y)/(2*v*b)))/2),N=j/b,w=j/v;Math.abs(N-1)>Kl&&this._append`L${t+N*u},${r+N*m}`,this._append`A${i},${i},0,0,${+(m*f>u*g)},${this._x1=t+w*c},${this._y1=r+w*d}`}}arc(t,r,a,n,i,o){if(t=+t,r=+r,a=+a,o=!!o,a<0)throw new Error(`negative radius: ${a}`);let l=a*Math.cos(n),c=a*Math.sin(n),d=t+l,u=r+c,m=1^o,h=o?n-i:i-n;this._x1===null?this._append`M${d},${u}`:(Math.abs(this._x1-d)>Kl||Math.abs(this._y1-u)>Kl)&&this._append`L${d},${u}`,a&&(h<0&&(h=h%o1+o1),h>Pre?this._append`A${a},${a},0,1,${m},${t-l},${r-c}A${a},${a},0,1,${m},${this._x1=d},${this._y1=u}`:h>Kl&&this._append`A${a},${a},0,${+(h>=i1)},${m},${this._x1=t+a*Math.cos(i)},${this._y1=r+a*Math.sin(i)}`)}rect(t,r,a,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${a=+a}v${+n}h${-a}Z`}toString(){return this._}}function v_(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const a=Math.floor(r);if(!(a>=0))throw new RangeError(`invalid digits: ${r}`);t=a}return e},()=>new Are(t)}function y_(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function lF(e){this._context=e}lF.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function ty(e){return new lF(e)}function cF(e){return e[0]}function dF(e){return e[1]}function uF(e,t){var r=At(!0),a=null,n=ty,i=null,o=v_(l);e=typeof e=="function"?e:e===void 0?cF:At(e),t=typeof t=="function"?t:t===void 0?dF:At(t);function l(c){var d,u=(c=y_(c)).length,m,h=!1,f;for(a==null&&(i=n(f=o())),d=0;d<=u;++d)!(d<u&&r(m=c[d],d,c))===h&&((h=!h)?i.lineStart():i.lineEnd()),h&&i.point(+e(m,d,c),+t(m,d,c));if(f)return i=null,f+""||null}return l.x=function(c){return arguments.length?(e=typeof c=="function"?c:At(+c),l):e},l.y=function(c){return arguments.length?(t=typeof c=="function"?c:At(+c),l):t},l.defined=function(c){return arguments.length?(r=typeof c=="function"?c:At(!!c),l):r},l.curve=function(c){return arguments.length?(n=c,a!=null&&(i=n(a)),l):n},l.context=function(c){return arguments.length?(c==null?a=i=null:i=n(a=c),l):a},l}function yx(e,t,r){var a=null,n=At(!0),i=null,o=ty,l=null,c=v_(d);e=typeof e=="function"?e:e===void 0?cF:At(+e),t=typeof t=="function"?t:At(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?dF:At(+r);function d(m){var h,f,g,x=(m=y_(m)).length,y,v=!1,b,j=new Array(x),N=new Array(x);for(i==null&&(l=o(b=c())),h=0;h<=x;++h){if(!(h<x&&n(y=m[h],h,m))===v)if(v=!v)f=h,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),g=h-1;g>=f;--g)l.point(j[g],N[g]);l.lineEnd(),l.areaEnd()}v&&(j[h]=+e(y,h,m),N[h]=+t(y,h,m),l.point(a?+a(y,h,m):j[h],r?+r(y,h,m):N[h]))}if(b)return l=null,b+""||null}function u(){return uF().defined(n).curve(o).context(i)}return d.x=function(m){return arguments.length?(e=typeof m=="function"?m:At(+m),a=null,d):e},d.x0=function(m){return arguments.length?(e=typeof m=="function"?m:At(+m),d):e},d.x1=function(m){return arguments.length?(a=m==null?null:typeof m=="function"?m:At(+m),d):a},d.y=function(m){return arguments.length?(t=typeof m=="function"?m:At(+m),r=null,d):t},d.y0=function(m){return arguments.length?(t=typeof m=="function"?m:At(+m),d):t},d.y1=function(m){return arguments.length?(r=m==null?null:typeof m=="function"?m:At(+m),d):r},d.lineX0=d.lineY0=function(){return u().x(e).y(t)},d.lineY1=function(){return u().x(e).y(r)},d.lineX1=function(){return u().x(a).y(t)},d.defined=function(m){return arguments.length?(n=typeof m=="function"?m:At(!!m),d):n},d.curve=function(m){return arguments.length?(o=m,i!=null&&(l=o(i)),d):o},d.context=function(m){return arguments.length?(m==null?i=l=null:l=o(i=m),d):i},d}class mF{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function Tre(e){return new mF(e,!0)}function Mre(e){return new mF(e,!1)}const b_={draw(e,t){const r=An(t/sv);e.moveTo(r,0),e.arc(0,0,r,0,ey)}},Ore={draw(e,t){const r=An(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},hF=An(1/3),Dre=hF*2,Rre={draw(e,t){const r=An(t/Dre),a=r*hF;e.moveTo(0,-r),e.lineTo(a,0),e.lineTo(0,r),e.lineTo(-a,0),e.closePath()}},Ire={draw(e,t){const r=An(t),a=-r/2;e.rect(a,a,r,r)}},Fre=.8908130915292852,fF=tv(sv/10)/tv(7*sv/10),Lre=tv(ey/10)*fF,$re=-iF(ey/10)*fF,Bre={draw(e,t){const r=An(t*Fre),a=Lre*r,n=$re*r;e.moveTo(0,-r),e.lineTo(a,n);for(let i=1;i<5;++i){const o=ey*i/5,l=iF(o),c=tv(o);e.lineTo(c*r,-l*r),e.lineTo(l*a-c*n,c*a+l*n)}e.closePath()}},bj=An(3),zre={draw(e,t){const r=-An(t/(bj*3));e.moveTo(0,r*2),e.lineTo(-bj*r,-r),e.lineTo(bj*r,-r),e.closePath()}},ya=-.5,ba=An(3)/2,l1=1/An(12),Ure=(l1/2+1)*3,qre={draw(e,t){const r=An(t/Ure),a=r/2,n=r*l1,i=a,o=r*l1+r,l=-i,c=o;e.moveTo(a,n),e.lineTo(i,o),e.lineTo(l,c),e.lineTo(ya*a-ba*n,ba*a+ya*n),e.lineTo(ya*i-ba*o,ba*i+ya*o),e.lineTo(ya*l-ba*c,ba*l+ya*c),e.lineTo(ya*a+ba*n,ya*n-ba*a),e.lineTo(ya*i+ba*o,ya*o-ba*i),e.lineTo(ya*l+ba*c,ya*c-ba*l),e.closePath()}};function Vre(e,t){let r=null,a=v_(n);e=typeof e=="function"?e:At(e||b_),t=typeof t=="function"?t:At(t===void 0?64:+t);function n(){let i;if(r||(r=i=a()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),i)return r=null,i+""||null}return n.type=function(i){return arguments.length?(e=typeof i=="function"?i:At(i),n):e},n.size=function(i){return arguments.length?(t=typeof i=="function"?i:At(+i),n):t},n.context=function(i){return arguments.length?(r=i??null,n):r},n}function rv(){}function av(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function pF(e){this._context=e}pF.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:av(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:av(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Wre(e){return new pF(e)}function xF(e){this._context=e}xF.prototype={areaStart:rv,areaEnd:rv,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:av(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Hre(e){return new xF(e)}function gF(e){this._context=e}gF.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,a=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,a):this._context.moveTo(r,a);break;case 3:this._point=4;default:av(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Kre(e){return new gF(e)}function vF(e){this._context=e}vF.prototype={areaStart:rv,areaEnd:rv,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function Gre(e){return new vF(e)}function hA(e){return e<0?-1:1}function fA(e,t,r){var a=e._x1-e._x0,n=t-e._x1,i=(e._y1-e._y0)/(a||n<0&&-0),o=(r-e._y1)/(n||a<0&&-0),l=(i*n+o*a)/(a+n);return(hA(i)+hA(o))*Math.min(Math.abs(i),Math.abs(o),.5*Math.abs(l))||0}function pA(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function jj(e,t,r){var a=e._x0,n=e._y0,i=e._x1,o=e._y1,l=(i-a)/3;e._context.bezierCurveTo(a+l,n+l*t,i-l,o-l*r,i,o)}function nv(e){this._context=e}nv.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:jj(this,this._t0,pA(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,jj(this,pA(this,r=fA(this,e,t)),r);break;default:jj(this,this._t0,r=fA(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function yF(e){this._context=new bF(e)}(yF.prototype=Object.create(nv.prototype)).point=function(e,t){nv.prototype.point.call(this,t,e)};function bF(e){this._context=e}bF.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,a,n,i){this._context.bezierCurveTo(t,e,a,r,i,n)}};function Yre(e){return new nv(e)}function Xre(e){return new yF(e)}function jF(e){this._context=e}jF.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var a=xA(e),n=xA(t),i=0,o=1;o<r;++i,++o)this._context.bezierCurveTo(a[0][i],n[0][i],a[1][i],n[1][i],e[o],t[o]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function xA(e){var t,r=e.length-1,a,n=new Array(r),i=new Array(r),o=new Array(r);for(n[0]=0,i[0]=2,o[0]=e[0]+2*e[1],t=1;t<r-1;++t)n[t]=1,i[t]=4,o[t]=4*e[t]+2*e[t+1];for(n[r-1]=2,i[r-1]=7,o[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)a=n[t]/i[t-1],i[t]-=a,o[t]-=a*o[t-1];for(n[r-1]=o[r-1]/i[r-1],t=r-2;t>=0;--t)n[t]=(o[t]-n[t+1])/i[t];for(i[r-1]=(e[r]+n[r-1])/2,t=0;t<r-1;++t)i[t]=2*e[t+1]-n[t+1];return[n,i]}function Qre(e){return new jF(e)}function sy(e,t){this._context=e,this._t=t}sy.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function Jre(e){return new sy(e,.5)}function Zre(e){return new sy(e,0)}function eae(e){return new sy(e,1)}function Tu(e,t){if((o=e.length)>1)for(var r=1,a,n,i=e[t[0]],o,l=i.length;r<o;++r)for(n=i,i=e[t[r]],a=0;a<l;++a)i[a][1]+=i[a][0]=isNaN(n[a][1])?n[a][0]:n[a][1]}function c1(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function tae(e,t){return e[t]}function sae(e){const t=[];return t.key=e,t}function rae(){var e=At([]),t=c1,r=Tu,a=tae;function n(i){var o=Array.from(e.apply(this,arguments),sae),l,c=o.length,d=-1,u;for(const m of i)for(l=0,++d;l<c;++l)(o[l][d]=[0,+a(m,o[l].key,d,i)]).data=m;for(l=0,u=y_(t(o));l<c;++l)o[u[l]].index=l;return r(o,u),o}return n.keys=function(i){return arguments.length?(e=typeof i=="function"?i:At(Array.from(i)),n):e},n.value=function(i){return arguments.length?(a=typeof i=="function"?i:At(+i),n):a},n.order=function(i){return arguments.length?(t=i==null?c1:typeof i=="function"?i:At(Array.from(i)),n):t},n.offset=function(i){return arguments.length?(r=i??Tu,n):r},n}function aae(e,t){if((a=e.length)>0){for(var r,a,n=0,i=e[0].length,o;n<i;++n){for(o=r=0;r<a;++r)o+=e[r][n][1]||0;if(o)for(r=0;r<a;++r)e[r][n][1]/=o}Tu(e,t)}}function nae(e,t){if((n=e.length)>0){for(var r=0,a=e[t[0]],n,i=a.length;r<i;++r){for(var o=0,l=0;o<n;++o)l+=e[o][r][1]||0;a[r][1]+=a[r][0]=-l/2}Tu(e,t)}}function iae(e,t){if(!(!((o=e.length)>0)||!((i=(n=e[t[0]]).length)>0))){for(var r=0,a=1,n,i,o;a<i;++a){for(var l=0,c=0,d=0;l<o;++l){for(var u=e[t[l]],m=u[a][1]||0,h=u[a-1][1]||0,f=(m-h)/2,g=0;g<l;++g){var x=e[t[g]],y=x[a][1]||0,v=x[a-1][1]||0;f+=y-v}c+=m,d+=f*m}n[a-1][1]+=n[a-1][0]=r,c&&(r-=d/c)}n[a-1][1]+=n[a-1][0]=r,Tu(e,t)}}var oae=["type","size","sizeType"];function d1(){return d1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},d1.apply(null,arguments)}function gA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),r.push.apply(r,a)}return r}function vA(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?gA(Object(r),!0).forEach(function(a){lae(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gA(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function lae(e,t,r){return(t=cae(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function cae(e){var t=dae(e,"string");return typeof t=="symbol"?t:t+""}function dae(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function uae(e,t){if(e==null)return{};var r,a,n=mae(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function mae(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}var wF={symbolCircle:b_,symbolCross:Ore,symbolDiamond:Rre,symbolSquare:Ire,symbolStar:Bre,symbolTriangle:zre,symbolWye:qre},hae=Math.PI/180,fae=e=>{var t="symbol".concat(np(e));return wF[t]||b_},pae=(e,t,r)=>{if(t==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var a=18*hae;return 1.25*e*e*(Math.tan(a)-Math.tan(a*2)*Math.tan(a)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},xae=(e,t)=>{wF["symbol".concat(np(e))]=t},j_=e=>{var{type:t="circle",size:r=64,sizeType:a="area"}=e,n=uae(e,oae),i=vA(vA({},n),{},{type:t,size:r,sizeType:a}),o=()=>{var m=fae(t),h=Vre().type(m).size(pae(r,a,t));return h()},{className:l,cx:c,cy:d}=i,u=Ce(i,!0);return c===+c&&d===+d&&r===+r?p.createElement("path",d1({},u,{className:Ie("recharts-symbols",l),transform:"translate(".concat(c,", ").concat(d,")"),d:o()})):null};j_.registerSymbol=xae;function u1(){return u1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},u1.apply(null,arguments)}function yA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),r.push.apply(r,a)}return r}function gae(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?yA(Object(r),!0).forEach(function(a){w_(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):yA(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function w_(e,t,r){return(t=vae(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vae(e){var t=yae(e,"string");return typeof t=="symbol"?t:t+""}function yae(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ja=32;class N_ extends p.PureComponent{renderIcon(t,r){var{inactiveColor:a}=this.props,n=ja/2,i=ja/6,o=ja/3,l=t.inactive?a:t.color,c=r??t.type;if(c==="none")return null;if(c==="plainline")return p.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:t.payload.strokeDasharray,x1:0,y1:n,x2:ja,y2:n,className:"recharts-legend-icon"});if(c==="line")return p.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(n,"h").concat(o,`
            A`).concat(i,",").concat(i,",0,1,1,").concat(2*o,",").concat(n,`
            H`).concat(ja,"M").concat(2*o,",").concat(n,`
            A`).concat(i,",").concat(i,",0,1,1,").concat(o,",").concat(n),className:"recharts-legend-icon"});if(c==="rect")return p.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(ja/8,"h").concat(ja,"v").concat(ja*3/4,"h").concat(-ja,"z"),className:"recharts-legend-icon"});if(p.isValidElement(t.legendIcon)){var d=gae({},t);return delete d.legendIcon,p.cloneElement(t.legendIcon,d)}return p.createElement(j_,{fill:l,cx:n,cy:n,size:ja,sizeType:"diameter",type:c})}renderItems(){var{payload:t,iconSize:r,layout:a,formatter:n,inactiveColor:i,iconType:o}=this.props,l={x:0,y:0,width:ja,height:ja},c={display:a==="horizontal"?"inline-block":"block",marginRight:10},d={display:"inline-block",verticalAlign:"middle",marginRight:4};return t.map((u,m)=>{var h=u.formatter||n,f=Ie({"recharts-legend-item":!0,["legend-item-".concat(m)]:!0,inactive:u.inactive});if(u.type==="none")return null;var g=u.inactive?i:u.color,x=h?h(u.value,u,m):u.value;return p.createElement("li",u1({className:f,style:c,key:"legend-item-".concat(m)},Qc(this.props,u,m)),p.createElement(g_,{width:r,height:r,viewBox:l,style:d,"aria-label":"".concat(x," legend icon")},this.renderIcon(u,o)),p.createElement("span",{className:"recharts-legend-item-text",style:{color:g}},x))})}render(){var{payload:t,layout:r,align:a}=this.props;if(!t||!t.length)return null;var n={padding:0,margin:0,textAlign:r==="horizontal"?a:"left"};return p.createElement("ul",{className:"recharts-default-legend",style:n},this.renderItems())}}w_(N_,"displayName","Legend");w_(N_,"defaultProps",{align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"});var NF={},SF={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,a){const n=new Map;for(let i=0;i<r.length;i++){const o=r[i],l=a(o);n.has(l)||n.set(l,o)}return Array.from(n.values())}e.uniqBy=t})(SF);var op={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r}e.identity=t})(op);var _F={},ry={},CF={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Number.isSafeInteger(r)&&r>=0}e.isLength=t})(CF);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=CF;function r(a){return a!=null&&typeof a!="function"&&t.isLength(a.length)}e.isArrayLike=r})(ry);var kF={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="object"&&r!==null}e.isObjectLike=t})(kF);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=ry,r=kF;function a(n){return r.isObjectLike(n)&&t.isArrayLike(n)}e.isArrayLikeObject=a})(_F);var ay={},PF={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=z0;function r(a){return function(n){return t.get(n,a)}}e.property=r})(PF);var EF={},wj={},Nj={},S_={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r!==null&&(typeof r=="object"||typeof r=="function")}e.isObject=t})(S_);var __={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null||typeof r!="object"&&typeof r!="function"}e.isPrimitive=t})(__);var ny={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,a){return r===a||Number.isNaN(r)&&Number.isNaN(a)}e.eq=t})(ny);var bA;function bae(){return bA||(bA=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=C_(),r=S_,a=__,n=ny;function i(m,h,f){return typeof f!="function"?t.isMatch(m,h):o(m,h,function g(x,y,v,b,j,N){const w=f(x,y,v,b,j,N);return w!==void 0?!!w:o(x,y,g,N)},new Map)}function o(m,h,f,g){if(h===m)return!0;switch(typeof h){case"object":return l(m,h,f,g);case"function":return Object.keys(h).length>0?o(m,{...h},f,g):n.eq(m,h);default:return r.isObject(m)?typeof h=="string"?h==="":!0:n.eq(m,h)}}function l(m,h,f,g){if(h==null)return!0;if(Array.isArray(h))return d(m,h,f,g);if(h instanceof Map)return c(m,h,f,g);if(h instanceof Set)return u(m,h,f,g);const x=Object.keys(h);if(m==null)return x.length===0;if(x.length===0)return!0;if(g&&g.has(h))return g.get(h)===m;g&&g.set(h,m);try{for(let y=0;y<x.length;y++){const v=x[y];if(!a.isPrimitive(m)&&!(v in m)||h[v]===void 0&&m[v]!==void 0||h[v]===null&&m[v]!==null||!f(m[v],h[v],v,m,h,g))return!1}return!0}finally{g&&g.delete(h)}}function c(m,h,f,g){if(h.size===0)return!0;if(!(m instanceof Map))return!1;for(const[x,y]of h.entries()){const v=m.get(x);if(f(v,y,x,m,h,g)===!1)return!1}return!0}function d(m,h,f,g){if(h.length===0)return!0;if(!Array.isArray(m))return!1;const x=new Set;for(let y=0;y<h.length;y++){const v=h[y];let b=!1;for(let j=0;j<m.length;j++){if(x.has(j))continue;const N=m[j];let w=!1;if(f(N,v,y,m,h,g)&&(w=!0),w){x.add(j),b=!0;break}}if(!b)return!1}return!0}function u(m,h,f,g){return h.size===0?!0:m instanceof Set?d([...m],[...h],f,g):!1}e.isMatchWith=i,e.isSetMatch=u}(Nj)),Nj}var jA;function C_(){return jA||(jA=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=bae();function r(a,n){return t.isMatchWith(a,n,()=>{})}e.isMatch=r}(wj)),wj}var AF={},k_={},P_={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Object.getOwnPropertySymbols(r).filter(a=>Object.prototype.propertyIsEnumerable.call(r,a))}e.getSymbols=t})(P_);var iy={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null?r===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(r)}e.getTag=t})(iy);var oy={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",r="[object String]",a="[object Number]",n="[object Boolean]",i="[object Arguments]",o="[object Symbol]",l="[object Date]",c="[object Map]",d="[object Set]",u="[object Array]",m="[object Function]",h="[object ArrayBuffer]",f="[object Object]",g="[object Error]",x="[object DataView]",y="[object Uint8Array]",v="[object Uint8ClampedArray]",b="[object Uint16Array]",j="[object Uint32Array]",N="[object BigUint64Array]",w="[object Int8Array]",S="[object Int16Array]",_="[object Int32Array]",C="[object BigInt64Array]",E="[object Float32Array]",T="[object Float64Array]";e.argumentsTag=i,e.arrayBufferTag=h,e.arrayTag=u,e.bigInt64ArrayTag=C,e.bigUint64ArrayTag=N,e.booleanTag=n,e.dataViewTag=x,e.dateTag=l,e.errorTag=g,e.float32ArrayTag=E,e.float64ArrayTag=T,e.functionTag=m,e.int16ArrayTag=S,e.int32ArrayTag=_,e.int8ArrayTag=w,e.mapTag=c,e.numberTag=a,e.objectTag=f,e.regexpTag=t,e.setTag=d,e.stringTag=r,e.symbolTag=o,e.uint16ArrayTag=b,e.uint32ArrayTag=j,e.uint8ArrayTag=y,e.uint8ClampedArrayTag=v})(oy);var TF={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return ArrayBuffer.isView(r)&&!(r instanceof DataView)}e.isTypedArray=t})(TF);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=P_,r=iy,a=oy,n=__,i=TF;function o(u,m){return l(u,void 0,u,new Map,m)}function l(u,m,h,f=new Map,g=void 0){const x=g==null?void 0:g(u,m,h,f);if(x!=null)return x;if(n.isPrimitive(u))return u;if(f.has(u))return f.get(u);if(Array.isArray(u)){const y=new Array(u.length);f.set(u,y);for(let v=0;v<u.length;v++)y[v]=l(u[v],v,h,f,g);return Object.hasOwn(u,"index")&&(y.index=u.index),Object.hasOwn(u,"input")&&(y.input=u.input),y}if(u instanceof Date)return new Date(u.getTime());if(u instanceof RegExp){const y=new RegExp(u.source,u.flags);return y.lastIndex=u.lastIndex,y}if(u instanceof Map){const y=new Map;f.set(u,y);for(const[v,b]of u)y.set(v,l(b,v,h,f,g));return y}if(u instanceof Set){const y=new Set;f.set(u,y);for(const v of u)y.add(l(v,void 0,h,f,g));return y}if(typeof Buffer<"u"&&Buffer.isBuffer(u))return u.subarray();if(i.isTypedArray(u)){const y=new(Object.getPrototypeOf(u)).constructor(u.length);f.set(u,y);for(let v=0;v<u.length;v++)y[v]=l(u[v],v,h,f,g);return y}if(u instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&u instanceof SharedArrayBuffer)return u.slice(0);if(u instanceof DataView){const y=new DataView(u.buffer.slice(0),u.byteOffset,u.byteLength);return f.set(u,y),c(y,u,h,f,g),y}if(typeof File<"u"&&u instanceof File){const y=new File([u],u.name,{type:u.type});return f.set(u,y),c(y,u,h,f,g),y}if(u instanceof Blob){const y=new Blob([u],{type:u.type});return f.set(u,y),c(y,u,h,f,g),y}if(u instanceof Error){const y=new u.constructor;return f.set(u,y),y.message=u.message,y.name=u.name,y.stack=u.stack,y.cause=u.cause,c(y,u,h,f,g),y}if(typeof u=="object"&&d(u)){const y=Object.create(Object.getPrototypeOf(u));return f.set(u,y),c(y,u,h,f,g),y}return u}function c(u,m,h=u,f,g){const x=[...Object.keys(m),...t.getSymbols(m)];for(let y=0;y<x.length;y++){const v=x[y],b=Object.getOwnPropertyDescriptor(u,v);(b==null||b.writable)&&(u[v]=l(m[v],v,h,f,g))}}function d(u){switch(r.getTag(u)){case a.argumentsTag:case a.arrayTag:case a.arrayBufferTag:case a.dataViewTag:case a.booleanTag:case a.dateTag:case a.float32ArrayTag:case a.float64ArrayTag:case a.int8ArrayTag:case a.int16ArrayTag:case a.int32ArrayTag:case a.mapTag:case a.numberTag:case a.objectTag:case a.regexpTag:case a.setTag:case a.stringTag:case a.symbolTag:case a.uint8ArrayTag:case a.uint8ClampedArrayTag:case a.uint16ArrayTag:case a.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=o,e.cloneDeepWithImpl=l,e.copyProperties=c})(k_);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=k_;function r(a){return t.cloneDeepWithImpl(a,void 0,a,new Map,void 0)}e.cloneDeep=r})(AF);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=C_(),r=AF;function a(n){return n=r.cloneDeep(n),i=>t.isMatch(i,n)}e.matches=a})(EF);var MF={},OF={},DF={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=k_,r=oy;function a(n,i){return t.cloneDeepWith(n,(o,l,c,d)=>{const u=i==null?void 0:i(o,l,c,d);if(u!=null)return u;if(typeof n=="object")switch(Object.prototype.toString.call(n)){case r.numberTag:case r.stringTag:case r.booleanTag:{const m=new n.constructor(n==null?void 0:n.valueOf());return t.copyProperties(m,n),m}case r.argumentsTag:{const m={};return t.copyProperties(m,n),m.length=n.length,m[Symbol.iterator]=n[Symbol.iterator],m}default:return}})}e.cloneDeepWith=a})(DF);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=DF;function r(a){return t.cloneDeepWith(a)}e.cloneDeep=r})(OF);var RF={},E_={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function r(a,n=Number.MAX_SAFE_INTEGER){switch(typeof a){case"number":return Number.isInteger(a)&&a>=0&&a<n;case"symbol":return!1;case"string":return t.test(a)}}e.isIndex=r})(E_);var IF={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=iy;function r(a){return a!==null&&typeof a=="object"&&t.getTag(a)==="[object Arguments]"}e.isArguments=r})(IF);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=u_,r=E_,a=IF,n=U0;function i(o,l){let c;if(Array.isArray(l)?c=l:typeof l=="string"&&t.isDeepKey(l)&&(o==null?void 0:o[l])==null?c=n.toPath(l):c=[l],c.length===0)return!1;let d=o;for(let u=0;u<c.length;u++){const m=c[u];if((d==null||!Object.hasOwn(d,m))&&!((Array.isArray(d)||a.isArguments(d))&&r.isIndex(m)&&m<d.length))return!1;d=d[m]}return!0}e.has=i})(RF);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=C_(),r=m_,a=OF,n=z0,i=RF;function o(l,c){switch(typeof l){case"object":{Object.is(l==null?void 0:l.valueOf(),-0)&&(l="-0");break}case"number":{l=r.toKey(l);break}}return c=a.cloneDeep(c),function(d){const u=n.get(d,l);return u===void 0?i.has(d,l):c===void 0?u===void 0:t.isMatch(u,c)}}e.matchesProperty=o})(MF);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=op,r=PF,a=EF,n=MF;function i(o){if(o==null)return t.identity;switch(typeof o){case"function":return o;case"object":return Array.isArray(o)&&o.length===2?n.matchesProperty(o[0],o[1]):a.matches(o);case"string":case"symbol":case"number":return r.property(o)}}e.iteratee=i})(ay);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=SF,r=op,a=_F,n=ay;function i(o,l=r.identity){return a.isArrayLikeObject(o)?t.uniqBy(Array.from(o),n.iteratee(l)):[]}e.uniqBy=i})(NF);var jae=NF.uniqBy;const wA=fa(jae);function FF(e,t,r){return t===!0?wA(e,r):typeof t=="function"?wA(e,t):e}var LF={exports:{}},$F={},BF={exports:{}},zF={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mu=p;function wae(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Nae=typeof Object.is=="function"?Object.is:wae,Sae=Mu.useState,_ae=Mu.useEffect,Cae=Mu.useLayoutEffect,kae=Mu.useDebugValue;function Pae(e,t){var r=t(),a=Sae({inst:{value:r,getSnapshot:t}}),n=a[0].inst,i=a[1];return Cae(function(){n.value=r,n.getSnapshot=t,Sj(n)&&i({inst:n})},[e,r,t]),_ae(function(){return Sj(n)&&i({inst:n}),e(function(){Sj(n)&&i({inst:n})})},[e]),kae(r),r}function Sj(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Nae(e,r)}catch{return!0}}function Eae(e,t){return t()}var Aae=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?Eae:Pae;zF.useSyncExternalStore=Mu.useSyncExternalStore!==void 0?Mu.useSyncExternalStore:Aae;BF.exports=zF;var UF=BF.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ly=p,Tae=UF;function Mae(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Oae=typeof Object.is=="function"?Object.is:Mae,Dae=Tae.useSyncExternalStore,Rae=ly.useRef,Iae=ly.useEffect,Fae=ly.useMemo,Lae=ly.useDebugValue;$F.useSyncExternalStoreWithSelector=function(e,t,r,a,n){var i=Rae(null);if(i.current===null){var o={hasValue:!1,value:null};i.current=o}else o=i.current;i=Fae(function(){function c(f){if(!d){if(d=!0,u=f,f=a(f),n!==void 0&&o.hasValue){var g=o.value;if(n(g,f))return m=g}return m=f}if(g=m,Oae(u,f))return g;var x=a(f);return n!==void 0&&n(g,x)?(u=f,g):(u=f,m=x)}var d=!1,u,m,h=r===void 0?null:r;return[function(){return c(t())},h===null?void 0:function(){return c(h())}]},[t,r,a,n]);var l=Dae(e,i[0],i[1]);return Iae(function(){o.hasValue=!0,o.value=l},[l]),Lae(l),l};LF.exports=$F;var $ae=LF.exports,A_=p.createContext(null),Bae=e=>e,Pt=()=>{var e=p.useContext(A_);return e?e.store.dispatch:Bae},ug=()=>{},zae=()=>ug,Uae=(e,t)=>e===t;function fe(e){var t=p.useContext(A_);return $ae.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:zae,t?t.store.getState:ug,t?t.store.getState:ug,t?e:ug,Uae)}function qae(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function Vae(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function Wae(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(r=>typeof r=="function")){const r=e.map(a=>typeof a=="function"?`function ${a.name||"unnamed"}()`:typeof a).join(", ");throw new TypeError(`${t}[${r}]`)}}var NA=e=>Array.isArray(e)?e:[e];function Hae(e){const t=Array.isArray(e[0])?e[0]:e;return Wae(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function Kae(e,t){const r=[],{length:a}=e;for(let n=0;n<a;n++)r.push(e[n].apply(null,t));return r}var Gae=class{constructor(e){this.value=e}deref(){return this.value}},Yae=typeof WeakRef<"u"?WeakRef:Gae,Xae=0,SA=1;function bx(){return{s:Xae,v:void 0,o:null,p:null}}function qF(e,t={}){let r=bx();const{resultEqualityCheck:a}=t;let n,i=0;function o(){var m;let l=r;const{length:c}=arguments;for(let h=0,f=c;h<f;h++){const g=arguments[h];if(typeof g=="function"||typeof g=="object"&&g!==null){let x=l.o;x===null&&(l.o=x=new WeakMap);const y=x.get(g);y===void 0?(l=bx(),x.set(g,l)):l=y}else{let x=l.p;x===null&&(l.p=x=new Map);const y=x.get(g);y===void 0?(l=bx(),x.set(g,l)):l=y}}const d=l;let u;if(l.s===SA)u=l.v;else if(u=e.apply(null,arguments),i++,a){const h=((m=n==null?void 0:n.deref)==null?void 0:m.call(n))??n;h!=null&&a(h,u)&&(u=h,i!==0&&i--),n=typeof u=="object"&&u!==null||typeof u=="function"?new Yae(u):u}return d.s=SA,d.v=u,u}return o.clearCache=()=>{r=bx(),o.resetResultsCount()},o.resultsCount=()=>i,o.resetResultsCount=()=>{i=0},o}function Qae(e,...t){const r=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,a=(...n)=>{let i=0,o=0,l,c={},d=n.pop();typeof d=="object"&&(c=d,d=n.pop()),qae(d,`createSelector expects an output function after the inputs, but received: [${typeof d}]`);const u={...r,...c},{memoize:m,memoizeOptions:h=[],argsMemoize:f=qF,argsMemoizeOptions:g=[]}=u,x=NA(h),y=NA(g),v=Hae(n),b=m(function(){return i++,d.apply(null,arguments)},...x),j=f(function(){o++;const w=Kae(v,arguments);return l=b.apply(null,w),l},...y);return Object.assign(j,{resultFunc:d,memoizedResultFunc:b,dependencies:v,dependencyRecomputations:()=>o,resetDependencyRecomputations:()=>{o=0},lastResult:()=>l,recomputations:()=>i,resetRecomputations:()=>{i=0},memoize:m,argsMemoize:f})};return Object.assign(a,{withTypes:()=>a}),a}var ee=Qae(qF),Jae=Object.assign((e,t=ee)=>{Vae(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const r=Object.keys(e),a=r.map(i=>e[i]);return t(a,(...i)=>i.reduce((o,l,c)=>(o[r[c]]=l,o),{}))},{withTypes:()=>Jae}),VF={},WF={},HF={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(a){return typeof a=="symbol"?1:a===null?2:a===void 0?3:a!==a?4:0}const r=(a,n,i)=>{if(a!==n){const o=t(a),l=t(n);if(o===l&&o===0){if(a<n)return i==="desc"?1:-1;if(a>n)return i==="desc"?-1:1}return i==="desc"?l-o:o-l}return 0};e.compareValues=r})(HF);var KF={},T_={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"||r instanceof Symbol}e.isSymbol=t})(T_);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=T_,r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,a=/^\w*$/;function n(i,o){return Array.isArray(i)?!1:typeof i=="number"||typeof i=="boolean"||i==null||t.isSymbol(i)?!0:typeof i=="string"&&(a.test(i)||!r.test(i))||o!=null&&Object.hasOwn(o,i)}e.isKey=n})(KF);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=HF,r=KF,a=U0;function n(i,o,l,c){if(i==null)return[];l=c?void 0:l,Array.isArray(i)||(i=Object.values(i)),Array.isArray(o)||(o=o==null?[null]:[o]),o.length===0&&(o=[null]),Array.isArray(l)||(l=l==null?[]:[l]),l=l.map(f=>String(f));const d=(f,g)=>{let x=f;for(let y=0;y<g.length&&x!=null;++y)x=x[g[y]];return x},u=(f,g)=>g==null||f==null?g:typeof f=="object"&&"key"in f?Object.hasOwn(g,f.key)?g[f.key]:d(g,f.path):typeof f=="function"?f(g):Array.isArray(f)?d(g,f):typeof g=="object"?g[f]:g,m=o.map(f=>(Array.isArray(f)&&f.length===1&&(f=f[0]),f==null||typeof f=="function"||Array.isArray(f)||r.isKey(f)?f:{key:f,path:a.toPath(f)}));return i.map(f=>({original:f,criteria:m.map(g=>u(g,f))})).slice().sort((f,g)=>{for(let x=0;x<m.length;x++){const y=t.compareValues(f.criteria[x],g.criteria[x],l[x]);if(y!==0)return y}return 0}).map(f=>f.original)}e.orderBy=n})(WF);var GF={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,a=1){const n=[],i=Math.floor(a),o=(l,c)=>{for(let d=0;d<l.length;d++){const u=l[d];Array.isArray(u)&&c<i?o(u,c+1):n.push(u)}};return o(r,0),n}e.flatten=t})(GF);var M_={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=E_,r=ry,a=S_,n=ny;function i(o,l,c){return a.isObject(c)&&(typeof l=="number"&&r.isArrayLike(c)&&t.isIndex(l)&&l<c.length||typeof l=="string"&&l in c)?n.eq(c[l],o):!1}e.isIterateeCall=i})(M_);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=WF,r=GF,a=M_;function n(i,...o){const l=o.length;return l>1&&a.isIterateeCall(i,o[0],o[1])?o=[]:l>2&&a.isIterateeCall(o[0],o[1],o[2])&&(o=[o[0]]),t.orderBy(i,r.flatten(o),["asc"])}e.sortBy=n})(VF);var Zae=VF.sortBy;const cy=fa(Zae);var YF=e=>e.legend.settings,ene=e=>e.legend.size,tne=e=>e.legend.payload,sne=ee([tne,YF],(e,t)=>{var{itemSorter:r}=t,a=e.flat(1);return r?cy(a,r):a});function rne(){return fe(sne)}var jx=1;function XF(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,r]=p.useState({height:0,left:0,top:0,width:0}),a=p.useCallback(n=>{if(n!=null){var i=n.getBoundingClientRect(),o={height:i.height,left:i.left,top:i.top,width:i.width};(Math.abs(o.height-t.height)>jx||Math.abs(o.left-t.left)>jx||Math.abs(o.top-t.top)>jx||Math.abs(o.width-t.width)>jx)&&r({height:o.height,left:o.left,top:o.top,width:o.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,a]}function $s(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var ane=typeof Symbol=="function"&&Symbol.observable||"@@observable",_A=ane,_j=()=>Math.random().toString(36).substring(7).split("").join("."),nne={INIT:`@@redux/INIT${_j()}`,REPLACE:`@@redux/REPLACE${_j()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${_j()}`},iv=nne;function O_(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function QF(e,t,r){if(typeof e!="function")throw new Error($s(2));if(typeof t=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error($s(0));if(typeof t=="function"&&typeof r>"u"&&(r=t,t=void 0),typeof r<"u"){if(typeof r!="function")throw new Error($s(1));return r(QF)(e,t)}let a=e,n=t,i=new Map,o=i,l=0,c=!1;function d(){o===i&&(o=new Map,i.forEach((y,v)=>{o.set(v,y)}))}function u(){if(c)throw new Error($s(3));return n}function m(y){if(typeof y!="function")throw new Error($s(4));if(c)throw new Error($s(5));let v=!0;d();const b=l++;return o.set(b,y),function(){if(v){if(c)throw new Error($s(6));v=!1,d(),o.delete(b),i=null}}}function h(y){if(!O_(y))throw new Error($s(7));if(typeof y.type>"u")throw new Error($s(8));if(typeof y.type!="string")throw new Error($s(17));if(c)throw new Error($s(9));try{c=!0,n=a(n,y)}finally{c=!1}return(i=o).forEach(b=>{b()}),y}function f(y){if(typeof y!="function")throw new Error($s(10));a=y,h({type:iv.REPLACE})}function g(){const y=m;return{subscribe(v){if(typeof v!="object"||v===null)throw new Error($s(11));function b(){const N=v;N.next&&N.next(u())}return b(),{unsubscribe:y(b)}},[_A](){return this}}}return h({type:iv.INIT}),{dispatch:h,subscribe:m,getState:u,replaceReducer:f,[_A]:g}}function ine(e){Object.keys(e).forEach(t=>{const r=e[t];if(typeof r(void 0,{type:iv.INIT})>"u")throw new Error($s(12));if(typeof r(void 0,{type:iv.PROBE_UNKNOWN_ACTION()})>"u")throw new Error($s(13))})}function JF(e){const t=Object.keys(e),r={};for(let i=0;i<t.length;i++){const o=t[i];typeof e[o]=="function"&&(r[o]=e[o])}const a=Object.keys(r);let n;try{ine(r)}catch(i){n=i}return function(o={},l){if(n)throw n;let c=!1;const d={};for(let u=0;u<a.length;u++){const m=a[u],h=r[m],f=o[m],g=h(f,l);if(typeof g>"u")throw l&&l.type,new Error($s(14));d[m]=g,c=c||g!==f}return c=c||a.length!==Object.keys(o).length,c?d:o}}function ov(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,r)=>(...a)=>t(r(...a)))}function one(...e){return t=>(r,a)=>{const n=t(r,a);let i=()=>{throw new Error($s(15))};const o={getState:n.getState,dispatch:(c,...d)=>i(c,...d)},l=e.map(c=>c(o));return i=ov(...l)(n.dispatch),{...n,dispatch:i}}}function ZF(e){return O_(e)&&"type"in e&&typeof e.type=="string"}var eL=Symbol.for("immer-nothing"),CA=Symbol.for("immer-draftable"),ua=Symbol.for("immer-state");function pn(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Ou=Object.getPrototypeOf;function Fc(e){return!!e&&!!e[ua]}function Wi(e){var t;return e?tL(e)||Array.isArray(e)||!!e[CA]||!!((t=e.constructor)!=null&&t[CA])||uy(e)||my(e):!1}var lne=Object.prototype.constructor.toString();function tL(e){if(!e||typeof e!="object")return!1;const t=Ou(e);if(t===null)return!0;const r=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return r===Object?!0:typeof r=="function"&&Function.toString.call(r)===lne}function lv(e,t){dy(e)===0?Reflect.ownKeys(e).forEach(r=>{t(r,e[r],e)}):e.forEach((r,a)=>t(a,r,e))}function dy(e){const t=e[ua];return t?t.type_:Array.isArray(e)?1:uy(e)?2:my(e)?3:0}function m1(e,t){return dy(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function sL(e,t,r){const a=dy(e);a===2?e.set(t,r):a===3?e.add(r):e[t]=r}function cne(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function uy(e){return e instanceof Map}function my(e){return e instanceof Set}function Gl(e){return e.copy_||e.base_}function h1(e,t){if(uy(e))return new Map(e);if(my(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const r=tL(e);if(t===!0||t==="class_only"&&!r){const a=Object.getOwnPropertyDescriptors(e);delete a[ua];let n=Reflect.ownKeys(a);for(let i=0;i<n.length;i++){const o=n[i],l=a[o];l.writable===!1&&(l.writable=!0,l.configurable=!0),(l.get||l.set)&&(a[o]={configurable:!0,writable:!0,enumerable:l.enumerable,value:e[o]})}return Object.create(Ou(e),a)}else{const a=Ou(e);if(a!==null&&r)return{...e};const n=Object.create(a);return Object.assign(n,e)}}function D_(e,t=!1){return hy(e)||Fc(e)||!Wi(e)||(dy(e)>1&&(e.set=e.add=e.clear=e.delete=dne),Object.freeze(e),t&&Object.entries(e).forEach(([r,a])=>D_(a,!0))),e}function dne(){pn(2)}function hy(e){return Object.isFrozen(e)}var une={};function Lc(e){const t=une[e];return t||pn(0,e),t}var uf;function rL(){return uf}function mne(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function kA(e,t){t&&(Lc("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function f1(e){p1(e),e.drafts_.forEach(hne),e.drafts_=null}function p1(e){e===uf&&(uf=e.parent_)}function PA(e){return uf=mne(uf,e)}function hne(e){const t=e[ua];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function EA(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];return e!==void 0&&e!==r?(r[ua].modified_&&(f1(t),pn(4)),Wi(e)&&(e=cv(t,e),t.parent_||dv(t,e)),t.patches_&&Lc("Patches").generateReplacementPatches_(r[ua].base_,e,t.patches_,t.inversePatches_)):e=cv(t,r,[]),f1(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==eL?e:void 0}function cv(e,t,r){if(hy(t))return t;const a=t[ua];if(!a)return lv(t,(n,i)=>AA(e,a,t,n,i,r)),t;if(a.scope_!==e)return t;if(!a.modified_)return dv(e,a.base_,!0),a.base_;if(!a.finalized_){a.finalized_=!0,a.scope_.unfinalizedDrafts_--;const n=a.copy_;let i=n,o=!1;a.type_===3&&(i=new Set(n),n.clear(),o=!0),lv(i,(l,c)=>AA(e,a,n,l,c,r,o)),dv(e,n,!1),r&&e.patches_&&Lc("Patches").generatePatches_(a,r,e.patches_,e.inversePatches_)}return a.copy_}function AA(e,t,r,a,n,i,o){if(Fc(n)){const l=i&&t&&t.type_!==3&&!m1(t.assigned_,a)?i.concat(a):void 0,c=cv(e,n,l);if(sL(r,a,c),Fc(c))e.canAutoFreeze_=!1;else return}else o&&r.add(n);if(Wi(n)&&!hy(n)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;cv(e,n),(!t||!t.scope_.parent_)&&typeof a!="symbol"&&Object.prototype.propertyIsEnumerable.call(r,a)&&dv(e,n)}}function dv(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&D_(t,r)}function fne(e,t){const r=Array.isArray(e),a={type_:r?1:0,scope_:t?t.scope_:rL(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let n=a,i=R_;r&&(n=[a],i=mf);const{revoke:o,proxy:l}=Proxy.revocable(n,i);return a.draft_=l,a.revoke_=o,l}var R_={get(e,t){if(t===ua)return e;const r=Gl(e);if(!m1(r,t))return pne(e,r,t);const a=r[t];return e.finalized_||!Wi(a)?a:a===Cj(e.base_,t)?(kj(e),e.copy_[t]=g1(a,e)):a},has(e,t){return t in Gl(e)},ownKeys(e){return Reflect.ownKeys(Gl(e))},set(e,t,r){const a=aL(Gl(e),t);if(a!=null&&a.set)return a.set.call(e.draft_,r),!0;if(!e.modified_){const n=Cj(Gl(e),t),i=n==null?void 0:n[ua];if(i&&i.base_===r)return e.copy_[t]=r,e.assigned_[t]=!1,!0;if(cne(r,n)&&(r!==void 0||m1(e.base_,t)))return!0;kj(e),x1(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_[t]=!0),!0},deleteProperty(e,t){return Cj(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,kj(e),x1(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=Gl(e),a=Reflect.getOwnPropertyDescriptor(r,t);return a&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:a.enumerable,value:r[t]}},defineProperty(){pn(11)},getPrototypeOf(e){return Ou(e.base_)},setPrototypeOf(){pn(12)}},mf={};lv(R_,(e,t)=>{mf[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});mf.deleteProperty=function(e,t){return mf.set.call(this,e,t,void 0)};mf.set=function(e,t,r){return R_.set.call(this,e[0],t,r,e[0])};function Cj(e,t){const r=e[ua];return(r?Gl(r):e)[t]}function pne(e,t,r){var n;const a=aL(t,r);return a?"value"in a?a.value:(n=a.get)==null?void 0:n.call(e.draft_):void 0}function aL(e,t){if(!(t in e))return;let r=Ou(e);for(;r;){const a=Object.getOwnPropertyDescriptor(r,t);if(a)return a;r=Ou(r)}}function x1(e){e.modified_||(e.modified_=!0,e.parent_&&x1(e.parent_))}function kj(e){e.copy_||(e.copy_=h1(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var xne=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(t,r,a)=>{if(typeof t=="function"&&typeof r!="function"){const i=r;r=t;const o=this;return function(c=i,...d){return o.produce(c,u=>r.call(this,u,...d))}}typeof r!="function"&&pn(6),a!==void 0&&typeof a!="function"&&pn(7);let n;if(Wi(t)){const i=PA(this),o=g1(t,void 0);let l=!0;try{n=r(o),l=!1}finally{l?f1(i):p1(i)}return kA(i,a),EA(n,i)}else if(!t||typeof t!="object"){if(n=r(t),n===void 0&&(n=t),n===eL&&(n=void 0),this.autoFreeze_&&D_(n,!0),a){const i=[],o=[];Lc("Patches").generateReplacementPatches_(t,n,i,o),a(i,o)}return n}else pn(1,t)},this.produceWithPatches=(t,r)=>{if(typeof t=="function")return(o,...l)=>this.produceWithPatches(o,c=>t(c,...l));let a,n;return[this.produce(t,r,(o,l)=>{a=o,n=l}),a,n]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){Wi(e)||pn(8),Fc(e)&&(e=Oi(e));const t=PA(this),r=g1(e,void 0);return r[ua].isManual_=!0,p1(t),r}finishDraft(e,t){const r=e&&e[ua];(!r||!r.isManual_)&&pn(9);const{scope_:a}=r;return kA(a,t),EA(void 0,a)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,t){let r;for(r=t.length-1;r>=0;r--){const n=t[r];if(n.path.length===0&&n.op==="replace"){e=n.value;break}}r>-1&&(t=t.slice(r+1));const a=Lc("Patches").applyPatches_;return Fc(e)?a(e,t):this.produce(e,n=>a(n,t))}};function g1(e,t){const r=uy(e)?Lc("MapSet").proxyMap_(e,t):my(e)?Lc("MapSet").proxySet_(e,t):fne(e,t);return(t?t.scope_:rL()).drafts_.push(r),r}function Oi(e){return Fc(e)||pn(10,e),nL(e)}function nL(e){if(!Wi(e)||hy(e))return e;const t=e[ua];let r;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=h1(e,t.scope_.immer_.useStrictShallowCopy_)}else r=h1(e,!0);return lv(r,(a,n)=>{sL(r,a,nL(n))}),t&&(t.finalized_=!1),r}var ma=new xne,iL=ma.produce;ma.produceWithPatches.bind(ma);ma.setAutoFreeze.bind(ma);ma.setUseStrictShallowCopy.bind(ma);ma.applyPatches.bind(ma);ma.createDraft.bind(ma);ma.finishDraft.bind(ma);function oL(e){return({dispatch:r,getState:a})=>n=>i=>typeof i=="function"?i(r,a,e):n(i)}var gne=oL(),vne=oL,yne=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?ov:ov.apply(null,arguments)};function qa(e,t){function r(...a){if(t){let n=t(...a);if(!n)throw new Error(ca(0));return{type:e,payload:n.payload,..."meta"in n&&{meta:n.meta},..."error"in n&&{error:n.error}}}return{type:e,payload:a[0]}}return r.toString=()=>`${e}`,r.type=e,r.match=a=>ZF(a)&&a.type===e,r}var lL=class oh extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,oh.prototype)}static get[Symbol.species](){return oh}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new oh(...t[0].concat(this)):new oh(...t.concat(this))}};function TA(e){return Wi(e)?iL(e,()=>{}):e}function wx(e,t,r){return e.has(t)?e.get(t):e.set(t,r(t)).get(t)}function bne(e){return typeof e=="boolean"}var jne=()=>function(t){const{thunk:r=!0,immutableCheck:a=!0,serializableCheck:n=!0,actionCreatorCheck:i=!0}=t??{};let o=new lL;return r&&(bne(r)?o.push(gne):o.push(vne(r.extraArgument))),o},wne="RTK_autoBatch",MA=e=>t=>{setTimeout(t,e)},Nne=(e={type:"raf"})=>t=>(...r)=>{const a=t(...r);let n=!0,i=!1,o=!1;const l=new Set,c=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:MA(10):e.type==="callback"?e.queueNotification:MA(e.timeout),d=()=>{o=!1,i&&(i=!1,l.forEach(u=>u()))};return Object.assign({},a,{subscribe(u){const m=()=>n&&u(),h=a.subscribe(m);return l.add(u),()=>{h(),l.delete(u)}},dispatch(u){var m;try{return n=!((m=u==null?void 0:u.meta)!=null&&m[wne]),i=!n,i&&(o||(o=!0,c(d))),a.dispatch(u)}finally{n=!0}}})},Sne=e=>function(r){const{autoBatch:a=!0}=r??{};let n=new lL(e);return a&&n.push(Nne(typeof a=="object"?a:void 0)),n};function _ne(e){const t=jne(),{reducer:r=void 0,middleware:a,devTools:n=!0,preloadedState:i=void 0,enhancers:o=void 0}=e||{};let l;if(typeof r=="function")l=r;else if(O_(r))l=JF(r);else throw new Error(ca(1));let c;typeof a=="function"?c=a(t):c=t();let d=ov;n&&(d=yne({trace:!1,...typeof n=="object"&&n}));const u=one(...c),m=Sne(u);let h=typeof o=="function"?o(m):m();const f=d(...h);return QF(l,i,f)}function cL(e){const t={},r=[];let a;const n={addCase(i,o){const l=typeof i=="string"?i:i.type;if(!l)throw new Error(ca(28));if(l in t)throw new Error(ca(29));return t[l]=o,n},addMatcher(i,o){return r.push({matcher:i,reducer:o}),n},addDefaultCase(i){return a=i,n}};return e(n),[t,r,a]}function Cne(e){return typeof e=="function"}function kne(e,t){let[r,a,n]=cL(t),i;if(Cne(e))i=()=>TA(e());else{const l=TA(e);i=()=>l}function o(l=i(),c){let d=[r[c.type],...a.filter(({matcher:u})=>u(c)).map(({reducer:u})=>u)];return d.filter(u=>!!u).length===0&&(d=[n]),d.reduce((u,m)=>{if(m)if(Fc(u)){const f=m(u,c);return f===void 0?u:f}else{if(Wi(u))return iL(u,h=>m(h,c));{const h=m(u,c);if(h===void 0){if(u===null)return u;throw Error("A case reducer on a non-draftable value must not return undefined")}return h}}return u},l)}return o.getInitialState=i,o}var Pne="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",Ene=(e=21)=>{let t="",r=e;for(;r--;)t+=Pne[Math.random()*64|0];return t},Ane=Symbol.for("rtk-slice-createasyncthunk");function Tne(e,t){return`${e}/${t}`}function Mne({creators:e}={}){var r;const t=(r=e==null?void 0:e.asyncThunk)==null?void 0:r[Ane];return function(n){const{name:i,reducerPath:o=i}=n;if(!i)throw new Error(ca(11));const l=(typeof n.reducers=="function"?n.reducers(Dne()):n.reducers)||{},c=Object.keys(l),d={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},u={addCase(N,w){const S=typeof N=="string"?N:N.type;if(!S)throw new Error(ca(12));if(S in d.sliceCaseReducersByType)throw new Error(ca(13));return d.sliceCaseReducersByType[S]=w,u},addMatcher(N,w){return d.sliceMatchers.push({matcher:N,reducer:w}),u},exposeAction(N,w){return d.actionCreators[N]=w,u},exposeCaseReducer(N,w){return d.sliceCaseReducersByName[N]=w,u}};c.forEach(N=>{const w=l[N],S={reducerName:N,type:Tne(i,N),createNotation:typeof n.reducers=="function"};Ine(w)?Lne(S,w,u,t):Rne(S,w,u)});function m(){const[N={},w=[],S=void 0]=typeof n.extraReducers=="function"?cL(n.extraReducers):[n.extraReducers],_={...N,...d.sliceCaseReducersByType};return kne(n.initialState,C=>{for(let E in _)C.addCase(E,_[E]);for(let E of d.sliceMatchers)C.addMatcher(E.matcher,E.reducer);for(let E of w)C.addMatcher(E.matcher,E.reducer);S&&C.addDefaultCase(S)})}const h=N=>N,f=new Map,g=new WeakMap;let x;function y(N,w){return x||(x=m()),x(N,w)}function v(){return x||(x=m()),x.getInitialState()}function b(N,w=!1){function S(C){let E=C[N];return typeof E>"u"&&w&&(E=wx(g,S,v)),E}function _(C=h){const E=wx(f,w,()=>new WeakMap);return wx(E,C,()=>{const T={};for(const[k,P]of Object.entries(n.selectors??{}))T[k]=One(P,C,()=>wx(g,C,v),w);return T})}return{reducerPath:N,getSelectors:_,get selectors(){return _(S)},selectSlice:S}}const j={name:i,reducer:y,actions:d.actionCreators,caseReducers:d.sliceCaseReducersByName,getInitialState:v,...b(o),injectInto(N,{reducerPath:w,...S}={}){const _=w??o;return N.inject({reducerPath:_,reducer:y},S),{...j,...b(_,!0)}}};return j}}function One(e,t,r,a){function n(i,...o){let l=t(i);return typeof l>"u"&&a&&(l=r()),e(l,...o)}return n.unwrapped=e,n}var Ya=Mne();function Dne(){function e(t,r){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...r}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...r){return t(...r)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,r){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:r}},asyncThunk:e}}function Rne({type:e,reducerName:t,createNotation:r},a,n){let i,o;if("reducer"in a){if(r&&!Fne(a))throw new Error(ca(17));i=a.reducer,o=a.prepare}else i=a;n.addCase(e,i).exposeCaseReducer(t,i).exposeAction(t,o?qa(e,o):qa(e))}function Ine(e){return e._reducerDefinitionType==="asyncThunk"}function Fne(e){return e._reducerDefinitionType==="reducerWithPrepare"}function Lne({type:e,reducerName:t},r,a,n){if(!n)throw new Error(ca(18));const{payloadCreator:i,fulfilled:o,pending:l,rejected:c,settled:d,options:u}=r,m=n(e,i,u);a.exposeAction(t,m),o&&a.addCase(m.fulfilled,o),l&&a.addCase(m.pending,l),c&&a.addCase(m.rejected,c),d&&a.addMatcher(m.settled,d),a.exposeCaseReducer(t,{fulfilled:o||Nx,pending:l||Nx,rejected:c||Nx,settled:d||Nx})}function Nx(){}var $ne="task",dL="listener",uL="completed",I_="cancelled",Bne=`task-${I_}`,zne=`task-${uL}`,v1=`${dL}-${I_}`,Une=`${dL}-${uL}`,fy=class{constructor(e){kb(this,"name","TaskAbortError");kb(this,"message");this.code=e,this.message=`${$ne} ${I_} (reason: ${e})`}},F_=(e,t)=>{if(typeof e!="function")throw new TypeError(ca(32))},uv=()=>{},mL=(e,t=uv)=>(e.catch(t),e),hL=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),jc=(e,t)=>{const r=e.signal;r.aborted||("reason"in r||Object.defineProperty(r,"reason",{enumerable:!0,value:t,configurable:!0,writable:!0}),e.abort(t))},wc=e=>{if(e.aborted){const{reason:t}=e;throw new fy(t)}};function fL(e,t){let r=uv;return new Promise((a,n)=>{const i=()=>n(new fy(e.reason));if(e.aborted){i();return}r=hL(e,i),t.finally(()=>r()).then(a,n)}).finally(()=>{r=uv})}var qne=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(r){return{status:r instanceof fy?"cancelled":"rejected",error:r}}finally{t==null||t()}},mv=e=>t=>mL(fL(e,t).then(r=>(wc(e),r))),pL=e=>{const t=mv(e);return r=>t(new Promise(a=>setTimeout(a,r)))},{assign:ru}=Object,OA={},py="listenerMiddleware",Vne=(e,t)=>{const r=a=>hL(e,()=>jc(a,e.reason));return(a,n)=>{F_(a);const i=new AbortController;r(i);const o=qne(async()=>{wc(e),wc(i.signal);const l=await a({pause:mv(i.signal),delay:pL(i.signal),signal:i.signal});return wc(i.signal),l},()=>jc(i,zne));return n!=null&&n.autoJoin&&t.push(o.catch(uv)),{result:mv(e)(o),cancel(){jc(i,Bne)}}}},Wne=(e,t)=>{const r=async(a,n)=>{wc(t);let i=()=>{};const l=[new Promise((c,d)=>{let u=e({predicate:a,effect:(m,h)=>{h.unsubscribe(),c([m,h.getState(),h.getOriginalState()])}});i=()=>{u(),d()}})];n!=null&&l.push(new Promise(c=>setTimeout(c,n,null)));try{const c=await fL(t,Promise.race(l));return wc(t),c}finally{i()}};return(a,n)=>mL(r(a,n))},xL=e=>{let{type:t,actionCreator:r,matcher:a,predicate:n,effect:i}=e;if(t)n=qa(t).match;else if(r)t=r.type,n=r.match;else if(a)n=a;else if(!n)throw new Error(ca(21));return F_(i),{predicate:n,type:t,effect:i}},gL=ru(e=>{const{type:t,predicate:r,effect:a}=xL(e);return{id:Ene(),effect:a,type:t,predicate:r,pending:new Set,unsubscribe:()=>{throw new Error(ca(22))}}},{withTypes:()=>gL}),DA=(e,t)=>{const{type:r,effect:a,predicate:n}=xL(t);return Array.from(e.values()).find(i=>(typeof r=="string"?i.type===r:i.predicate===n)&&i.effect===a)},y1=e=>{e.pending.forEach(t=>{jc(t,v1)})},Hne=e=>()=>{e.forEach(y1),e.clear()},RA=(e,t,r)=>{try{e(t,r)}catch(a){setTimeout(()=>{throw a},0)}},vL=ru(qa(`${py}/add`),{withTypes:()=>vL}),Kne=qa(`${py}/removeAll`),yL=ru(qa(`${py}/remove`),{withTypes:()=>yL}),Gne=(...e)=>{console.error(`${py}/error`,...e)},lp=(e={})=>{const t=new Map,{extra:r,onError:a=Gne}=e;F_(a);const n=u=>(u.unsubscribe=()=>t.delete(u.id),t.set(u.id,u),m=>{u.unsubscribe(),m!=null&&m.cancelActive&&y1(u)}),i=u=>{const m=DA(t,u)??gL(u);return n(m)};ru(i,{withTypes:()=>i});const o=u=>{const m=DA(t,u);return m&&(m.unsubscribe(),u.cancelActive&&y1(m)),!!m};ru(o,{withTypes:()=>o});const l=async(u,m,h,f)=>{const g=new AbortController,x=Wne(i,g.signal),y=[];try{u.pending.add(g),await Promise.resolve(u.effect(m,ru({},h,{getOriginalState:f,condition:(v,b)=>x(v,b).then(Boolean),take:x,delay:pL(g.signal),pause:mv(g.signal),extra:r,signal:g.signal,fork:Vne(g.signal,y),unsubscribe:u.unsubscribe,subscribe:()=>{t.set(u.id,u)},cancelActiveListeners:()=>{u.pending.forEach((v,b,j)=>{v!==g&&(jc(v,v1),j.delete(v))})},cancel:()=>{jc(g,v1),u.pending.delete(g)},throwIfCancelled:()=>{wc(g.signal)}})))}catch(v){v instanceof fy||RA(a,v,{raisedBy:"effect"})}finally{await Promise.all(y),jc(g,Une),u.pending.delete(g)}},c=Hne(t);return{middleware:u=>m=>h=>{if(!ZF(h))return m(h);if(vL.match(h))return i(h.payload);if(Kne.match(h)){c();return}if(yL.match(h))return o(h.payload);let f=u.getState();const g=()=>{if(f===OA)throw new Error(ca(23));return f};let x;try{if(x=m(h),t.size>0){const y=u.getState(),v=Array.from(t.values());for(const b of v){let j=!1;try{j=b.predicate(h,y,f)}catch(N){j=!1,RA(a,N,{raisedBy:"predicate"})}j&&l(b,h,u,g)}}}finally{f=OA}return x},startListening:i,stopListening:o,clearListeners:c}};function ca(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var Yne={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},bL=Ya({name:"chartLayout",initialState:Yne,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){e.margin.top=t.payload.top,e.margin.right=t.payload.right,e.margin.bottom=t.payload.bottom,e.margin.left=t.payload.left},setScale(e,t){e.scale=t.payload}}}),{setMargin:Xne,setLayout:Qne,setChartSize:Jne,setScale:Zne}=bL.actions,eie=bL.reducer;function IA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),r.push.apply(r,a)}return r}function FA(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?IA(Object(r),!0).forEach(function(a){tie(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):IA(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function tie(e,t,r){return(t=sie(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function sie(e){var t=rie(e,"string");return typeof t=="symbol"?t:t+""}function rie(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var hv=Math.PI/180,aie=e=>e*180/Math.PI,lt=(e,t,r,a)=>({x:e+Math.cos(-hv*a)*r,y:t+Math.sin(-hv*a)*r}),jL=function(t,r){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(a.left||0)-(a.right||0)),Math.abs(r-(a.top||0)-(a.bottom||0)))/2},nie=(e,t)=>{var{x:r,y:a}=e,{x:n,y:i}=t;return Math.sqrt((r-n)**2+(a-i)**2)},iie=(e,t)=>{var{x:r,y:a}=e,{cx:n,cy:i}=t,o=nie({x:r,y:a},{x:n,y:i});if(o<=0)return{radius:o,angle:0};var l=(r-n)/o,c=Math.acos(l);return a>i&&(c=2*Math.PI-c),{radius:o,angle:aie(c),angleInRadian:c}},oie=e=>{var{startAngle:t,endAngle:r}=e,a=Math.floor(t/360),n=Math.floor(r/360),i=Math.min(a,n);return{startAngle:t-i*360,endAngle:r-i*360}},lie=(e,t)=>{var{startAngle:r,endAngle:a}=t,n=Math.floor(r/360),i=Math.floor(a/360),o=Math.min(n,i);return e+o*360},cie=(e,t)=>{var{x:r,y:a}=e,{radius:n,angle:i}=iie({x:r,y:a},t),{innerRadius:o,outerRadius:l}=t;if(n<o||n>l||n===0)return null;var{startAngle:c,endAngle:d}=oie(t),u=i,m;if(c<=d){for(;u>d;)u-=360;for(;u<c;)u+=360;m=u>=c&&u<=d}else{for(;u>c;)u-=360;for(;u<d;)u+=360;m=u>=d&&u<=c}return m?FA(FA({},t),{},{radius:n,angle:lie(u,t)}):null},wL=e=>!p.isValidElement(e)&&typeof e!="function"&&typeof e!="boolean"&&e!=null?e.className:"";function LA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),r.push.apply(r,a)}return r}function Ea(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?LA(Object(r),!0).forEach(function(a){die(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):LA(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function die(e,t,r){return(t=uie(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function uie(e){var t=mie(e,"string");return typeof t=="symbol"?t:t+""}function mie(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function pt(e,t,r){return dt(e)||dt(t)?r:Ua(t)?gl(e,t,r):typeof t=="function"?t(e):r}var hie=(e,t,r,a,n)=>{var i,o=-1,l=(i=t==null?void 0:t.length)!==null&&i!==void 0?i:0;if(l<=1||e==null)return 0;if(a==="angleAxis"&&n!=null&&Math.abs(Math.abs(n[1]-n[0])-360)<=1e-6)for(var c=0;c<l;c++){var d=c>0?r[c-1].coordinate:r[l-1].coordinate,u=r[c].coordinate,m=c>=l-1?r[0].coordinate:r[c+1].coordinate,h=void 0;if(Rs(u-d)!==Rs(m-u)){var f=[];if(Rs(m-u)===Rs(n[1]-n[0])){h=m;var g=u+n[1]-n[0];f[0]=Math.min(g,(g+d)/2),f[1]=Math.max(g,(g+d)/2)}else{h=d;var x=m+n[1]-n[0];f[0]=Math.min(u,(x+u)/2),f[1]=Math.max(u,(x+u)/2)}var y=[Math.min(u,(h+u)/2),Math.max(u,(h+u)/2)];if(e>y[0]&&e<=y[1]||e>=f[0]&&e<=f[1]){({index:o}=r[c]);break}}else{var v=Math.min(d,m),b=Math.max(d,m);if(e>(v+u)/2&&e<=(b+u)/2){({index:o}=r[c]);break}}}else if(t){for(var j=0;j<l;j++)if(j===0&&e<=(t[j].coordinate+t[j+1].coordinate)/2||j>0&&j<l-1&&e>(t[j].coordinate+t[j-1].coordinate)/2&&e<=(t[j].coordinate+t[j+1].coordinate)/2||j===l-1&&e>(t[j].coordinate+t[j-1].coordinate)/2){({index:o}=t[j]);break}}return o},fie=(e,t,r)=>{if(t&&r){var{width:a,height:n}=r,{align:i,verticalAlign:o,layout:l}=t;if((l==="vertical"||l==="horizontal"&&o==="middle")&&i!=="center"&&ve(e[i]))return Ea(Ea({},e),{},{[i]:e[i]+(a||0)});if((l==="horizontal"||l==="vertical"&&i==="center")&&o!=="middle"&&ve(e[o]))return Ea(Ea({},e),{},{[o]:e[o]+(n||0)})}return e},Tn=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",NL=(e,t,r,a)=>{if(a)return e.map(l=>l.coordinate);var n,i,o=e.map(l=>(l.coordinate===t&&(n=!0),l.coordinate===r&&(i=!0),l.coordinate));return n||o.push(t),i||o.push(r),o},SL=(e,t,r)=>{if(!e)return null;var{duplicateDomain:a,type:n,range:i,scale:o,realScaleType:l,isCategorical:c,categoricalDomain:d,tickCount:u,ticks:m,niceTicks:h,axisType:f}=e;if(!o)return null;var g=l==="scaleBand"&&o.bandwidth?o.bandwidth()/2:2,x=n==="category"&&o.bandwidth?o.bandwidth()/g:0;if(x=f==="angleAxis"&&i&&i.length>=2?Rs(i[0]-i[1])*2*x:x,m||h){var y=(m||h||[]).map((v,b)=>{var j=a?a.indexOf(v):v;return{coordinate:o(j)+x,value:v,offset:x,index:b}});return y.filter(v=>!dr(v.coordinate))}return c&&d?d.map((v,b)=>({coordinate:o(v)+x,value:v,index:b,offset:x})):o.ticks&&u!=null?o.ticks(u).map((v,b)=>({coordinate:o(v)+x,value:v,offset:x,index:b})):o.domain().map((v,b)=>({coordinate:o(v)+x,value:a?a[v]:v,index:b,offset:x}))},$A=1e-4,pie=e=>{var t=e.domain();if(!(!t||t.length<=2)){var r=t.length,a=e.range(),n=Math.min(a[0],a[1])-$A,i=Math.max(a[0],a[1])+$A,o=e(t[0]),l=e(t[r-1]);(o<n||o>i||l<n||l>i)&&e.domain([t[0],t[r-1]])}},xie=(e,t)=>{if(!t||t.length!==2||!ve(t[0])||!ve(t[1]))return e;var r=Math.min(t[0],t[1]),a=Math.max(t[0],t[1]),n=[e[0],e[1]];return(!ve(e[0])||e[0]<r)&&(n[0]=r),(!ve(e[1])||e[1]>a)&&(n[1]=a),n[0]>a&&(n[0]=a),n[1]<r&&(n[1]=r),n},gie=e=>{var t=e.length;if(!(t<=0))for(var r=0,a=e[0].length;r<a;++r)for(var n=0,i=0,o=0;o<t;++o){var l=dr(e[o][r][1])?e[o][r][0]:e[o][r][1];l>=0?(e[o][r][0]=n,e[o][r][1]=n+l,n=e[o][r][1]):(e[o][r][0]=i,e[o][r][1]=i+l,i=e[o][r][1])}},vie=e=>{var t=e.length;if(!(t<=0))for(var r=0,a=e[0].length;r<a;++r)for(var n=0,i=0;i<t;++i){var o=dr(e[i][r][1])?e[i][r][0]:e[i][r][1];o>=0?(e[i][r][0]=n,e[i][r][1]=n+o,n=e[i][r][1]):(e[i][r][0]=0,e[i][r][1]=0)}},yie={sign:gie,expand:aae,none:Tu,silhouette:nae,wiggle:iae,positive:vie},bie=(e,t,r)=>{var a=yie[r],n=rae().keys(t).value((i,o)=>+pt(i,o,0)).order(c1).offset(a);return n(e)};function L_(e){return e==null?void 0:String(e)}function fv(e){var{axis:t,ticks:r,bandSize:a,entry:n,index:i,dataKey:o}=e;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!dt(n[t.dataKey])){var l=rF(r,"value",n[t.dataKey]);if(l)return l.coordinate+a/2}return r[i]?r[i].coordinate+a/2:null}var c=pt(n,dt(o)?t.dataKey:o);return dt(c)?null:t.scale(c)}var BA=e=>{var{axis:t,ticks:r,offset:a,bandSize:n,entry:i,index:o}=e;if(t.type==="category")return r[o]?r[o].coordinate+a:null;var l=pt(i,t.dataKey,t.scale.domain()[o]);return dt(l)?null:t.scale(l)-n/2+a},jie=e=>{var{numericAxis:t}=e,r=t.scale.domain();if(t.type==="number"){var a=Math.min(r[0],r[1]),n=Math.max(r[0],r[1]);return a<=0&&n>=0?0:n<0?n:a}return r[0]},wie=e=>{var t=e.flat(2).filter(ve);return[Math.min(...t),Math.max(...t)]},Nie=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],Sie=(e,t,r)=>{if(e!=null)return Nie(Object.keys(e).reduce((a,n)=>{var i=e[n],{stackedData:o}=i,l=o.reduce((c,d)=>{var u=wie(d.slice(t,r+1));return[Math.min(c[0],u[0]),Math.max(c[1],u[1])]},[1/0,-1/0]);return[Math.min(l[0],a[0]),Math.max(l[1],a[1])]},[1/0,-1/0]))},zA=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,UA=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Hi=(e,t,r)=>{if(e&&e.scale&&e.scale.bandwidth){var a=e.scale.bandwidth();if(!r||a>0)return a}if(e&&t&&t.length>=2){for(var n=cy(t,u=>u.coordinate),i=1/0,o=1,l=n.length;o<l;o++){var c=n[o],d=n[o-1];i=Math.min((c.coordinate||0)-(d.coordinate||0),i)}return i===1/0?0:i}return r?void 0:0};function qA(e){var{tooltipEntrySettings:t,dataKey:r,payload:a,value:n,name:i}=e;return Ea(Ea({},t),{},{dataKey:r,payload:a,value:n,name:i})}function mi(e,t){if(e)return String(e);if(typeof t=="string")return t}function _ie(e,t,r,a,n){if(r==="horizontal"||r==="vertical"){var i=e>=n.left&&e<=n.left+n.width&&t>=n.top&&t<=n.top+n.height;return i?{x:e,y:t}:null}return a?cie({x:e,y:t},a):null}var Cie=(e,t,r,a)=>{var n=t.find(d=>d&&d.index===r);if(n){if(e==="horizontal")return{x:n.coordinate,y:a.y};if(e==="vertical")return{x:a.x,y:n.coordinate};if(e==="centric"){var i=n.coordinate,{radius:o}=a;return Ea(Ea(Ea({},a),lt(a.cx,a.cy,o,i)),{},{angle:i,radius:o})}var l=n.coordinate,{angle:c}=a;return Ea(Ea(Ea({},a),lt(a.cx,a.cy,l,c)),{},{angle:c,radius:l})}return{x:0,y:0}},kie=(e,t)=>t==="horizontal"?e.x:t==="vertical"?e.y:t==="centric"?e.angle:e.radius,no=e=>e.layout.width,io=e=>e.layout.height,Pie=e=>e.layout.scale,_L=e=>e.layout.margin,$_=ee(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),B_=ee(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),CL="data-recharts-item-index",kL="data-recharts-item-data-key",xy=60;function VA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),r.push.apply(r,a)}return r}function yo(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?VA(Object(r),!0).forEach(function(a){Eie(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):VA(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function Eie(e,t,r){return(t=Aie(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Aie(e){var t=Tie(e,"string");return typeof t=="symbol"?t:t+""}function Tie(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Mie=e=>e.brush.height,ks=ee([no,io,_L,Mie,$_,B_,YF,ene],(e,t,r,a,n,i,o,l)=>{var c=i.reduce((g,x)=>{var{orientation:y}=x;if(!x.mirror&&!x.hide){var v=typeof x.width=="number"?x.width:xy;return yo(yo({},g),{},{[y]:g[y]+v})}return g},{left:r.left||0,right:r.right||0}),d=n.reduce((g,x)=>{var{orientation:y}=x;return!x.mirror&&!x.hide?yo(yo({},g),{},{[y]:gl(g,"".concat(y))+x.height}):g},{top:r.top||0,bottom:r.bottom||0}),u=yo(yo({},d),c),m=u.bottom;u.bottom+=a,u=fie(u,o,l);var h=e-u.left-u.right,f=t-u.top-u.bottom;return yo(yo({brushBottom:m},u),{},{width:Math.max(h,0),height:Math.max(f,0)})}),Oie=ee(ks,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),PL=ee(no,io,(e,t)=>({x:0,y:0,width:e,height:t})),Die=p.createContext(null),Ps=()=>p.useContext(Die)!=null,gy=e=>e.brush,vy=ee([gy,ks,_L],(e,t,r)=>({height:e.height,x:ve(e.x)?e.x:t.left,y:ve(e.y)?e.y:t.top+t.height+t.brushBottom-((r==null?void 0:r.bottom)||0),width:ve(e.width)?e.width:t.width})),yy=()=>{var e,t=Ps(),r=fe(Oie),a=fe(vy),n=(e=fe(gy))===null||e===void 0?void 0:e.padding;return!t||!a||!n?r:{width:a.width-n.left-n.right,height:a.height-n.top-n.bottom,x:n.left,y:n.top}},Rie={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},EL=()=>{var e;return(e=fe(ks))!==null&&e!==void 0?e:Rie},z_=()=>fe(no),U_=()=>fe(io),Iie={top:0,right:0,bottom:0,left:0},Fie=()=>{var e;return(e=fe(t=>t.layout.margin))!==null&&e!==void 0?e:Iie},Xe=e=>e.layout.layoutType,cp=()=>fe(Xe),Lie={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},AL=Ya({name:"legend",initialState:Lie,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload(e,t){e.payload.push(t.payload)},removeLegendPayload(e,t){var r=Oi(e).payload.indexOf(t.payload);r>-1&&e.payload.splice(r,1)}}}),{setLegendSize:WA,setLegendSettings:$ie,addLegendPayload:TL,removeLegendPayload:ML}=AL.actions,Bie=AL.reducer,zie=["contextPayload"];function b1(){return b1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},b1.apply(null,arguments)}function HA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),r.push.apply(r,a)}return r}function Du(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?HA(Object(r),!0).forEach(function(a){q_(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):HA(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function q_(e,t,r){return(t=Uie(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Uie(e){var t=qie(e,"string");return typeof t=="symbol"?t:t+""}function qie(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Vie(e,t){if(e==null)return{};var r,a,n=Wie(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Wie(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}function Hie(e){return e.value}function Kie(e){var{contextPayload:t}=e,r=Vie(e,zie),a=FF(t,e.payloadUniqBy,Hie),n=Du(Du({},r),{},{payload:a});return p.isValidElement(e.content)?p.cloneElement(e.content,n):typeof e.content=="function"?p.createElement(e.content,n):p.createElement(N_,n)}function Gie(e,t,r,a,n,i){var{layout:o,align:l,verticalAlign:c}=t,d,u;return(!e||(e.left===void 0||e.left===null)&&(e.right===void 0||e.right===null))&&(l==="center"&&o==="vertical"?d={left:((a||0)-i.width)/2}:d=l==="right"?{right:r&&r.right||0}:{left:r&&r.left||0}),(!e||(e.top===void 0||e.top===null)&&(e.bottom===void 0||e.bottom===null))&&(c==="middle"?u={top:((n||0)-i.height)/2}:u=c==="bottom"?{bottom:r&&r.bottom||0}:{top:r&&r.top||0}),Du(Du({},d),u)}function Yie(e){var t=Pt();return p.useEffect(()=>{t($ie(e))},[t,e]),null}function Xie(e){var t=Pt();return p.useEffect(()=>(t(WA(e)),()=>{t(WA({width:0,height:0}))}),[t,e]),null}function Qie(e){var t=rne(),r=kre(),a=Fie(),{width:n,height:i,wrapperStyle:o,portal:l}=e,[c,d]=XF([t]),u=z_(),m=U_(),h=u-(a.left||0)-(a.right||0),f=Ra.getWidthOrHeight(e.layout,i,n,h),g=l?o:Du(Du({position:"absolute",width:(f==null?void 0:f.width)||n||"auto",height:(f==null?void 0:f.height)||i||"auto"},Gie(o,e,a,u,m,c)),o),x=l??r;if(x==null)return null;var y=p.createElement("div",{className:"recharts-legend-wrapper",style:g,ref:d},p.createElement(Yie,{layout:e.layout,align:e.align,verticalAlign:e.verticalAlign,itemSorter:e.itemSorter}),p.createElement(Xie,{width:c.width,height:c.height}),p.createElement(Kie,b1({},e,f,{margin:a,chartWidth:u,chartHeight:m,contextPayload:t})));return ao.createPortal(y,x)}class Ra extends p.PureComponent{static getWidthOrHeight(t,r,a,n){return t==="vertical"&&ve(r)?{height:r}:t==="horizontal"?{width:a||n}:null}render(){return p.createElement(Qie,this.props)}}q_(Ra,"displayName","Legend");q_(Ra,"defaultProps",{align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"});function j1(){return j1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},j1.apply(null,arguments)}function KA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),r.push.apply(r,a)}return r}function Pj(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?KA(Object(r),!0).forEach(function(a){Jie(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):KA(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function Jie(e,t,r){return(t=Zie(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Zie(e){var t=eoe(e,"string");return typeof t=="symbol"?t:t+""}function eoe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function toe(e){return Array.isArray(e)&&Ua(e[0])&&Ua(e[1])?e.join(" ~ "):e}var soe=e=>{var{separator:t=" : ",contentStyle:r={},itemStyle:a={},labelStyle:n={},payload:i,formatter:o,itemSorter:l,wrapperClassName:c,labelClassName:d,label:u,labelFormatter:m,accessibilityLayer:h=!1}=e,f=()=>{if(i&&i.length){var w={padding:0,margin:0},S=(l?cy(i,l):i).map((_,C)=>{if(_.type==="none")return null;var E=_.formatter||o||toe,{value:T,name:k}=_,P=T,D=k;if(E){var I=E(T,k,_,C,i);if(Array.isArray(I))[P,D]=I;else if(I!=null)P=I;else return null}var V=Pj({display:"block",paddingTop:4,paddingBottom:4,color:_.color||"#000"},a);return p.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(C),style:V},Ua(D)?p.createElement("span",{className:"recharts-tooltip-item-name"},D):null,Ua(D)?p.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,p.createElement("span",{className:"recharts-tooltip-item-value"},P),p.createElement("span",{className:"recharts-tooltip-item-unit"},_.unit||""))});return p.createElement("ul",{className:"recharts-tooltip-item-list",style:w},S)}return null},g=Pj({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},r),x=Pj({margin:0},n),y=!dt(u),v=y?u:"",b=Ie("recharts-default-tooltip",c),j=Ie("recharts-tooltip-label",d);y&&m&&i!==void 0&&i!==null&&(v=m(u,i));var N=h?{role:"status","aria-live":"assertive"}:{};return p.createElement("div",j1({className:b,style:g},N),p.createElement("p",{className:j,style:x},p.isValidElement(v)?v:"".concat(v)),f())},Hm="recharts-tooltip-wrapper",roe={visibility:"hidden"};function aoe(e){var{coordinate:t,translateX:r,translateY:a}=e;return Ie(Hm,{["".concat(Hm,"-right")]:ve(r)&&t&&ve(t.x)&&r>=t.x,["".concat(Hm,"-left")]:ve(r)&&t&&ve(t.x)&&r<t.x,["".concat(Hm,"-bottom")]:ve(a)&&t&&ve(t.y)&&a>=t.y,["".concat(Hm,"-top")]:ve(a)&&t&&ve(t.y)&&a<t.y})}function GA(e){var{allowEscapeViewBox:t,coordinate:r,key:a,offsetTopLeft:n,position:i,reverseDirection:o,tooltipDimension:l,viewBox:c,viewBoxDimension:d}=e;if(i&&ve(i[a]))return i[a];var u=r[a]-l-(n>0?n:0),m=r[a]+n;if(t[a])return o[a]?u:m;var h=c[a];if(h==null)return 0;if(o[a]){var f=u,g=h;return f<g?Math.max(m,h):Math.max(u,h)}if(d==null)return 0;var x=m+l,y=h+d;return x>y?Math.max(u,h):Math.max(m,h)}function noe(e){var{translateX:t,translateY:r,useTranslate3d:a}=e;return{transform:a?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function ioe(e){var{allowEscapeViewBox:t,coordinate:r,offsetTopLeft:a,position:n,reverseDirection:i,tooltipBox:o,useTranslate3d:l,viewBox:c}=e,d,u,m;return o.height>0&&o.width>0&&r?(u=GA({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:a,position:n,reverseDirection:i,tooltipDimension:o.width,viewBox:c,viewBoxDimension:c.width}),m=GA({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:a,position:n,reverseDirection:i,tooltipDimension:o.height,viewBox:c,viewBoxDimension:c.height}),d=noe({translateX:u,translateY:m,useTranslate3d:l})):d=roe,{cssProperties:d,cssClasses:aoe({translateX:u,translateY:m,coordinate:r})}}function YA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),r.push.apply(r,a)}return r}function Sx(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?YA(Object(r),!0).forEach(function(a){w1(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):YA(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function w1(e,t,r){return(t=ooe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ooe(e){var t=loe(e,"string");return typeof t=="symbol"?t:t+""}function loe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class coe extends p.PureComponent{constructor(){super(...arguments),w1(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),w1(this,"handleKeyDown",t=>{if(t.key==="Escape"){var r,a,n,i;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(r=(a=this.props.coordinate)===null||a===void 0?void 0:a.x)!==null&&r!==void 0?r:0,y:(n=(i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==null&&n!==void 0?n:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,r;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((r=this.props.coordinate)===null||r===void 0?void 0:r.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:r,animationDuration:a,animationEasing:n,children:i,coordinate:o,hasPayload:l,isAnimationActive:c,offset:d,position:u,reverseDirection:m,useTranslate3d:h,viewBox:f,wrapperStyle:g,lastBoundingBox:x,innerRef:y,hasPortalFromProps:v}=this.props,{cssClasses:b,cssProperties:j}=ioe({allowEscapeViewBox:r,coordinate:o,offsetTopLeft:d,position:u,reverseDirection:m,tooltipBox:{height:x.height,width:x.width},useTranslate3d:h,viewBox:f}),N=v?{}:Sx(Sx({transition:c&&t?"transform ".concat(a,"ms ").concat(n):void 0},j),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&l?"visible":"hidden",position:"absolute",top:0,left:0}),w=Sx(Sx({},N),{},{visibility:!this.state.dismissed&&t&&l?"visible":"hidden"},g);return p.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:b,style:w,ref:y},i)}}var doe=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),oo={isSsr:doe()},OL=()=>fe(e=>e.rootProps.accessibilityLayer);function Ks(e){return Number.isFinite(e)}function Ru(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function N1(){return N1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},N1.apply(null,arguments)}function XA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),r.push.apply(r,a)}return r}function QA(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?XA(Object(r),!0).forEach(function(a){uoe(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):XA(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function uoe(e,t,r){return(t=moe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function moe(e){var t=hoe(e,"string");return typeof t=="symbol"?t:t+""}function hoe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var JA={curveBasisClosed:Hre,curveBasisOpen:Kre,curveBasis:Wre,curveBumpX:Tre,curveBumpY:Mre,curveLinearClosed:Gre,curveLinear:ty,curveMonotoneX:Yre,curveMonotoneY:Xre,curveNatural:Qre,curveStep:Jre,curveStepAfter:eae,curveStepBefore:Zre},_x=e=>Ks(e.x)&&Ks(e.y),Km=e=>e.x,Gm=e=>e.y,foe=(e,t)=>{if(typeof e=="function")return e;var r="curve".concat(np(e));return(r==="curveMonotone"||r==="curveBump")&&t?JA["".concat(r).concat(t==="vertical"?"Y":"X")]:JA[r]||ty},poe=e=>{var{type:t="linear",points:r=[],baseLine:a,layout:n,connectNulls:i=!1}=e,o=foe(t,n),l=i?r.filter(_x):r,c;if(Array.isArray(a)){var d=i?a.filter(m=>_x(m)):a,u=l.map((m,h)=>QA(QA({},m),{},{base:d[h]}));return n==="vertical"?c=yx().y(Gm).x1(Km).x0(m=>m.base.x):c=yx().x(Km).y1(Gm).y0(m=>m.base.y),c.defined(_x).curve(o),c(u)}return n==="vertical"&&ve(a)?c=yx().y(Gm).x1(Km).x0(a):ve(a)?c=yx().x(Km).y1(Gm).y0(a):c=uF().x(Km).y(Gm),c.defined(_x).curve(o),c(l)},au=e=>{var{className:t,points:r,path:a,pathRef:n}=e;if((!r||!r.length)&&!a)return null;var i=r&&r.length?poe(e):a;return p.createElement("path",N1({},Ce(e,!1),x_(e),{className:Ie("recharts-curve",t),d:i===null?void 0:i,ref:n}))},xoe=["x","y","top","left","width","height","className"];function S1(){return S1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},S1.apply(null,arguments)}function ZA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),r.push.apply(r,a)}return r}function goe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ZA(Object(r),!0).forEach(function(a){voe(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ZA(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function voe(e,t,r){return(t=yoe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yoe(e){var t=boe(e,"string");return typeof t=="symbol"?t:t+""}function boe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function joe(e,t){if(e==null)return{};var r,a,n=woe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function woe(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}var Noe=(e,t,r,a,n,i)=>"M".concat(e,",").concat(n,"v").concat(a,"M").concat(i,",").concat(t,"h").concat(r),Soe=e=>{var{x:t=0,y:r=0,top:a=0,left:n=0,width:i=0,height:o=0,className:l}=e,c=joe(e,xoe),d=goe({x:t,y:r,top:a,left:n,width:i,height:o},c);return!ve(t)||!ve(r)||!ve(i)||!ve(o)||!ve(a)||!ve(n)?null:p.createElement("path",S1({},Ce(d,!0),{className:Ie("recharts-cross",l),d:Noe(t,r,i,o,a,n)}))};function _oe(e,t,r,a){var n=a/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-n:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-n,width:e==="horizontal"?a:r.width-1,height:e==="horizontal"?r.height-1:a}}function eT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),r.push.apply(r,a)}return r}function Coe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?eT(Object(r),!0).forEach(function(a){koe(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):eT(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function koe(e,t,r){return(t=Poe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Poe(e){var t=Eoe(e,"string");return typeof t=="symbol"?t:t+""}function Eoe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Kr(e,t){var r=Coe({},e),a=t,n=Object.keys(t),i=n.reduce((o,l)=>(o[l]===void 0&&a[l]!==void 0&&(o[l]=a[l]),o),r);return i}var DL={},RL={},IL={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){if(!r||typeof r!="object")return!1;const a=Object.getPrototypeOf(r);return a===null||a===Object.prototype||Object.getPrototypeOf(a)===null?Object.prototype.toString.call(r)==="[object Object]":!1}e.isPlainObject=t})(IL);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=IL,r=P_,a=iy,n=oy,i=ny;function o(d,u,m){return l(d,u,void 0,void 0,void 0,void 0,m)}function l(d,u,m,h,f,g,x){const y=x(d,u,m,h,f,g);if(y!==void 0)return y;if(typeof d==typeof u)switch(typeof d){case"bigint":case"string":case"boolean":case"symbol":case"undefined":return d===u;case"number":return d===u||Object.is(d,u);case"function":return d===u;case"object":return c(d,u,g,x)}return c(d,u,g,x)}function c(d,u,m,h){if(Object.is(d,u))return!0;let f=a.getTag(d),g=a.getTag(u);if(f===n.argumentsTag&&(f=n.objectTag),g===n.argumentsTag&&(g=n.objectTag),f!==g)return!1;switch(f){case n.stringTag:return d.toString()===u.toString();case n.numberTag:{const v=d.valueOf(),b=u.valueOf();return i.eq(v,b)}case n.booleanTag:case n.dateTag:case n.symbolTag:return Object.is(d.valueOf(),u.valueOf());case n.regexpTag:return d.source===u.source&&d.flags===u.flags;case n.functionTag:return d===u}m=m??new Map;const x=m.get(d),y=m.get(u);if(x!=null&&y!=null)return x===u;m.set(d,u),m.set(u,d);try{switch(f){case n.mapTag:{if(d.size!==u.size)return!1;for(const[v,b]of d.entries())if(!u.has(v)||!l(b,u.get(v),v,d,u,m,h))return!1;return!0}case n.setTag:{if(d.size!==u.size)return!1;const v=Array.from(d.values()),b=Array.from(u.values());for(let j=0;j<v.length;j++){const N=v[j],w=b.findIndex(S=>l(N,S,void 0,d,u,m,h));if(w===-1)return!1;b.splice(w,1)}return!0}case n.arrayTag:case n.uint8ArrayTag:case n.uint8ClampedArrayTag:case n.uint16ArrayTag:case n.uint32ArrayTag:case n.bigUint64ArrayTag:case n.int8ArrayTag:case n.int16ArrayTag:case n.int32ArrayTag:case n.bigInt64ArrayTag:case n.float32ArrayTag:case n.float64ArrayTag:{if(typeof Buffer<"u"&&Buffer.isBuffer(d)!==Buffer.isBuffer(u)||d.length!==u.length)return!1;for(let v=0;v<d.length;v++)if(!l(d[v],u[v],v,d,u,m,h))return!1;return!0}case n.arrayBufferTag:return d.byteLength!==u.byteLength?!1:c(new Uint8Array(d),new Uint8Array(u),m,h);case n.dataViewTag:return d.byteLength!==u.byteLength||d.byteOffset!==u.byteOffset?!1:c(new Uint8Array(d),new Uint8Array(u),m,h);case n.errorTag:return d.name===u.name&&d.message===u.message;case n.objectTag:{if(!(c(d.constructor,u.constructor,m,h)||t.isPlainObject(d)&&t.isPlainObject(u)))return!1;const b=[...Object.keys(d),...r.getSymbols(d)],j=[...Object.keys(u),...r.getSymbols(u)];if(b.length!==j.length)return!1;for(let N=0;N<b.length;N++){const w=b[N],S=d[w];if(!Object.hasOwn(u,w))return!1;const _=u[w];if(!l(S,_,w,d,u,m,h))return!1}return!0}default:return!1}}finally{m.delete(d),m.delete(u)}}e.isEqualWith=o})(RL);var FL={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(){}e.noop=t})(FL);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=RL,r=FL;function a(n,i){return t.isEqualWith(n,i,r.noop)}e.isEqual=a})(DL);var Aoe=DL.isEqual;const Toe=fa(Aoe);function Moe(e){var t={},r=()=>null,a=!1,n=null,i=o=>{if(!a){if(Array.isArray(o)){if(!o.length)return;var l=o,[c,...d]=l;if(typeof c=="number"){n=e.setTimeout(i.bind(null,d),c);return}i(c),n=e.setTimeout(i.bind(null,d));return}typeof o=="object"&&(t=o,r(t)),typeof o=="function"&&o()}};return{stop:()=>{a=!0},start:o=>{a=!1,n&&(n(),n=null),i(o)},subscribe:o=>(r=o,()=>{r=()=>null}),getTimeoutController:()=>e}}var pv=1e-4,LL=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],$L=(e,t)=>e.map((r,a)=>r*t**a).reduce((r,a)=>r+a),tT=(e,t)=>r=>{var a=LL(e,t);return $L(a,r)},Ooe=(e,t)=>r=>{var a=LL(e,t),n=[...a.map((i,o)=>i*o).slice(1),0];return $L(n,r)},sT=function(){for(var t,r,a,n,i=arguments.length,o=new Array(i),l=0;l<i;l++)o[l]=arguments[l];if(o.length===1)switch(o[0]){case"linear":[t,a,r,n]=[0,0,1,1];break;case"ease":[t,a,r,n]=[.25,.1,.25,1];break;case"ease-in":[t,a,r,n]=[.42,0,1,1];break;case"ease-out":[t,a,r,n]=[.42,0,.58,1];break;case"ease-in-out":[t,a,r,n]=[0,0,.58,1];break;default:{var c=o[0].split("(");c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4&&([t,a,r,n]=c[1].split(")")[0].split(",").map(g=>parseFloat(g)))}}else o.length===4&&([t,a,r,n]=o);var d=tT(t,r),u=tT(a,n),m=Ooe(t,r),h=g=>g>1?1:g<0?0:g,f=g=>{for(var x=g>1?1:g,y=x,v=0;v<8;++v){var b=d(y)-x,j=m(y);if(Math.abs(b-x)<pv||j<pv)return u(y);y=h(y-b/j)}return u(y)};return f.isStepper=!1,f},Doe=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:r=100,damping:a=8,dt:n=17}=t,i=(o,l,c)=>{var d=-(o-l)*r,u=c*a,m=c+(d-u)*n/1e3,h=c*n/1e3+o;return Math.abs(h-l)<pv&&Math.abs(m)<pv?[l,0]:[h,m]};return i.isStepper=!0,i.dt=n,i},Roe=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return sT(e);case"spring":return Doe();default:if(e.split("(")[0]==="cubic-bezier")return sT(e)}return typeof e=="function"?e:null};function rT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),r.push.apply(r,a)}return r}function aT(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?rT(Object(r),!0).forEach(function(a){Ioe(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rT(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function Ioe(e,t,r){return(t=Foe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Foe(e){var t=Loe(e,"string");return typeof t=="symbol"?t:t+""}function Loe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var $oe=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),Boe=(e,t,r)=>e.map(a=>"".concat($oe(a)," ").concat(t,"ms ").concat(r)).join(","),zoe=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((r,a)=>r.filter(n=>a.includes(n))),hf=(e,t)=>Object.keys(t).reduce((r,a)=>aT(aT({},r),{},{[a]:e(a,t[a])}),{});function nT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),r.push.apply(r,a)}return r}function Us(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?nT(Object(r),!0).forEach(function(a){Uoe(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):nT(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function Uoe(e,t,r){return(t=qoe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qoe(e){var t=Voe(e,"string");return typeof t=="symbol"?t:t+""}function Voe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var xv=(e,t,r)=>e+(t-e)*r,_1=e=>{var{from:t,to:r}=e;return t!==r},BL=(e,t,r)=>{var a=hf((n,i)=>{if(_1(i)){var[o,l]=e(i.from,i.to,i.velocity);return Us(Us({},i),{},{from:o,velocity:l})}return i},t);return r<1?hf((n,i)=>_1(i)?Us(Us({},i),{},{velocity:xv(i.velocity,a[n].velocity,r),from:xv(i.from,a[n].from,r)}):i,t):BL(e,a,r-1)};function Woe(e,t,r,a,n,i){var o,l=a.reduce((h,f)=>Us(Us({},h),{},{[f]:{from:e[f],velocity:0,to:t[f]}}),{}),c=()=>hf((h,f)=>f.from,l),d=()=>!Object.values(l).filter(_1).length,u=null,m=h=>{o||(o=h);var f=h-o,g=f/r.dt;l=BL(r,l,g),n(Us(Us(Us({},e),t),c())),o=h,d()||(u=i.setTimeout(m))};return()=>(u=i.setTimeout(m),()=>{u()})}function Hoe(e,t,r,a,n,i,o){var l=null,c=n.reduce((m,h)=>Us(Us({},m),{},{[h]:[e[h],t[h]]}),{}),d,u=m=>{d||(d=m);var h=(m-d)/a,f=hf((x,y)=>xv(...y,r(h)),c);if(i(Us(Us(Us({},e),t),f)),h<1)l=o.setTimeout(u);else{var g=hf((x,y)=>xv(...y,r(1)),c);i(Us(Us(Us({},e),t),g))}};return()=>(l=o.setTimeout(u),()=>{l()})}const Koe=(e,t,r,a,n,i)=>{var o=zoe(e,t);return r.isStepper===!0?Woe(e,t,r,o,n,i):Hoe(e,t,r,a,o,n,i)};class Goe{setTimeout(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=performance.now(),n=null,i=o=>{o-a>=r?t(o):typeof requestAnimationFrame=="function"&&(n=requestAnimationFrame(i))};return n=requestAnimationFrame(i),()=>{cancelAnimationFrame(n)}}}var Yoe=["children","begin","duration","attributeName","easing","isActive","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart","animationManager"];function C1(){return C1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},C1.apply(null,arguments)}function Xoe(e,t){if(e==null)return{};var r,a,n=Qoe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Qoe(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}function iT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),r.push.apply(r,a)}return r}function bo(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?iT(Object(r),!0).forEach(function(a){rc(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):iT(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function rc(e,t,r){return(t=Joe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Joe(e){var t=Zoe(e,"string");return typeof t=="symbol"?t:t+""}function Zoe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ele(){return Moe(new Goe)}class V_ extends p.PureComponent{constructor(t,r){super(t,r),rc(this,"mounted",!1),rc(this,"manager",null),rc(this,"stopJSAnimation",null),rc(this,"unSubscribe",null);var{isActive:a,attributeName:n,from:i,to:o,children:l,duration:c,animationManager:d}=this.props;if(this.manager=d,this.handleStyleChange=this.handleStyleChange.bind(this),this.changeStyle=this.changeStyle.bind(this),!a||c<=0){this.state={style:{}},typeof l=="function"&&(this.state={style:o});return}if(i){if(typeof l=="function"){this.state={style:i};return}this.state={style:n?{[n]:i}:i}}else this.state={style:{}}}componentDidMount(){var{isActive:t,canBegin:r}=this.props;this.mounted=!0,!(!t||!r)&&this.runAnimation(this.props)}componentDidUpdate(t){var{isActive:r,canBegin:a,attributeName:n,shouldReAnimate:i,to:o,from:l}=this.props,{style:c}=this.state;if(a){if(!r){var d={style:n?{[n]:o}:o};this.state&&c&&(n&&c[n]!==o||!n&&c!==o)&&this.setState(d);return}if(!(Toe(t.to,o)&&t.canBegin&&t.isActive)){var u=!t.canBegin||!t.isActive;this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var m=u||i?l:t.to;if(this.state&&c){var h={style:n?{[n]:m}:m};(n&&c[n]!==m||!n&&c!==m)&&this.setState(h)}this.runAnimation(bo(bo({},this.props),{},{from:m,begin:0}))}}}componentWillUnmount(){this.mounted=!1;var{onAnimationEnd:t}=this.props;this.unSubscribe&&this.unSubscribe(),this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation(),t&&t()}handleStyleChange(t){this.changeStyle(t)}changeStyle(t){this.mounted&&this.setState({style:t})}runJSAnimation(t){var{from:r,to:a,duration:n,easing:i,begin:o,onAnimationEnd:l,onAnimationStart:c}=t,d=Koe(r,a,Roe(i),n,this.changeStyle,this.manager.getTimeoutController()),u=()=>{this.stopJSAnimation=d()};this.manager.start([c,o,u,n,l])}runAnimation(t){var{begin:r,duration:a,attributeName:n,to:i,easing:o,onAnimationStart:l,onAnimationEnd:c,children:d}=t;if(this.unSubscribe=this.manager.subscribe(this.handleStyleChange),typeof o=="function"||typeof d=="function"||o==="spring"){this.runJSAnimation(t);return}var u=n?{[n]:i}:i,m=Boe(Object.keys(u),a,o);this.manager.start([l,r,bo(bo({},u),{},{transition:m}),a,c])}render(){var t=this.props,{children:r,begin:a,duration:n,attributeName:i,easing:o,isActive:l,from:c,to:d,canBegin:u,onAnimationEnd:m,shouldReAnimate:h,onAnimationReStart:f,animationManager:g}=t,x=Xoe(t,Yoe),y=p.Children.count(r),v=this.state.style;if(typeof r=="function")return r(v);if(!l||y===0||n<=0)return r;var b=j=>{var{style:N={},className:w}=j.props,S=p.cloneElement(j,bo(bo({},x),{},{style:bo(bo({},N),v),className:w}));return S};return y===1?b(p.Children.only(r)):p.createElement("div",null,p.Children.map(r,j=>b(j)))}}rc(V_,"displayName","Animate");rc(V_,"defaultProps",{begin:0,duration:1e3,attributeName:"",easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}});var tle=p.createContext(null);function li(e){var t,r,a=p.useContext(tle);return p.createElement(V_,C1({},e,{animationManager:(t=(r=e.animationManager)!==null&&r!==void 0?r:a)!==null&&t!==void 0?t:ele()}))}function gv(){return gv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},gv.apply(null,arguments)}var oT=(e,t,r,a,n)=>{var i=Math.min(Math.abs(r)/2,Math.abs(a)/2),o=a>=0?1:-1,l=r>=0?1:-1,c=a>=0&&r>=0||a<0&&r<0?1:0,d;if(i>0&&n instanceof Array){for(var u=[0,0,0,0],m=0,h=4;m<h;m++)u[m]=n[m]>i?i:n[m];d="M".concat(e,",").concat(t+o*u[0]),u[0]>0&&(d+="A ".concat(u[0],",").concat(u[0],",0,0,").concat(c,",").concat(e+l*u[0],",").concat(t)),d+="L ".concat(e+r-l*u[1],",").concat(t),u[1]>0&&(d+="A ".concat(u[1],",").concat(u[1],",0,0,").concat(c,`,
        `).concat(e+r,",").concat(t+o*u[1])),d+="L ".concat(e+r,",").concat(t+a-o*u[2]),u[2]>0&&(d+="A ".concat(u[2],",").concat(u[2],",0,0,").concat(c,`,
        `).concat(e+r-l*u[2],",").concat(t+a)),d+="L ".concat(e+l*u[3],",").concat(t+a),u[3]>0&&(d+="A ".concat(u[3],",").concat(u[3],",0,0,").concat(c,`,
        `).concat(e,",").concat(t+a-o*u[3])),d+="Z"}else if(i>0&&n===+n&&n>0){var f=Math.min(i,n);d="M ".concat(e,",").concat(t+o*f,`
            A `).concat(f,",").concat(f,",0,0,").concat(c,",").concat(e+l*f,",").concat(t,`
            L `).concat(e+r-l*f,",").concat(t,`
            A `).concat(f,",").concat(f,",0,0,").concat(c,",").concat(e+r,",").concat(t+o*f,`
            L `).concat(e+r,",").concat(t+a-o*f,`
            A `).concat(f,",").concat(f,",0,0,").concat(c,",").concat(e+r-l*f,",").concat(t+a,`
            L `).concat(e+l*f,",").concat(t+a,`
            A `).concat(f,",").concat(f,",0,0,").concat(c,",").concat(e,",").concat(t+a-o*f," Z")}else d="M ".concat(e,",").concat(t," h ").concat(r," v ").concat(a," h ").concat(-r," Z");return d},sle={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},zL=e=>{var t=Kr(e,sle),r=p.useRef(null),[a,n]=p.useState(-1);p.useEffect(()=>{if(r.current&&r.current.getTotalLength)try{var v=r.current.getTotalLength();v&&n(v)}catch{}},[]);var{x:i,y:o,width:l,height:c,radius:d,className:u}=t,{animationEasing:m,animationDuration:h,animationBegin:f,isAnimationActive:g,isUpdateAnimationActive:x}=t;if(i!==+i||o!==+o||l!==+l||c!==+c||l===0||c===0)return null;var y=Ie("recharts-rectangle",u);return x?p.createElement(li,{canBegin:a>0,from:{width:l,height:c,x:i,y:o},to:{width:l,height:c,x:i,y:o},duration:h,animationEasing:m,isActive:x},v=>{var{width:b,height:j,x:N,y:w}=v;return p.createElement(li,{canBegin:a>0,from:"0px ".concat(a===-1?1:a,"px"),to:"".concat(a,"px 0px"),attributeName:"strokeDasharray",begin:f,duration:h,isActive:g,easing:m},p.createElement("path",gv({},Ce(t,!0),{className:y,d:oT(N,w,b,j,d),ref:r})))}):p.createElement("path",gv({},Ce(t,!0),{className:y,d:oT(i,o,l,c,d)}))};function UL(e){var{cx:t,cy:r,radius:a,startAngle:n,endAngle:i}=e,o=lt(t,r,a,n),l=lt(t,r,a,i);return{points:[o,l],cx:t,cy:r,radius:a,startAngle:n,endAngle:i}}function k1(){return k1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},k1.apply(null,arguments)}var rle=(e,t)=>{var r=Rs(t-e),a=Math.min(Math.abs(t-e),359.999);return r*a},Cx=e=>{var{cx:t,cy:r,radius:a,angle:n,sign:i,isExternal:o,cornerRadius:l,cornerIsExternal:c}=e,d=l*(o?1:-1)+a,u=Math.asin(l/d)/hv,m=c?n:n+i*u,h=lt(t,r,d,m),f=lt(t,r,a,m),g=c?n-i*u:n,x=lt(t,r,d*Math.cos(u*hv),g);return{center:h,circleTangency:f,lineTangency:x,theta:u}},qL=e=>{var{cx:t,cy:r,innerRadius:a,outerRadius:n,startAngle:i,endAngle:o}=e,l=rle(i,o),c=i+l,d=lt(t,r,n,i),u=lt(t,r,n,c),m="M ".concat(d.x,",").concat(d.y,`
    A `).concat(n,",").concat(n,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(i>c),`,
    `).concat(u.x,",").concat(u.y,`
  `);if(a>0){var h=lt(t,r,a,i),f=lt(t,r,a,c);m+="L ".concat(f.x,",").concat(f.y,`
            A `).concat(a,",").concat(a,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(i<=c),`,
            `).concat(h.x,",").concat(h.y," Z")}else m+="L ".concat(t,",").concat(r," Z");return m},ale=e=>{var{cx:t,cy:r,innerRadius:a,outerRadius:n,cornerRadius:i,forceCornerRadius:o,cornerIsExternal:l,startAngle:c,endAngle:d}=e,u=Rs(d-c),{circleTangency:m,lineTangency:h,theta:f}=Cx({cx:t,cy:r,radius:n,angle:c,sign:u,cornerRadius:i,cornerIsExternal:l}),{circleTangency:g,lineTangency:x,theta:y}=Cx({cx:t,cy:r,radius:n,angle:d,sign:-u,cornerRadius:i,cornerIsExternal:l}),v=l?Math.abs(c-d):Math.abs(c-d)-f-y;if(v<0)return o?"M ".concat(h.x,",").concat(h.y,`
        a`).concat(i,",").concat(i,",0,0,1,").concat(i*2,`,0
        a`).concat(i,",").concat(i,",0,0,1,").concat(-i*2,`,0
      `):qL({cx:t,cy:r,innerRadius:a,outerRadius:n,startAngle:c,endAngle:d});var b="M ".concat(h.x,",").concat(h.y,`
    A`).concat(i,",").concat(i,",0,0,").concat(+(u<0),",").concat(m.x,",").concat(m.y,`
    A`).concat(n,",").concat(n,",0,").concat(+(v>180),",").concat(+(u<0),",").concat(g.x,",").concat(g.y,`
    A`).concat(i,",").concat(i,",0,0,").concat(+(u<0),",").concat(x.x,",").concat(x.y,`
  `);if(a>0){var{circleTangency:j,lineTangency:N,theta:w}=Cx({cx:t,cy:r,radius:a,angle:c,sign:u,isExternal:!0,cornerRadius:i,cornerIsExternal:l}),{circleTangency:S,lineTangency:_,theta:C}=Cx({cx:t,cy:r,radius:a,angle:d,sign:-u,isExternal:!0,cornerRadius:i,cornerIsExternal:l}),E=l?Math.abs(c-d):Math.abs(c-d)-w-C;if(E<0&&i===0)return"".concat(b,"L").concat(t,",").concat(r,"Z");b+="L".concat(_.x,",").concat(_.y,`
      A`).concat(i,",").concat(i,",0,0,").concat(+(u<0),",").concat(S.x,",").concat(S.y,`
      A`).concat(a,",").concat(a,",0,").concat(+(E>180),",").concat(+(u>0),",").concat(j.x,",").concat(j.y,`
      A`).concat(i,",").concat(i,",0,0,").concat(+(u<0),",").concat(N.x,",").concat(N.y,"Z")}else b+="L".concat(t,",").concat(r,"Z");return b},nle={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},VL=e=>{var t=Kr(e,nle),{cx:r,cy:a,innerRadius:n,outerRadius:i,cornerRadius:o,forceCornerRadius:l,cornerIsExternal:c,startAngle:d,endAngle:u,className:m}=t;if(i<n||d===u)return null;var h=Ie("recharts-sector",m),f=i-n,g=Nr(o,f,0,!0),x;return g>0&&Math.abs(d-u)<360?x=ale({cx:r,cy:a,innerRadius:n,outerRadius:i,cornerRadius:Math.min(g,f/2),forceCornerRadius:l,cornerIsExternal:c,startAngle:d,endAngle:u}):x=qL({cx:r,cy:a,innerRadius:n,outerRadius:i,startAngle:d,endAngle:u}),p.createElement("path",k1({},Ce(t,!0),{className:h,d:x}))};function ile(e,t,r){var a,n,i,o;if(e==="horizontal")a=t.x,i=a,n=r.top,o=r.top+r.height;else if(e==="vertical")n=t.y,o=n,a=r.left,i=r.left+r.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var{cx:l,cy:c,innerRadius:d,outerRadius:u,angle:m}=t,h=lt(l,c,d,m),f=lt(l,c,u,m);a=h.x,n=h.y,i=f.x,o=f.y}else return UL(t);return[{x:a,y:n},{x:i,y:o}]}var WL={},HL={},KL={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=T_;function r(a){return t.isSymbol(a)?NaN:Number(a)}e.toNumber=r})(KL);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=KL;function r(a){return a?(a=t.toNumber(a),a===1/0||a===-1/0?(a<0?-1:1)*Number.MAX_VALUE:a===a?a:0):a===0?a:0}e.toFinite=r})(HL);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=M_,r=HL;function a(n,i,o){o&&typeof o!="number"&&t.isIterateeCall(n,i,o)&&(i=o=void 0),n=r.toFinite(n),i===void 0?(i=n,n=0):i=r.toFinite(i),o=o===void 0?n<i?1:-1:r.toFinite(o);const l=Math.max(Math.ceil((i-n)/(o||1)),0),c=new Array(l);for(let d=0;d<l;d++)c[d]=n,n+=o;return c}e.range=a})(WL);var ole=WL.range;const GL=fa(ole);function il(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function lle(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function W_(e){let t,r,a;e.length!==2?(t=il,r=(l,c)=>il(e(l),c),a=(l,c)=>e(l)-c):(t=e===il||e===lle?e:cle,r=e,a=e);function n(l,c,d=0,u=l.length){if(d<u){if(t(c,c)!==0)return u;do{const m=d+u>>>1;r(l[m],c)<0?d=m+1:u=m}while(d<u)}return d}function i(l,c,d=0,u=l.length){if(d<u){if(t(c,c)!==0)return u;do{const m=d+u>>>1;r(l[m],c)<=0?d=m+1:u=m}while(d<u)}return d}function o(l,c,d=0,u=l.length){const m=n(l,c,d,u-1);return m>d&&a(l[m-1],c)>-a(l[m],c)?m-1:m}return{left:n,center:o,right:i}}function cle(){return 0}function YL(e){return e===null?NaN:+e}function*dle(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const ule=W_(il),dp=ule.right;W_(YL).center;class lT extends Map{constructor(t,r=fle){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[a,n]of t)this.set(a,n)}get(t){return super.get(cT(this,t))}has(t){return super.has(cT(this,t))}set(t,r){return super.set(mle(this,t),r)}delete(t){return super.delete(hle(this,t))}}function cT({_intern:e,_key:t},r){const a=t(r);return e.has(a)?e.get(a):r}function mle({_intern:e,_key:t},r){const a=t(r);return e.has(a)?e.get(a):(e.set(a,r),r)}function hle({_intern:e,_key:t},r){const a=t(r);return e.has(a)&&(r=e.get(a),e.delete(a)),r}function fle(e){return e!==null&&typeof e=="object"?e.valueOf():e}function ple(e=il){if(e===il)return XL;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const a=e(t,r);return a||a===0?a:(e(r,r)===0)-(e(t,t)===0)}}function XL(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const xle=Math.sqrt(50),gle=Math.sqrt(10),vle=Math.sqrt(2);function vv(e,t,r){const a=(t-e)/Math.max(0,r),n=Math.floor(Math.log10(a)),i=a/Math.pow(10,n),o=i>=xle?10:i>=gle?5:i>=vle?2:1;let l,c,d;return n<0?(d=Math.pow(10,-n)/o,l=Math.round(e*d),c=Math.round(t*d),l/d<e&&++l,c/d>t&&--c,d=-d):(d=Math.pow(10,n)*o,l=Math.round(e/d),c=Math.round(t/d),l*d<e&&++l,c*d>t&&--c),c<l&&.5<=r&&r<2?vv(e,t,r*2):[l,c,d]}function P1(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const a=t<e,[n,i,o]=a?vv(t,e,r):vv(e,t,r);if(!(i>=n))return[];const l=i-n+1,c=new Array(l);if(a)if(o<0)for(let d=0;d<l;++d)c[d]=(i-d)/-o;else for(let d=0;d<l;++d)c[d]=(i-d)*o;else if(o<0)for(let d=0;d<l;++d)c[d]=(n+d)/-o;else for(let d=0;d<l;++d)c[d]=(n+d)*o;return c}function E1(e,t,r){return t=+t,e=+e,r=+r,vv(e,t,r)[2]}function A1(e,t,r){t=+t,e=+e,r=+r;const a=t<e,n=a?E1(t,e,r):E1(e,t,r);return(a?-1:1)*(n<0?1/-n:n)}function dT(e,t){let r;for(const a of e)a!=null&&(r<a||r===void 0&&a>=a)&&(r=a);return r}function uT(e,t){let r;for(const a of e)a!=null&&(r>a||r===void 0&&a>=a)&&(r=a);return r}function QL(e,t,r=0,a=1/0,n){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),a=Math.floor(Math.min(e.length-1,a)),!(r<=t&&t<=a))return e;for(n=n===void 0?XL:ple(n);a>r;){if(a-r>600){const c=a-r+1,d=t-r+1,u=Math.log(c),m=.5*Math.exp(2*u/3),h=.5*Math.sqrt(u*m*(c-m)/c)*(d-c/2<0?-1:1),f=Math.max(r,Math.floor(t-d*m/c+h)),g=Math.min(a,Math.floor(t+(c-d)*m/c+h));QL(e,t,f,g,n)}const i=e[t];let o=r,l=a;for(Ym(e,r,t),n(e[a],i)>0&&Ym(e,r,a);o<l;){for(Ym(e,o,l),++o,--l;n(e[o],i)<0;)++o;for(;n(e[l],i)>0;)--l}n(e[r],i)===0?Ym(e,r,l):(++l,Ym(e,l,a)),l<=t&&(r=l+1),t<=l&&(a=l-1)}return e}function Ym(e,t,r){const a=e[t];e[t]=e[r],e[r]=a}function yle(e,t,r){if(e=Float64Array.from(dle(e)),!(!(a=e.length)||isNaN(t=+t))){if(t<=0||a<2)return uT(e);if(t>=1)return dT(e);var a,n=(a-1)*t,i=Math.floor(n),o=dT(QL(e,i).subarray(0,i+1)),l=uT(e.subarray(i+1));return o+(l-o)*(n-i)}}function ble(e,t,r=YL){if(!(!(a=e.length)||isNaN(t=+t))){if(t<=0||a<2)return+r(e[0],0,e);if(t>=1)return+r(e[a-1],a-1,e);var a,n=(a-1)*t,i=Math.floor(n),o=+r(e[i],i,e),l=+r(e[i+1],i+1,e);return o+(l-o)*(n-i)}}function jle(e,t,r){e=+e,t=+t,r=(n=arguments.length)<2?(t=e,e=0,1):n<3?1:+r;for(var a=-1,n=Math.max(0,Math.ceil((t-e)/r))|0,i=new Array(n);++a<n;)i[a]=e+a*r;return i}function Xa(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function lo(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const T1=Symbol("implicit");function H_(){var e=new lT,t=[],r=[],a=T1;function n(i){let o=e.get(i);if(o===void 0){if(a!==T1)return a;e.set(i,o=t.push(i)-1)}return r[o%r.length]}return n.domain=function(i){if(!arguments.length)return t.slice();t=[],e=new lT;for(const o of i)e.has(o)||e.set(o,t.push(o)-1);return n},n.range=function(i){return arguments.length?(r=Array.from(i),n):r.slice()},n.unknown=function(i){return arguments.length?(a=i,n):a},n.copy=function(){return H_(t,r).unknown(a)},Xa.apply(n,arguments),n}function K_(){var e=H_().unknown(void 0),t=e.domain,r=e.range,a=0,n=1,i,o,l=!1,c=0,d=0,u=.5;delete e.unknown;function m(){var h=t().length,f=n<a,g=f?n:a,x=f?a:n;i=(x-g)/Math.max(1,h-c+d*2),l&&(i=Math.floor(i)),g+=(x-g-i*(h-c))*u,o=i*(1-c),l&&(g=Math.round(g),o=Math.round(o));var y=jle(h).map(function(v){return g+i*v});return r(f?y.reverse():y)}return e.domain=function(h){return arguments.length?(t(h),m()):t()},e.range=function(h){return arguments.length?([a,n]=h,a=+a,n=+n,m()):[a,n]},e.rangeRound=function(h){return[a,n]=h,a=+a,n=+n,l=!0,m()},e.bandwidth=function(){return o},e.step=function(){return i},e.round=function(h){return arguments.length?(l=!!h,m()):l},e.padding=function(h){return arguments.length?(c=Math.min(1,d=+h),m()):c},e.paddingInner=function(h){return arguments.length?(c=Math.min(1,h),m()):c},e.paddingOuter=function(h){return arguments.length?(d=+h,m()):d},e.align=function(h){return arguments.length?(u=Math.max(0,Math.min(1,h)),m()):u},e.copy=function(){return K_(t(),[a,n]).round(l).paddingInner(c).paddingOuter(d).align(u)},Xa.apply(m(),arguments)}function JL(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return JL(t())},e}function wle(){return JL(K_.apply(null,arguments).paddingInner(1))}function G_(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function ZL(e,t){var r=Object.create(e.prototype);for(var a in t)r[a]=t[a];return r}function up(){}var ff=.7,yv=1/ff,nu="\\s*([+-]?\\d+)\\s*",pf="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Zn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Nle=/^#([0-9a-f]{3,8})$/,Sle=new RegExp(`^rgb\\(${nu},${nu},${nu}\\)$`),_le=new RegExp(`^rgb\\(${Zn},${Zn},${Zn}\\)$`),Cle=new RegExp(`^rgba\\(${nu},${nu},${nu},${pf}\\)$`),kle=new RegExp(`^rgba\\(${Zn},${Zn},${Zn},${pf}\\)$`),Ple=new RegExp(`^hsl\\(${pf},${Zn},${Zn}\\)$`),Ele=new RegExp(`^hsla\\(${pf},${Zn},${Zn},${pf}\\)$`),mT={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};G_(up,xf,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:hT,formatHex:hT,formatHex8:Ale,formatHsl:Tle,formatRgb:fT,toString:fT});function hT(){return this.rgb().formatHex()}function Ale(){return this.rgb().formatHex8()}function Tle(){return e$(this).formatHsl()}function fT(){return this.rgb().formatRgb()}function xf(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=Nle.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?pT(t):r===3?new Fr(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?kx(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?kx(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=Sle.exec(e))?new Fr(t[1],t[2],t[3],1):(t=_le.exec(e))?new Fr(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=Cle.exec(e))?kx(t[1],t[2],t[3],t[4]):(t=kle.exec(e))?kx(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=Ple.exec(e))?vT(t[1],t[2]/100,t[3]/100,1):(t=Ele.exec(e))?vT(t[1],t[2]/100,t[3]/100,t[4]):mT.hasOwnProperty(e)?pT(mT[e]):e==="transparent"?new Fr(NaN,NaN,NaN,0):null}function pT(e){return new Fr(e>>16&255,e>>8&255,e&255,1)}function kx(e,t,r,a){return a<=0&&(e=t=r=NaN),new Fr(e,t,r,a)}function Mle(e){return e instanceof up||(e=xf(e)),e?(e=e.rgb(),new Fr(e.r,e.g,e.b,e.opacity)):new Fr}function M1(e,t,r,a){return arguments.length===1?Mle(e):new Fr(e,t,r,a??1)}function Fr(e,t,r,a){this.r=+e,this.g=+t,this.b=+r,this.opacity=+a}G_(Fr,M1,ZL(up,{brighter(e){return e=e==null?yv:Math.pow(yv,e),new Fr(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?ff:Math.pow(ff,e),new Fr(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Fr(Nc(this.r),Nc(this.g),Nc(this.b),bv(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:xT,formatHex:xT,formatHex8:Ole,formatRgb:gT,toString:gT}));function xT(){return`#${ac(this.r)}${ac(this.g)}${ac(this.b)}`}function Ole(){return`#${ac(this.r)}${ac(this.g)}${ac(this.b)}${ac((isNaN(this.opacity)?1:this.opacity)*255)}`}function gT(){const e=bv(this.opacity);return`${e===1?"rgb(":"rgba("}${Nc(this.r)}, ${Nc(this.g)}, ${Nc(this.b)}${e===1?")":`, ${e})`}`}function bv(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Nc(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function ac(e){return e=Nc(e),(e<16?"0":"")+e.toString(16)}function vT(e,t,r,a){return a<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new xn(e,t,r,a)}function e$(e){if(e instanceof xn)return new xn(e.h,e.s,e.l,e.opacity);if(e instanceof up||(e=xf(e)),!e)return new xn;if(e instanceof xn)return e;e=e.rgb();var t=e.r/255,r=e.g/255,a=e.b/255,n=Math.min(t,r,a),i=Math.max(t,r,a),o=NaN,l=i-n,c=(i+n)/2;return l?(t===i?o=(r-a)/l+(r<a)*6:r===i?o=(a-t)/l+2:o=(t-r)/l+4,l/=c<.5?i+n:2-i-n,o*=60):l=c>0&&c<1?0:o,new xn(o,l,c,e.opacity)}function Dle(e,t,r,a){return arguments.length===1?e$(e):new xn(e,t,r,a??1)}function xn(e,t,r,a){this.h=+e,this.s=+t,this.l=+r,this.opacity=+a}G_(xn,Dle,ZL(up,{brighter(e){return e=e==null?yv:Math.pow(yv,e),new xn(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?ff:Math.pow(ff,e),new xn(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,a=r+(r<.5?r:1-r)*t,n=2*r-a;return new Fr(Ej(e>=240?e-240:e+120,n,a),Ej(e,n,a),Ej(e<120?e+240:e-120,n,a),this.opacity)},clamp(){return new xn(yT(this.h),Px(this.s),Px(this.l),bv(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=bv(this.opacity);return`${e===1?"hsl(":"hsla("}${yT(this.h)}, ${Px(this.s)*100}%, ${Px(this.l)*100}%${e===1?")":`, ${e})`}`}}));function yT(e){return e=(e||0)%360,e<0?e+360:e}function Px(e){return Math.max(0,Math.min(1,e||0))}function Ej(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const Y_=e=>()=>e;function Rle(e,t){return function(r){return e+r*t}}function Ile(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(a){return Math.pow(e+a*t,r)}}function Fle(e){return(e=+e)==1?t$:function(t,r){return r-t?Ile(t,r,e):Y_(isNaN(t)?r:t)}}function t$(e,t){var r=t-e;return r?Rle(e,r):Y_(isNaN(e)?t:e)}const bT=function e(t){var r=Fle(t);function a(n,i){var o=r((n=M1(n)).r,(i=M1(i)).r),l=r(n.g,i.g),c=r(n.b,i.b),d=t$(n.opacity,i.opacity);return function(u){return n.r=o(u),n.g=l(u),n.b=c(u),n.opacity=d(u),n+""}}return a.gamma=e,a}(1);function Lle(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,a=t.slice(),n;return function(i){for(n=0;n<r;++n)a[n]=e[n]*(1-i)+t[n]*i;return a}}function $le(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function Ble(e,t){var r=t?t.length:0,a=e?Math.min(r,e.length):0,n=new Array(a),i=new Array(r),o;for(o=0;o<a;++o)n[o]=xm(e[o],t[o]);for(;o<r;++o)i[o]=t[o];return function(l){for(o=0;o<a;++o)i[o]=n[o](l);return i}}function zle(e,t){var r=new Date;return e=+e,t=+t,function(a){return r.setTime(e*(1-a)+t*a),r}}function jv(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function Ule(e,t){var r={},a={},n;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(n in t)n in e?r[n]=xm(e[n],t[n]):a[n]=t[n];return function(i){for(n in r)a[n]=r[n](i);return a}}var O1=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Aj=new RegExp(O1.source,"g");function qle(e){return function(){return e}}function Vle(e){return function(t){return e(t)+""}}function Wle(e,t){var r=O1.lastIndex=Aj.lastIndex=0,a,n,i,o=-1,l=[],c=[];for(e=e+"",t=t+"";(a=O1.exec(e))&&(n=Aj.exec(t));)(i=n.index)>r&&(i=t.slice(r,i),l[o]?l[o]+=i:l[++o]=i),(a=a[0])===(n=n[0])?l[o]?l[o]+=n:l[++o]=n:(l[++o]=null,c.push({i:o,x:jv(a,n)})),r=Aj.lastIndex;return r<t.length&&(i=t.slice(r),l[o]?l[o]+=i:l[++o]=i),l.length<2?c[0]?Vle(c[0].x):qle(t):(t=c.length,function(d){for(var u=0,m;u<t;++u)l[(m=c[u]).i]=m.x(d);return l.join("")})}function xm(e,t){var r=typeof t,a;return t==null||r==="boolean"?Y_(t):(r==="number"?jv:r==="string"?(a=xf(t))?(t=a,bT):Wle:t instanceof xf?bT:t instanceof Date?zle:$le(t)?Lle:Array.isArray(t)?Ble:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?Ule:jv)(e,t)}function X_(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function Hle(e,t){t===void 0&&(t=e,e=xm);for(var r=0,a=t.length-1,n=t[0],i=new Array(a<0?0:a);r<a;)i[r]=e(n,n=t[++r]);return function(o){var l=Math.max(0,Math.min(a-1,Math.floor(o*=a)));return i[l](o-l)}}function Kle(e){return function(){return e}}function wv(e){return+e}var jT=[0,1];function yr(e){return e}function D1(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:Kle(isNaN(t)?NaN:.5)}function Gle(e,t){var r;return e>t&&(r=e,e=t,t=r),function(a){return Math.max(e,Math.min(t,a))}}function Yle(e,t,r){var a=e[0],n=e[1],i=t[0],o=t[1];return n<a?(a=D1(n,a),i=r(o,i)):(a=D1(a,n),i=r(i,o)),function(l){return i(a(l))}}function Xle(e,t,r){var a=Math.min(e.length,t.length)-1,n=new Array(a),i=new Array(a),o=-1;for(e[a]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<a;)n[o]=D1(e[o],e[o+1]),i[o]=r(t[o],t[o+1]);return function(l){var c=dp(e,l,1,a)-1;return i[c](n[c](l))}}function mp(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function by(){var e=jT,t=jT,r=xm,a,n,i,o=yr,l,c,d;function u(){var h=Math.min(e.length,t.length);return o!==yr&&(o=Gle(e[0],e[h-1])),l=h>2?Xle:Yle,c=d=null,m}function m(h){return h==null||isNaN(h=+h)?i:(c||(c=l(e.map(a),t,r)))(a(o(h)))}return m.invert=function(h){return o(n((d||(d=l(t,e.map(a),jv)))(h)))},m.domain=function(h){return arguments.length?(e=Array.from(h,wv),u()):e.slice()},m.range=function(h){return arguments.length?(t=Array.from(h),u()):t.slice()},m.rangeRound=function(h){return t=Array.from(h),r=X_,u()},m.clamp=function(h){return arguments.length?(o=h?!0:yr,u()):o!==yr},m.interpolate=function(h){return arguments.length?(r=h,u()):r},m.unknown=function(h){return arguments.length?(i=h,m):i},function(h,f){return a=h,n=f,u()}}function Q_(){return by()(yr,yr)}function Qle(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Nv(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,a=e.slice(0,r);return[a.length>1?a[0]+a.slice(2):a,+e.slice(r+1)]}function Iu(e){return e=Nv(Math.abs(e)),e?e[1]:NaN}function Jle(e,t){return function(r,a){for(var n=r.length,i=[],o=0,l=e[0],c=0;n>0&&l>0&&(c+l+1>a&&(l=Math.max(1,a-c)),i.push(r.substring(n-=l,n+l)),!((c+=l+1)>a));)l=e[o=(o+1)%e.length];return i.reverse().join(t)}}function Zle(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var ece=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function gf(e){if(!(t=ece.exec(e)))throw new Error("invalid format: "+e);var t;return new J_({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}gf.prototype=J_.prototype;function J_(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}J_.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function tce(e){e:for(var t=e.length,r=1,a=-1,n;r<t;++r)switch(e[r]){case".":a=n=r;break;case"0":a===0&&(a=r),n=r;break;default:if(!+e[r])break e;a>0&&(a=0);break}return a>0?e.slice(0,a)+e.slice(n+1):e}var s$;function sce(e,t){var r=Nv(e,t);if(!r)return e+"";var a=r[0],n=r[1],i=n-(s$=Math.max(-8,Math.min(8,Math.floor(n/3)))*3)+1,o=a.length;return i===o?a:i>o?a+new Array(i-o+1).join("0"):i>0?a.slice(0,i)+"."+a.slice(i):"0."+new Array(1-i).join("0")+Nv(e,Math.max(0,t+i-1))[0]}function wT(e,t){var r=Nv(e,t);if(!r)return e+"";var a=r[0],n=r[1];return n<0?"0."+new Array(-n).join("0")+a:a.length>n+1?a.slice(0,n+1)+"."+a.slice(n+1):a+new Array(n-a.length+2).join("0")}const NT={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:Qle,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>wT(e*100,t),r:wT,s:sce,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function ST(e){return e}var _T=Array.prototype.map,CT=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function rce(e){var t=e.grouping===void 0||e.thousands===void 0?ST:Jle(_T.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",a=e.currency===void 0?"":e.currency[1]+"",n=e.decimal===void 0?".":e.decimal+"",i=e.numerals===void 0?ST:Zle(_T.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",l=e.minus===void 0?"":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function d(m){m=gf(m);var h=m.fill,f=m.align,g=m.sign,x=m.symbol,y=m.zero,v=m.width,b=m.comma,j=m.precision,N=m.trim,w=m.type;w==="n"?(b=!0,w="g"):NT[w]||(j===void 0&&(j=12),N=!0,w="g"),(y||h==="0"&&f==="=")&&(y=!0,h="0",f="=");var S=x==="$"?r:x==="#"&&/[boxX]/.test(w)?"0"+w.toLowerCase():"",_=x==="$"?a:/[%p]/.test(w)?o:"",C=NT[w],E=/[defgprs%]/.test(w);j=j===void 0?6:/[gprs]/.test(w)?Math.max(1,Math.min(21,j)):Math.max(0,Math.min(20,j));function T(k){var P=S,D=_,I,V,W;if(w==="c")D=C(k)+D,k="";else{k=+k;var R=k<0||1/k<0;if(k=isNaN(k)?c:C(Math.abs(k),j),N&&(k=tce(k)),R&&+k==0&&g!=="+"&&(R=!1),P=(R?g==="("?g:l:g==="-"||g==="("?"":g)+P,D=(w==="s"?CT[8+s$/3]:"")+D+(R&&g==="("?")":""),E){for(I=-1,V=k.length;++I<V;)if(W=k.charCodeAt(I),48>W||W>57){D=(W===46?n+k.slice(I+1):k.slice(I))+D,k=k.slice(0,I);break}}}b&&!y&&(k=t(k,1/0));var F=P.length+k.length+D.length,H=F<v?new Array(v-F+1).join(h):"";switch(b&&y&&(k=t(H+k,H.length?v-D.length:1/0),H=""),f){case"<":k=P+k+D+H;break;case"=":k=P+H+k+D;break;case"^":k=H.slice(0,F=H.length>>1)+P+k+D+H.slice(F);break;default:k=H+P+k+D;break}return i(k)}return T.toString=function(){return m+""},T}function u(m,h){var f=d((m=gf(m),m.type="f",m)),g=Math.max(-8,Math.min(8,Math.floor(Iu(h)/3)))*3,x=Math.pow(10,-g),y=CT[8+g/3];return function(v){return f(x*v)+y}}return{format:d,formatPrefix:u}}var Ex,Z_,r$;ace({thousands:",",grouping:[3],currency:["$",""]});function ace(e){return Ex=rce(e),Z_=Ex.format,r$=Ex.formatPrefix,Ex}function nce(e){return Math.max(0,-Iu(Math.abs(e)))}function ice(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Iu(t)/3)))*3-Iu(Math.abs(e)))}function oce(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Iu(t)-Iu(e))+1}function a$(e,t,r,a){var n=A1(e,t,r),i;switch(a=gf(a??",f"),a.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return a.precision==null&&!isNaN(i=ice(n,o))&&(a.precision=i),r$(a,o)}case"":case"e":case"g":case"p":case"r":{a.precision==null&&!isNaN(i=oce(n,Math.max(Math.abs(e),Math.abs(t))))&&(a.precision=i-(a.type==="e"));break}case"f":case"%":{a.precision==null&&!isNaN(i=nce(n))&&(a.precision=i-(a.type==="%")*2);break}}return Z_(a)}function Al(e){var t=e.domain;return e.ticks=function(r){var a=t();return P1(a[0],a[a.length-1],r??10)},e.tickFormat=function(r,a){var n=t();return a$(n[0],n[n.length-1],r??10,a)},e.nice=function(r){r==null&&(r=10);var a=t(),n=0,i=a.length-1,o=a[n],l=a[i],c,d,u=10;for(l<o&&(d=o,o=l,l=d,d=n,n=i,i=d);u-- >0;){if(d=E1(o,l,r),d===c)return a[n]=o,a[i]=l,t(a);if(d>0)o=Math.floor(o/d)*d,l=Math.ceil(l/d)*d;else if(d<0)o=Math.ceil(o*d)/d,l=Math.floor(l*d)/d;else break;c=d}return e},e}function n$(){var e=Q_();return e.copy=function(){return mp(e,n$())},Xa.apply(e,arguments),Al(e)}function i$(e){var t;function r(a){return a==null||isNaN(a=+a)?t:a}return r.invert=r,r.domain=r.range=function(a){return arguments.length?(e=Array.from(a,wv),r):e.slice()},r.unknown=function(a){return arguments.length?(t=a,r):t},r.copy=function(){return i$(e).unknown(t)},e=arguments.length?Array.from(e,wv):[0,1],Al(r)}function o$(e,t){e=e.slice();var r=0,a=e.length-1,n=e[r],i=e[a],o;return i<n&&(o=r,r=a,a=o,o=n,n=i,i=o),e[r]=t.floor(n),e[a]=t.ceil(i),e}function kT(e){return Math.log(e)}function PT(e){return Math.exp(e)}function lce(e){return-Math.log(-e)}function cce(e){return-Math.exp(-e)}function dce(e){return isFinite(e)?+("1e"+e):e<0?0:e}function uce(e){return e===10?dce:e===Math.E?Math.exp:t=>Math.pow(e,t)}function mce(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function ET(e){return(t,r)=>-e(-t,r)}function eC(e){const t=e(kT,PT),r=t.domain;let a=10,n,i;function o(){return n=mce(a),i=uce(a),r()[0]<0?(n=ET(n),i=ET(i),e(lce,cce)):e(kT,PT),t}return t.base=function(l){return arguments.length?(a=+l,o()):a},t.domain=function(l){return arguments.length?(r(l),o()):r()},t.ticks=l=>{const c=r();let d=c[0],u=c[c.length-1];const m=u<d;m&&([d,u]=[u,d]);let h=n(d),f=n(u),g,x;const y=l==null?10:+l;let v=[];if(!(a%1)&&f-h<y){if(h=Math.floor(h),f=Math.ceil(f),d>0){for(;h<=f;++h)for(g=1;g<a;++g)if(x=h<0?g/i(-h):g*i(h),!(x<d)){if(x>u)break;v.push(x)}}else for(;h<=f;++h)for(g=a-1;g>=1;--g)if(x=h>0?g/i(-h):g*i(h),!(x<d)){if(x>u)break;v.push(x)}v.length*2<y&&(v=P1(d,u,y))}else v=P1(h,f,Math.min(f-h,y)).map(i);return m?v.reverse():v},t.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=a===10?"s":","),typeof c!="function"&&(!(a%1)&&(c=gf(c)).precision==null&&(c.trim=!0),c=Z_(c)),l===1/0)return c;const d=Math.max(1,a*l/t.ticks().length);return u=>{let m=u/i(Math.round(n(u)));return m*a<a-.5&&(m*=a),m<=d?c(u):""}},t.nice=()=>r(o$(r(),{floor:l=>i(Math.floor(n(l))),ceil:l=>i(Math.ceil(n(l)))})),t}function l$(){const e=eC(by()).domain([1,10]);return e.copy=()=>mp(e,l$()).base(e.base()),Xa.apply(e,arguments),e}function AT(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function TT(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function tC(e){var t=1,r=e(AT(t),TT(t));return r.constant=function(a){return arguments.length?e(AT(t=+a),TT(t)):t},Al(r)}function c$(){var e=tC(by());return e.copy=function(){return mp(e,c$()).constant(e.constant())},Xa.apply(e,arguments)}function MT(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function hce(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function fce(e){return e<0?-e*e:e*e}function sC(e){var t=e(yr,yr),r=1;function a(){return r===1?e(yr,yr):r===.5?e(hce,fce):e(MT(r),MT(1/r))}return t.exponent=function(n){return arguments.length?(r=+n,a()):r},Al(t)}function rC(){var e=sC(by());return e.copy=function(){return mp(e,rC()).exponent(e.exponent())},Xa.apply(e,arguments),e}function pce(){return rC.apply(null,arguments).exponent(.5)}function OT(e){return Math.sign(e)*e*e}function xce(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function d$(){var e=Q_(),t=[0,1],r=!1,a;function n(i){var o=xce(e(i));return isNaN(o)?a:r?Math.round(o):o}return n.invert=function(i){return e.invert(OT(i))},n.domain=function(i){return arguments.length?(e.domain(i),n):e.domain()},n.range=function(i){return arguments.length?(e.range((t=Array.from(i,wv)).map(OT)),n):t.slice()},n.rangeRound=function(i){return n.range(i).round(!0)},n.round=function(i){return arguments.length?(r=!!i,n):r},n.clamp=function(i){return arguments.length?(e.clamp(i),n):e.clamp()},n.unknown=function(i){return arguments.length?(a=i,n):a},n.copy=function(){return d$(e.domain(),t).round(r).clamp(e.clamp()).unknown(a)},Xa.apply(n,arguments),Al(n)}function u$(){var e=[],t=[],r=[],a;function n(){var o=0,l=Math.max(1,t.length);for(r=new Array(l-1);++o<l;)r[o-1]=ble(e,o/l);return i}function i(o){return o==null||isNaN(o=+o)?a:t[dp(r,o)]}return i.invertExtent=function(o){var l=t.indexOf(o);return l<0?[NaN,NaN]:[l>0?r[l-1]:e[0],l<r.length?r[l]:e[e.length-1]]},i.domain=function(o){if(!arguments.length)return e.slice();e=[];for(let l of o)l!=null&&!isNaN(l=+l)&&e.push(l);return e.sort(il),n()},i.range=function(o){return arguments.length?(t=Array.from(o),n()):t.slice()},i.unknown=function(o){return arguments.length?(a=o,i):a},i.quantiles=function(){return r.slice()},i.copy=function(){return u$().domain(e).range(t).unknown(a)},Xa.apply(i,arguments)}function m$(){var e=0,t=1,r=1,a=[.5],n=[0,1],i;function o(c){return c!=null&&c<=c?n[dp(a,c,0,r)]:i}function l(){var c=-1;for(a=new Array(r);++c<r;)a[c]=((c+1)*t-(c-r)*e)/(r+1);return o}return o.domain=function(c){return arguments.length?([e,t]=c,e=+e,t=+t,l()):[e,t]},o.range=function(c){return arguments.length?(r=(n=Array.from(c)).length-1,l()):n.slice()},o.invertExtent=function(c){var d=n.indexOf(c);return d<0?[NaN,NaN]:d<1?[e,a[0]]:d>=r?[a[r-1],t]:[a[d-1],a[d]]},o.unknown=function(c){return arguments.length&&(i=c),o},o.thresholds=function(){return a.slice()},o.copy=function(){return m$().domain([e,t]).range(n).unknown(i)},Xa.apply(Al(o),arguments)}function h$(){var e=[.5],t=[0,1],r,a=1;function n(i){return i!=null&&i<=i?t[dp(e,i,0,a)]:r}return n.domain=function(i){return arguments.length?(e=Array.from(i),a=Math.min(e.length,t.length-1),n):e.slice()},n.range=function(i){return arguments.length?(t=Array.from(i),a=Math.min(e.length,t.length-1),n):t.slice()},n.invertExtent=function(i){var o=t.indexOf(i);return[e[o-1],e[o]]},n.unknown=function(i){return arguments.length?(r=i,n):r},n.copy=function(){return h$().domain(e).range(t).unknown(r)},Xa.apply(n,arguments)}const Tj=new Date,Mj=new Date;function Es(e,t,r,a){function n(i){return e(i=arguments.length===0?new Date:new Date(+i)),i}return n.floor=i=>(e(i=new Date(+i)),i),n.ceil=i=>(e(i=new Date(i-1)),t(i,1),e(i),i),n.round=i=>{const o=n(i),l=n.ceil(i);return i-o<l-i?o:l},n.offset=(i,o)=>(t(i=new Date(+i),o==null?1:Math.floor(o)),i),n.range=(i,o,l)=>{const c=[];if(i=n.ceil(i),l=l==null?1:Math.floor(l),!(i<o)||!(l>0))return c;let d;do c.push(d=new Date(+i)),t(i,l),e(i);while(d<i&&i<o);return c},n.filter=i=>Es(o=>{if(o>=o)for(;e(o),!i(o);)o.setTime(o-1)},(o,l)=>{if(o>=o)if(l<0)for(;++l<=0;)for(;t(o,-1),!i(o););else for(;--l>=0;)for(;t(o,1),!i(o););}),r&&(n.count=(i,o)=>(Tj.setTime(+i),Mj.setTime(+o),e(Tj),e(Mj),Math.floor(r(Tj,Mj))),n.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?n.filter(a?o=>a(o)%i===0:o=>n.count(0,o)%i===0):n)),n}const Sv=Es(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);Sv.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Es(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):Sv);Sv.range;const Ai=1e3,Ma=Ai*60,Ti=Ma*60,Ki=Ti*24,aC=Ki*7,DT=Ki*30,Oj=Ki*365,nc=Es(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Ai)},(e,t)=>(t-e)/Ai,e=>e.getUTCSeconds());nc.range;const nC=Es(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Ai)},(e,t)=>{e.setTime(+e+t*Ma)},(e,t)=>(t-e)/Ma,e=>e.getMinutes());nC.range;const iC=Es(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Ma)},(e,t)=>(t-e)/Ma,e=>e.getUTCMinutes());iC.range;const oC=Es(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Ai-e.getMinutes()*Ma)},(e,t)=>{e.setTime(+e+t*Ti)},(e,t)=>(t-e)/Ti,e=>e.getHours());oC.range;const lC=Es(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Ti)},(e,t)=>(t-e)/Ti,e=>e.getUTCHours());lC.range;const hp=Es(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Ma)/Ki,e=>e.getDate()-1);hp.range;const jy=Es(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Ki,e=>e.getUTCDate()-1);jy.range;const f$=Es(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Ki,e=>Math.floor(e/Ki));f$.range;function Jc(e){return Es(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*Ma)/aC)}const wy=Jc(0),_v=Jc(1),gce=Jc(2),vce=Jc(3),Fu=Jc(4),yce=Jc(5),bce=Jc(6);wy.range;_v.range;gce.range;vce.range;Fu.range;yce.range;bce.range;function Zc(e){return Es(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/aC)}const Ny=Zc(0),Cv=Zc(1),jce=Zc(2),wce=Zc(3),Lu=Zc(4),Nce=Zc(5),Sce=Zc(6);Ny.range;Cv.range;jce.range;wce.range;Lu.range;Nce.range;Sce.range;const cC=Es(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());cC.range;const dC=Es(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());dC.range;const Gi=Es(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Gi.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Es(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});Gi.range;const Yi=Es(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Yi.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Es(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});Yi.range;function p$(e,t,r,a,n,i){const o=[[nc,1,Ai],[nc,5,5*Ai],[nc,15,15*Ai],[nc,30,30*Ai],[i,1,Ma],[i,5,5*Ma],[i,15,15*Ma],[i,30,30*Ma],[n,1,Ti],[n,3,3*Ti],[n,6,6*Ti],[n,12,12*Ti],[a,1,Ki],[a,2,2*Ki],[r,1,aC],[t,1,DT],[t,3,3*DT],[e,1,Oj]];function l(d,u,m){const h=u<d;h&&([d,u]=[u,d]);const f=m&&typeof m.range=="function"?m:c(d,u,m),g=f?f.range(d,+u+1):[];return h?g.reverse():g}function c(d,u,m){const h=Math.abs(u-d)/m,f=W_(([,,y])=>y).right(o,h);if(f===o.length)return e.every(A1(d/Oj,u/Oj,m));if(f===0)return Sv.every(Math.max(A1(d,u,m),1));const[g,x]=o[h/o[f-1][2]<o[f][2]/h?f-1:f];return g.every(x)}return[l,c]}const[_ce,Cce]=p$(Yi,dC,Ny,f$,lC,iC),[kce,Pce]=p$(Gi,cC,wy,hp,oC,nC);function Dj(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Rj(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Xm(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function Ece(e){var t=e.dateTime,r=e.date,a=e.time,n=e.periods,i=e.days,o=e.shortDays,l=e.months,c=e.shortMonths,d=Qm(n),u=Jm(n),m=Qm(i),h=Jm(i),f=Qm(o),g=Jm(o),x=Qm(l),y=Jm(l),v=Qm(c),b=Jm(c),j={a:R,A:F,b:H,B:Z,c:null,d:BT,e:BT,f:Jce,g:lde,G:dde,H:Yce,I:Xce,j:Qce,L:x$,m:Zce,M:ede,p:B,q:K,Q:qT,s:VT,S:tde,u:sde,U:rde,V:ade,w:nde,W:ide,x:null,X:null,y:ode,Y:cde,Z:ude,"%":UT},N={a:Q,A:ie,b:oe,B:je,c:null,d:zT,e:zT,f:pde,g:_de,G:kde,H:mde,I:hde,j:fde,L:v$,m:xde,M:gde,p:le,q:Oe,Q:qT,s:VT,S:vde,u:yde,U:bde,V:jde,w:wde,W:Nde,x:null,X:null,y:Sde,Y:Cde,Z:Pde,"%":UT},w={a:T,A:k,b:P,B:D,c:I,d:LT,e:LT,f:Wce,g:FT,G:IT,H:$T,I:$T,j:zce,L:Vce,m:Bce,M:Uce,p:E,q:$ce,Q:Kce,s:Gce,S:qce,u:Dce,U:Rce,V:Ice,w:Oce,W:Fce,x:V,X:W,y:FT,Y:IT,Z:Lce,"%":Hce};j.x=S(r,j),j.X=S(a,j),j.c=S(t,j),N.x=S(r,N),N.X=S(a,N),N.c=S(t,N);function S(ae,ue){return function(L){var q=[],te=-1,ye=0,Pe=ae.length,J,se,ke;for(L instanceof Date||(L=new Date(+L));++te<Pe;)ae.charCodeAt(te)===37&&(q.push(ae.slice(ye,te)),(se=RT[J=ae.charAt(++te)])!=null?J=ae.charAt(++te):se=J==="e"?" ":"0",(ke=ue[J])&&(J=ke(L,se)),q.push(J),ye=te+1);return q.push(ae.slice(ye,te)),q.join("")}}function _(ae,ue){return function(L){var q=Xm(1900,void 0,1),te=C(q,ae,L+="",0),ye,Pe;if(te!=L.length)return null;if("Q"in q)return new Date(q.Q);if("s"in q)return new Date(q.s*1e3+("L"in q?q.L:0));if(ue&&!("Z"in q)&&(q.Z=0),"p"in q&&(q.H=q.H%12+q.p*12),q.m===void 0&&(q.m="q"in q?q.q:0),"V"in q){if(q.V<1||q.V>53)return null;"w"in q||(q.w=1),"Z"in q?(ye=Rj(Xm(q.y,0,1)),Pe=ye.getUTCDay(),ye=Pe>4||Pe===0?Cv.ceil(ye):Cv(ye),ye=jy.offset(ye,(q.V-1)*7),q.y=ye.getUTCFullYear(),q.m=ye.getUTCMonth(),q.d=ye.getUTCDate()+(q.w+6)%7):(ye=Dj(Xm(q.y,0,1)),Pe=ye.getDay(),ye=Pe>4||Pe===0?_v.ceil(ye):_v(ye),ye=hp.offset(ye,(q.V-1)*7),q.y=ye.getFullYear(),q.m=ye.getMonth(),q.d=ye.getDate()+(q.w+6)%7)}else("W"in q||"U"in q)&&("w"in q||(q.w="u"in q?q.u%7:"W"in q?1:0),Pe="Z"in q?Rj(Xm(q.y,0,1)).getUTCDay():Dj(Xm(q.y,0,1)).getDay(),q.m=0,q.d="W"in q?(q.w+6)%7+q.W*7-(Pe+5)%7:q.w+q.U*7-(Pe+6)%7);return"Z"in q?(q.H+=q.Z/100|0,q.M+=q.Z%100,Rj(q)):Dj(q)}}function C(ae,ue,L,q){for(var te=0,ye=ue.length,Pe=L.length,J,se;te<ye;){if(q>=Pe)return-1;if(J=ue.charCodeAt(te++),J===37){if(J=ue.charAt(te++),se=w[J in RT?ue.charAt(te++):J],!se||(q=se(ae,L,q))<0)return-1}else if(J!=L.charCodeAt(q++))return-1}return q}function E(ae,ue,L){var q=d.exec(ue.slice(L));return q?(ae.p=u.get(q[0].toLowerCase()),L+q[0].length):-1}function T(ae,ue,L){var q=f.exec(ue.slice(L));return q?(ae.w=g.get(q[0].toLowerCase()),L+q[0].length):-1}function k(ae,ue,L){var q=m.exec(ue.slice(L));return q?(ae.w=h.get(q[0].toLowerCase()),L+q[0].length):-1}function P(ae,ue,L){var q=v.exec(ue.slice(L));return q?(ae.m=b.get(q[0].toLowerCase()),L+q[0].length):-1}function D(ae,ue,L){var q=x.exec(ue.slice(L));return q?(ae.m=y.get(q[0].toLowerCase()),L+q[0].length):-1}function I(ae,ue,L){return C(ae,t,ue,L)}function V(ae,ue,L){return C(ae,r,ue,L)}function W(ae,ue,L){return C(ae,a,ue,L)}function R(ae){return o[ae.getDay()]}function F(ae){return i[ae.getDay()]}function H(ae){return c[ae.getMonth()]}function Z(ae){return l[ae.getMonth()]}function B(ae){return n[+(ae.getHours()>=12)]}function K(ae){return 1+~~(ae.getMonth()/3)}function Q(ae){return o[ae.getUTCDay()]}function ie(ae){return i[ae.getUTCDay()]}function oe(ae){return c[ae.getUTCMonth()]}function je(ae){return l[ae.getUTCMonth()]}function le(ae){return n[+(ae.getUTCHours()>=12)]}function Oe(ae){return 1+~~(ae.getUTCMonth()/3)}return{format:function(ae){var ue=S(ae+="",j);return ue.toString=function(){return ae},ue},parse:function(ae){var ue=_(ae+="",!1);return ue.toString=function(){return ae},ue},utcFormat:function(ae){var ue=S(ae+="",N);return ue.toString=function(){return ae},ue},utcParse:function(ae){var ue=_(ae+="",!0);return ue.toString=function(){return ae},ue}}}var RT={"-":"",_:" ",0:"0"},Fs=/^\s*\d+/,Ace=/^%/,Tce=/[\\^$*+?|[\]().{}]/g;function ot(e,t,r){var a=e<0?"-":"",n=(a?-e:e)+"",i=n.length;return a+(i<r?new Array(r-i+1).join(t)+n:n)}function Mce(e){return e.replace(Tce,"\\$&")}function Qm(e){return new RegExp("^(?:"+e.map(Mce).join("|")+")","i")}function Jm(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function Oce(e,t,r){var a=Fs.exec(t.slice(r,r+1));return a?(e.w=+a[0],r+a[0].length):-1}function Dce(e,t,r){var a=Fs.exec(t.slice(r,r+1));return a?(e.u=+a[0],r+a[0].length):-1}function Rce(e,t,r){var a=Fs.exec(t.slice(r,r+2));return a?(e.U=+a[0],r+a[0].length):-1}function Ice(e,t,r){var a=Fs.exec(t.slice(r,r+2));return a?(e.V=+a[0],r+a[0].length):-1}function Fce(e,t,r){var a=Fs.exec(t.slice(r,r+2));return a?(e.W=+a[0],r+a[0].length):-1}function IT(e,t,r){var a=Fs.exec(t.slice(r,r+4));return a?(e.y=+a[0],r+a[0].length):-1}function FT(e,t,r){var a=Fs.exec(t.slice(r,r+2));return a?(e.y=+a[0]+(+a[0]>68?1900:2e3),r+a[0].length):-1}function Lce(e,t,r){var a=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return a?(e.Z=a[1]?0:-(a[2]+(a[3]||"00")),r+a[0].length):-1}function $ce(e,t,r){var a=Fs.exec(t.slice(r,r+1));return a?(e.q=a[0]*3-3,r+a[0].length):-1}function Bce(e,t,r){var a=Fs.exec(t.slice(r,r+2));return a?(e.m=a[0]-1,r+a[0].length):-1}function LT(e,t,r){var a=Fs.exec(t.slice(r,r+2));return a?(e.d=+a[0],r+a[0].length):-1}function zce(e,t,r){var a=Fs.exec(t.slice(r,r+3));return a?(e.m=0,e.d=+a[0],r+a[0].length):-1}function $T(e,t,r){var a=Fs.exec(t.slice(r,r+2));return a?(e.H=+a[0],r+a[0].length):-1}function Uce(e,t,r){var a=Fs.exec(t.slice(r,r+2));return a?(e.M=+a[0],r+a[0].length):-1}function qce(e,t,r){var a=Fs.exec(t.slice(r,r+2));return a?(e.S=+a[0],r+a[0].length):-1}function Vce(e,t,r){var a=Fs.exec(t.slice(r,r+3));return a?(e.L=+a[0],r+a[0].length):-1}function Wce(e,t,r){var a=Fs.exec(t.slice(r,r+6));return a?(e.L=Math.floor(a[0]/1e3),r+a[0].length):-1}function Hce(e,t,r){var a=Ace.exec(t.slice(r,r+1));return a?r+a[0].length:-1}function Kce(e,t,r){var a=Fs.exec(t.slice(r));return a?(e.Q=+a[0],r+a[0].length):-1}function Gce(e,t,r){var a=Fs.exec(t.slice(r));return a?(e.s=+a[0],r+a[0].length):-1}function BT(e,t){return ot(e.getDate(),t,2)}function Yce(e,t){return ot(e.getHours(),t,2)}function Xce(e,t){return ot(e.getHours()%12||12,t,2)}function Qce(e,t){return ot(1+hp.count(Gi(e),e),t,3)}function x$(e,t){return ot(e.getMilliseconds(),t,3)}function Jce(e,t){return x$(e,t)+"000"}function Zce(e,t){return ot(e.getMonth()+1,t,2)}function ede(e,t){return ot(e.getMinutes(),t,2)}function tde(e,t){return ot(e.getSeconds(),t,2)}function sde(e){var t=e.getDay();return t===0?7:t}function rde(e,t){return ot(wy.count(Gi(e)-1,e),t,2)}function g$(e){var t=e.getDay();return t>=4||t===0?Fu(e):Fu.ceil(e)}function ade(e,t){return e=g$(e),ot(Fu.count(Gi(e),e)+(Gi(e).getDay()===4),t,2)}function nde(e){return e.getDay()}function ide(e,t){return ot(_v.count(Gi(e)-1,e),t,2)}function ode(e,t){return ot(e.getFullYear()%100,t,2)}function lde(e,t){return e=g$(e),ot(e.getFullYear()%100,t,2)}function cde(e,t){return ot(e.getFullYear()%1e4,t,4)}function dde(e,t){var r=e.getDay();return e=r>=4||r===0?Fu(e):Fu.ceil(e),ot(e.getFullYear()%1e4,t,4)}function ude(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+ot(t/60|0,"0",2)+ot(t%60,"0",2)}function zT(e,t){return ot(e.getUTCDate(),t,2)}function mde(e,t){return ot(e.getUTCHours(),t,2)}function hde(e,t){return ot(e.getUTCHours()%12||12,t,2)}function fde(e,t){return ot(1+jy.count(Yi(e),e),t,3)}function v$(e,t){return ot(e.getUTCMilliseconds(),t,3)}function pde(e,t){return v$(e,t)+"000"}function xde(e,t){return ot(e.getUTCMonth()+1,t,2)}function gde(e,t){return ot(e.getUTCMinutes(),t,2)}function vde(e,t){return ot(e.getUTCSeconds(),t,2)}function yde(e){var t=e.getUTCDay();return t===0?7:t}function bde(e,t){return ot(Ny.count(Yi(e)-1,e),t,2)}function y$(e){var t=e.getUTCDay();return t>=4||t===0?Lu(e):Lu.ceil(e)}function jde(e,t){return e=y$(e),ot(Lu.count(Yi(e),e)+(Yi(e).getUTCDay()===4),t,2)}function wde(e){return e.getUTCDay()}function Nde(e,t){return ot(Cv.count(Yi(e)-1,e),t,2)}function Sde(e,t){return ot(e.getUTCFullYear()%100,t,2)}function _de(e,t){return e=y$(e),ot(e.getUTCFullYear()%100,t,2)}function Cde(e,t){return ot(e.getUTCFullYear()%1e4,t,4)}function kde(e,t){var r=e.getUTCDay();return e=r>=4||r===0?Lu(e):Lu.ceil(e),ot(e.getUTCFullYear()%1e4,t,4)}function Pde(){return"+0000"}function UT(){return"%"}function qT(e){return+e}function VT(e){return Math.floor(+e/1e3)}var gd,b$,j$;Ede({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Ede(e){return gd=Ece(e),b$=gd.format,gd.parse,j$=gd.utcFormat,gd.utcParse,gd}function Ade(e){return new Date(e)}function Tde(e){return e instanceof Date?+e:+new Date(+e)}function uC(e,t,r,a,n,i,o,l,c,d){var u=Q_(),m=u.invert,h=u.domain,f=d(".%L"),g=d(":%S"),x=d("%I:%M"),y=d("%I %p"),v=d("%a %d"),b=d("%b %d"),j=d("%B"),N=d("%Y");function w(S){return(c(S)<S?f:l(S)<S?g:o(S)<S?x:i(S)<S?y:a(S)<S?n(S)<S?v:b:r(S)<S?j:N)(S)}return u.invert=function(S){return new Date(m(S))},u.domain=function(S){return arguments.length?h(Array.from(S,Tde)):h().map(Ade)},u.ticks=function(S){var _=h();return e(_[0],_[_.length-1],S??10)},u.tickFormat=function(S,_){return _==null?w:d(_)},u.nice=function(S){var _=h();return(!S||typeof S.range!="function")&&(S=t(_[0],_[_.length-1],S??10)),S?h(o$(_,S)):u},u.copy=function(){return mp(u,uC(e,t,r,a,n,i,o,l,c,d))},u}function Mde(){return Xa.apply(uC(kce,Pce,Gi,cC,wy,hp,oC,nC,nc,b$).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Ode(){return Xa.apply(uC(_ce,Cce,Yi,dC,Ny,jy,lC,iC,nc,j$).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Sy(){var e=0,t=1,r,a,n,i,o=yr,l=!1,c;function d(m){return m==null||isNaN(m=+m)?c:o(n===0?.5:(m=(i(m)-r)*n,l?Math.max(0,Math.min(1,m)):m))}d.domain=function(m){return arguments.length?([e,t]=m,r=i(e=+e),a=i(t=+t),n=r===a?0:1/(a-r),d):[e,t]},d.clamp=function(m){return arguments.length?(l=!!m,d):l},d.interpolator=function(m){return arguments.length?(o=m,d):o};function u(m){return function(h){var f,g;return arguments.length?([f,g]=h,o=m(f,g),d):[o(0),o(1)]}}return d.range=u(xm),d.rangeRound=u(X_),d.unknown=function(m){return arguments.length?(c=m,d):c},function(m){return i=m,r=m(e),a=m(t),n=r===a?0:1/(a-r),d}}function Tl(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function w$(){var e=Al(Sy()(yr));return e.copy=function(){return Tl(e,w$())},lo.apply(e,arguments)}function N$(){var e=eC(Sy()).domain([1,10]);return e.copy=function(){return Tl(e,N$()).base(e.base())},lo.apply(e,arguments)}function S$(){var e=tC(Sy());return e.copy=function(){return Tl(e,S$()).constant(e.constant())},lo.apply(e,arguments)}function mC(){var e=sC(Sy());return e.copy=function(){return Tl(e,mC()).exponent(e.exponent())},lo.apply(e,arguments)}function Dde(){return mC.apply(null,arguments).exponent(.5)}function _$(){var e=[],t=yr;function r(a){if(a!=null&&!isNaN(a=+a))return t((dp(e,a,1)-1)/(e.length-1))}return r.domain=function(a){if(!arguments.length)return e.slice();e=[];for(let n of a)n!=null&&!isNaN(n=+n)&&e.push(n);return e.sort(il),r},r.interpolator=function(a){return arguments.length?(t=a,r):t},r.range=function(){return e.map((a,n)=>t(n/(e.length-1)))},r.quantiles=function(a){return Array.from({length:a+1},(n,i)=>yle(e,i/a))},r.copy=function(){return _$(t).domain(e)},lo.apply(r,arguments)}function _y(){var e=0,t=.5,r=1,a=1,n,i,o,l,c,d=yr,u,m=!1,h;function f(x){return isNaN(x=+x)?h:(x=.5+((x=+u(x))-i)*(a*x<a*i?l:c),d(m?Math.max(0,Math.min(1,x)):x))}f.domain=function(x){return arguments.length?([e,t,r]=x,n=u(e=+e),i=u(t=+t),o=u(r=+r),l=n===i?0:.5/(i-n),c=i===o?0:.5/(o-i),a=i<n?-1:1,f):[e,t,r]},f.clamp=function(x){return arguments.length?(m=!!x,f):m},f.interpolator=function(x){return arguments.length?(d=x,f):d};function g(x){return function(y){var v,b,j;return arguments.length?([v,b,j]=y,d=Hle(x,[v,b,j]),f):[d(0),d(.5),d(1)]}}return f.range=g(xm),f.rangeRound=g(X_),f.unknown=function(x){return arguments.length?(h=x,f):h},function(x){return u=x,n=x(e),i=x(t),o=x(r),l=n===i?0:.5/(i-n),c=i===o?0:.5/(o-i),a=i<n?-1:1,f}}function C$(){var e=Al(_y()(yr));return e.copy=function(){return Tl(e,C$())},lo.apply(e,arguments)}function k$(){var e=eC(_y()).domain([.1,1,10]);return e.copy=function(){return Tl(e,k$()).base(e.base())},lo.apply(e,arguments)}function P$(){var e=tC(_y());return e.copy=function(){return Tl(e,P$()).constant(e.constant())},lo.apply(e,arguments)}function hC(){var e=sC(_y());return e.copy=function(){return Tl(e,hC()).exponent(e.exponent())},lo.apply(e,arguments)}function Rde(){return hC.apply(null,arguments).exponent(.5)}const lh=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:K_,scaleDiverging:C$,scaleDivergingLog:k$,scaleDivergingPow:hC,scaleDivergingSqrt:Rde,scaleDivergingSymlog:P$,scaleIdentity:i$,scaleImplicit:T1,scaleLinear:n$,scaleLog:l$,scaleOrdinal:H_,scalePoint:wle,scalePow:rC,scaleQuantile:u$,scaleQuantize:m$,scaleRadial:d$,scaleSequential:w$,scaleSequentialLog:N$,scaleSequentialPow:mC,scaleSequentialQuantile:_$,scaleSequentialSqrt:Dde,scaleSequentialSymlog:S$,scaleSqrt:pce,scaleSymlog:c$,scaleThreshold:h$,scaleTime:Mde,scaleUtc:Ode,tickFormat:a$},Symbol.toStringTag,{value:"Module"}));var ed=e=>e.chartData,Cy=ee([ed],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),ky=(e,t,r,a)=>a?Cy(e):ed(e);function $u(e){if(Array.isArray(e)&&e.length===2){var[t,r]=e;if(Ks(t)&&Ks(r))return!0}return!1}function WT(e,t,r){return r?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function Ide(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[r,a]=e,n,i;if(Ks(r))n=r;else if(typeof r=="function")return;if(Ks(a))i=a;else if(typeof a=="function")return;var o=[n,i];if($u(o))return o}}function Fde(e,t,r){if(!(!r&&t==null)){if(typeof e=="function"&&t!=null)try{var a=e(t,r);if($u(a))return WT(a,t,r)}catch{}if(Array.isArray(e)&&e.length===2){var[n,i]=e,o,l;if(n==="auto")t!=null&&(o=Math.min(...t));else if(ve(n))o=n;else if(typeof n=="function")try{t!=null&&(o=n(t==null?void 0:t[0]))}catch{}else if(typeof n=="string"&&zA.test(n)){var c=zA.exec(n);if(c==null||t==null)o=void 0;else{var d=+c[1];o=t[0]-d}}else o=t==null?void 0:t[0];if(i==="auto")t!=null&&(l=Math.max(...t));else if(ve(i))l=i;else if(typeof i=="function")try{t!=null&&(l=i(t==null?void 0:t[1]))}catch{}else if(typeof i=="string"&&UA.test(i)){var u=UA.exec(i);if(u==null||t==null)l=void 0;else{var m=+u[1];l=t[1]+m}}else l=t==null?void 0:t[1];var h=[o,l];if($u(h))return t==null?h:WT(h,t,r)}}}var gm=1e9,Lde={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},pC,zt=!0,Va="[DecimalError] ",Sc=Va+"Invalid argument: ",fC=Va+"Exponent out of range: ",vm=Math.floor,Yl=Math.pow,$de=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,ra,Ts=1e7,Rt=7,E$=9007199254740991,kv=vm(E$/Rt),Ne={};Ne.absoluteValue=Ne.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};Ne.comparedTo=Ne.cmp=function(e){var t,r,a,n,i=this;if(e=new i.constructor(e),i.s!==e.s)return i.s||-e.s;if(i.e!==e.e)return i.e>e.e^i.s<0?1:-1;for(a=i.d.length,n=e.d.length,t=0,r=a<n?a:n;t<r;++t)if(i.d[t]!==e.d[t])return i.d[t]>e.d[t]^i.s<0?1:-1;return a===n?0:a>n^i.s<0?1:-1};Ne.decimalPlaces=Ne.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*Rt;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};Ne.dividedBy=Ne.div=function(e){return Di(this,new this.constructor(e))};Ne.dividedToIntegerBy=Ne.idiv=function(e){var t=this,r=t.constructor;return Ct(Di(t,new r(e),0,1),r.precision)};Ne.equals=Ne.eq=function(e){return!this.cmp(e)};Ne.exponent=function(){return gs(this)};Ne.greaterThan=Ne.gt=function(e){return this.cmp(e)>0};Ne.greaterThanOrEqualTo=Ne.gte=function(e){return this.cmp(e)>=0};Ne.isInteger=Ne.isint=function(){return this.e>this.d.length-2};Ne.isNegative=Ne.isneg=function(){return this.s<0};Ne.isPositive=Ne.ispos=function(){return this.s>0};Ne.isZero=function(){return this.s===0};Ne.lessThan=Ne.lt=function(e){return this.cmp(e)<0};Ne.lessThanOrEqualTo=Ne.lte=function(e){return this.cmp(e)<1};Ne.logarithm=Ne.log=function(e){var t,r=this,a=r.constructor,n=a.precision,i=n+5;if(e===void 0)e=new a(10);else if(e=new a(e),e.s<1||e.eq(ra))throw Error(Va+"NaN");if(r.s<1)throw Error(Va+(r.s?"NaN":"-Infinity"));return r.eq(ra)?new a(0):(zt=!1,t=Di(vf(r,i),vf(e,i),i),zt=!0,Ct(t,n))};Ne.minus=Ne.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?M$(t,e):A$(t,(e.s=-e.s,e))};Ne.modulo=Ne.mod=function(e){var t,r=this,a=r.constructor,n=a.precision;if(e=new a(e),!e.s)throw Error(Va+"NaN");return r.s?(zt=!1,t=Di(r,e,0,1).times(e),zt=!0,r.minus(t)):Ct(new a(r),n)};Ne.naturalExponential=Ne.exp=function(){return T$(this)};Ne.naturalLogarithm=Ne.ln=function(){return vf(this)};Ne.negated=Ne.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};Ne.plus=Ne.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?A$(t,e):M$(t,(e.s=-e.s,e))};Ne.precision=Ne.sd=function(e){var t,r,a,n=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Sc+e);if(t=gs(n)+1,a=n.d.length-1,r=a*Rt+1,a=n.d[a],a){for(;a%10==0;a/=10)r--;for(a=n.d[0];a>=10;a/=10)r++}return e&&t>r?t:r};Ne.squareRoot=Ne.sqrt=function(){var e,t,r,a,n,i,o,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error(Va+"NaN")}for(e=gs(l),zt=!1,n=Math.sqrt(+l),n==0||n==1/0?(t=Hn(l.d),(t.length+e)%2==0&&(t+="0"),n=Math.sqrt(t),e=vm((e+1)/2)-(e<0||e%2),n==1/0?t="5e"+e:(t=n.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),a=new c(t)):a=new c(n.toString()),r=c.precision,n=o=r+3;;)if(i=a,a=i.plus(Di(l,i,o+2)).times(.5),Hn(i.d).slice(0,o)===(t=Hn(a.d)).slice(0,o)){if(t=t.slice(o-3,o+1),n==o&&t=="4999"){if(Ct(i,r+1,0),i.times(i).eq(l)){a=i;break}}else if(t!="9999")break;o+=4}return zt=!0,Ct(a,r)};Ne.times=Ne.mul=function(e){var t,r,a,n,i,o,l,c,d,u=this,m=u.constructor,h=u.d,f=(e=new m(e)).d;if(!u.s||!e.s)return new m(0);for(e.s*=u.s,r=u.e+e.e,c=h.length,d=f.length,c<d&&(i=h,h=f,f=i,o=c,c=d,d=o),i=[],o=c+d,a=o;a--;)i.push(0);for(a=d;--a>=0;){for(t=0,n=c+a;n>a;)l=i[n]+f[a]*h[n-a-1]+t,i[n--]=l%Ts|0,t=l/Ts|0;i[n]=(i[n]+t)%Ts|0}for(;!i[--o];)i.pop();return t?++r:i.shift(),e.d=i,e.e=r,zt?Ct(e,m.precision):e};Ne.toDecimalPlaces=Ne.todp=function(e,t){var r=this,a=r.constructor;return r=new a(r),e===void 0?r:(ci(e,0,gm),t===void 0?t=a.rounding:ci(t,0,8),Ct(r,e+gs(r)+1,t))};Ne.toExponential=function(e,t){var r,a=this,n=a.constructor;return e===void 0?r=$c(a,!0):(ci(e,0,gm),t===void 0?t=n.rounding:ci(t,0,8),a=Ct(new n(a),e+1,t),r=$c(a,!0,e+1)),r};Ne.toFixed=function(e,t){var r,a,n=this,i=n.constructor;return e===void 0?$c(n):(ci(e,0,gm),t===void 0?t=i.rounding:ci(t,0,8),a=Ct(new i(n),e+gs(n)+1,t),r=$c(a.abs(),!1,e+gs(a)+1),n.isneg()&&!n.isZero()?"-"+r:r)};Ne.toInteger=Ne.toint=function(){var e=this,t=e.constructor;return Ct(new t(e),gs(e)+1,t.rounding)};Ne.toNumber=function(){return+this};Ne.toPower=Ne.pow=function(e){var t,r,a,n,i,o,l=this,c=l.constructor,d=12,u=+(e=new c(e));if(!e.s)return new c(ra);if(l=new c(l),!l.s){if(e.s<1)throw Error(Va+"Infinity");return l}if(l.eq(ra))return l;if(a=c.precision,e.eq(ra))return Ct(l,a);if(t=e.e,r=e.d.length-1,o=t>=r,i=l.s,o){if((r=u<0?-u:u)<=E$){for(n=new c(ra),t=Math.ceil(a/Rt+4),zt=!1;r%2&&(n=n.times(l),KT(n.d,t)),r=vm(r/2),r!==0;)l=l.times(l),KT(l.d,t);return zt=!0,e.s<0?new c(ra).div(n):Ct(n,a)}}else if(i<0)throw Error(Va+"NaN");return i=i<0&&e.d[Math.max(t,r)]&1?-1:1,l.s=1,zt=!1,n=e.times(vf(l,a+d)),zt=!0,n=T$(n),n.s=i,n};Ne.toPrecision=function(e,t){var r,a,n=this,i=n.constructor;return e===void 0?(r=gs(n),a=$c(n,r<=i.toExpNeg||r>=i.toExpPos)):(ci(e,1,gm),t===void 0?t=i.rounding:ci(t,0,8),n=Ct(new i(n),e,t),r=gs(n),a=$c(n,e<=r||r<=i.toExpNeg,e)),a};Ne.toSignificantDigits=Ne.tosd=function(e,t){var r=this,a=r.constructor;return e===void 0?(e=a.precision,t=a.rounding):(ci(e,1,gm),t===void 0?t=a.rounding:ci(t,0,8)),Ct(new a(r),e,t)};Ne.toString=Ne.valueOf=Ne.val=Ne.toJSON=Ne[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=gs(e),r=e.constructor;return $c(e,t<=r.toExpNeg||t>=r.toExpPos)};function A$(e,t){var r,a,n,i,o,l,c,d,u=e.constructor,m=u.precision;if(!e.s||!t.s)return t.s||(t=new u(e)),zt?Ct(t,m):t;if(c=e.d,d=t.d,o=e.e,n=t.e,c=c.slice(),i=o-n,i){for(i<0?(a=c,i=-i,l=d.length):(a=d,n=o,l=c.length),o=Math.ceil(m/Rt),l=o>l?o+1:l+1,i>l&&(i=l,a.length=1),a.reverse();i--;)a.push(0);a.reverse()}for(l=c.length,i=d.length,l-i<0&&(i=l,a=d,d=c,c=a),r=0;i;)r=(c[--i]=c[i]+d[i]+r)/Ts|0,c[i]%=Ts;for(r&&(c.unshift(r),++n),l=c.length;c[--l]==0;)c.pop();return t.d=c,t.e=n,zt?Ct(t,m):t}function ci(e,t,r){if(e!==~~e||e<t||e>r)throw Error(Sc+e)}function Hn(e){var t,r,a,n=e.length-1,i="",o=e[0];if(n>0){for(i+=o,t=1;t<n;t++)a=e[t]+"",r=Rt-a.length,r&&(i+=Mo(r)),i+=a;o=e[t],a=o+"",r=Rt-a.length,r&&(i+=Mo(r))}else if(o===0)return"0";for(;o%10===0;)o/=10;return i+o}var Di=function(){function e(a,n){var i,o=0,l=a.length;for(a=a.slice();l--;)i=a[l]*n+o,a[l]=i%Ts|0,o=i/Ts|0;return o&&a.unshift(o),a}function t(a,n,i,o){var l,c;if(i!=o)c=i>o?1:-1;else for(l=c=0;l<i;l++)if(a[l]!=n[l]){c=a[l]>n[l]?1:-1;break}return c}function r(a,n,i){for(var o=0;i--;)a[i]-=o,o=a[i]<n[i]?1:0,a[i]=o*Ts+a[i]-n[i];for(;!a[0]&&a.length>1;)a.shift()}return function(a,n,i,o){var l,c,d,u,m,h,f,g,x,y,v,b,j,N,w,S,_,C,E=a.constructor,T=a.s==n.s?1:-1,k=a.d,P=n.d;if(!a.s)return new E(a);if(!n.s)throw Error(Va+"Division by zero");for(c=a.e-n.e,_=P.length,w=k.length,f=new E(T),g=f.d=[],d=0;P[d]==(k[d]||0);)++d;if(P[d]>(k[d]||0)&&--c,i==null?b=i=E.precision:o?b=i+(gs(a)-gs(n))+1:b=i,b<0)return new E(0);if(b=b/Rt+2|0,d=0,_==1)for(u=0,P=P[0],b++;(d<w||u)&&b--;d++)j=u*Ts+(k[d]||0),g[d]=j/P|0,u=j%P|0;else{for(u=Ts/(P[0]+1)|0,u>1&&(P=e(P,u),k=e(k,u),_=P.length,w=k.length),N=_,x=k.slice(0,_),y=x.length;y<_;)x[y++]=0;C=P.slice(),C.unshift(0),S=P[0],P[1]>=Ts/2&&++S;do u=0,l=t(P,x,_,y),l<0?(v=x[0],_!=y&&(v=v*Ts+(x[1]||0)),u=v/S|0,u>1?(u>=Ts&&(u=Ts-1),m=e(P,u),h=m.length,y=x.length,l=t(m,x,h,y),l==1&&(u--,r(m,_<h?C:P,h))):(u==0&&(l=u=1),m=P.slice()),h=m.length,h<y&&m.unshift(0),r(x,m,y),l==-1&&(y=x.length,l=t(P,x,_,y),l<1&&(u++,r(x,_<y?C:P,y))),y=x.length):l===0&&(u++,x=[0]),g[d++]=u,l&&x[0]?x[y++]=k[N]||0:(x=[k[N]],y=1);while((N++<w||x[0]!==void 0)&&b--)}return g[0]||g.shift(),f.e=c,Ct(f,o?i+gs(f)+1:i)}}();function T$(e,t){var r,a,n,i,o,l,c=0,d=0,u=e.constructor,m=u.precision;if(gs(e)>16)throw Error(fC+gs(e));if(!e.s)return new u(ra);for(zt=!1,l=m,o=new u(.03125);e.abs().gte(.1);)e=e.times(o),d+=5;for(a=Math.log(Yl(2,d))/Math.LN10*2+5|0,l+=a,r=n=i=new u(ra),u.precision=l;;){if(n=Ct(n.times(e),l),r=r.times(++c),o=i.plus(Di(n,r,l)),Hn(o.d).slice(0,l)===Hn(i.d).slice(0,l)){for(;d--;)i=Ct(i.times(i),l);return u.precision=m,t==null?(zt=!0,Ct(i,m)):i}i=o}}function gs(e){for(var t=e.e*Rt,r=e.d[0];r>=10;r/=10)t++;return t}function Ij(e,t,r){if(t>e.LN10.sd())throw zt=!0,r&&(e.precision=r),Error(Va+"LN10 precision limit exceeded");return Ct(new e(e.LN10),t)}function Mo(e){for(var t="";e--;)t+="0";return t}function vf(e,t){var r,a,n,i,o,l,c,d,u,m=1,h=10,f=e,g=f.d,x=f.constructor,y=x.precision;if(f.s<1)throw Error(Va+(f.s?"NaN":"-Infinity"));if(f.eq(ra))return new x(0);if(t==null?(zt=!1,d=y):d=t,f.eq(10))return t==null&&(zt=!0),Ij(x,d);if(d+=h,x.precision=d,r=Hn(g),a=r.charAt(0),i=gs(f),Math.abs(i)<15e14){for(;a<7&&a!=1||a==1&&r.charAt(1)>3;)f=f.times(e),r=Hn(f.d),a=r.charAt(0),m++;i=gs(f),a>1?(f=new x("0."+r),i++):f=new x(a+"."+r.slice(1))}else return c=Ij(x,d+2,y).times(i+""),f=vf(new x(a+"."+r.slice(1)),d-h).plus(c),x.precision=y,t==null?(zt=!0,Ct(f,y)):f;for(l=o=f=Di(f.minus(ra),f.plus(ra),d),u=Ct(f.times(f),d),n=3;;){if(o=Ct(o.times(u),d),c=l.plus(Di(o,new x(n),d)),Hn(c.d).slice(0,d)===Hn(l.d).slice(0,d))return l=l.times(2),i!==0&&(l=l.plus(Ij(x,d+2,y).times(i+""))),l=Di(l,new x(m),d),x.precision=y,t==null?(zt=!0,Ct(l,y)):l;l=c,n+=2}}function HT(e,t){var r,a,n;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(a=t.search(/e/i))>0?(r<0&&(r=a),r+=+t.slice(a+1),t=t.substring(0,a)):r<0&&(r=t.length),a=0;t.charCodeAt(a)===48;)++a;for(n=t.length;t.charCodeAt(n-1)===48;)--n;if(t=t.slice(a,n),t){if(n-=a,r=r-a-1,e.e=vm(r/Rt),e.d=[],a=(r+1)%Rt,r<0&&(a+=Rt),a<n){for(a&&e.d.push(+t.slice(0,a)),n-=Rt;a<n;)e.d.push(+t.slice(a,a+=Rt));t=t.slice(a),a=Rt-t.length}else a-=n;for(;a--;)t+="0";if(e.d.push(+t),zt&&(e.e>kv||e.e<-kv))throw Error(fC+r)}else e.s=0,e.e=0,e.d=[0];return e}function Ct(e,t,r){var a,n,i,o,l,c,d,u,m=e.d;for(o=1,i=m[0];i>=10;i/=10)o++;if(a=t-o,a<0)a+=Rt,n=t,d=m[u=0];else{if(u=Math.ceil((a+1)/Rt),i=m.length,u>=i)return e;for(d=i=m[u],o=1;i>=10;i/=10)o++;a%=Rt,n=a-Rt+o}if(r!==void 0&&(i=Yl(10,o-n-1),l=d/i%10|0,c=t<0||m[u+1]!==void 0||d%i,c=r<4?(l||c)&&(r==0||r==(e.s<0?3:2)):l>5||l==5&&(r==4||c||r==6&&(a>0?n>0?d/Yl(10,o-n):0:m[u-1])%10&1||r==(e.s<0?8:7))),t<1||!m[0])return c?(i=gs(e),m.length=1,t=t-i-1,m[0]=Yl(10,(Rt-t%Rt)%Rt),e.e=vm(-t/Rt)||0):(m.length=1,m[0]=e.e=e.s=0),e;if(a==0?(m.length=u,i=1,u--):(m.length=u+1,i=Yl(10,Rt-a),m[u]=n>0?(d/Yl(10,o-n)%Yl(10,n)|0)*i:0),c)for(;;)if(u==0){(m[0]+=i)==Ts&&(m[0]=1,++e.e);break}else{if(m[u]+=i,m[u]!=Ts)break;m[u--]=0,i=1}for(a=m.length;m[--a]===0;)m.pop();if(zt&&(e.e>kv||e.e<-kv))throw Error(fC+gs(e));return e}function M$(e,t){var r,a,n,i,o,l,c,d,u,m,h=e.constructor,f=h.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new h(e),zt?Ct(t,f):t;if(c=e.d,m=t.d,a=t.e,d=e.e,c=c.slice(),o=d-a,o){for(u=o<0,u?(r=c,o=-o,l=m.length):(r=m,a=d,l=c.length),n=Math.max(Math.ceil(f/Rt),l)+2,o>n&&(o=n,r.length=1),r.reverse(),n=o;n--;)r.push(0);r.reverse()}else{for(n=c.length,l=m.length,u=n<l,u&&(l=n),n=0;n<l;n++)if(c[n]!=m[n]){u=c[n]<m[n];break}o=0}for(u&&(r=c,c=m,m=r,t.s=-t.s),l=c.length,n=m.length-l;n>0;--n)c[l++]=0;for(n=m.length;n>o;){if(c[--n]<m[n]){for(i=n;i&&c[--i]===0;)c[i]=Ts-1;--c[i],c[n]+=Ts}c[n]-=m[n]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--a;return c[0]?(t.d=c,t.e=a,zt?Ct(t,f):t):new h(0)}function $c(e,t,r){var a,n=gs(e),i=Hn(e.d),o=i.length;return t?(r&&(a=r-o)>0?i=i.charAt(0)+"."+i.slice(1)+Mo(a):o>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(n<0?"e":"e+")+n):n<0?(i="0."+Mo(-n-1)+i,r&&(a=r-o)>0&&(i+=Mo(a))):n>=o?(i+=Mo(n+1-o),r&&(a=r-n-1)>0&&(i=i+"."+Mo(a))):((a=n+1)<o&&(i=i.slice(0,a)+"."+i.slice(a)),r&&(a=r-o)>0&&(n+1===o&&(i+="."),i+=Mo(a))),e.s<0?"-"+i:i}function KT(e,t){if(e.length>t)return e.length=t,!0}function O$(e){var t,r,a;function n(i){var o=this;if(!(o instanceof n))return new n(i);if(o.constructor=n,i instanceof n){o.s=i.s,o.e=i.e,o.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error(Sc+i);if(i>0)o.s=1;else if(i<0)i=-i,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(i===~~i&&i<1e7){o.e=0,o.d=[i];return}return HT(o,i.toString())}else if(typeof i!="string")throw Error(Sc+i);if(i.charCodeAt(0)===45?(i=i.slice(1),o.s=-1):o.s=1,$de.test(i))HT(o,i);else throw Error(Sc+i)}if(n.prototype=Ne,n.ROUND_UP=0,n.ROUND_DOWN=1,n.ROUND_CEIL=2,n.ROUND_FLOOR=3,n.ROUND_HALF_UP=4,n.ROUND_HALF_DOWN=5,n.ROUND_HALF_EVEN=6,n.ROUND_HALF_CEIL=7,n.ROUND_HALF_FLOOR=8,n.clone=O$,n.config=n.set=Bde,e===void 0&&(e={}),e)for(a=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<a.length;)e.hasOwnProperty(r=a[t++])||(e[r]=this[r]);return n.config(e),n}function Bde(e){if(!e||typeof e!="object")throw Error(Va+"Object expected");var t,r,a,n=["precision",1,gm,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<n.length;t+=3)if((a=e[r=n[t]])!==void 0)if(vm(a)===a&&a>=n[t+1]&&a<=n[t+2])this[r]=a;else throw Error(Sc+r+": "+a);if((a=e[r="LN10"])!==void 0)if(a==Math.LN10)this[r]=new this(a);else throw Error(Sc+r+": "+a);return this}var pC=O$(Lde);ra=new pC(1);const ft=pC;var zde=e=>e,D$={},R$=e=>e===D$,GT=e=>function t(){return arguments.length===0||arguments.length===1&&R$(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},I$=(e,t)=>e===1?t:GT(function(){for(var r=arguments.length,a=new Array(r),n=0;n<r;n++)a[n]=arguments[n];var i=a.filter(o=>o!==D$).length;return i>=e?t(...a):I$(e-i,GT(function(){for(var o=arguments.length,l=new Array(o),c=0;c<o;c++)l[c]=arguments[c];var d=a.map(u=>R$(u)?l.shift():u);return t(...d,...l)}))}),Py=e=>I$(e.length,e),R1=(e,t)=>{for(var r=[],a=e;a<t;++a)r[a-e]=a;return r},Ude=Py((e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(r=>t[r]).map(e)),qde=function(){for(var t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];if(!r.length)return zde;var n=r.reverse(),i=n[0],o=n.slice(1);return function(){return o.reduce((l,c)=>c(l),i(...arguments))}},I1=e=>Array.isArray(e)?e.reverse():e.split("").reverse().join(""),F$=e=>{var t=null,r=null;return function(){for(var a=arguments.length,n=new Array(a),i=0;i<a;i++)n[i]=arguments[i];return t&&n.every((o,l)=>{var c;return o===((c=t)===null||c===void 0?void 0:c[l])})||(t=n,r=e(...n)),r}};function L$(e){var t;return e===0?t=1:t=Math.floor(new ft(e).abs().log(10).toNumber())+1,t}function $$(e,t,r){for(var a=new ft(e),n=0,i=[];a.lt(t)&&n<1e5;)i.push(a.toNumber()),a=a.add(r),n++;return i}Py((e,t,r)=>{var a=+e,n=+t;return a+r*(n-a)});Py((e,t,r)=>{var a=t-+e;return a=a||1/0,(r-e)/a});Py((e,t,r)=>{var a=t-+e;return a=a||1/0,Math.max(0,Math.min(1,(r-e)/a))});var B$=e=>{var[t,r]=e,[a,n]=[t,r];return t>r&&([a,n]=[r,t]),[a,n]},z$=(e,t,r)=>{if(e.lte(0))return new ft(0);var a=L$(e.toNumber()),n=new ft(10).pow(a),i=e.div(n),o=a!==1?.05:.1,l=new ft(Math.ceil(i.div(o).toNumber())).add(r).mul(o),c=l.mul(n);return t?new ft(c.toNumber()):new ft(Math.ceil(c.toNumber()))},Vde=(e,t,r)=>{var a=new ft(1),n=new ft(e);if(!n.isint()&&r){var i=Math.abs(e);i<1?(a=new ft(10).pow(L$(e)-1),n=new ft(Math.floor(n.div(a).toNumber())).mul(a)):i>1&&(n=new ft(Math.floor(e)))}else e===0?n=new ft(Math.floor((t-1)/2)):r||(n=new ft(Math.floor(e)));var o=Math.floor((t-1)/2),l=qde(Ude(c=>n.add(new ft(c-o).mul(a)).toNumber()),R1);return l(0,t)},U$=function(t,r,a,n){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((r-t)/(a-1)))return{step:new ft(0),tickMin:new ft(0),tickMax:new ft(0)};var o=z$(new ft(r).sub(t).div(a-1),n,i),l;t<=0&&r>=0?l=new ft(0):(l=new ft(t).add(r).div(2),l=l.sub(new ft(l).mod(o)));var c=Math.ceil(l.sub(t).div(o).toNumber()),d=Math.ceil(new ft(r).sub(l).div(o).toNumber()),u=c+d+1;return u>a?U$(t,r,a,n,i+1):(u<a&&(d=r>0?d+(a-u):d,c=r>0?c:c+(a-u)),{step:o,tickMin:l.sub(new ft(c).mul(o)),tickMax:l.add(new ft(d).mul(o))})};function Wde(e){var[t,r]=e,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,i=Math.max(a,2),[o,l]=B$([t,r]);if(o===-1/0||l===1/0){var c=l===1/0?[o,...R1(0,a-1).map(()=>1/0)]:[...R1(0,a-1).map(()=>-1/0),l];return t>r?I1(c):c}if(o===l)return Vde(o,a,n);var{step:d,tickMin:u,tickMax:m}=U$(o,l,i,n,0),h=$$(u,m.add(new ft(.1).mul(d)),d);return t>r?I1(h):h}function Hde(e,t){var[r,a]=e,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[i,o]=B$([r,a]);if(i===-1/0||o===1/0)return[r,a];if(i===o)return[i];var l=Math.max(t,2),c=z$(new ft(o).sub(i).div(l-1),n,0),d=[...$$(new ft(i),new ft(o),c),o];return n===!1&&(d=d.map(u=>Math.round(u))),r>a?I1(d):d}var Kde=F$(Wde),Gde=F$(Hde),q$=e=>e.rootProps.maxBarSize,Yde=e=>e.rootProps.barGap,V$=e=>e.rootProps.barCategoryGap,Xde=e=>e.rootProps.barSize,fp=e=>e.rootProps.stackOffset,xC=e=>e.options.chartName,gC=e=>e.rootProps.syncId,W$=e=>e.rootProps.syncMethod,vC=e=>e.options.eventEmitter,Bn={allowDuplicatedCategory:!0,angleAxisId:0,axisLine:!0,cx:0,cy:0,orientation:"outer",reversed:!1,scale:"auto",tick:!0,tickLine:!0,tickSize:8,type:"category"},Mr={allowDataOverflow:!1,allowDuplicatedCategory:!0,angle:0,axisLine:!0,cx:0,cy:0,orientation:"right",radiusAxisId:0,scale:"auto",stroke:"#ccc",tick:!0,tickCount:5,type:"number"},Ey=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t},Qde={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:Bn.angleAxisId,includeHidden:!1,name:void 0,reversed:Bn.reversed,scale:Bn.scale,tick:Bn.tick,tickCount:void 0,ticks:void 0,type:Bn.type,unit:void 0},Jde={allowDataOverflow:Mr.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Mr.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Mr.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Mr.scale,tick:Mr.tick,tickCount:Mr.tickCount,ticks:void 0,type:Mr.type,unit:void 0},Zde={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:Bn.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Bn.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Bn.scale,tick:Bn.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},eue={allowDataOverflow:Mr.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Mr.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Mr.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Mr.scale,tick:Mr.tick,tickCount:Mr.tickCount,ticks:void 0,type:"category",unit:void 0},ym=(e,t)=>e.polarAxis.angleAxis[t]!=null?e.polarAxis.angleAxis[t]:e.layout.layoutType==="radial"?Zde:Qde,pp=(e,t)=>e.polarAxis.radiusAxis[t]!=null?e.polarAxis.radiusAxis[t]:e.layout.layoutType==="radial"?eue:Jde,Ay=e=>e.polarOptions,yC=ee([no,io,ks],jL),H$=ee([Ay,yC],(e,t)=>{if(e!=null)return Nr(e.innerRadius,t,0)}),K$=ee([Ay,yC],(e,t)=>{if(e!=null)return Nr(e.outerRadius,t,t*.8)}),tue=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:r}=e;return[t,r]},G$=ee([Ay],tue),sue=ee([ym,G$],Ey),Y$=ee([yC,H$,K$],(e,t,r)=>{if(!(e==null||t==null||r==null))return[t,r]}),rue=ee([pp,Y$],Ey),xp=ee([Xe,Ay,H$,K$,no,io],(e,t,r,a,n,i)=>{if(!(e!=="centric"&&e!=="radial"||t==null||r==null||a==null)){var{cx:o,cy:l,startAngle:c,endAngle:d}=t;return{cx:Nr(o,n,n/2),cy:Nr(l,i,i/2),innerRadius:r,outerRadius:a,startAngle:c,endAngle:d,clockWise:!1}}}),Wt=(e,t)=>t,gp=(e,t,r)=>r;function YT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),r.push.apply(r,a)}return r}function Pv(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?YT(Object(r),!0).forEach(function(a){aue(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):YT(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function aue(e,t,r){return(t=nue(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nue(e){var t=iue(e,"string");return typeof t=="symbol"?t:t+""}function iue(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var F1=[0,"auto"],Qr={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},hi=(e,t)=>{var r=e.cartesianAxis.xAxis[t];return r??Qr},Jr={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:F1,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:xy},co=(e,t)=>{var r=e.cartesianAxis.yAxis[t];return r??Jr},oue={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},bC=(e,t)=>{var r=e.cartesianAxis.zAxis[t];return r??oue},ms=(e,t,r)=>{switch(t){case"xAxis":return hi(e,r);case"yAxis":return co(e,r);case"zAxis":return bC(e,r);case"angleAxis":return ym(e,r);case"radiusAxis":return pp(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},lue=(e,t,r)=>{switch(t){case"xAxis":return hi(e,r);case"yAxis":return co(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},bm=(e,t,r)=>{switch(t){case"xAxis":return hi(e,r);case"yAxis":return co(e,r);case"angleAxis":return ym(e,r);case"radiusAxis":return pp(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},X$=e=>e.graphicalItems.countOfBars>0;function jC(e,t){return r=>{switch(e){case"xAxis":return"xAxisId"in r&&r.xAxisId===t;case"yAxis":return"yAxisId"in r&&r.yAxisId===t;case"zAxis":return"zAxisId"in r&&r.zAxisId===t;case"angleAxis":return"angleAxisId"in r&&r.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in r&&r.radiusAxisId===t;default:return!1}}}var vp=e=>e.graphicalItems.cartesianItems,cue=ee([Wt,gp],jC),wC=(e,t,r)=>e.filter(r).filter(a=>(t==null?void 0:t.includeHidden)===!0?!0:!a.hide),yp=ee([vp,ms,cue],wC),Q$=e=>e.filter(t=>t.stackId===void 0),due=ee([yp],Q$),NC=e=>e.map(t=>t.data).filter(Boolean).flat(1),uue=ee([yp],NC),SC=(e,t)=>{var{chartData:r=[],dataStartIndex:a,dataEndIndex:n}=t;return e.length>0?e:r.slice(a,n+1)},Ty=ee([uue,ky],SC),_C=(e,t,r)=>(t==null?void 0:t.dataKey)!=null?e.map(a=>({value:pt(a,t.dataKey)})):r.length>0?r.map(a=>a.dataKey).flatMap(a=>e.map(n=>({value:pt(n,a)}))):e.map(a=>({value:a})),My=ee([Ty,ms,yp],_C);function J$(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function td(e){return e.filter(t=>Ua(t)||t instanceof Date).map(Number).filter(t=>dr(t)===!1)}function mue(e,t,r){return!r||typeof t!="number"||dr(t)?[]:r.length?td(r.flatMap(a=>{var n=pt(e,a.dataKey),i,o;if(Array.isArray(n)?[i,o]=n:i=o=n,!(!Ks(i)||!Ks(o)))return[t-i,t+o]})):[]}var Z$=(e,t,r)=>{var a={},n=t.reduce((i,o)=>(o.stackId==null||(i[o.stackId]==null&&(i[o.stackId]=[]),i[o.stackId].push(o)),i),a);return Object.fromEntries(Object.entries(n).map(i=>{var[o,l]=i,c=l.map(d=>d.dataKey);return[o,{stackedData:bie(e,c,r),graphicalItems:l}]}))},yf=ee([Ty,yp,fp],Z$),e8=(e,t,r)=>{var{dataStartIndex:a,dataEndIndex:n}=t;if(r!=="zAxis"){var i=Sie(e,a,n);if(!(i!=null&&i[0]===0&&i[1]===0))return i}},hue=ee([yf,ed,Wt],e8),t8=(e,t,r,a)=>r.length>0?e.flatMap(n=>r.flatMap(i=>{var o,l,c=(o=i.errorBars)===null||o===void 0?void 0:o.filter(u=>J$(a,u)),d=pt(n,(l=t.dataKey)!==null&&l!==void 0?l:i.dataKey);return{value:d,errorDomain:mue(n,d,c)}})).filter(Boolean):(t==null?void 0:t.dataKey)!=null?e.map(n=>({value:pt(n,t.dataKey),errorDomain:[]})):e.map(n=>({value:n,errorDomain:[]})),fue=ee(Ty,ms,due,Wt,t8);function pue(e){var{value:t}=e;if(Ua(t)||t instanceof Date)return t}var xue=e=>{var t=e.flatMap(a=>[a.value,a.errorDomain]).flat(1),r=td(t);if(r.length!==0)return[Math.min(...r),Math.max(...r)]},gue=(e,t,r)=>{var a=e.map(pue).filter(n=>n!=null);return r&&(t.dataKey==null||t.allowDuplicatedCategory&&sF(a))?GL(0,e.length):t.allowDuplicatedCategory?a:Array.from(new Set(a))},CC=e=>{var t;if(e==null||!("domain"in e))return F1;if(e.domain!=null)return e.domain;if(e.ticks!=null){if(e.type==="number"){var r=td(e.ticks);return[Math.min(...r),Math.max(...r)]}if(e.type==="category")return e.ticks.map(String)}return(t=e==null?void 0:e.domain)!==null&&t!==void 0?t:F1},kC=function(){for(var t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];var n=r.filter(Boolean);if(n.length!==0){var i=n.flat(),o=Math.min(...i),l=Math.max(...i);return[o,l]}},s8=e=>e.referenceElements.dots,jm=(e,t,r)=>e.filter(a=>a.ifOverflow==="extendDomain").filter(a=>t==="xAxis"?a.xAxisId===r:a.yAxisId===r),vue=ee([s8,Wt,gp],jm),r8=e=>e.referenceElements.areas,yue=ee([r8,Wt,gp],jm),a8=e=>e.referenceElements.lines,bue=ee([a8,Wt,gp],jm),n8=(e,t)=>{var r=td(e.map(a=>t==="xAxis"?a.x:a.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},jue=ee(vue,Wt,n8),i8=(e,t)=>{var r=td(e.flatMap(a=>[t==="xAxis"?a.x1:a.y1,t==="xAxis"?a.x2:a.y2]));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},wue=ee([yue,Wt],i8),o8=(e,t)=>{var r=td(e.map(a=>t==="xAxis"?a.x:a.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},Nue=ee(bue,Wt,o8),Sue=ee(jue,Nue,wue,(e,t,r)=>kC(e,r,t)),l8=ee([ms],CC),PC=(e,t,r,a,n)=>{var i=Ide(t,e.allowDataOverflow);return i??Fde(t,kC(r,n,xue(a)),e.allowDataOverflow)},_ue=ee([ms,l8,hue,fue,Sue],PC),Cue=[0,1],EC=(e,t,r,a,n,i,o)=>{if(!(e==null||r==null||r.length===0)){var{dataKey:l,type:c}=e,d=Tn(t,i);return d&&l==null?GL(0,r.length):c==="category"?gue(a,e,d):n==="expand"?Cue:o}},AC=ee([ms,Xe,Ty,My,fp,Wt,_ue],EC),c8=(e,t,r,a,n)=>{if(e!=null){var{scale:i,type:o}=e;if(i==="auto")return t==="radial"&&n==="radiusAxis"?"band":t==="radial"&&n==="angleAxis"?"linear":o==="category"&&a&&(a.indexOf("LineChart")>=0||a.indexOf("AreaChart")>=0||a.indexOf("ComposedChart")>=0&&!r)?"point":o==="category"?"band":"linear";if(typeof i=="string"){var l="scale".concat(np(i));return l in lh?l:"point"}}},Ml=ee([ms,Xe,X$,xC,Wt],c8);function kue(e){if(e!=null){if(e in lh)return lh[e]();var t="scale".concat(np(e));if(t in lh)return lh[t]()}}function Oy(e,t,r,a){if(!(r==null||a==null)){if(typeof e.scale=="function")return e.scale.copy().domain(r).range(a);var n=kue(t);if(n!=null){var i=n.domain(r).range(a);return pie(i),i}}}var TC=(e,t,r)=>{var a=CC(t);if(!(r!=="auto"&&r!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(a)&&(a[0]==="auto"||a[1]==="auto")&&$u(e))return Kde(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&$u(e))return Gde(e,t.tickCount,t.allowDecimals)}},MC=ee([AC,bm,Ml],TC),OC=(e,t,r,a)=>{if(a!=="angleAxis"&&(e==null?void 0:e.type)==="number"&&$u(t)&&Array.isArray(r)&&r.length>0){var n=t[0],i=r[0],o=t[1],l=r[r.length-1];return[Math.min(n,i),Math.max(o,l)]}return t},Pue=ee([ms,AC,MC,Wt],OC),Eue=ee(My,ms,(e,t)=>{if(!(!t||t.type!=="number")){var r=1/0,a=Array.from(td(e.map(l=>l.value))).sort((l,c)=>l-c);if(a.length<2)return 1/0;var n=a[a.length-1]-a[0];if(n===0)return 1/0;for(var i=0;i<a.length-1;i++){var o=a[i+1]-a[i];r=Math.min(r,o)}return r/n}}),d8=ee(Eue,Xe,V$,ks,(e,t,r,a)=>a,(e,t,r,a,n)=>{if(!Ks(e))return 0;var i=t==="vertical"?a.height:a.width;if(n==="gap")return e*i/2;if(n==="no-gap"){var o=Nr(r,e*i),l=e*i/2;return l-o-(l-o)/i*o}return 0}),Aue=(e,t)=>{var r=hi(e,t);return r==null||typeof r.padding!="string"?0:d8(e,"xAxis",t,r.padding)},Tue=(e,t)=>{var r=co(e,t);return r==null||typeof r.padding!="string"?0:d8(e,"yAxis",t,r.padding)},Mue=ee(hi,Aue,(e,t)=>{var r,a;if(e==null)return{left:0,right:0};var{padding:n}=e;return typeof n=="string"?{left:t,right:t}:{left:((r=n.left)!==null&&r!==void 0?r:0)+t,right:((a=n.right)!==null&&a!==void 0?a:0)+t}}),Oue=ee(co,Tue,(e,t)=>{var r,a;if(e==null)return{top:0,bottom:0};var{padding:n}=e;return typeof n=="string"?{top:t,bottom:t}:{top:((r=n.top)!==null&&r!==void 0?r:0)+t,bottom:((a=n.bottom)!==null&&a!==void 0?a:0)+t}}),Due=ee([ks,Mue,vy,gy,(e,t,r)=>r],(e,t,r,a,n)=>{var{padding:i}=a;return n?[i.left,r.width-i.right]:[e.left+t.left,e.left+e.width-t.right]}),Rue=ee([ks,Xe,Oue,vy,gy,(e,t,r)=>r],(e,t,r,a,n,i)=>{var{padding:o}=n;return i?[a.height-o.bottom,o.top]:t==="horizontal"?[e.top+e.height-r.bottom,e.top+r.top]:[e.top+r.top,e.top+e.height-r.bottom]}),bp=(e,t,r,a)=>{var n;switch(t){case"xAxis":return Due(e,r,a);case"yAxis":return Rue(e,r,a);case"zAxis":return(n=bC(e,r))===null||n===void 0?void 0:n.range;case"angleAxis":return G$(e);case"radiusAxis":return Y$(e,r);default:return}},u8=ee([ms,bp],Ey),yl=ee([ms,Ml,Pue,u8],Oy);ee(yp,Wt,(e,t)=>e.flatMap(r=>{var a;return(a=r.errorBars)!==null&&a!==void 0?a:[]}).filter(r=>J$(t,r)));function m8(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var Dy=(e,t)=>t,Ry=(e,t,r)=>r,Iue=ee($_,Dy,Ry,(e,t,r)=>e.filter(a=>a.orientation===t).filter(a=>a.mirror===r).sort(m8)),Fue=ee(B_,Dy,Ry,(e,t,r)=>e.filter(a=>a.orientation===t).filter(a=>a.mirror===r).sort(m8)),h8=(e,t)=>({width:e.width,height:t.height}),Lue=(e,t)=>{var r=typeof t.width=="number"?t.width:xy;return{width:r,height:e.height}},f8=ee(ks,hi,h8),$ue=(e,t,r)=>{switch(t){case"top":return e.top;case"bottom":return r-e.bottom;default:return 0}},Bue=(e,t,r)=>{switch(t){case"left":return e.left;case"right":return r-e.right;default:return 0}},zue=ee(io,ks,Iue,Dy,Ry,(e,t,r,a,n)=>{var i={},o;return r.forEach(l=>{var c=h8(t,l);o==null&&(o=$ue(t,a,e));var d=a==="top"&&!n||a==="bottom"&&n;i[l.id]=o-Number(d)*c.height,o+=(d?-1:1)*c.height}),i}),Uue=ee(no,ks,Fue,Dy,Ry,(e,t,r,a,n)=>{var i={},o;return r.forEach(l=>{var c=Lue(t,l);o==null&&(o=Bue(t,a,e));var d=a==="left"&&!n||a==="right"&&n;i[l.id]=o-Number(d)*c.width,o+=(d?-1:1)*c.width}),i}),que=(e,t)=>{var r=ks(e),a=hi(e,t);if(a!=null){var n=zue(e,a.orientation,a.mirror),i=n[t];return i==null?{x:r.left,y:0}:{x:r.left,y:i}}},Vue=(e,t)=>{var r=ks(e),a=co(e,t);if(a!=null){var n=Uue(e,a.orientation,a.mirror),i=n[t];return i==null?{x:0,y:r.top}:{x:i,y:r.top}}},p8=ee(ks,co,(e,t)=>{var r=typeof t.width=="number"?t.width:xy;return{width:r,height:e.height}}),XT=(e,t,r)=>{switch(t){case"xAxis":return f8(e,r).width;case"yAxis":return p8(e,r).height;default:return}},x8=(e,t,r,a)=>{if(r!=null){var{allowDuplicatedCategory:n,type:i,dataKey:o}=r,l=Tn(e,a),c=t.map(d=>d.value);if(o&&l&&i==="category"&&n&&sF(c))return c}},jp=ee([Xe,My,ms,Wt],x8),DC=(e,t,r,a)=>{if(!(r==null||r.dataKey==null)){var{type:n,scale:i}=r,o=Tn(e,a);if(o&&(n==="number"||i!=="auto"))return t.map(l=>l.value)}},RC=ee([Xe,My,bm,Wt],DC),QT=ee([Xe,lue,Ml,yl,jp,RC,bp,MC,Wt],(e,t,r,a,n,i,o,l,c)=>{if(t==null)return null;var d=Tn(e,c);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:c,categoricalDomain:i,duplicateDomain:n,isCategorical:d,niceTicks:l,range:o,realScaleType:r,scale:a}}),g8=(e,t,r,a,n,i,o,l,c)=>{if(!(t==null||a==null)){var d=Tn(e,c),{type:u,ticks:m,tickCount:h}=t,f=r==="scaleBand"&&typeof a.bandwidth=="function"?a.bandwidth()/2:2,g=u==="category"&&a.bandwidth?a.bandwidth()/f:0;g=c==="angleAxis"&&i!=null&&i.length>=2?Rs(i[0]-i[1])*2*g:g;var x=m||n;if(x){var y=x.map((v,b)=>{var j=o?o.indexOf(v):v;return{index:b,coordinate:a(j)+g,value:v,offset:g}});return y.filter(v=>!dr(v.coordinate))}return d&&l?l.map((v,b)=>({coordinate:a(v)+g,value:v,index:b,offset:g})):a.ticks?a.ticks(h).map(v=>({coordinate:a(v)+g,value:v,offset:g})):a.domain().map((v,b)=>({coordinate:a(v)+g,value:o?o[v]:v,index:b,offset:g}))}},v8=ee([Xe,bm,Ml,yl,MC,bp,jp,RC,Wt],g8),y8=(e,t,r,a,n,i,o)=>{if(!(t==null||r==null||a==null||a[0]===a[1])){var l=Tn(e,o),{tickCount:c}=t,d=0;return d=o==="angleAxis"&&(a==null?void 0:a.length)>=2?Rs(a[0]-a[1])*2*d:d,l&&i?i.map((u,m)=>({coordinate:r(u)+d,value:u,index:m,offset:d})):r.ticks?r.ticks(c).map(u=>({coordinate:r(u)+d,value:u,offset:d})):r.domain().map((u,m)=>({coordinate:r(u)+d,value:n?n[u]:u,index:m,offset:d}))}},di=ee([Xe,bm,yl,bp,jp,RC,Wt],y8),Wa=ee(ms,yl,(e,t)=>{if(!(e==null||t==null))return Pv(Pv({},e),{},{scale:t})}),Wue=ee([ms,Ml,AC,u8],Oy);ee((e,t,r)=>bC(e,r),Wue,(e,t)=>{if(!(e==null||t==null))return Pv(Pv({},e),{},{scale:t})});var Hue=ee([Xe,$_,B_],(e,t,r)=>{switch(e){case"horizontal":return t.some(a=>a.reversed)?"right-to-left":"left-to-right";case"vertical":return r.some(a=>a.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),b8=e=>e.options.defaultTooltipEventType,j8=e=>e.options.validateTooltipEventTypes;function w8(e,t,r){if(e==null)return t;var a=e?"axis":"item";return r==null?t:r.includes(a)?a:t}function IC(e,t){var r=b8(e),a=j8(e);return w8(t,r,a)}function Kue(e){return fe(t=>IC(t,e))}var N8=(e,t)=>{var r,a=Number(t);if(!(dr(a)||t==null))return a>=0?e==null||(r=e[a])===null||r===void 0?void 0:r.value:void 0},Gue=e=>e.tooltip.settings,Io={active:!1,index:null,dataKey:void 0,coordinate:void 0},Yue={itemInteraction:{click:Io,hover:Io},axisInteraction:{click:Io,hover:Io},keyboardInteraction:Io,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},S8=Ya({name:"tooltip",initialState:Yue,reducers:{addTooltipEntrySettings(e,t){e.tooltipItemPayloads.push(t.payload)},removeTooltipEntrySettings(e,t){var r=Oi(e).tooltipItemPayloads.indexOf(t.payload);r>-1&&e.tooltipItemPayloads.splice(r,1)},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate,e.keyboardInteraction.dataKey=t.payload.activeDataKey}}}),{addTooltipEntrySettings:Xue,removeTooltipEntrySettings:Que,setTooltipSettingsState:Jue,setActiveMouseOverItemIndex:_8,mouseLeaveItem:Zue,mouseLeaveChart:C8,setActiveClickItemIndex:eme,setMouseOverAxisIndex:k8,setMouseClickAxisIndex:tme,setSyncInteraction:L1,setKeyboardInteraction:$1}=S8.actions,sme=S8.reducer;function JT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),r.push.apply(r,a)}return r}function Ax(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?JT(Object(r),!0).forEach(function(a){rme(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):JT(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function rme(e,t,r){return(t=ame(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ame(e){var t=nme(e,"string");return typeof t=="symbol"?t:t+""}function nme(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ime(e,t,r){return t==="axis"?r==="click"?e.axisInteraction.click:e.axisInteraction.hover:r==="click"?e.itemInteraction.click:e.itemInteraction.hover}function ome(e){return e.index!=null}var P8=(e,t,r,a)=>{if(t==null)return Io;var n=ime(e,t,r);if(n==null)return Io;if(n.active)return n;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var i=e.settings.active===!0;if(ome(n)){if(i)return Ax(Ax({},n),{},{active:!0})}else if(a!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:a};return Ax(Ax({},Io),{},{coordinate:n.coordinate})},FC=(e,t)=>{var r=e==null?void 0:e.index;if(r==null)return null;var a=Number(r);if(!Ks(a))return r;var n=0,i=1/0;return t.length>0&&(i=t.length-1),String(Math.max(n,Math.min(a,i)))},E8=(e,t,r,a,n,i,o,l)=>{if(!(i==null||l==null)){var c=o[0],d=c==null?void 0:l(c.positions,i);if(d!=null)return d;var u=n==null?void 0:n[Number(i)];if(u)switch(r){case"horizontal":return{x:u.coordinate,y:(a.top+t)/2};default:return{x:(a.left+e)/2,y:u.coordinate}}}},A8=(e,t,r,a)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var n;return r==="hover"?n=e.itemInteraction.hover.dataKey:n=e.itemInteraction.click.dataKey,n==null&&a!=null?[e.tooltipItemPayloads[0]]:e.tooltipItemPayloads.filter(i=>{var o;return((o=i.settings)===null||o===void 0?void 0:o.dataKey)===n})},wp=e=>e.options.tooltipPayloadSearcher,wm=e=>e.tooltip;function ZT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),r.push.apply(r,a)}return r}function eM(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ZT(Object(r),!0).forEach(function(a){lme(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ZT(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function lme(e,t,r){return(t=cme(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function cme(e){var t=dme(e,"string");return typeof t=="symbol"?t:t+""}function dme(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ume(e,t,r){return Array.isArray(e)&&e&&t+r!==0?e.slice(t,r+1):e}function mme(e,t){return e??t}var T8=(e,t,r,a,n,i,o)=>{if(!(t==null||i==null)){var{chartData:l,computedData:c,dataStartIndex:d,dataEndIndex:u}=r,m=[];return e.reduce((h,f)=>{var g,{dataDefinedOnItem:x,settings:y}=f,v=mme(x,l),b=ume(v,d,u),j=(g=y==null?void 0:y.dataKey)!==null&&g!==void 0?g:a==null?void 0:a.dataKey,N=y==null?void 0:y.nameKey,w;if(a!=null&&a.dataKey&&Array.isArray(b)&&!Array.isArray(b[0])&&o==="axis"?w=rF(b,a.dataKey,n):w=i(b,t,c,N),Array.isArray(w))w.forEach(_=>{var C=eM(eM({},y),{},{name:_.name,unit:_.unit,color:void 0,fill:void 0});h.push(qA({tooltipEntrySettings:C,dataKey:_.dataKey,payload:_.payload,value:pt(_.payload,_.dataKey),name:_.name}))});else{var S;h.push(qA({tooltipEntrySettings:y,dataKey:j,payload:w,value:pt(w,j),name:(S=pt(w,N))!==null&&S!==void 0?S:y==null?void 0:y.name}))}return h},m)}},Ls=e=>{var t=Xe(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},Nm=e=>e.tooltip.settings.axisId,Gs=e=>{var t=Ls(e),r=Nm(e);return bm(e,t,r)},LC=ee([Gs,Xe,X$,xC,Ls],c8),hme=ee([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),fme=ee([Ls,Nm],jC),Iy=ee([hme,Gs,fme],wC),pme=ee([Iy],NC),sd=ee([pme,ed],SC),$C=ee([sd,Gs,Iy],_C),xme=ee([Gs],CC),gme=ee([sd,Iy,fp],Z$),vme=ee([gme,ed,Ls],e8),yme=ee([Iy],Q$),bme=ee([sd,Gs,yme,Ls],t8),jme=ee([s8,Ls,Nm],jm),wme=ee([jme,Ls],n8),Nme=ee([r8,Ls,Nm],jm),Sme=ee([Nme,Ls],i8),_me=ee([a8,Ls,Nm],jm),Cme=ee([_me,Ls],o8),kme=ee([wme,Cme,Sme],kC),Pme=ee([Gs,xme,vme,bme,kme],PC),M8=ee([Gs,Xe,sd,$C,fp,Ls,Pme],EC),Eme=ee([M8,Gs,LC],TC),Ame=ee([Gs,M8,Eme,Ls],OC),O8=e=>{var t=Ls(e),r=Nm(e),a=!1;return bp(e,t,r,a)},D8=ee([Gs,O8],Ey),R8=ee([Gs,LC,Ame,D8],Oy),Tme=ee([Xe,$C,Gs,Ls],x8),Mme=ee([Xe,$C,Gs,Ls],DC),Ome=(e,t,r,a,n,i,o,l)=>{if(t){var{type:c}=t,d=Tn(e,l);if(a){var u=r==="scaleBand"&&a.bandwidth?a.bandwidth()/2:2,m=c==="category"&&a.bandwidth?a.bandwidth()/u:0;return m=l==="angleAxis"&&n!=null&&(n==null?void 0:n.length)>=2?Rs(n[0]-n[1])*2*m:m,d&&o?o.map((h,f)=>({coordinate:a(h)+m,value:h,index:f,offset:m})):a.domain().map((h,f)=>({coordinate:a(h)+m,value:i?i[h]:h,index:f,offset:m}))}}},uo=ee([Xe,Gs,LC,R8,O8,Tme,Mme,Ls],Ome),BC=ee([b8,j8,Gue],(e,t,r)=>w8(r.shared,e,t)),I8=e=>e.tooltip.settings.trigger,zC=e=>e.tooltip.settings.defaultIndex,Fy=ee([wm,BC,I8,zC],P8),bl=ee([Fy,sd],FC),F8=ee([uo,bl],N8),L8=ee([Fy],e=>{if(e)return e.dataKey}),$8=ee([wm,BC,I8,zC],A8),Dme=ee([no,io,Xe,ks,uo,zC,$8,wp],E8),Rme=ee([Fy,Dme],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),Ime=ee([Fy],e=>e.active),Fme=ee([$8,bl,ed,Gs,F8,wp,BC],T8),Lme=ee([Fme],e=>{if(e!=null){var t=e.map(r=>r.payload).filter(r=>r!=null);return Array.from(new Set(t))}});function tM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),r.push.apply(r,a)}return r}function sM(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?tM(Object(r),!0).forEach(function(a){$me(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tM(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function $me(e,t,r){return(t=Bme(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Bme(e){var t=zme(e,"string");return typeof t=="symbol"?t:t+""}function zme(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ume=()=>fe(Gs),qme=()=>{var e=Ume(),t=fe(uo),r=fe(R8);return Hi(sM(sM({},e),{},{scale:r}),t)},B8=()=>fe(xC),UC=(e,t)=>t,z8=(e,t,r)=>r,qC=(e,t,r,a)=>a,Vme=ee(uo,e=>cy(e,t=>t.coordinate)),VC=ee([wm,UC,z8,qC],P8),U8=ee([VC,sd],FC),Wme=(e,t,r)=>{if(t!=null){var a=wm(e);return t==="axis"?r==="hover"?a.axisInteraction.hover.dataKey:a.axisInteraction.click.dataKey:r==="hover"?a.itemInteraction.hover.dataKey:a.itemInteraction.click.dataKey}},q8=ee([wm,UC,z8,qC],A8),Ev=ee([no,io,Xe,ks,uo,qC,q8,wp],E8),Hme=ee([VC,Ev],(e,t)=>{var r;return(r=e.coordinate)!==null&&r!==void 0?r:t}),V8=ee(uo,U8,N8),Kme=ee([q8,U8,ed,Gs,V8,wp,UC],T8),Gme=ee([VC],e=>({isActive:e.active,activeIndex:e.index})),Yme=(e,t,r,a,n,i,o,l)=>{if(!(!e||!t||!a||!n||!i)){var c=_ie(e.chartX,e.chartY,t,r,l);if(c){var d=kie(c,t),u=hie(d,o,i,a,n),m=Cie(t,i,u,c);return{activeIndex:String(u),activeCoordinate:m}}}};function B1(){return B1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},B1.apply(null,arguments)}function rM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),r.push.apply(r,a)}return r}function Tx(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?rM(Object(r),!0).forEach(function(a){Xme(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rM(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function Xme(e,t,r){return(t=Qme(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Qme(e){var t=Jme(e,"string");return typeof t=="symbol"?t:t+""}function Jme(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Zme(e){var{coordinate:t,payload:r,index:a,offset:n,tooltipAxisBandSize:i,layout:o,cursor:l,tooltipEventType:c,chartName:d}=e,u=t,m=r,h=a;if(!l||!u||d!=="ScatterChart"&&c!=="axis")return null;var f,g;if(d==="ScatterChart")f=u,g=Soe;else if(d==="BarChart")f=_oe(o,u,n,i),g=zL;else if(o==="radial"){var{cx:x,cy:y,radius:v,startAngle:b,endAngle:j}=UL(u);f={cx:x,cy:y,startAngle:b,endAngle:j,innerRadius:v,outerRadius:v},g=VL}else f={points:ile(o,u,n)},g=au;var N=typeof l=="object"&&"className"in l?l.className:void 0,w=Tx(Tx(Tx(Tx({stroke:"#ccc",pointerEvents:"none"},n),f),Ce(l,!1)),{},{payload:m,payloadIndex:h,className:Ie("recharts-tooltip-cursor",N)});return p.isValidElement(l)?p.cloneElement(l,w):p.createElement(g,w)}function ehe(e){var t=qme(),r=EL(),a=cp(),n=B8();return p.createElement(Zme,B1({},e,{coordinate:e.coordinate,index:e.index,payload:e.payload,offset:r,layout:a,tooltipAxisBandSize:t,chartName:n}))}var W8=p.createContext(null),the=()=>p.useContext(W8),H8={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,r="~";function a(){}Object.create&&(a.prototype=Object.create(null),new a().__proto__||(r=!1));function n(c,d,u){this.fn=c,this.context=d,this.once=u||!1}function i(c,d,u,m,h){if(typeof u!="function")throw new TypeError("The listener must be a function");var f=new n(u,m||c,h),g=r?r+d:d;return c._events[g]?c._events[g].fn?c._events[g]=[c._events[g],f]:c._events[g].push(f):(c._events[g]=f,c._eventsCount++),c}function o(c,d){--c._eventsCount===0?c._events=new a:delete c._events[d]}function l(){this._events=new a,this._eventsCount=0}l.prototype.eventNames=function(){var d=[],u,m;if(this._eventsCount===0)return d;for(m in u=this._events)t.call(u,m)&&d.push(r?m.slice(1):m);return Object.getOwnPropertySymbols?d.concat(Object.getOwnPropertySymbols(u)):d},l.prototype.listeners=function(d){var u=r?r+d:d,m=this._events[u];if(!m)return[];if(m.fn)return[m.fn];for(var h=0,f=m.length,g=new Array(f);h<f;h++)g[h]=m[h].fn;return g},l.prototype.listenerCount=function(d){var u=r?r+d:d,m=this._events[u];return m?m.fn?1:m.length:0},l.prototype.emit=function(d,u,m,h,f,g){var x=r?r+d:d;if(!this._events[x])return!1;var y=this._events[x],v=arguments.length,b,j;if(y.fn){switch(y.once&&this.removeListener(d,y.fn,void 0,!0),v){case 1:return y.fn.call(y.context),!0;case 2:return y.fn.call(y.context,u),!0;case 3:return y.fn.call(y.context,u,m),!0;case 4:return y.fn.call(y.context,u,m,h),!0;case 5:return y.fn.call(y.context,u,m,h,f),!0;case 6:return y.fn.call(y.context,u,m,h,f,g),!0}for(j=1,b=new Array(v-1);j<v;j++)b[j-1]=arguments[j];y.fn.apply(y.context,b)}else{var N=y.length,w;for(j=0;j<N;j++)switch(y[j].once&&this.removeListener(d,y[j].fn,void 0,!0),v){case 1:y[j].fn.call(y[j].context);break;case 2:y[j].fn.call(y[j].context,u);break;case 3:y[j].fn.call(y[j].context,u,m);break;case 4:y[j].fn.call(y[j].context,u,m,h);break;default:if(!b)for(w=1,b=new Array(v-1);w<v;w++)b[w-1]=arguments[w];y[j].fn.apply(y[j].context,b)}}return!0},l.prototype.on=function(d,u,m){return i(this,d,u,m,!1)},l.prototype.once=function(d,u,m){return i(this,d,u,m,!0)},l.prototype.removeListener=function(d,u,m,h){var f=r?r+d:d;if(!this._events[f])return this;if(!u)return o(this,f),this;var g=this._events[f];if(g.fn)g.fn===u&&(!h||g.once)&&(!m||g.context===m)&&o(this,f);else{for(var x=0,y=[],v=g.length;x<v;x++)(g[x].fn!==u||h&&!g[x].once||m&&g[x].context!==m)&&y.push(g[x]);y.length?this._events[f]=y.length===1?y[0]:y:o(this,f)}return this},l.prototype.removeAllListeners=function(d){var u;return d?(u=r?r+d:d,this._events[u]&&o(this,u)):(this._events=new a,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=r,l.EventEmitter=l,e.exports=l})(H8);var she=H8.exports;const rhe=fa(she);var bf=new rhe,z1="recharts.syncEvent.tooltip",aM="recharts.syncEvent.brush";function Sm(e,t){if(t){var r=Number.parseInt(t,10);if(!dr(r))return e==null?void 0:e[r]}}var ahe={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},K8=Ya({name:"options",initialState:ahe,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),nhe=K8.reducer,{createEventEmitter:ihe}=K8.actions;function ohe(e){return e.tooltip.syncInteraction}var lhe={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},G8=Ya({name:"chartData",initialState:lhe,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:r,endIndex:a}=t.payload;r!=null&&(e.dataStartIndex=r),a!=null&&(e.dataEndIndex=a)}}}),{setChartData:nM,setDataStartEndIndexes:che,setComputedData:GOe}=G8.actions,dhe=G8.reducer,Y8=()=>{};function uhe(){var e=fe(gC),t=fe(vC),r=Pt(),a=fe(W$),n=fe(uo),i=cp(),o=yy(),l=fe(c=>c.rootProps.className);p.useEffect(()=>{if(e==null)return Y8;var c=(d,u,m)=>{if(t!==m&&e===d){if(a==="index"){r(u);return}if(n!=null){var h;if(typeof a=="function"){var f={activeTooltipIndex:u.payload.index==null?void 0:Number(u.payload.index),isTooltipActive:u.payload.active,activeIndex:u.payload.index==null?void 0:Number(u.payload.index),activeLabel:u.payload.label,activeDataKey:u.payload.dataKey,activeCoordinate:u.payload.coordinate},g=a(n,f);h=n[g]}else a==="value"&&(h=n.find(S=>String(S.value)===u.payload.label));var{coordinate:x}=u.payload;if(h==null||u.payload.active===!1||x==null||o==null){r(L1({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0}));return}var{x:y,y:v}=x,b=Math.min(y,o.x+o.width),j=Math.min(v,o.y+o.height),N={x:i==="horizontal"?h.coordinate:b,y:i==="horizontal"?j:h.coordinate},w=L1({active:u.payload.active,coordinate:N,dataKey:u.payload.dataKey,index:String(h.index),label:u.payload.label});r(w)}}};return bf.on(z1,c),()=>{bf.off(z1,c)}},[l,r,t,e,a,n,i,o])}function mhe(){var e=fe(gC),t=fe(vC),r=Pt();p.useEffect(()=>{if(e==null)return Y8;var a=(n,i,o)=>{t!==o&&e===n&&r(che(i))};return bf.on(aM,a),()=>{bf.off(aM,a)}},[r,t,e])}function hhe(){var e=Pt();p.useEffect(()=>{e(ihe())},[e]),uhe(),mhe()}function fhe(e,t,r,a,n,i){var o=fe(h=>Wme(h,e,t)),l=fe(vC),c=fe(gC),d=fe(W$),u=fe(ohe),m=u==null?void 0:u.active;p.useEffect(()=>{if(!m&&c!=null&&l!=null){var h=L1({active:i,coordinate:r,dataKey:o,index:n,label:typeof a=="number"?String(a):a});bf.emit(z1,c,h,l)}},[m,r,o,n,a,l,c,d,i])}function iM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),r.push.apply(r,a)}return r}function oM(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?iM(Object(r),!0).forEach(function(a){phe(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):iM(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function phe(e,t,r){return(t=xhe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function xhe(e){var t=ghe(e,"string");return typeof t=="symbol"?t:t+""}function ghe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function vhe(e){return e.dataKey}function yhe(e,t){return p.isValidElement(e)?p.cloneElement(e,t):typeof e=="function"?p.createElement(e,t):p.createElement(soe,t)}var lM=[],bhe={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:!oo.isSsr,itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function cs(e){var t=Kr(e,bhe),{active:r,allowEscapeViewBox:a,animationDuration:n,animationEasing:i,content:o,filterNull:l,isAnimationActive:c,offset:d,payloadUniqBy:u,position:m,reverseDirection:h,useTranslate3d:f,wrapperStyle:g,cursor:x,shared:y,trigger:v,defaultIndex:b,portal:j,axisId:N}=t,w=Pt(),S=typeof b=="number"?String(b):b;p.useEffect(()=>{w(Jue({shared:y,trigger:v,axisId:N,active:r,defaultIndex:S}))},[w,y,v,N,r,S]);var _=yy(),C=OL(),E=Kue(y),{activeIndex:T,isActive:k}=fe(oe=>Gme(oe,E,v,S)),P=fe(oe=>Kme(oe,E,v,S)),D=fe(oe=>V8(oe,E,v,S)),I=fe(oe=>Hme(oe,E,v,S)),V=P,W=the(),R=r??k,[F,H]=XF([V,R]),Z=E==="axis"?D:void 0;fhe(E,v,I,Z,T,R);var B=j??W;if(B==null)return null;var K=V??lM;R||(K=lM),l&&K.length&&(K=FF(V.filter(oe=>oe.value!=null&&(oe.hide!==!0||t.includeHidden)),u,vhe));var Q=K.length>0,ie=p.createElement(coe,{allowEscapeViewBox:a,animationDuration:n,animationEasing:i,isAnimationActive:c,active:R,coordinate:I,hasPayload:Q,offset:d,position:m,reverseDirection:h,useTranslate3d:f,viewBox:_,wrapperStyle:g,lastBoundingBox:F,innerRef:H,hasPortalFromProps:!!j},yhe(o,oM(oM({},t),{},{payload:K,label:Z,active:R,coordinate:I,accessibilityLayer:C})));return p.createElement(p.Fragment,null,ao.createPortal(ie,B),R&&p.createElement(ehe,{cursor:x,tooltipEventType:E,coordinate:I,payload:V,index:T}))}var X8={},Q8={},J8={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,a,{signal:n,edges:i}={}){let o,l=null;const c=i!=null&&i.includes("leading"),d=i==null||i.includes("trailing"),u=()=>{l!==null&&(r.apply(o,l),o=void 0,l=null)},m=()=>{d&&u(),x()};let h=null;const f=()=>{h!=null&&clearTimeout(h),h=setTimeout(()=>{h=null,m()},a)},g=()=>{h!==null&&(clearTimeout(h),h=null)},x=()=>{g(),o=void 0,l=null},y=()=>{u()},v=function(...b){if(n!=null&&n.aborted)return;o=this,l=b;const j=h==null;f(),c&&j&&u()};return v.schedule=f,v.cancel=x,v.flush=y,n==null||n.addEventListener("abort",x,{once:!0}),v}e.debounce=t})(J8);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=J8;function r(a,n=0,i={}){typeof i!="object"&&(i={});const{leading:o=!1,trailing:l=!0,maxWait:c}=i,d=Array(2);o&&(d[0]="leading"),l&&(d[1]="trailing");let u,m=null;const h=t.debounce(function(...x){u=a.apply(this,x),m=null},n,{edges:d}),f=function(...x){return c!=null&&(m===null&&(m=Date.now()),Date.now()-m>=c)?(u=a.apply(this,x),m=Date.now(),h.cancel(),h.schedule(),u):(h.apply(this,x),u)},g=()=>(h.flush(),u);return f.cancel=h.cancel,f.flush=g,f}e.debounce=r})(Q8);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Q8;function r(a,n=0,i={}){const{leading:o=!0,trailing:l=!0}=i;return t.debounce(a,n,{leading:o,maxWait:n,trailing:l})}e.throttle=r})(X8);var jhe=X8.throttle;const whe=fa(jhe);var kh=function(t,r){for(var a=arguments.length,n=new Array(a>2?a-2:0),i=2;i<a;i++)n[i-2]=arguments[i]};function cM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),r.push.apply(r,a)}return r}function Fj(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?cM(Object(r),!0).forEach(function(a){Nhe(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):cM(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function Nhe(e,t,r){return(t=She(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function She(e){var t=_he(e,"string");return typeof t=="symbol"?t:t+""}function _he(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var St=p.forwardRef((e,t)=>{var{aspect:r,initialDimension:a={width:-1,height:-1},width:n="100%",height:i="100%",minWidth:o=0,minHeight:l,maxHeight:c,children:d,debounce:u=0,id:m,className:h,onResize:f,style:g={}}=e,x=p.useRef(null),y=p.useRef();y.current=f,p.useImperativeHandle(t,()=>x.current);var[v,b]=p.useState({containerWidth:a.width,containerHeight:a.height}),j=p.useCallback((w,S)=>{b(_=>{var C=Math.round(w),E=Math.round(S);return _.containerWidth===C&&_.containerHeight===E?_:{containerWidth:C,containerHeight:E}})},[]);p.useEffect(()=>{var w=E=>{var T,{width:k,height:P}=E[0].contentRect;j(k,P),(T=y.current)===null||T===void 0||T.call(y,k,P)};u>0&&(w=whe(w,u,{trailing:!0,leading:!1}));var S=new ResizeObserver(w),{width:_,height:C}=x.current.getBoundingClientRect();return j(_,C),S.observe(x.current),()=>{S.disconnect()}},[j,u]);var N=p.useMemo(()=>{var{containerWidth:w,containerHeight:S}=v;if(w<0||S<0)return null;kh(sc(n)||sc(i),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,n,i),kh(!r||r>0,"The aspect(%s) must be greater than zero.",r);var _=sc(n)?w:n,C=sc(i)?S:i;return r&&r>0&&(_?C=_/r:C&&(_=C*r),c&&C>c&&(C=c)),kh(_>0||C>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,_,C,n,i,o,l,r),p.Children.map(d,E=>p.cloneElement(E,{width:_,height:C,style:Fj({width:_,height:C},E.props.style)}))},[r,d,i,c,l,o,v,n]);return p.createElement("div",{id:m?"".concat(m):void 0,className:Ie("recharts-responsive-container",h),style:Fj(Fj({},g),{},{width:n,height:i,minWidth:o,minHeight:l,maxHeight:c}),ref:x},p.createElement("div",{style:{width:0,height:0,overflow:"visible"}},N))}),kn=e=>null;kn.displayName="Cell";function dM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),r.push.apply(r,a)}return r}function U1(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?dM(Object(r),!0).forEach(function(a){Che(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):dM(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function Che(e,t,r){return(t=khe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function khe(e){var t=Phe(e,"string");return typeof t=="symbol"?t:t+""}function Phe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var vd={widthCache:{},cacheCount:0},Ehe=2e3,Ahe={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},uM="recharts_measurement_span";function The(e){var t=U1({},e);return Object.keys(t).forEach(r=>{t[r]||delete t[r]}),t}var Ph=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||oo.isSsr)return{width:0,height:0};var a=The(r),n=JSON.stringify({text:t,copyStyle:a});if(vd.widthCache[n])return vd.widthCache[n];try{var i=document.getElementById(uM);i||(i=document.createElement("span"),i.setAttribute("id",uM),i.setAttribute("aria-hidden","true"),document.body.appendChild(i));var o=U1(U1({},Ahe),a);Object.assign(i.style,o),i.textContent="".concat(t);var l=i.getBoundingClientRect(),c={width:l.width,height:l.height};return vd.widthCache[n]=c,++vd.cacheCount>Ehe&&(vd.cacheCount=0,vd.widthCache={}),c}catch{return{width:0,height:0}}},mM=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,hM=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Mhe=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,Ohe=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,Z8={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},Dhe=Object.keys(Z8),Bd="NaN";function Rhe(e,t){return e*Z8[t]}class Tr{static parse(t){var r,[,a,n]=(r=Ohe.exec(t))!==null&&r!==void 0?r:[];return new Tr(parseFloat(a),n??"")}constructor(t,r){this.num=t,this.unit=r,this.num=t,this.unit=r,dr(t)&&(this.unit=""),r!==""&&!Mhe.test(r)&&(this.num=NaN,this.unit=""),Dhe.includes(r)&&(this.num=Rhe(t,r),this.unit="px")}add(t){return this.unit!==t.unit?new Tr(NaN,""):new Tr(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new Tr(NaN,""):new Tr(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new Tr(NaN,""):new Tr(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new Tr(NaN,""):new Tr(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return dr(this.num)}}function eB(e){if(e.includes(Bd))return Bd;for(var t=e;t.includes("*")||t.includes("/");){var r,[,a,n,i]=(r=mM.exec(t))!==null&&r!==void 0?r:[],o=Tr.parse(a??""),l=Tr.parse(i??""),c=n==="*"?o.multiply(l):o.divide(l);if(c.isNaN())return Bd;t=t.replace(mM,c.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var d,[,u,m,h]=(d=hM.exec(t))!==null&&d!==void 0?d:[],f=Tr.parse(u??""),g=Tr.parse(h??""),x=m==="+"?f.add(g):f.subtract(g);if(x.isNaN())return Bd;t=t.replace(hM,x.toString())}return t}var fM=/\(([^()]*)\)/;function Ihe(e){for(var t=e,r;(r=fM.exec(t))!=null;){var[,a]=r;t=t.replace(fM,eB(a))}return t}function Fhe(e){var t=e.replace(/\s+/g,"");return t=Ihe(t),t=eB(t),t}function Lhe(e){try{return Fhe(e)}catch{return Bd}}function Lj(e){var t=Lhe(e.slice(5,-1));return t===Bd?"":t}var $he=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],Bhe=["dx","dy","angle","className","breakAll"];function q1(){return q1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},q1.apply(null,arguments)}function pM(e,t){if(e==null)return{};var r,a,n=zhe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function zhe(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}var tB=/[ \f\n\r\t\v\u2028\u2029]+/,sB=e=>{var{children:t,breakAll:r,style:a}=e;try{var n=[];dt(t)||(r?n=t.toString().split(""):n=t.toString().split(tB));var i=n.map(l=>({word:l,width:Ph(l,a).width})),o=r?0:Ph("",a).width;return{wordsWithComputedWidth:i,spaceWidth:o}}catch{return null}},Uhe=(e,t,r,a,n)=>{var{maxLines:i,children:o,style:l,breakAll:c}=e,d=ve(i),u=o,m=function(){var k=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return k.reduce((P,D)=>{var{word:I,width:V}=D,W=P[P.length-1];if(W&&(a==null||n||W.width+V+r<Number(a)))W.words.push(I),W.width+=V+r;else{var R={words:[I],width:V};P.push(R)}return P},[])},h=m(t),f=T=>T.reduce((k,P)=>k.width>P.width?k:P);if(!d||n)return h;var g=h.length>i||f(h).width>Number(a);if(!g)return h;for(var x="",y=T=>{var k=u.slice(0,T),P=sB({breakAll:c,style:l,children:k+x}).wordsWithComputedWidth,D=m(P),I=D.length>i||f(D).width>Number(a);return[I,D]},v=0,b=u.length-1,j=0,N;v<=b&&j<=u.length-1;){var w=Math.floor((v+b)/2),S=w-1,[_,C]=y(S),[E]=y(w);if(!_&&!E&&(v=w+1),_&&E&&(b=w-1),!_&&E){N=C;break}j++}return N||h},xM=e=>{var t=dt(e)?[]:e.toString().split(tB);return[{words:t}]},qhe=e=>{var{width:t,scaleToFit:r,children:a,style:n,breakAll:i,maxLines:o}=e;if((t||r)&&!oo.isSsr){var l,c,d=sB({breakAll:i,children:a,style:n});if(d){var{wordsWithComputedWidth:u,spaceWidth:m}=d;l=u,c=m}else return xM(a);return Uhe({breakAll:i,children:a,maxLines:o,style:n},l,c,t,r)}return xM(a)},gM="#808080",_m=p.forwardRef((e,t)=>{var{x:r=0,y:a=0,lineHeight:n="1em",capHeight:i="0.71em",scaleToFit:o=!1,textAnchor:l="start",verticalAnchor:c="end",fill:d=gM}=e,u=pM(e,$he),m=p.useMemo(()=>qhe({breakAll:u.breakAll,children:u.children,maxLines:u.maxLines,scaleToFit:o,style:u.style,width:u.width}),[u.breakAll,u.children,u.maxLines,o,u.style,u.width]),{dx:h,dy:f,angle:g,className:x,breakAll:y}=u,v=pM(u,Bhe);if(!Ua(r)||!Ua(a))return null;var b=r+(ve(h)?h:0),j=a+(ve(f)?f:0),N;switch(c){case"start":N=Lj("calc(".concat(i,")"));break;case"middle":N=Lj("calc(".concat((m.length-1)/2," * -").concat(n," + (").concat(i," / 2))"));break;default:N=Lj("calc(".concat(m.length-1," * -").concat(n,")"));break}var w=[];if(o){var S=m[0].width,{width:_}=u;w.push("scale(".concat(ve(_)?_/S:1,")"))}return g&&w.push("rotate(".concat(g,", ").concat(b,", ").concat(j,")")),w.length&&(v.transform=w.join(" ")),p.createElement("text",q1({},Ce(v,!0),{ref:t,x:b,y:j,className:Ie("recharts-text",x),textAnchor:l,fill:d.includes("url")?gM:d}),m.map((C,E)=>{var T=C.words.join(y?"":" ");return p.createElement("tspan",{x:b,dy:E===0?N:n,key:"".concat(T,"-").concat(E)},T)}))});_m.displayName="Text";var Vhe=["offset"],Whe=["labelRef"];function vM(e,t){if(e==null)return{};var r,a,n=Hhe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Hhe(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}function yM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),r.push.apply(r,a)}return r}function hs(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?yM(Object(r),!0).forEach(function(a){Khe(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):yM(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function Khe(e,t,r){return(t=Ghe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ghe(e){var t=Yhe(e,"string");return typeof t=="symbol"?t:t+""}function Yhe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function _i(){return _i=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},_i.apply(null,arguments)}var Xhe=e=>{var{value:t,formatter:r}=e,a=dt(e.children)?t:e.children;return typeof r=="function"?r(a):a},WC=e=>e!=null&&typeof e=="function",Qhe=(e,t)=>{var r=Rs(t-e),a=Math.min(Math.abs(t-e),360);return r*a},Jhe=(e,t,r)=>{var{position:a,viewBox:n,offset:i,className:o}=e,{cx:l,cy:c,innerRadius:d,outerRadius:u,startAngle:m,endAngle:h,clockWise:f}=n,g=(d+u)/2,x=Qhe(m,h),y=x>=0?1:-1,v,b;a==="insideStart"?(v=m+y*i,b=f):a==="insideEnd"?(v=h-y*i,b=!f):a==="end"&&(v=h+y*i,b=f),b=x<=0?b:!b;var j=lt(l,c,g,v),N=lt(l,c,g,v+(b?1:-1)*359),w="M".concat(j.x,",").concat(j.y,`
    A`).concat(g,",").concat(g,",0,1,").concat(b?0:1,`,
    `).concat(N.x,",").concat(N.y),S=dt(e.id)?vl("recharts-radial-line-"):e.id;return p.createElement("text",_i({},r,{dominantBaseline:"central",className:Ie("recharts-radial-bar-label",o)}),p.createElement("defs",null,p.createElement("path",{id:S,d:w})),p.createElement("textPath",{xlinkHref:"#".concat(S)},t))},Zhe=e=>{var{viewBox:t,offset:r,position:a}=e,{cx:n,cy:i,innerRadius:o,outerRadius:l,startAngle:c,endAngle:d}=t,u=(c+d)/2;if(a==="outside"){var{x:m,y:h}=lt(n,i,l+r,u);return{x:m,y:h,textAnchor:m>=n?"start":"end",verticalAnchor:"middle"}}if(a==="center")return{x:n,y:i,textAnchor:"middle",verticalAnchor:"middle"};if(a==="centerTop")return{x:n,y:i,textAnchor:"middle",verticalAnchor:"start"};if(a==="centerBottom")return{x:n,y:i,textAnchor:"middle",verticalAnchor:"end"};var f=(o+l)/2,{x:g,y:x}=lt(n,i,f,u);return{x:g,y:x,textAnchor:"middle",verticalAnchor:"middle"}},efe=(e,t)=>{var{parentViewBox:r,offset:a,position:n}=e,{x:i,y:o,width:l,height:c}=t,d=c>=0?1:-1,u=d*a,m=d>0?"end":"start",h=d>0?"start":"end",f=l>=0?1:-1,g=f*a,x=f>0?"end":"start",y=f>0?"start":"end";if(n==="top"){var v={x:i+l/2,y:o-d*a,textAnchor:"middle",verticalAnchor:m};return hs(hs({},v),r?{height:Math.max(o-r.y,0),width:l}:{})}if(n==="bottom"){var b={x:i+l/2,y:o+c+u,textAnchor:"middle",verticalAnchor:h};return hs(hs({},b),r?{height:Math.max(r.y+r.height-(o+c),0),width:l}:{})}if(n==="left"){var j={x:i-g,y:o+c/2,textAnchor:x,verticalAnchor:"middle"};return hs(hs({},j),r?{width:Math.max(j.x-r.x,0),height:c}:{})}if(n==="right"){var N={x:i+l+g,y:o+c/2,textAnchor:y,verticalAnchor:"middle"};return hs(hs({},N),r?{width:Math.max(r.x+r.width-N.x,0),height:c}:{})}var w=r?{width:l,height:c}:{};return n==="insideLeft"?hs({x:i+g,y:o+c/2,textAnchor:y,verticalAnchor:"middle"},w):n==="insideRight"?hs({x:i+l-g,y:o+c/2,textAnchor:x,verticalAnchor:"middle"},w):n==="insideTop"?hs({x:i+l/2,y:o+u,textAnchor:"middle",verticalAnchor:h},w):n==="insideBottom"?hs({x:i+l/2,y:o+c-u,textAnchor:"middle",verticalAnchor:m},w):n==="insideTopLeft"?hs({x:i+g,y:o+u,textAnchor:y,verticalAnchor:h},w):n==="insideTopRight"?hs({x:i+l-g,y:o+u,textAnchor:x,verticalAnchor:h},w):n==="insideBottomLeft"?hs({x:i+g,y:o+c-u,textAnchor:y,verticalAnchor:m},w):n==="insideBottomRight"?hs({x:i+l-g,y:o+c-u,textAnchor:x,verticalAnchor:m},w):n&&typeof n=="object"&&(ve(n.x)||sc(n.x))&&(ve(n.y)||sc(n.y))?hs({x:i+Nr(n.x,l),y:o+Nr(n.y,c),textAnchor:"end",verticalAnchor:"end"},w):hs({x:i+l/2,y:o+c/2,textAnchor:"middle",verticalAnchor:"middle"},w)},tfe=e=>"cx"in e&&ve(e.cx);function vr(e){var{offset:t=5}=e,r=vM(e,Vhe),a=hs({offset:t},r),{viewBox:n,position:i,value:o,children:l,content:c,className:d="",textBreakAll:u,labelRef:m}=a,h=yy(),f=n||h;if(!f||dt(o)&&dt(l)&&!p.isValidElement(c)&&typeof c!="function")return null;if(p.isValidElement(c)){var{labelRef:g}=a,x=vM(a,Whe);return p.cloneElement(c,x)}var y;if(typeof c=="function"){if(y=p.createElement(c,a),p.isValidElement(y))return y}else y=Xhe(a);var v=tfe(f),b=Ce(a,!0);if(v&&(i==="insideStart"||i==="insideEnd"||i==="end"))return Jhe(a,y,b);var j=v?Zhe(a):efe(a,f);return p.createElement(_m,_i({ref:m,className:Ie("recharts-label",d)},b,j,{breakAll:u}),y)}vr.displayName="Label";var rB=e=>{var{cx:t,cy:r,angle:a,startAngle:n,endAngle:i,r:o,radius:l,innerRadius:c,outerRadius:d,x:u,y:m,top:h,left:f,width:g,height:x,clockWise:y,labelViewBox:v}=e;if(v)return v;if(ve(g)&&ve(x)){if(ve(u)&&ve(m))return{x:u,y:m,width:g,height:x};if(ve(h)&&ve(f))return{x:h,y:f,width:g,height:x}}if(ve(u)&&ve(m))return{x:u,y:m,width:0,height:0};if(ve(t)&&ve(r))return{cx:t,cy:r,startAngle:n||a||0,endAngle:i||a||0,innerRadius:c||0,outerRadius:d||l||o||0,clockWise:y};if(e.viewBox)return e.viewBox},sfe=(e,t,r)=>{if(!e)return null;var a={viewBox:t,labelRef:r};return e===!0?p.createElement(vr,_i({key:"label-implicit"},a)):Ua(e)?p.createElement(vr,_i({key:"label-implicit",value:e},a)):p.isValidElement(e)?e.type===vr?p.cloneElement(e,hs({key:"label-implicit"},a)):p.createElement(vr,_i({key:"label-implicit",content:e},a)):WC(e)?p.createElement(vr,_i({key:"label-implicit",content:e},a)):e&&typeof e=="object"?p.createElement(vr,_i({},e,{key:"label-implicit"},a)):null},rfe=function(t,r){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&a&&!t.label)return null;var{children:n,labelRef:i}=t,o=rB(t),l=ip(n,vr).map((d,u)=>p.cloneElement(d,{viewBox:r||o,key:"label-".concat(u)}));if(!a)return l;var c=sfe(t.label,r||o,i);return[c,...l]};vr.parseViewBox=rB;vr.renderCallByParent=rfe;var aB={},nB={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r[r.length-1]}e.last=t})(nB);var iB={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Array.isArray(r)?r:Array.from(r)}e.toArray=t})(iB);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=nB,r=iB,a=ry;function n(i){if(a.isArrayLike(i))return t.last(r.toArray(i))}e.last=n})(aB);var afe=aB.last;const oB=fa(afe);var nfe=["valueAccessor"],ife=["data","dataKey","clockWise","id","textBreakAll"];function Av(){return Av=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Av.apply(null,arguments)}function bM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),r.push.apply(r,a)}return r}function jM(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?bM(Object(r),!0).forEach(function(a){ofe(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):bM(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function ofe(e,t,r){return(t=lfe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lfe(e){var t=cfe(e,"string");return typeof t=="symbol"?t:t+""}function cfe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function wM(e,t){if(e==null)return{};var r,a,n=dfe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function dfe(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}var ufe=e=>Array.isArray(e.value)?oB(e.value):e.value;function ei(e){var{valueAccessor:t=ufe}=e,r=wM(e,nfe),{data:a,dataKey:n,clockWise:i,id:o,textBreakAll:l}=r,c=wM(r,ife);return!a||!a.length?null:p.createElement(it,{className:"recharts-label-list"},a.map((d,u)=>{var m=dt(n)?t(d,u):pt(d&&d.payload,n),h=dt(o)?{}:{id:"".concat(o,"-").concat(u)};return p.createElement(vr,Av({},Ce(d,!0),c,h,{parentViewBox:d.parentViewBox,value:m,textBreakAll:l,viewBox:vr.parseViewBox(dt(i)?d:jM(jM({},d),{},{clockWise:i})),key:"label-".concat(u),index:u}))}))}ei.displayName="LabelList";function mfe(e,t){return e?e===!0?p.createElement(ei,{key:"labelList-implicit",data:t}):p.isValidElement(e)||WC(e)?p.createElement(ei,{key:"labelList-implicit",data:t,content:e}):typeof e=="object"?p.createElement(ei,Av({data:t},e,{key:"labelList-implicit"})):null:null}function hfe(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var{children:a}=e,n=ip(a,ei).map((o,l)=>p.cloneElement(o,{data:t,key:"labelList-".concat(l)}));if(!r)return n;var i=mfe(e.label,t);return[i,...n]}ei.renderCallByParent=hfe;var ffe=["points","className","baseLinePoints","connectNulls"];function zd(){return zd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},zd.apply(null,arguments)}function pfe(e,t){if(e==null)return{};var r,a,n=xfe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function xfe(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}var NM=e=>e&&e.x===+e.x&&e.y===+e.y,gfe=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=[[]];return t.forEach(a=>{NM(a)?r[r.length-1].push(a):r[r.length-1].length>0&&r.push([])}),NM(t[0])&&r[r.length-1].push(t[0]),r[r.length-1].length<=0&&(r=r.slice(0,-1)),r},Eh=(e,t)=>{var r=gfe(e);t&&(r=[r.reduce((n,i)=>[...n,...i],[])]);var a=r.map(n=>n.reduce((i,o,l)=>"".concat(i).concat(l===0?"M":"L").concat(o.x,",").concat(o.y),"")).join("");return r.length===1?"".concat(a,"Z"):a},vfe=(e,t,r)=>{var a=Eh(e,r);return"".concat(a.slice(-1)==="Z"?a.slice(0,-1):a,"L").concat(Eh(t.reverse(),r).slice(1))},lB=e=>{var{points:t,className:r,baseLinePoints:a,connectNulls:n}=e,i=pfe(e,ffe);if(!t||!t.length)return null;var o=Ie("recharts-polygon",r);if(a&&a.length){var l=i.stroke&&i.stroke!=="none",c=vfe(t,a,n);return p.createElement("g",{className:o},p.createElement("path",zd({},Ce(i,!0),{fill:c.slice(-1)==="Z"?i.fill:"none",stroke:"none",d:c})),l?p.createElement("path",zd({},Ce(i,!0),{fill:"none",d:Eh(t,n)})):null,l?p.createElement("path",zd({},Ce(i,!0),{fill:"none",d:Eh(a,n)})):null)}var d=Eh(t,n);return p.createElement("path",zd({},Ce(i,!0),{fill:d.slice(-1)==="Z"?i.fill:"none",className:o,d}))};function V1(){return V1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},V1.apply(null,arguments)}var Np=e=>{var{cx:t,cy:r,r:a,className:n}=e,i=Ie("recharts-dot",n);return t===+t&&r===+r&&a===+a?p.createElement("circle",V1({},Ce(e,!1),x_(e),{className:i,cx:t,cy:r,r:a})):null},HC=e=>e.graphicalItems.polarItems,yfe=ee([Wt,gp],jC),KC=ee([HC,ms,yfe],wC),bfe=ee([KC],NC),GC=ee([bfe,Cy],SC),cB=ee([GC,ms,KC],_C),jfe=ee([GC,ms,KC],(e,t,r)=>r.length>0?e.flatMap(a=>r.flatMap(n=>{var i,o=pt(a,(i=t.dataKey)!==null&&i!==void 0?i:n.dataKey);return{value:o,errorDomain:[]}})).filter(Boolean):(t==null?void 0:t.dataKey)!=null?e.map(a=>({value:pt(a,t.dataKey),errorDomain:[]})):e.map(a=>({value:a,errorDomain:[]}))),SM=()=>{},wfe=ee([ms,l8,SM,jfe,SM],PC),dB=ee([ms,Xe,GC,cB,fp,Wt,wfe],EC),uB=ee([dB,ms,Ml],TC),Nfe=ee([ms,dB,uB,Wt],OC),YC=(e,t,r)=>{switch(t){case"angleAxis":return ym(e,r);case"radiusAxis":return pp(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},XC=(e,t,r)=>{switch(t){case"angleAxis":return sue(e,r);case"radiusAxis":return rue(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},Cm=ee([YC,Ml,Nfe,XC],Oy),mB=ee([Xe,cB,bm,Wt],DC),km=ee([Xe,YC,Ml,Cm,uB,XC,jp,mB,Wt],g8);ee([Xe,YC,Cm,XC,jp,mB,Wt],y8);var Sfe=(e,t)=>km(e,"angleAxis",t,!1),_fe=ee([Sfe],e=>{if(e)return e.map(t=>t.coordinate)}),Cfe=(e,t)=>km(e,"radiusAxis",t,!1),kfe=ee([Cfe],e=>{if(e)return e.map(t=>t.coordinate)}),Pfe=["gridType","radialLines","angleAxisId","radiusAxisId","cx","cy","innerRadius","outerRadius"];function Efe(e,t){if(e==null)return{};var r,a,n=Afe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Afe(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}function Xi(){return Xi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Xi.apply(null,arguments)}function _M(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),r.push.apply(r,a)}return r}function Bu(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?_M(Object(r),!0).forEach(function(a){Tfe(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_M(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function Tfe(e,t,r){return(t=Mfe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Mfe(e){var t=Ofe(e,"string");return typeof t=="symbol"?t:t+""}function Ofe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Dfe=(e,t,r,a)=>{var n="";return a.forEach((i,o)=>{var l=lt(t,r,e,i);o?n+="L ".concat(l.x,",").concat(l.y):n+="M ".concat(l.x,",").concat(l.y)}),n+="Z",n},Rfe=e=>{var{cx:t,cy:r,innerRadius:a,outerRadius:n,polarAngles:i,radialLines:o}=e;if(!i||!i.length||!o)return null;var l=Bu({stroke:"#ccc"},Ce(e,!1));return p.createElement("g",{className:"recharts-polar-grid-angle"},i.map(c=>{var d=lt(t,r,a,c),u=lt(t,r,n,c);return p.createElement("line",Xi({},l,{key:"line-".concat(c),x1:d.x,y1:d.y,x2:u.x,y2:u.y}))}))},Ife=e=>{var{cx:t,cy:r,radius:a,index:n}=e,i=Bu(Bu({stroke:"#ccc"},Ce(e,!1)),{},{fill:"none"});return p.createElement("circle",Xi({},i,{className:Ie("recharts-polar-grid-concentric-circle",e.className),key:"circle-".concat(n),cx:t,cy:r,r:a}))},Ffe=e=>{var{radius:t,index:r}=e,a=Bu(Bu({stroke:"#ccc"},Ce(e,!1)),{},{fill:"none"});return p.createElement("path",Xi({},a,{className:Ie("recharts-polar-grid-concentric-polygon",e.className),key:"path-".concat(r),d:Dfe(t,e.cx,e.cy,e.polarAngles)}))},Lfe=e=>{var{polarRadius:t,gridType:r}=e;return!t||!t.length?null:p.createElement("g",{className:"recharts-polar-grid-concentric"},t.map((a,n)=>{var i=n;return r==="circle"?p.createElement(Ife,Xi({key:i},e,{radius:a,index:n})):p.createElement(Ffe,Xi({key:i},e,{radius:a,index:n}))}))},QC=e=>{var t,r,a,n,i,o,l,c,{gridType:d="polygon",radialLines:u=!0,angleAxisId:m=0,radiusAxisId:h=0,cx:f,cy:g,innerRadius:x,outerRadius:y}=e,v=Efe(e,Pfe),b=fe(xp),j=Bu({cx:(t=(r=b==null?void 0:b.cx)!==null&&r!==void 0?r:f)!==null&&t!==void 0?t:0,cy:(a=(n=b==null?void 0:b.cy)!==null&&n!==void 0?n:g)!==null&&a!==void 0?a:0,innerRadius:(i=(o=b==null?void 0:b.innerRadius)!==null&&o!==void 0?o:x)!==null&&i!==void 0?i:0,outerRadius:(l=(c=b==null?void 0:b.outerRadius)!==null&&c!==void 0?c:y)!==null&&l!==void 0?l:0},v),{polarAngles:N,polarRadius:w,cx:S,cy:_,innerRadius:C,outerRadius:E}=j,T=fe(I=>_fe(I,m)),k=fe(I=>kfe(I,h)),P=Array.isArray(N)?N:T,D=Array.isArray(w)?w:k;return E<=0||P==null||D==null?null:p.createElement("g",{className:"recharts-polar-grid"},p.createElement(Rfe,Xi({cx:S,cy:_,innerRadius:C,outerRadius:E,gridType:d,radialLines:u},j,{polarAngles:P,polarRadius:D})),p.createElement(Lfe,Xi({cx:S,cy:_,innerRadius:C,outerRadius:E,gridType:d,radialLines:u},j,{polarAngles:P,polarRadius:D})))};QC.displayName="PolarGrid";var hB={},fB={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,a){if(r.length===0)return;let n=r[0],i=a(n);for(let o=1;o<r.length;o++){const l=r[o],c=a(l);c>i&&(i=c,n=l)}return n}e.maxBy=t})(fB);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=fB,r=op,a=ay;function n(i,o){if(i!=null)return t.maxBy(Array.from(i),a.iteratee(o??r.identity))}e.maxBy=n})(hB);var $fe=hB.maxBy;const Bfe=fa($fe);var pB={},xB={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,a){if(r.length===0)return;let n=r[0],i=a(n);for(let o=1;o<r.length;o++){const l=r[o],c=a(l);c<i&&(i=c,n=l)}return n}e.minBy=t})(xB);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=xB,r=op,a=ay;function n(i,o){if(i!=null)return t.minBy(Array.from(i),a.iteratee(o??r.identity))}e.minBy=n})(pB);var zfe=pB.minBy;const Ufe=fa(zfe);var qfe={radiusAxis:{},angleAxis:{}},gB=Ya({name:"polarAxis",initialState:qfe,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:Vfe,removeRadiusAxis:Wfe,addAngleAxis:Hfe,removeAngleAxis:Kfe}=gB.actions,Gfe=gB.reducer,Yfe=["cx","cy","angle","axisLine"],Xfe=["angle","tickFormatter","stroke","tick"];function jf(){return jf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},jf.apply(null,arguments)}function CM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),r.push.apply(r,a)}return r}function Kn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?CM(Object(r),!0).forEach(function(a){Ly(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):CM(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function Ly(e,t,r){return(t=Qfe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Qfe(e){var t=Jfe(e,"string");return typeof t=="symbol"?t:t+""}function Jfe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function vB(e,t){if(e==null)return{};var r,a,n=Zfe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Zfe(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}var yB="radiusAxis";function epe(e){var t=Pt();return p.useEffect(()=>(t(Vfe(e)),()=>{t(Wfe(e))})),null}var tpe=(e,t,r,a)=>{var{coordinate:n}=e;return lt(r,a,n,t)},spe=e=>{var t;switch(e){case"left":t="end";break;case"right":t="start";break;default:t="middle";break}return t},rpe=(e,t,r,a)=>{var n=Bfe(a,o=>o.coordinate||0),i=Ufe(a,o=>o.coordinate||0);return{cx:t,cy:r,startAngle:e,endAngle:e,innerRadius:i.coordinate||0,outerRadius:n.coordinate||0}},ape=(e,t)=>{var{cx:r,cy:a,angle:n,axisLine:i}=e,o=vB(e,Yfe),l=t.reduce((m,h)=>[Math.min(m[0],h.coordinate),Math.max(m[1],h.coordinate)],[1/0,-1/0]),c=lt(r,a,l[0],n),d=lt(r,a,l[1],n),u=Kn(Kn(Kn({},Ce(o,!1)),{},{fill:"none"},Ce(i,!1)),{},{x1:c.x,y1:c.y,x2:d.x,y2:d.y});return p.createElement("line",jf({className:"recharts-polar-radius-axis-line"},u))},npe=(e,t,r)=>{var a;return p.isValidElement(e)?a=p.cloneElement(e,t):typeof e=="function"?a=e(t):a=p.createElement(_m,jf({},t,{className:"recharts-polar-radius-axis-tick-value"}),r),a},ipe=(e,t)=>{var{angle:r,tickFormatter:a,stroke:n,tick:i}=e,o=vB(e,Xfe),l=spe(e.orientation),c=Ce(o,!1),d=Ce(i,!1),u=t.map((m,h)=>{var f=tpe(m,e.angle,e.cx,e.cy),g=Kn(Kn(Kn(Kn({textAnchor:l,transform:"rotate(".concat(90-r,", ").concat(f.x,", ").concat(f.y,")")},c),{},{stroke:"none",fill:n},d),{},{index:h},f),{},{payload:m});return p.createElement(it,jf({className:Ie("recharts-polar-radius-axis-tick",wL(i)),key:"tick-".concat(m.coordinate)},Qc(e,m,h)),npe(i,g,a?a(m.value,h):m.value))});return p.createElement(it,{className:"recharts-polar-radius-axis-ticks"},u)},ope=e=>{var{radiusAxisId:t}=e,r=fe(xp),a=fe(c=>Cm(c,"radiusAxis",t)),n=fe(c=>km(c,"radiusAxis",t,!1));if(r==null||!n||!n.length)return null;var i=Kn(Kn(Kn({},e),{},{scale:a},r),{},{radius:r.outerRadius}),{tick:o,axisLine:l}=i;return p.createElement(it,{className:Ie("recharts-polar-radius-axis",yB,i.className)},l&&ape(i,n),o&&ipe(i,n),vr.renderCallByParent(i,rpe(i.angle,i.cx,i.cy,n)))};class Sp extends p.PureComponent{render(){return p.createElement(p.Fragment,null,p.createElement(epe,{domain:this.props.domain,id:this.props.radiusAxisId,scale:this.props.scale,type:this.props.type,dataKey:this.props.dataKey,unit:void 0,name:this.props.name,allowDuplicatedCategory:this.props.allowDuplicatedCategory,allowDataOverflow:this.props.allowDataOverflow,reversed:this.props.reversed,includeHidden:this.props.includeHidden,allowDecimals:this.props.allowDecimals,tickCount:this.props.tickCount,ticks:this.props.ticks,tick:this.props.tick}),p.createElement(ope,this.props))}}Ly(Sp,"displayName","PolarRadiusAxis");Ly(Sp,"axisType",yB);Ly(Sp,"defaultProps",Mr);var lpe=["children"];function Qi(){return Qi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Qi.apply(null,arguments)}function kM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),r.push.apply(r,a)}return r}function zn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?kM(Object(r),!0).forEach(function(a){$y(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):kM(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function $y(e,t,r){return(t=cpe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function cpe(e){var t=dpe(e,"string");return typeof t=="symbol"?t:t+""}function dpe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function upe(e,t){if(e==null)return{};var r,a,n=mpe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function mpe(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}var hpe=Math.PI/180,PM=1e-5,bB="angleAxis";function fpe(e){var t=Pt(),r=p.useMemo(()=>{var{children:i}=e,o=upe(e,lpe);return o},[e]),a=fe(i=>ym(i,r.id)),n=r===a;return p.useEffect(()=>(t(Hfe(r)),()=>{t(Kfe(r))}),[t,r]),n?e.children:null}var ppe=(e,t)=>{var{cx:r,cy:a,radius:n,orientation:i,tickSize:o}=t,l=o||8,c=lt(r,a,n,e.coordinate),d=lt(r,a,n+(i==="inner"?-1:1)*l,e.coordinate);return{x1:c.x,y1:c.y,x2:d.x,y2:d.y}},xpe=(e,t)=>{var r=Math.cos(-e.coordinate*hpe);return r>PM?t==="outer"?"start":"end":r<-PM?t==="outer"?"end":"start":"middle"},gpe=e=>{var{cx:t,cy:r,radius:a,axisLineType:n,axisLine:i,ticks:o}=e;if(!i)return null;var l=zn(zn({},Ce(e,!1)),{},{fill:"none"},Ce(i,!1));if(n==="circle")return p.createElement(Np,Qi({className:"recharts-polar-angle-axis-line"},l,{cx:t,cy:r,r:a}));var c=o.map(d=>lt(t,r,a,d.coordinate));return p.createElement(lB,Qi({className:"recharts-polar-angle-axis-line"},l,{points:c}))},vpe=e=>{var{tick:t,tickProps:r,value:a}=e;return t?p.isValidElement(t)?p.cloneElement(t,r):typeof t=="function"?t(r):p.createElement(_m,Qi({},r,{className:"recharts-polar-angle-axis-tick-value"}),a):null},ype=e=>{var{tick:t,tickLine:r,tickFormatter:a,stroke:n,ticks:i}=e,o=Ce(e,!1),l=Ce(t,!1),c=zn(zn({},o),{},{fill:"none"},Ce(r,!1)),d=i.map((u,m)=>{var h=ppe(u,e),f=xpe(u,e.orientation),g=zn(zn(zn({textAnchor:f},o),{},{stroke:"none",fill:n},l),{},{index:m,payload:u,x:h.x2,y:h.y2});return p.createElement(it,Qi({className:Ie("recharts-polar-angle-axis-tick",wL(t)),key:"tick-".concat(u.coordinate)},Qc(e,u,m)),r&&p.createElement("line",Qi({className:"recharts-polar-angle-axis-tick-line"},c,h)),p.createElement(vpe,{tick:t,tickProps:g,value:a?a(u.value,m):u.value}))});return p.createElement(it,{className:"recharts-polar-angle-axis-ticks"},d)},bpe=e=>{var{angleAxisId:t}=e,r=fe(xp),a=fe(l=>Cm(l,"angleAxis",t)),n=Ps(),i=fe(l=>km(l,"angleAxis",t,n));if(r==null||!i||!i.length)return null;var o=zn(zn(zn({},e),{},{scale:a},r),{},{radius:r.outerRadius});return p.createElement(it,{className:Ie("recharts-polar-angle-axis",bB,o.className)},p.createElement(gpe,Qi({},o,{ticks:i})),p.createElement(ype,Qi({},o,{ticks:i})))};class _p extends p.PureComponent{render(){return this.props.radius<=0?null:p.createElement(fpe,{id:this.props.angleAxisId,scale:this.props.scale,type:this.props.type,dataKey:this.props.dataKey,unit:void 0,name:this.props.name,allowDuplicatedCategory:!1,allowDataOverflow:!1,reversed:this.props.reversed,includeHidden:!1,allowDecimals:this.props.allowDecimals,tickCount:this.props.tickCount,ticks:this.props.ticks,tick:this.props.tick,domain:this.props.domain},p.createElement(bpe,this.props))}}$y(_p,"displayName","PolarAngleAxis");$y(_p,"axisType",bB);$y(_p,"defaultProps",Bn);function EM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),r.push.apply(r,a)}return r}function AM(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?EM(Object(r),!0).forEach(function(a){jpe(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):EM(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function jpe(e,t,r){return(t=wpe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wpe(e){var t=Npe(e,"string");return typeof t=="symbol"?t:t+""}function Npe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var JC=(e,t)=>t,Spe=[],ZC=(e,t,r)=>(r==null?void 0:r.length)===0?Spe:r,jB=ee([Cy,JC,ZC],(e,t,r)=>{var{chartData:a}=e,n;if((t==null?void 0:t.data)!=null&&t.data.length>0?n=t.data:n=a,(!n||!n.length)&&r!=null&&(n=r.map(i=>AM(AM({},t.presentationProps),i.props))),n!=null)return n}),_pe=ee([jB,JC,ZC],(e,t,r)=>{if(e!=null)return e.map((a,n)=>{var i,o=pt(a,t.nameKey,t.name),l;return r!=null&&(i=r[n])!==null&&i!==void 0&&(i=i.props)!==null&&i!==void 0&&i.fill?l=r[n].props.fill:typeof a=="object"&&a!=null&&"fill"in a?l=a.fill:l=t.fill,{value:mi(o,t.dataKey),color:l,payload:a,type:t.legendType}})}),Cpe=ee([HC,JC],(e,t)=>{if(e.some(r=>r.type==="pie"&&t.dataKey===r.dataKey&&t.data===r.data))return t}),kpe=ee([jB,Cpe,ZC,ks],(e,t,r,a)=>{if(!(t==null||e==null))return fxe({offset:a,pieSettings:t,displayedData:e,cells:r})}),Ppe={countOfBars:0,cartesianItems:[],polarItems:[]},wB=Ya({name:"graphicalItems",initialState:Ppe,reducers:{addBar(e){e.countOfBars+=1},removeBar(e){e.countOfBars-=1},addCartesianGraphicalItem(e,t){e.cartesianItems.push(t.payload)},replaceCartesianGraphicalItem(e,t){var{prev:r,next:a}=t.payload,n=Oi(e).cartesianItems.indexOf(r);n>-1&&(e.cartesianItems[n]=a)},removeCartesianGraphicalItem(e,t){var r=Oi(e).cartesianItems.indexOf(t.payload);r>-1&&e.cartesianItems.splice(r,1)},addPolarGraphicalItem(e,t){e.polarItems.push(t.payload)},removePolarGraphicalItem(e,t){var r=Oi(e).polarItems.indexOf(t.payload);r>-1&&e.polarItems.splice(r,1)}}}),{addBar:Epe,removeBar:Ape,addCartesianGraphicalItem:Tpe,replaceCartesianGraphicalItem:Mpe,removeCartesianGraphicalItem:Ope,addPolarGraphicalItem:Dpe,removePolarGraphicalItem:Rpe}=wB.actions,Ipe=wB.reducer;function TM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),r.push.apply(r,a)}return r}function MM(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?TM(Object(r),!0).forEach(function(a){Fpe(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):TM(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function Fpe(e,t,r){return(t=Lpe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Lpe(e){var t=$pe(e,"string");return typeof t=="symbol"?t:t+""}function $pe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Bpe(e){var t=Pt(),r=p.useRef(null);return p.useEffect(()=>{var a=MM(MM({},e),{},{stackId:L_(e.stackId)});r.current===null?t(Tpe(a)):r.current!==a&&t(Mpe({prev:r.current,next:a})),r.current=a},[t,e]),p.useEffect(()=>()=>{r.current&&(t(Ope(r.current)),r.current=null)},[t]),null}function NB(e){var t=Pt();return p.useEffect(()=>(t(Dpe(e)),()=>{t(Rpe(e))}),[t,e]),null}var SB={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){var n;if(typeof r!="object"||r==null)return!1;if(Object.getPrototypeOf(r)===null)return!0;if(Object.prototype.toString.call(r)!=="[object Object]"){const i=r[Symbol.toStringTag];return i==null||!((n=Object.getOwnPropertyDescriptor(r,Symbol.toStringTag))!=null&&n.writable)?!1:r.toString()===`[object ${i}]`}let a=r;for(;Object.getPrototypeOf(a)!==null;)a=Object.getPrototypeOf(a);return Object.getPrototypeOf(r)===a}e.isPlainObject=t})(SB);var zpe=SB.isPlainObject;const Upe=fa(zpe);function Tv(){return Tv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Tv.apply(null,arguments)}var OM=(e,t,r,a,n)=>{var i=r-a,o;return o="M ".concat(e,",").concat(t),o+="L ".concat(e+r,",").concat(t),o+="L ".concat(e+r-i/2,",").concat(t+n),o+="L ".concat(e+r-i/2-a,",").concat(t+n),o+="L ".concat(e,",").concat(t," Z"),o},qpe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Vpe=e=>{var t=Kr(e,qpe),r=p.useRef(),[a,n]=p.useState(-1);p.useEffect(()=>{if(r.current&&r.current.getTotalLength)try{var y=r.current.getTotalLength();y&&n(y)}catch{}},[]);var{x:i,y:o,upperWidth:l,lowerWidth:c,height:d,className:u}=t,{animationEasing:m,animationDuration:h,animationBegin:f,isUpdateAnimationActive:g}=t;if(i!==+i||o!==+o||l!==+l||c!==+c||d!==+d||l===0&&c===0||d===0)return null;var x=Ie("recharts-trapezoid",u);return g?p.createElement(li,{canBegin:a>0,from:{upperWidth:0,lowerWidth:0,height:d,x:i,y:o},to:{upperWidth:l,lowerWidth:c,height:d,x:i,y:o},duration:h,animationEasing:m,isActive:g},y=>{var{upperWidth:v,lowerWidth:b,height:j,x:N,y:w}=y;return p.createElement(li,{canBegin:a>0,from:"0px ".concat(a===-1?1:a,"px"),to:"".concat(a,"px 0px"),attributeName:"strokeDasharray",begin:f,duration:h,easing:m},p.createElement("path",Tv({},Ce(t,!0),{className:x,d:OM(N,w,v,b,j),ref:r})))}):p.createElement("g",null,p.createElement("path",Tv({},Ce(t,!0),{className:x,d:OM(i,o,l,c,d)})))},Wpe=["option","shapeType","propTransformer","activeClassName","isActive"];function Hpe(e,t){if(e==null)return{};var r,a,n=Kpe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Kpe(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}function DM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),r.push.apply(r,a)}return r}function Mv(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?DM(Object(r),!0).forEach(function(a){Gpe(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):DM(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function Gpe(e,t,r){return(t=Ype(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ype(e){var t=Xpe(e,"string");return typeof t=="symbol"?t:t+""}function Xpe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Qpe(e,t){return Mv(Mv({},t),e)}function Jpe(e,t){return e==="symbols"}function RM(e){var{shapeType:t,elementProps:r}=e;switch(t){case"rectangle":return p.createElement(zL,r);case"trapezoid":return p.createElement(Vpe,r);case"sector":return p.createElement(VL,r);case"symbols":if(Jpe(t))return p.createElement(j_,r);break;default:return null}}function Zpe(e){return p.isValidElement(e)?e.props:e}function _B(e){var{option:t,shapeType:r,propTransformer:a=Qpe,activeClassName:n="recharts-active-shape",isActive:i}=e,o=Hpe(e,Wpe),l;if(p.isValidElement(t))l=p.cloneElement(t,Mv(Mv({},o),Zpe(t)));else if(typeof t=="function")l=t(o);else if(Upe(t)&&typeof t!="boolean"){var c=a(t,o);l=p.createElement(RM,{shapeType:r,elementProps:c})}else{var d=o;l=p.createElement(RM,{shapeType:r,elementProps:d})}return i?p.createElement(it,{className:n},l):l}var ek=(e,t)=>{var r=Pt();return(a,n)=>i=>{e==null||e(a,n,i),r(_8({activeIndex:String(n),activeDataKey:t,activeCoordinate:a.tooltipPosition}))}},tk=e=>{var t=Pt();return(r,a)=>n=>{e==null||e(r,a,n),t(Zue())}},sk=(e,t)=>{var r=Pt();return(a,n)=>i=>{e==null||e(a,n,i),r(eme({activeIndex:String(n),activeDataKey:t,activeCoordinate:a.tooltipPosition}))}};function Cp(e){var{fn:t,args:r}=e,a=Pt(),n=Ps();return p.useEffect(()=>{if(!n){var i=t(r);return a(Xue(i)),()=>{a(Que(i))}}},[t,r,a,n]),null}var CB=()=>{};function rk(e){var{legendPayload:t}=e,r=Pt(),a=Ps();return p.useEffect(()=>a?CB:(r(TL(t)),()=>{r(ML(t))}),[r,a,t]),null}function kB(e){var{legendPayload:t}=e,r=Pt(),a=fe(Xe);return p.useEffect(()=>a!=="centric"&&a!=="radial"?CB:(r(TL(t)),()=>{r(ML(t))}),[r,a,t]),null}function kp(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",r=p.useRef(vl(t)),a=p.useRef(e);return a.current!==e&&(r.current=vl(t),a.current=e),r.current}var exe=["onMouseEnter","onClick","onMouseLeave"];function txe(e,t){if(e==null)return{};var r,a,n=sxe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function sxe(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}function IM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),r.push.apply(r,a)}return r}function ts(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?IM(Object(r),!0).forEach(function(a){By(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):IM(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function By(e,t,r){return(t=rxe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function rxe(e){var t=axe(e,"string");return typeof t=="symbol"?t:t+""}function axe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Bc(){return Bc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Bc.apply(null,arguments)}function nxe(e){var t=p.useMemo(()=>Ce(e,!1),[e]),r=p.useMemo(()=>ip(e.children,kn),[e.children]),a=p.useMemo(()=>({name:e.name,nameKey:e.nameKey,tooltipType:e.tooltipType,data:e.data,dataKey:e.dataKey,cx:e.cx,cy:e.cy,startAngle:e.startAngle,endAngle:e.endAngle,minAngle:e.minAngle,paddingAngle:e.paddingAngle,innerRadius:e.innerRadius,outerRadius:e.outerRadius,cornerRadius:e.cornerRadius,legendType:e.legendType,fill:e.fill,presentationProps:t}),[e.cornerRadius,e.cx,e.cy,e.data,e.dataKey,e.endAngle,e.innerRadius,e.minAngle,e.name,e.nameKey,e.outerRadius,e.paddingAngle,e.startAngle,e.tooltipType,e.legendType,e.fill,t]),n=fe(i=>_pe(i,a,r));return p.createElement(kB,{legendPayload:n})}function ixe(e){var{dataKey:t,nameKey:r,sectors:a,stroke:n,strokeWidth:i,fill:o,name:l,hide:c,tooltipType:d}=e;return{dataDefinedOnItem:a==null?void 0:a.map(u=>u.tooltipPayload),positions:a==null?void 0:a.map(u=>u.tooltipPosition),settings:{stroke:n,strokeWidth:i,fill:o,dataKey:t,nameKey:r,name:mi(l,t),hide:c,type:d,color:o,unit:""}}}var oxe=(e,t)=>e>t?"start":e<t?"end":"middle",lxe=(e,t,r)=>typeof t=="function"?t(e):Nr(t,r,r*.8),cxe=(e,t,r)=>{var{top:a,left:n,width:i,height:o}=t,l=jL(i,o),c=n+Nr(e.cx,i,i/2),d=a+Nr(e.cy,o,o/2),u=Nr(e.innerRadius,l,0),m=lxe(r,e.outerRadius,l),h=e.maxRadius||Math.sqrt(i*i+o*o)/2;return{cx:c,cy:d,innerRadius:u,outerRadius:m,maxRadius:h}},dxe=(e,t)=>{var r=Rs(t-e),a=Math.min(Math.abs(t-e),360);return r*a},uxe=(e,t)=>{if(p.isValidElement(e))return p.cloneElement(e,t);if(typeof e=="function")return e(t);var r=Ie("recharts-pie-label-line",typeof e!="boolean"?e.className:"");return p.createElement(au,Bc({},t,{type:"linear",className:r}))},mxe=(e,t,r)=>{if(p.isValidElement(e))return p.cloneElement(e,t);var a=r;if(typeof e=="function"&&(a=e(t),p.isValidElement(a)))return a;var n=Ie("recharts-pie-label-text",typeof e!="boolean"&&typeof e!="function"?e.className:"");return p.createElement(_m,Bc({},t,{alignmentBaseline:"middle",className:n}),a)};function hxe(e){var{sectors:t,props:r,showLabels:a}=e,{label:n,labelLine:i,dataKey:o}=r;if(!a||!n||!t)return null;var l=Ce(r,!1),c=Ce(n,!1),d=Ce(i,!1),u=typeof n=="object"&&"offsetRadius"in n&&n.offsetRadius||20,m=t.map((h,f)=>{var g=(h.startAngle+h.endAngle)/2,x=lt(h.cx,h.cy,h.outerRadius+u,g),y=ts(ts(ts(ts({},l),h),{},{stroke:"none"},c),{},{index:f,textAnchor:oxe(x.x,h.cx)},x),v=ts(ts(ts(ts({},l),h),{},{fill:"none",stroke:h.fill},d),{},{index:f,points:[lt(h.cx,h.cy,h.outerRadius,g),x],key:"line"});return p.createElement(it,{key:"label-".concat(h.startAngle,"-").concat(h.endAngle,"-").concat(h.midAngle,"-").concat(f)},i&&uxe(i,v),mxe(n,y,pt(h,o)))});return p.createElement(it,{className:"recharts-pie-labels"},m)}function PB(e){var{sectors:t,activeShape:r,inactiveShape:a,allOtherPieProps:n,showLabels:i}=e,o=fe(bl),{onMouseEnter:l,onClick:c,onMouseLeave:d}=n,u=txe(n,exe),m=ek(l,n.dataKey),h=tk(d),f=sk(c,n.dataKey);return t==null?null:p.createElement(p.Fragment,null,t.map((g,x)=>{if((g==null?void 0:g.startAngle)===0&&(g==null?void 0:g.endAngle)===0&&t.length!==1)return null;var y=r&&String(x)===o,v=o?a:null,b=y?r:v,j=ts(ts({},g),{},{stroke:g.stroke,tabIndex:-1,[CL]:x,[kL]:n.dataKey});return p.createElement(it,Bc({tabIndex:-1,className:"recharts-pie-sector"},Qc(u,g,x),{onMouseEnter:m(g,x),onMouseLeave:h(g,x),onClick:f(g,x),key:"sector-".concat(g==null?void 0:g.startAngle,"-").concat(g==null?void 0:g.endAngle,"-").concat(g.midAngle,"-").concat(x)}),p.createElement(_B,Bc({option:b,isActive:y,shapeType:"sector"},j)))}),p.createElement(hxe,{sectors:t,props:n,showLabels:i}))}function fxe(e){var t,{pieSettings:r,displayedData:a,cells:n,offset:i}=e,{cornerRadius:o,startAngle:l,endAngle:c,dataKey:d,nameKey:u,tooltipType:m}=r,h=Math.abs(r.minAngle),f=dxe(l,c),g=Math.abs(f),x=a.length<=1?0:(t=r.paddingAngle)!==null&&t!==void 0?t:0,y=a.filter(S=>pt(S,d,0)!==0).length,v=(g>=360?y:y-1)*x,b=g-y*h-v,j=a.reduce((S,_)=>{var C=pt(_,d,0);return S+(ve(C)?C:0)},0),N;if(j>0){var w;N=a.map((S,_)=>{var C=pt(S,d,0),E=pt(S,u,_),T=cxe(r,i,S),k=(ve(C)?C:0)/j,P,D=ts(ts({},S),n&&n[_]&&n[_].props);_?P=w.endAngle+Rs(f)*x*(C!==0?1:0):P=l;var I=P+Rs(f)*((C!==0?h:0)+k*b),V=(P+I)/2,W=(T.innerRadius+T.outerRadius)/2,R=[{name:E,value:C,payload:D,dataKey:d,type:m}],F=lt(T.cx,T.cy,W,V);return w=ts(ts(ts(ts({},r.presentationProps),{},{percent:k,cornerRadius:o,name:E,tooltipPayload:R,midAngle:V,middleRadius:W,tooltipPosition:F},D),T),{},{value:pt(S,d),startAngle:P,endAngle:I,payload:D,paddingAngle:Rs(f)*x}),w})}return N}function pxe(e){var{props:t,previousSectorsRef:r}=e,{sectors:a,isAnimationActive:n,animationBegin:i,animationDuration:o,animationEasing:l,activeShape:c,inactiveShape:d,onAnimationStart:u,onAnimationEnd:m}=t,h=kp(t,"recharts-pie-"),f=r.current,[g,x]=p.useState(!0),y=p.useCallback(()=>{typeof m=="function"&&m(),x(!1)},[m]),v=p.useCallback(()=>{typeof u=="function"&&u(),x(!0)},[u]);return p.createElement(li,{begin:i,duration:o,isActive:n,easing:l,from:{t:0},to:{t:1},onAnimationStart:v,onAnimationEnd:y,key:h},b=>{var{t:j}=b,N=[],w=a&&a[0],S=w.startAngle;return a.forEach((_,C)=>{var E=f&&f[C],T=C>0?gl(_,"paddingAngle",0):0;if(E){var k=qs(E.endAngle-E.startAngle,_.endAngle-_.startAngle),P=ts(ts({},_),{},{startAngle:S+T,endAngle:S+k(j)+T});N.push(P),S=P.endAngle}else{var{endAngle:D,startAngle:I}=_,V=qs(0,D-I),W=V(j),R=ts(ts({},_),{},{startAngle:S+T,endAngle:S+W+T});N.push(R),S=R.endAngle}}),r.current=N,p.createElement(it,null,p.createElement(PB,{sectors:N,activeShape:c,inactiveShape:d,allOtherPieProps:t,showLabels:!g}))})}function xxe(e){var{sectors:t,isAnimationActive:r,activeShape:a,inactiveShape:n}=e,i=p.useRef(null),o=i.current;return r&&t&&t.length&&(!o||o!==t)?p.createElement(pxe,{props:e,previousSectorsRef:i}):p.createElement(PB,{sectors:t,activeShape:a,inactiveShape:n,allOtherPieProps:e,showLabels:!0})}function gxe(e){var{hide:t,className:r,rootTabIndex:a}=e,n=Ie("recharts-pie",r);return t?null:p.createElement(it,{tabIndex:a,className:n},p.createElement(xxe,e))}var EB={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:!oo.isSsr,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff"};function vxe(e){var t=Kr(e,EB),r=p.useMemo(()=>ip(e.children,kn),[e.children]),a=Ce(t,!1),n=p.useMemo(()=>({name:t.name,nameKey:t.nameKey,tooltipType:t.tooltipType,data:t.data,dataKey:t.dataKey,cx:t.cx,cy:t.cy,startAngle:t.startAngle,endAngle:t.endAngle,minAngle:t.minAngle,paddingAngle:t.paddingAngle,innerRadius:t.innerRadius,outerRadius:t.outerRadius,cornerRadius:t.cornerRadius,legendType:t.legendType,fill:t.fill,presentationProps:a}),[t.cornerRadius,t.cx,t.cy,t.data,t.dataKey,t.endAngle,t.innerRadius,t.minAngle,t.name,t.nameKey,t.outerRadius,t.paddingAngle,t.startAngle,t.tooltipType,t.legendType,t.fill,a]),i=fe(o=>kpe(o,n,r));return p.createElement(p.Fragment,null,p.createElement(Cp,{fn:ixe,args:ts(ts({},t),{},{sectors:i})}),p.createElement(gxe,Bc({},t,{sectors:i})))}class rd extends p.PureComponent{constructor(){super(...arguments),By(this,"id",vl("recharts-pie-"))}render(){return p.createElement(p.Fragment,null,p.createElement(NB,{data:this.props.data,dataKey:this.props.dataKey,hide:this.props.hide,angleAxisId:0,radiusAxisId:0,stackId:void 0,barSize:void 0,type:"pie"}),p.createElement(nxe,this.props),p.createElement(vxe,this.props),this.props.children)}}By(rd,"displayName","Pie");By(rd,"defaultProps",EB);var yxe=ee([ks],e=>{if(e)return{top:e.top,bottom:e.bottom,left:e.left,right:e.right}}),bxe=ee([yxe,no,io],(e,t,r)=>{if(!(!e||t==null||r==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,r-e.top-e.bottom)}}),jxe=e=>{var t=Ps();return fe(r=>Wa(r,"xAxis",e,t))},wxe=e=>{var t=Ps();return fe(r=>Wa(r,"yAxis",e,t))},zy=()=>fe(bxe),Nxe=()=>fe(Lme);function FM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),r.push.apply(r,a)}return r}function LM(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?FM(Object(r),!0).forEach(function(a){Sxe(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):FM(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function Sxe(e,t,r){return(t=_xe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _xe(e){var t=Cxe(e,"string");return typeof t=="symbol"?t:t+""}function Cxe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var kxe=e=>{var{point:t,childIndex:r,mainColor:a,activeDot:n,dataKey:i}=e;if(n===!1||t.x==null||t.y==null)return null;var o=LM(LM({index:r,dataKey:i,cx:t.x,cy:t.y,r:4,fill:a??"none",strokeWidth:2,stroke:"#fff",payload:t.payload,value:t.value},Ce(n,!1)),x_(n)),l;return p.isValidElement(n)?l=p.cloneElement(n,o):typeof n=="function"?l=n(o):l=p.createElement(Np,o),p.createElement(it,{className:"recharts-active-dot"},l)};function Ov(e){var{points:t,mainColor:r,activeDot:a,itemDataKey:n}=e,i=fe(bl),o=Nxe();if(t==null||o==null)return null;var l=t.find(c=>o.includes(c.payload));return dt(l)?null:kxe({point:l,childIndex:Number(i),mainColor:r,dataKey:n,activeDot:a})}var Pxe=e=>p.createElement(NB,e);function $M(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),r.push.apply(r,a)}return r}function Dv(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?$M(Object(r),!0).forEach(function(a){Exe(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$M(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function Exe(e,t,r){return(t=Axe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Axe(e){var t=Txe(e,"string");return typeof t=="symbol"?t:t+""}function Txe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var AB=(e,t)=>Cm(e,"radiusAxis",t),Mxe=ee([AB],e=>{if(e!=null)return{scale:e}}),Oxe=ee([pp,AB],(e,t)=>{if(!(e==null||t==null))return Dv(Dv({},e),{},{scale:t})}),Dxe=(e,t,r,a)=>km(e,"radiusAxis",t,a),TB=(e,t,r)=>ym(e,r),MB=(e,t,r)=>Cm(e,"angleAxis",r),Rxe=ee([TB,MB],(e,t)=>{if(!(e==null||t==null))return Dv(Dv({},e),{},{scale:t})}),Ixe=(e,t,r,a)=>km(e,"angleAxis",r,a),Fxe=ee([TB,MB,xp],(e,t,r)=>{if(!(r==null||t==null))return{scale:t,type:e.type,dataKey:e.dataKey,cx:r.cx,cy:r.cy}}),Lxe=(e,t,r,a,n)=>n,$xe=ee([Xe,Oxe,Dxe,Rxe,Ixe],(e,t,r,a,n)=>Tn(e,"radiusAxis")?Hi(t,r,!1):Hi(a,n,!1)),Bxe=ee([HC,Lxe],(e,t)=>{if(e.some(r=>r.type==="radar"&&t===r.dataKey))return t}),zxe=ee([Mxe,Fxe,Cy,Bxe,$xe],(e,t,r,a,n)=>{var{chartData:i,dataStartIndex:o,dataEndIndex:l}=r;if(!(e==null||t==null||i==null||n==null||a==null)){var c=i.slice(o,l+1);return Kxe({radiusAxis:e,angleAxis:t,displayedData:c,dataKey:a,bandSize:n})}});function BM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),r.push.apply(r,a)}return r}function br(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?BM(Object(r),!0).forEach(function(a){ak(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):BM(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function ak(e,t,r){return(t=Uxe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Uxe(e){var t=qxe(e,"string");return typeof t=="symbol"?t:t+""}function qxe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function wf(){return wf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},wf.apply(null,arguments)}function nk(e,t){return e&&e!=="none"?e:t}var Vxe=e=>{var{dataKey:t,name:r,stroke:a,fill:n,legendType:i,hide:o}=e;return[{inactive:o,dataKey:t,type:i,color:nk(a,n),value:mi(r,t),payload:e}]};function Wxe(e){var{dataKey:t,stroke:r,strokeWidth:a,fill:n,name:i,hide:o,tooltipType:l}=e;return{dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:r,strokeWidth:a,fill:n,nameKey:void 0,dataKey:t,name:mi(i,t),hide:o,type:l,color:nk(r,n),unit:""}}}function Hxe(e,t){var r;return p.isValidElement(e)?r=p.cloneElement(e,t):typeof e=="function"?r=e(t):r=p.createElement(Np,wf({},t,{className:Ie("recharts-radar-dot",typeof e!="boolean"?e.className:"")})),r}function Kxe(e){var{radiusAxis:t,angleAxis:r,displayedData:a,dataKey:n,bandSize:i}=e,{cx:o,cy:l}=r,c=!1,d=[],u=r.type!=="number"?i??0:0;a.forEach((h,f)=>{var g=pt(h,r.dataKey,f),x=pt(h,n),y=r.scale(g)+u,v=Array.isArray(x)?oB(x):x,b=dt(v)?void 0:t.scale(v);Array.isArray(x)&&x.length>=2&&(c=!0),d.push(br(br({},lt(o,l,b,y)),{},{name:g,value:x,cx:o,cy:l,radius:b,angle:y,payload:h}))});var m=[];return c&&d.forEach(h=>{if(Array.isArray(h.value)){var f=h.value[0],g=dt(f)?void 0:t.scale(f);m.push(br(br({},h),{},{radius:g},lt(o,l,g,h.angle)))}else m.push(h)}),{points:d,isRange:c,baseLinePoints:m}}function Gxe(e){var{points:t,props:r}=e,{dot:a,dataKey:n}=r;if(!a)return null;var i=Ce(r,!1),o=Ce(a,!0),l=t.map((c,d)=>{var u=br(br(br({key:"dot-".concat(d),r:3},i),o),{},{dataKey:n,cx:c.x,cy:c.y,index:d,payload:c});return Hxe(a,u)});return p.createElement(it,{className:"recharts-radar-dots"},l)}function OB(e){var{points:t,props:r,showLabels:a}=e;if(t==null)return null;var{shape:n,isRange:i,baseLinePoints:o,connectNulls:l}=r,c=m=>{var{onMouseEnter:h}=r;h&&h(r,m)},d=m=>{var{onMouseLeave:h}=r;h&&h(r,m)},u;return p.isValidElement(n)?u=p.cloneElement(n,br(br({},r),{},{points:t})):typeof n=="function"?u=n(br(br({},r),{},{points:t})):u=p.createElement(lB,wf({},Ce(r,!0),{onMouseEnter:c,onMouseLeave:d,points:t,baseLinePoints:i?o:null,connectNulls:l})),p.createElement(it,{className:"recharts-radar-polygon"},u,p.createElement(Gxe,{props:r,points:t}),a&&ei.renderCallByParent(r,t))}function Yxe(e){var{props:t,previousPointsRef:r}=e,{points:a,isAnimationActive:n,animationBegin:i,animationDuration:o,animationEasing:l,onAnimationEnd:c,onAnimationStart:d}=t,u=r.current,m=kp(t,"recharts-radar-"),[h,f]=p.useState(!0),g=p.useCallback(()=>{typeof c=="function"&&c(),f(!1)},[c]),x=p.useCallback(()=>{typeof d=="function"&&d(),f(!0)},[d]);return p.createElement(li,{begin:i,duration:o,isActive:n,easing:l,from:{t:0},to:{t:1},key:"radar-".concat(m),onAnimationEnd:g,onAnimationStart:x},y=>{var{t:v}=y,b=u&&u.length/a.length,j=v===1?a:a.map((N,w)=>{var S=u&&u[Math.floor(w*b)];if(S){var _=qs(S.x,N.x),C=qs(S.y,N.y);return br(br({},N),{},{x:_(v),y:C(v)})}var E=qs(N.cx,N.x),T=qs(N.cy,N.y);return br(br({},N),{},{x:E(v),y:T(v)})});return v>0&&(r.current=j),p.createElement(OB,{points:j,props:t,showLabels:!h})})}function Xxe(e){var{points:t,isAnimationActive:r,isRange:a}=e,n=p.useRef(void 0),i=n.current;return r&&t&&t.length&&!a&&(!i||i!==t)?p.createElement(Yxe,{props:e,previousPointsRef:n}):p.createElement(OB,{points:t,props:e,showLabels:!0})}var Qxe={angleAxisId:0,radiusAxisId:0,hide:!1,activeDot:!0,dot:!1,legendType:"rect",isAnimationActive:!oo.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"};class Jxe extends p.PureComponent{render(){var{hide:t,className:r,points:a}=this.props;if(t)return null;var n=Ie("recharts-radar",r);return p.createElement(p.Fragment,null,p.createElement(it,{className:n},p.createElement(Xxe,this.props)),p.createElement(Ov,{points:a,mainColor:nk(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot}))}}function Zxe(e){var t=Ps(),r=fe(a=>zxe(a,e.radiusAxisId,e.angleAxisId,t,e.dataKey));return p.createElement(Jxe,wf({},e,{points:r==null?void 0:r.points,baseLinePoints:r==null?void 0:r.baseLinePoints,isRange:r==null?void 0:r.isRange}))}class Nf extends p.PureComponent{render(){return p.createElement(p.Fragment,null,p.createElement(Pxe,{data:void 0,dataKey:this.props.dataKey,hide:this.props.hide,angleAxisId:this.props.angleAxisId,radiusAxisId:this.props.radiusAxisId,stackId:void 0,barSize:void 0,type:"radar"}),p.createElement(kB,{legendPayload:Vxe(this.props)}),p.createElement(Cp,{fn:Wxe,args:this.props}),p.createElement(Zxe,this.props))}}ak(Nf,"displayName","Radar");ak(Nf,"defaultProps",Qxe);var ege=()=>{var e=Pt();return p.useEffect(()=>(e(Epe()),()=>{e(Ape())})),null},tge=["children"];function sge(e,t){if(e==null)return{};var r,a,n=rge(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function rge(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}var zM=()=>{},DB=p.createContext({addErrorBar:zM,removeErrorBar:zM}),age={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},RB=p.createContext(age);function IB(e){var{children:t}=e,r=sge(e,tge);return p.createElement(RB.Provider,{value:r},t)}var nge=()=>p.useContext(RB),ik=e=>{var{children:t,xAxisId:r,yAxisId:a,zAxisId:n,dataKey:i,data:o,stackId:l,hide:c,type:d,barSize:u}=e,[m,h]=p.useState([]),f=p.useCallback(y=>{h(v=>[...v,y])},[h]),g=p.useCallback(y=>{h(v=>v.filter(b=>b!==y))},[h]),x=Ps();return p.createElement(DB.Provider,{value:{addErrorBar:f,removeErrorBar:g}},p.createElement(Bpe,{type:d,data:o,xAxisId:r,yAxisId:a,zAxisId:n,dataKey:i,errorBars:m,stackId:l,hide:c,barSize:u,isPanorama:x}),t)};function ige(e){var{addErrorBar:t,removeErrorBar:r}=p.useContext(DB);return p.useEffect(()=>(t(e),()=>{r(e)}),[t,r,e]),null}var oge=["direction","width","dataKey","isAnimationActive","animationBegin","animationDuration","animationEasing"];function FB(e,t,r){return(t=lge(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lge(e){var t=cge(e,"string");return typeof t=="symbol"?t:t+""}function cge(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Sf(){return Sf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Sf.apply(null,arguments)}function dge(e,t){if(e==null)return{};var r,a,n=uge(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function uge(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}function mge(e){var{direction:t,width:r,dataKey:a,isAnimationActive:n,animationBegin:i,animationDuration:o,animationEasing:l}=e,c=dge(e,oge),d=Ce(c,!1),{data:u,dataPointFormatter:m,xAxisId:h,yAxisId:f,errorBarOffset:g}=nge(),x=jxe(h),y=wxe(f);if((x==null?void 0:x.scale)==null||(y==null?void 0:y.scale)==null||u==null||t==="x"&&x.type!=="number")return null;var v=u.map(b=>{var{x:j,y:N,value:w,errorVal:S}=m(b,a,t);if(!S)return null;var _=[],C,E;if(Array.isArray(S)?[C,E]=S:C=E=S,t==="x"){var{scale:T}=x,k=N+g,P=k+r,D=k-r,I=T(w-C),V=T(w+E);_.push({x1:V,y1:P,x2:V,y2:D}),_.push({x1:I,y1:k,x2:V,y2:k}),_.push({x1:I,y1:P,x2:I,y2:D})}else if(t==="y"){var{scale:W}=y,R=j+g,F=R-r,H=R+r,Z=W(w-C),B=W(w+E);_.push({x1:F,y1:B,x2:H,y2:B}),_.push({x1:R,y1:Z,x2:R,y2:B}),_.push({x1:F,y1:Z,x2:H,y2:Z})}var K="".concat(j+g,"px ").concat(N+g,"px");return p.createElement(it,Sf({className:"recharts-errorBar",key:"bar-".concat(_.map(Q=>"".concat(Q.x1,"-").concat(Q.x2,"-").concat(Q.y1,"-").concat(Q.y2)))},d),_.map(Q=>{var ie=n?{transformOrigin:"".concat(Q.x1-5,"px")}:void 0;return p.createElement(li,{from:{transform:"scaleY(0)",transformOrigin:K},to:{transform:"scaleY(1)",transformOrigin:K},begin:i,easing:l,isActive:n,duration:o,key:"line-".concat(Q.x1,"-").concat(Q.x2,"-").concat(Q.y1,"-").concat(Q.y2),style:{transformOrigin:K}},p.createElement("line",Sf({},Q,{style:ie})))}))});return p.createElement(it,{className:"recharts-errorBars"},v)}var LB=p.createContext(void 0);function hge(e){var t=p.useContext(LB);return e??t??"x"}function $B(e){var{direction:t,children:r}=e;return p.createElement(LB.Provider,{value:t},r)}var BB={stroke:"black",strokeWidth:1.5,width:5,offset:0,isAnimationActive:!0,animationBegin:0,animationDuration:400,animationEasing:"ease-in-out"};function fge(e){var t=hge(e.direction),{width:r,isAnimationActive:a,animationBegin:n,animationDuration:i,animationEasing:o}=Kr(e,BB);return p.createElement(p.Fragment,null,p.createElement(ige,{dataKey:e.dataKey,direction:t}),p.createElement(mge,Sf({},e,{direction:t,width:r,isAnimationActive:a,animationBegin:n,animationDuration:i,animationEasing:o})))}class zB extends p.Component{render(){return p.createElement(fge,this.props)}}FB(zB,"defaultProps",BB);FB(zB,"displayName","ErrorBar");var pge="Invariant failed";function xge(e,t){throw new Error(pge)}var gge=["x","y"];function W1(){return W1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},W1.apply(null,arguments)}function UM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),r.push.apply(r,a)}return r}function Zm(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?UM(Object(r),!0).forEach(function(a){vge(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):UM(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function vge(e,t,r){return(t=yge(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yge(e){var t=bge(e,"string");return typeof t=="symbol"?t:t+""}function bge(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function jge(e,t){if(e==null)return{};var r,a,n=wge(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function wge(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}function Nge(e,t){var{x:r,y:a}=e,n=jge(e,gge),i="".concat(r),o=parseInt(i,10),l="".concat(a),c=parseInt(l,10),d="".concat(t.height||n.height),u=parseInt(d,10),m="".concat(t.width||n.width),h=parseInt(m,10);return Zm(Zm(Zm(Zm(Zm({},t),n),o?{x:o}:{}),c?{y:c}:{}),{},{height:u,width:h,name:t.name,radius:t.radius})}function UB(e){return p.createElement(_B,W1({shapeType:"rectangle",propTransformer:Nge,activeClassName:"recharts-active-bar"},e))}var Sge=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(a,n)=>{if(ve(t))return t;var i=ve(a)||dt(a);return i?t(a,n):(i||xge(),r)}};function Uy(e,t){var r,a,n=fe(d=>hi(d,e)),i=fe(d=>co(d,t)),o=(r=n==null?void 0:n.allowDataOverflow)!==null&&r!==void 0?r:Qr.allowDataOverflow,l=(a=i==null?void 0:i.allowDataOverflow)!==null&&a!==void 0?a:Jr.allowDataOverflow,c=o||l;return{needClip:c,needClipX:o,needClipY:l}}function ok(e){var{xAxisId:t,yAxisId:r,clipPathId:a}=e,n=zy(),{needClipX:i,needClipY:o,needClip:l}=Uy(t,r);if(!l)return null;var{x:c,y:d,width:u,height:m}=n;return p.createElement("clipPath",{id:"clipPath-".concat(a)},p.createElement("rect",{x:i?c:c-u/2,y:o?d:d-m/2,width:i?u:u*2,height:o?m:m*2}))}var _ge=["onMouseEnter","onMouseLeave","onClick"],Cge=["value","background","tooltipPosition"],kge=["onMouseEnter","onClick","onMouseLeave"];function _f(){return _f=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},_f.apply(null,arguments)}function qM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),r.push.apply(r,a)}return r}function tr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?qM(Object(r),!0).forEach(function(a){qy(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):qM(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function qy(e,t,r){return(t=Pge(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Pge(e){var t=Ege(e,"string");return typeof t=="symbol"?t:t+""}function Ege(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function H1(e,t){if(e==null)return{};var r,a,n=Age(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Age(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}var Tge=e=>{var{dataKey:t,name:r,fill:a,legendType:n,hide:i}=e;return[{inactive:i,dataKey:t,type:n,color:a,value:mi(r,t),payload:e}]};function Mge(e){var{dataKey:t,stroke:r,strokeWidth:a,fill:n,name:i,hide:o,unit:l}=e;return{dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:r,strokeWidth:a,fill:n,dataKey:t,nameKey:void 0,name:mi(i,t),hide:o,type:e.tooltipType,color:e.fill,unit:l}}}function Oge(e){var t=fe(bl),{data:r,dataKey:a,background:n,allOtherBarProps:i}=e,{onMouseEnter:o,onMouseLeave:l,onClick:c}=i,d=H1(i,_ge),u=ek(o,a),m=tk(l),h=sk(c,a);if(!n||r==null)return null;var f=Ce(n,!1);return p.createElement(p.Fragment,null,r.map((g,x)=>{var{value:y,background:v,tooltipPosition:b}=g,j=H1(g,Cge);if(!v)return null;var N=u(g,x),w=m(g,x),S=h(g,x),_=tr(tr(tr(tr(tr({option:n,isActive:String(x)===t},j),{},{fill:"#eee"},v),f),Qc(d,g,x)),{},{onMouseEnter:N,onMouseLeave:w,onClick:S,dataKey:a,index:x,className:"recharts-bar-background-rectangle"});return p.createElement(UB,_f({key:"background-bar-".concat(x)},_))}))}function qB(e){var{data:t,props:r,showLabels:a}=e,n=Ce(r,!1),{shape:i,dataKey:o,activeBar:l}=r,c=fe(bl),d=fe(L8),{onMouseEnter:u,onClick:m,onMouseLeave:h}=r,f=H1(r,kge),g=ek(u,o),x=tk(h),y=sk(m,o);return t?p.createElement(p.Fragment,null,t.map((v,b)=>{var j=l&&String(b)===c&&(d==null||o===d),N=j?l:i,w=tr(tr(tr({},n),v),{},{isActive:j,option:N,index:b,dataKey:o});return p.createElement(it,_f({className:"recharts-bar-rectangle"},Qc(f,v,b),{onMouseEnter:g(v,b),onMouseLeave:x(v,b),onClick:y(v,b),key:"rectangle-".concat(v==null?void 0:v.x,"-").concat(v==null?void 0:v.y,"-").concat(v==null?void 0:v.value,"-").concat(b)}),p.createElement(UB,w))}),a&&ei.renderCallByParent(r,t)):null}function Dge(e){var{props:t,previousRectanglesRef:r}=e,{data:a,layout:n,isAnimationActive:i,animationBegin:o,animationDuration:l,animationEasing:c,onAnimationEnd:d,onAnimationStart:u}=t,m=r.current,h=kp(t,"recharts-bar-"),[f,g]=p.useState(!1),x=p.useCallback(()=>{typeof d=="function"&&d(),g(!1)},[d]),y=p.useCallback(()=>{typeof u=="function"&&u(),g(!0)},[u]);return p.createElement(li,{begin:o,duration:l,isActive:i,easing:c,from:{t:0},to:{t:1},onAnimationEnd:x,onAnimationStart:y,key:h},v=>{var{t:b}=v,j=b===1?a:a.map((N,w)=>{var S=m&&m[w];if(S){var _=qs(S.x,N.x),C=qs(S.y,N.y),E=qs(S.width,N.width),T=qs(S.height,N.height);return tr(tr({},N),{},{x:_(b),y:C(b),width:E(b),height:T(b)})}if(n==="horizontal"){var k=qs(0,N.height),P=k(b);return tr(tr({},N),{},{y:N.y+N.height-P,height:P})}var D=qs(0,N.width),I=D(b);return tr(tr({},N),{},{width:I})});return b>0&&(r.current=j),p.createElement(it,null,p.createElement(qB,{props:t,data:j,showLabels:!f}))})}function Rge(e){var{data:t,isAnimationActive:r}=e,a=p.useRef(null);return r&&t&&t.length&&(a.current==null||a.current!==t)?p.createElement(Dge,{previousRectanglesRef:a,props:e}):p.createElement(qB,{props:e,data:t,showLabels:!0})}var VB=0,Ige=(e,t)=>{var r=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:r,errorVal:pt(e,t)}};class Fge extends p.PureComponent{constructor(){super(...arguments),qy(this,"id",vl("recharts-bar-"))}render(){var{hide:t,data:r,dataKey:a,className:n,xAxisId:i,yAxisId:o,needClip:l,background:c,id:d,layout:u}=this.props;if(t)return null;var m=Ie("recharts-bar",n),h=dt(d)?this.id:d;return p.createElement(it,{className:m},l&&p.createElement("defs",null,p.createElement(ok,{clipPathId:h,xAxisId:i,yAxisId:o})),p.createElement(it,{className:"recharts-bar-rectangles",clipPath:l?"url(#clipPath-".concat(h,")"):null},p.createElement(Oge,{data:r,dataKey:a,background:c,allOtherBarProps:this.props}),p.createElement(Rge,this.props)),p.createElement($B,{direction:u==="horizontal"?"y":"x"},this.props.children))}}var WB={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",hide:!1,isAnimationActive:!oo.isSsr,legendType:"rect",minPointSize:VB,xAxisId:0,yAxisId:0};function Lge(e){var{xAxisId:t,yAxisId:r,hide:a,legendType:n,minPointSize:i,activeBar:o,animationBegin:l,animationDuration:c,animationEasing:d,isAnimationActive:u}=Kr(e,WB),{needClip:m}=Uy(t,r),h=cp(),f=Ps(),g=p.useMemo(()=>({barSize:e.barSize,data:void 0,dataKey:e.dataKey,maxBarSize:e.maxBarSize,minPointSize:i,stackId:L_(e.stackId)}),[e.barSize,e.dataKey,e.maxBarSize,i,e.stackId]),x=ip(e.children,kn),y=fe(j=>mve(j,t,r,f,g,x));if(h!=="vertical"&&h!=="horizontal")return null;var v,b=y==null?void 0:y[0];return b==null||b.height==null||b.width==null?v=0:v=h==="vertical"?b.height/2:b.width/2,p.createElement(IB,{xAxisId:t,yAxisId:r,data:y,dataPointFormatter:Ige,errorBarOffset:v},p.createElement(Fge,_f({},e,{layout:h,needClip:m,data:y,xAxisId:t,yAxisId:r,hide:a,legendType:n,minPointSize:i,activeBar:o,animationBegin:l,animationDuration:c,animationEasing:d,isAnimationActive:u})))}function $ge(e){var{layout:t,barSettings:{dataKey:r,minPointSize:a},pos:n,bandSize:i,xAxis:o,yAxis:l,xAxisTicks:c,yAxisTicks:d,stackedData:u,displayedData:m,offset:h,cells:f}=e,g=t==="horizontal"?l:o,x=u?g.scale.domain():null,y=jie({numericAxis:g});return m.map((v,b)=>{var j,N,w,S,_,C;u?j=xie(u[b],x):(j=pt(v,r),Array.isArray(j)||(j=[y,j]));var E=Sge(a,VB)(j[1],b);if(t==="horizontal"){var T,[k,P]=[l.scale(j[0]),l.scale(j[1])];N=BA({axis:o,ticks:c,bandSize:i,offset:n.offset,entry:v,index:b}),w=(T=P??k)!==null&&T!==void 0?T:void 0,S=n.size;var D=k-P;if(_=dr(D)?0:D,C={x:N,y:h.top,width:S,height:h.height},Math.abs(E)>0&&Math.abs(_)<Math.abs(E)){var I=Rs(_||E)*(Math.abs(E)-Math.abs(_));w-=I,_+=I}}else{var[V,W]=[o.scale(j[0]),o.scale(j[1])];if(N=V,w=BA({axis:l,ticks:d,bandSize:i,offset:n.offset,entry:v,index:b}),S=W-V,_=n.size,C={x:h.left,y:w,width:h.width,height:_},Math.abs(E)>0&&Math.abs(S)<Math.abs(E)){var R=Rs(S||E)*(Math.abs(E)-Math.abs(S));S+=R}}var F=tr(tr({},v),{},{x:N,y:w,width:S,height:_,value:u?j:j[1],payload:v,background:C,tooltipPosition:{x:N+S/2,y:w+_/2}},f&&f[b]&&f[b].props);return F})}class vs extends p.PureComponent{render(){return p.createElement(ik,{type:"bar",data:null,xAxisId:this.props.xAxisId,yAxisId:this.props.yAxisId,zAxisId:0,dataKey:this.props.dataKey,stackId:this.props.stackId,hide:this.props.hide,barSize:this.props.barSize},p.createElement(ege,null),p.createElement(rk,{legendPayload:Tge(this.props)}),p.createElement(Cp,{fn:Mge,args:this.props}),p.createElement(Lge,this.props))}}qy(vs,"displayName","Bar");qy(vs,"defaultProps",WB);function VM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),r.push.apply(r,a)}return r}function Mx(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?VM(Object(r),!0).forEach(function(a){Bge(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):VM(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function Bge(e,t,r){return(t=zge(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zge(e){var t=Uge(e,"string");return typeof t=="symbol"?t:t+""}function Uge(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var qge=(e,t)=>t,Vge=(e,t,r)=>r,Wge=(e,t,r,a)=>a,lk=(e,t,r,a,n)=>n,Hge=(e,t,r,a,n)=>n.maxBarSize,Kge=(e,t,r,a,n,i)=>i,WM=(e,t,r)=>{var a=r??e;if(!dt(a))return Nr(a,t,0)},Gge=ee([Xe,vp,qge,Vge,Wge],(e,t,r,a,n)=>t.filter(i=>e==="horizontal"?i.xAxisId===r:i.yAxisId===a).filter(i=>i.isPanorama===n).filter(i=>i.hide===!1).filter(i=>i.type==="bar")),Yge=(e,t,r,a)=>{var n=Xe(e);return n==="horizontal"?yf(e,"yAxis",r,a):yf(e,"xAxis",t,a)},Xge=(e,t,r)=>{var a=Xe(e);return a==="horizontal"?XT(e,"xAxis",t):XT(e,"yAxis",r)};function Qge(e){return e.stackId!=null&&e.dataKey!=null}var Jge=(e,t,r)=>{var a={},n=e.filter(Qge),i=e.filter(d=>d.stackId==null),o=n.reduce((d,u)=>(d[u.stackId]||(d[u.stackId]=[]),d[u.stackId].push(u),d),a),l=Object.entries(o).map(d=>{var[u,m]=d,h=m.map(g=>g.dataKey),f=WM(t,r,m[0].barSize);return{stackId:u,dataKeys:h,barSize:f}}),c=i.map(d=>{var u=[d.dataKey].filter(h=>h!=null),m=WM(t,r,d.barSize);return{stackId:void 0,dataKeys:u,barSize:m}});return[...l,...c]},Zge=ee([Gge,Xde,Xge],Jge),eve=(e,t,r,a,n)=>{var i,o,l=Xe(e),c=q$(e),{maxBarSize:d}=n,u=dt(d)?c:d,m,h;return l==="horizontal"?(m=Wa(e,"xAxis",t,a),h=di(e,"xAxis",t,a)):(m=Wa(e,"yAxis",r,a),h=di(e,"yAxis",r,a)),(i=(o=Hi(m,h,!0))!==null&&o!==void 0?o:u)!==null&&i!==void 0?i:0},HB=(e,t,r,a)=>{var n=Xe(e),i,o;return n==="horizontal"?(i=Wa(e,"xAxis",t,a),o=di(e,"xAxis",t,a)):(i=Wa(e,"yAxis",r,a),o=di(e,"yAxis",r,a)),Hi(i,o)};function tve(e,t,r,a,n){var i=a.length;if(!(i<1)){var o=Nr(e,r,0,!0),l,c=[];if(Ks(a[0].barSize)){var d=!1,u=r/i,m=a.reduce((v,b)=>v+(b.barSize||0),0);m+=(i-1)*o,m>=r&&(m-=(i-1)*o,o=0),m>=r&&u>0&&(d=!0,u*=.9,m=i*u);var h=(r-m)/2>>0,f={offset:h-o,size:0};l=a.reduce((v,b)=>{var j,N={stackId:b.stackId,dataKeys:b.dataKeys,position:{offset:f.offset+f.size+o,size:d?u:(j=b.barSize)!==null&&j!==void 0?j:0}},w=[...v,N];return f=w[w.length-1].position,w},c)}else{var g=Nr(t,r,0,!0);r-2*g-(i-1)*o<=0&&(o=0);var x=(r-2*g-(i-1)*o)/i;x>1&&(x>>=0);var y=Ks(n)?Math.min(x,n):x;l=a.reduce((v,b,j)=>[...v,{stackId:b.stackId,dataKeys:b.dataKeys,position:{offset:g+(x+o)*j+(x-y)/2,size:y}}],c)}return l}}var sve=(e,t,r,a,n,i,o)=>{var l=dt(o)?t:o,c=tve(r,a,n!==i?n:i,e,l);return n!==i&&c!=null&&(c=c.map(d=>Mx(Mx({},d),{},{position:Mx(Mx({},d.position),{},{offset:d.position.offset-n/2})}))),c},rve=ee([Zge,q$,Yde,V$,eve,HB,Hge],sve),ave=(e,t,r,a)=>Wa(e,"xAxis",t,a),nve=(e,t,r,a)=>Wa(e,"yAxis",r,a),ive=(e,t,r,a)=>di(e,"xAxis",t,a),ove=(e,t,r,a)=>di(e,"yAxis",r,a),lve=ee([rve,lk],(e,t)=>{if(e!=null){var r=e.find(a=>a.stackId===t.stackId&&a.dataKeys.includes(t.dataKey));if(r!=null)return r.position}}),cve=(e,t)=>{if(!(!e||(t==null?void 0:t.dataKey)==null)){var{stackId:r}=t;if(r!=null){var a=e[r];if(a){var{stackedData:n}=a;if(n){var i=n.find(o=>o.key===t.dataKey);return i}}}}},dve=ee([vp,lk],(e,t)=>{if(e.some(r=>r.type==="bar"&&t.dataKey===r.dataKey&&t.stackId===r.stackId&&t.stackId===r.stackId))return t}),uve=ee([Yge,lk],cve),mve=ee([ks,ave,nve,ive,ove,lve,Xe,ky,HB,uve,dve,Kge],(e,t,r,a,n,i,o,l,c,d,u,m)=>{var{chartData:h,dataStartIndex:f,dataEndIndex:g}=l;if(!(u==null||i==null||o!=="horizontal"&&o!=="vertical"||t==null||r==null||a==null||n==null||c==null)){var{data:x}=u,y;if(x!=null&&x.length>0?y=x:y=h==null?void 0:h.slice(f,g+1),y!=null)return $ge({layout:o,barSettings:u,pos:i,bandSize:c,xAxis:t,yAxis:r,xAxisTicks:a,yAxisTicks:n,stackedData:d,displayedData:y,offset:e,cells:m})}}),KB=e=>{var{chartData:t}=e,r=Pt(),a=Ps();return p.useEffect(()=>a?()=>{}:(r(nM(t)),()=>{r(nM(void 0))}),[t,r,a]),null},HM={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},GB=Ya({name:"brush",initialState:HM,reducers:{setBrushSettings(e,t){return t.payload==null?HM:t.payload}}}),{setBrushSettings:YOe}=GB.actions,hve=GB.reducer;function KM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),r.push.apply(r,a)}return r}function Ox(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?KM(Object(r),!0).forEach(function(a){YB(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):KM(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function YB(e,t,r){return(t=fve(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fve(e){var t=pve(e,"string");return typeof t=="symbol"?t:t+""}function pve(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var xve=(e,t)=>{var{x:r,y:a}=e,{x:n,y:i}=t;return{x:Math.min(r,n),y:Math.min(a,i),width:Math.abs(n-r),height:Math.abs(i-a)}},gve=e=>{var{x1:t,y1:r,x2:a,y2:n}=e;return xve({x:t,y:r},{x:a,y:n})};class Vy{static create(t){return new Vy(t)}constructor(t){this.scale=t}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(t){var{bandAware:r,position:a}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t!==void 0){if(a)switch(a){case"start":return this.scale(t);case"middle":{var n=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+n}case"end":{var i=this.bandwidth?this.bandwidth():0;return this.scale(t)+i}default:return this.scale(t)}if(r){var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+o}return this.scale(t)}}isInRange(t){var r=this.range(),a=r[0],n=r[r.length-1];return a<=n?t>=a&&t<=n:t>=n&&t<=a}}YB(Vy,"EPS",1e-4);var vve=e=>{var t=Object.keys(e).reduce((r,a)=>Ox(Ox({},r),{},{[a]:Vy.create(e[a])}),{});return Ox(Ox({},t),{},{apply(r){var{bandAware:a,position:n}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Object.fromEntries(Object.entries(r).map(i=>{var[o,l]=i;return[o,t[o].apply(l,{bandAware:a,position:n})]}))},isInRange(r){return Object.keys(r).every(a=>t[a].isInRange(r[a]))}})};function yve(e){return(e%180+180)%180}var bve=function(t){var{width:r,height:a}=t,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=yve(n),o=i*Math.PI/180,l=Math.atan(a/r),c=o>l&&o<Math.PI-l?a/Math.sin(o):r/Math.cos(o);return Math.abs(c)},jve={dots:[],areas:[],lines:[]},XB=Ya({name:"referenceElements",initialState:jve,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var r=Oi(e).dots.findIndex(a=>a===t.payload);r!==-1&&e.dots.splice(r,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var r=Oi(e).areas.findIndex(a=>a===t.payload);r!==-1&&e.areas.splice(r,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var r=Oi(e).lines.findIndex(a=>a===t.payload);r!==-1&&e.lines.splice(r,1)}}}),{addDot:XOe,removeDot:QOe,addArea:JOe,removeArea:ZOe,addLine:wve,removeLine:Nve}=XB.actions,Sve=XB.reducer,QB=p.createContext(void 0),_ve=e=>{var{children:t}=e,[r]=p.useState("".concat(vl("recharts"),"-clip")),a=zy();if(a==null)return null;var{x:n,y:i,width:o,height:l}=a;return p.createElement(QB.Provider,{value:r},p.createElement("defs",null,p.createElement("clipPath",{id:r},p.createElement("rect",{x:n,y:i,height:l,width:o}))),t)},Cve=()=>p.useContext(QB);function GM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),r.push.apply(r,a)}return r}function YM(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?GM(Object(r),!0).forEach(function(a){ck(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):GM(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function ck(e,t,r){return(t=kve(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function kve(e){var t=Pve(e,"string");return typeof t=="symbol"?t:t+""}function Pve(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function K1(){return K1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},K1.apply(null,arguments)}var Eve=(e,t)=>{var r;return p.isValidElement(e)?r=p.cloneElement(e,t):typeof e=="function"?r=e(t):r=p.createElement("line",K1({},t,{className:"recharts-reference-line-line"})),r},Ave=(e,t,r,a,n,i,o,l,c)=>{var{x:d,y:u,width:m,height:h}=n;if(r){var{y:f}=c,g=e.y.apply(f,{position:i});if(dr(g)||c.ifOverflow==="discard"&&!e.y.isInRange(g))return null;var x=[{x:d+m,y:g},{x:d,y:g}];return l==="left"?x.reverse():x}if(t){var{x:y}=c,v=e.x.apply(y,{position:i});if(dr(v)||c.ifOverflow==="discard"&&!e.x.isInRange(v))return null;var b=[{x:v,y:u+h},{x:v,y:u}];return o==="top"?b.reverse():b}if(a){var{segment:j}=c,N=j.map(w=>e.apply(w,{position:i}));return c.ifOverflow==="discard"&&N.some(w=>!e.isInRange(w))?null:N}return null};function Tve(e){var t=Pt();return p.useEffect(()=>(t(wve(e)),()=>{t(Nve(e))})),null}function Mve(e){var{x:t,y:r,segment:a,xAxisId:n,yAxisId:i,shape:o,className:l,ifOverflow:c}=e,d=Ps(),u=Cve(),m=fe(k=>hi(k,n)),h=fe(k=>co(k,i)),f=fe(k=>yl(k,"xAxis",n,d)),g=fe(k=>yl(k,"yAxis",i,d)),x=yy(),y=Ua(t),v=Ua(r);if(!u||!x||m==null||h==null||f==null||g==null)return null;var b=vve({x:f,y:g}),j=a&&a.length===2,N=Ave(b,y,v,j,x,e.position,m.orientation,h.orientation,e);if(!N)return null;var[{x:w,y:S},{x:_,y:C}]=N,E=c==="hidden"?"url(#".concat(u,")"):void 0,T=YM(YM({clipPath:E},Ce(e,!0)),{},{x1:w,y1:S,x2:_,y2:C});return p.createElement(it,{className:Ie("recharts-reference-line",l)},Eve(o,T),vr.renderCallByParent(e,gve({x1:w,y1:S,x2:_,y2:C})))}function Ove(e){return p.createElement(p.Fragment,null,p.createElement(Tve,{yAxisId:e.yAxisId,xAxisId:e.xAxisId,ifOverflow:e.ifOverflow,x:e.x,y:e.y}),p.createElement(Mve,e))}class Ah extends p.Component{render(){return p.createElement(Ove,this.props)}}ck(Ah,"displayName","ReferenceLine");ck(Ah,"defaultProps",{ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function $j(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var a in t)if({}.hasOwnProperty.call(t,a)&&!{}.hasOwnProperty.call(e,a))return!1;return!0}function JB(e,t,r){if(t<1)return[];if(t===1&&r===void 0)return e;for(var a=[],n=0;n<e.length;n+=t)a.push(e[n]);return a}function Dve(e,t,r){var a={width:e.width+t.width,height:e.height+t.height};return bve(a,r)}function Rve(e,t,r){var a=r==="width",{x:n,y:i,width:o,height:l}=e;return t===1?{start:a?n:i,end:a?n+o:i+l}:{start:a?n+o:i+l,end:a?n:i}}function Rv(e,t,r,a,n){if(e*t<e*a||e*t>e*n)return!1;var i=r();return e*(t-e*i/2-a)>=0&&e*(t+e*i/2-n)<=0}function Ive(e,t){return JB(e,t+1)}function Fve(e,t,r,a,n){for(var i=(a||[]).slice(),{start:o,end:l}=t,c=0,d=1,u=o,m=function(){var g=a==null?void 0:a[c];if(g===void 0)return{v:JB(a,d)};var x=c,y,v=()=>(y===void 0&&(y=r(g,x)),y),b=g.coordinate,j=c===0||Rv(e,b,v,u,l);j||(c=0,u=o,d+=1),j&&(u=b+e*(v()/2+n),c+=d)},h;d<=i.length;)if(h=m(),h)return h.v;return[]}function XM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),r.push.apply(r,a)}return r}function Zs(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?XM(Object(r),!0).forEach(function(a){Lve(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):XM(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function Lve(e,t,r){return(t=$ve(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $ve(e){var t=Bve(e,"string");return typeof t=="symbol"?t:t+""}function Bve(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function zve(e,t,r,a,n){for(var i=(a||[]).slice(),o=i.length,{start:l}=t,{end:c}=t,d=function(h){var f=i[h],g,x=()=>(g===void 0&&(g=r(f,h)),g);if(h===o-1){var y=e*(f.coordinate+e*x()/2-c);i[h]=f=Zs(Zs({},f),{},{tickCoord:y>0?f.coordinate-y*e:f.coordinate})}else i[h]=f=Zs(Zs({},f),{},{tickCoord:f.coordinate});var v=Rv(e,f.tickCoord,x,l,c);v&&(c=f.tickCoord-e*(x()/2+n),i[h]=Zs(Zs({},f),{},{isShow:!0}))},u=o-1;u>=0;u--)d(u);return i}function Uve(e,t,r,a,n,i){var o=(a||[]).slice(),l=o.length,{start:c,end:d}=t;if(i){var u=a[l-1],m=r(u,l-1),h=e*(u.coordinate+e*m/2-d);o[l-1]=u=Zs(Zs({},u),{},{tickCoord:h>0?u.coordinate-h*e:u.coordinate});var f=Rv(e,u.tickCoord,()=>m,c,d);f&&(d=u.tickCoord-e*(m/2+n),o[l-1]=Zs(Zs({},u),{},{isShow:!0}))}for(var g=i?l-1:l,x=function(b){var j=o[b],N,w=()=>(N===void 0&&(N=r(j,b)),N);if(b===0){var S=e*(j.coordinate-e*w()/2-c);o[b]=j=Zs(Zs({},j),{},{tickCoord:S<0?j.coordinate-S*e:j.coordinate})}else o[b]=j=Zs(Zs({},j),{},{tickCoord:j.coordinate});var _=Rv(e,j.tickCoord,w,c,d);_&&(c=j.tickCoord+e*(w()/2+n),o[b]=Zs(Zs({},j),{},{isShow:!0}))},y=0;y<g;y++)x(y);return o}function dk(e,t,r){var{tick:a,ticks:n,viewBox:i,minTickGap:o,orientation:l,interval:c,tickFormatter:d,unit:u,angle:m}=e;if(!n||!n.length||!a)return[];if(ve(c)||oo.isSsr){var h;return(h=Ive(n,ve(c)?c:0))!==null&&h!==void 0?h:[]}var f=[],g=l==="top"||l==="bottom"?"width":"height",x=u&&g==="width"?Ph(u,{fontSize:t,letterSpacing:r}):{width:0,height:0},y=(j,N)=>{var w=typeof d=="function"?d(j.value,N):j.value;return g==="width"?Dve(Ph(w,{fontSize:t,letterSpacing:r}),x,m):Ph(w,{fontSize:t,letterSpacing:r})[g]},v=n.length>=2?Rs(n[1].coordinate-n[0].coordinate):1,b=Rve(i,v,g);return c==="equidistantPreserveStart"?Fve(v,b,y,n,o):(c==="preserveStart"||c==="preserveStartEnd"?f=Uve(v,b,y,n,o,c==="preserveStartEnd"):f=zve(v,b,y,n,o),f.filter(j=>j.isShow))}var qve=["viewBox"],Vve=["viewBox"];function Ud(){return Ud=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Ud.apply(null,arguments)}function QM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),r.push.apply(r,a)}return r}function js(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?QM(Object(r),!0).forEach(function(a){uk(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):QM(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function JM(e,t){if(e==null)return{};var r,a,n=Wve(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Wve(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}function uk(e,t,r){return(t=Hve(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Hve(e){var t=Kve(e,"string");return typeof t=="symbol"?t:t+""}function Kve(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class Ol extends p.Component{constructor(t){super(t),this.tickRefs=p.createRef(),this.tickRefs.current=[],this.state={fontSize:"",letterSpacing:""}}shouldComponentUpdate(t,r){var{viewBox:a}=t,n=JM(t,qve),i=this.props,{viewBox:o}=i,l=JM(i,Vve);return!$j(a,o)||!$j(n,l)||!$j(r,this.state)}getTickLineCoord(t){var{x:r,y:a,width:n,height:i,orientation:o,tickSize:l,mirror:c,tickMargin:d}=this.props,u,m,h,f,g,x,y=c?-1:1,v=t.tickSize||l,b=ve(t.tickCoord)?t.tickCoord:t.coordinate;switch(o){case"top":u=m=t.coordinate,f=a+ +!c*i,h=f-y*v,x=h-y*d,g=b;break;case"left":h=f=t.coordinate,m=r+ +!c*n,u=m-y*v,g=u-y*d,x=b;break;case"right":h=f=t.coordinate,m=r+ +c*n,u=m+y*v,g=u+y*d,x=b;break;default:u=m=t.coordinate,f=a+ +c*i,h=f+y*v,x=h+y*d,g=b;break}return{line:{x1:u,y1:h,x2:m,y2:f},tick:{x:g,y:x}}}getTickTextAnchor(){var{orientation:t,mirror:r}=this.props,a;switch(t){case"left":a=r?"start":"end";break;case"right":a=r?"end":"start";break;default:a="middle";break}return a}getTickVerticalAnchor(){var{orientation:t,mirror:r}=this.props;switch(t){case"left":case"right":return"middle";case"top":return r?"start":"end";default:return r?"end":"start"}}renderAxisLine(){var{x:t,y:r,width:a,height:n,orientation:i,mirror:o,axisLine:l}=this.props,c=js(js(js({},Ce(this.props,!1)),Ce(l,!1)),{},{fill:"none"});if(i==="top"||i==="bottom"){var d=+(i==="top"&&!o||i==="bottom"&&o);c=js(js({},c),{},{x1:t,y1:r+d*n,x2:t+a,y2:r+d*n})}else{var u=+(i==="left"&&!o||i==="right"&&o);c=js(js({},c),{},{x1:t+u*a,y1:r,x2:t+u*a,y2:r+n})}return p.createElement("line",Ud({},c,{className:Ie("recharts-cartesian-axis-line",gl(l,"className"))}))}static renderTickItem(t,r,a){var n,i=Ie(r.className,"recharts-cartesian-axis-tick-value");if(p.isValidElement(t))n=p.cloneElement(t,js(js({},r),{},{className:i}));else if(typeof t=="function")n=t(js(js({},r),{},{className:i}));else{var o="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(o=Ie(o,t.className)),n=p.createElement(_m,Ud({},r,{className:o}),a)}return n}renderTicks(t,r){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],{tickLine:n,stroke:i,tick:o,tickFormatter:l,unit:c}=this.props,d=dk(js(js({},this.props),{},{ticks:a}),t,r),u=this.getTickTextAnchor(),m=this.getTickVerticalAnchor(),h=Ce(this.props,!1),f=Ce(o,!1),g=js(js({},h),{},{fill:"none"},Ce(n,!1)),x=d.map((y,v)=>{var{line:b,tick:j}=this.getTickLineCoord(y),N=js(js(js(js({textAnchor:u,verticalAnchor:m},h),{},{stroke:"none",fill:i},f),j),{},{index:v,payload:y,visibleTicksCount:d.length,tickFormatter:l});return p.createElement(it,Ud({className:"recharts-cartesian-axis-tick",key:"tick-".concat(y.value,"-").concat(y.coordinate,"-").concat(y.tickCoord)},Qc(this.props,y,v)),n&&p.createElement("line",Ud({},g,b,{className:Ie("recharts-cartesian-axis-tick-line",gl(n,"className"))})),o&&Ol.renderTickItem(o,N,"".concat(typeof l=="function"?l(y.value,v):y.value).concat(c||"")))});return x.length>0?p.createElement("g",{className:"recharts-cartesian-axis-ticks"},x):null}render(){var{axisLine:t,width:r,height:a,className:n,hide:i}=this.props;if(i)return null;var{ticks:o}=this.props;return r!=null&&r<=0||a!=null&&a<=0?null:p.createElement(it,{className:Ie("recharts-cartesian-axis",n),ref:l=>{if(l){var c=l.getElementsByClassName("recharts-cartesian-axis-tick-value");this.tickRefs.current=Array.from(c);var d=c[0];if(d){var u=window.getComputedStyle(d).fontSize,m=window.getComputedStyle(d).letterSpacing;(u!==this.state.fontSize||m!==this.state.letterSpacing)&&this.setState({fontSize:window.getComputedStyle(d).fontSize,letterSpacing:window.getComputedStyle(d).letterSpacing})}}}},t&&this.renderAxisLine(),this.renderTicks(this.state.fontSize,this.state.letterSpacing,o),vr.renderCallByParent(this.props))}}uk(Ol,"displayName","CartesianAxis");uk(Ol,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var Gve=["x1","y1","x2","y2","key"],Yve=["offset"],Xve=["xAxisId","yAxisId"],Qve=["xAxisId","yAxisId"];function ZM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),r.push.apply(r,a)}return r}function sr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ZM(Object(r),!0).forEach(function(a){Jve(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ZM(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function Jve(e,t,r){return(t=Zve(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Zve(e){var t=e0e(e,"string");return typeof t=="symbol"?t:t+""}function e0e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ic(){return ic=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},ic.apply(null,arguments)}function Iv(e,t){if(e==null)return{};var r,a,n=t0e(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function t0e(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}var s0e=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:r,x:a,y:n,width:i,height:o,ry:l}=e;return p.createElement("rect",{x:a,y:n,ry:l,width:i,height:o,stroke:"none",fill:t,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function ZB(e,t){var r;if(p.isValidElement(e))r=p.cloneElement(e,t);else if(typeof e=="function")r=e(t);else{var{x1:a,y1:n,x2:i,y2:o,key:l}=t,c=Iv(t,Gve),d=Ce(c,!1),{offset:u}=d,m=Iv(d,Yve);r=p.createElement("line",ic({},m,{x1:a,y1:n,x2:i,y2:o,fill:"none",key:l}))}return r}function r0e(e){var{x:t,width:r,horizontal:a=!0,horizontalPoints:n}=e;if(!a||!n||!n.length)return null;var{xAxisId:i,yAxisId:o}=e,l=Iv(e,Xve),c=n.map((d,u)=>{var m=sr(sr({},l),{},{x1:t,y1:d,x2:t+r,y2:d,key:"line-".concat(u),index:u});return ZB(a,m)});return p.createElement("g",{className:"recharts-cartesian-grid-horizontal"},c)}function a0e(e){var{y:t,height:r,vertical:a=!0,verticalPoints:n}=e;if(!a||!n||!n.length)return null;var{xAxisId:i,yAxisId:o}=e,l=Iv(e,Qve),c=n.map((d,u)=>{var m=sr(sr({},l),{},{x1:d,y1:t,x2:d,y2:t+r,key:"line-".concat(u),index:u});return ZB(a,m)});return p.createElement("g",{className:"recharts-cartesian-grid-vertical"},c)}function n0e(e){var{horizontalFill:t,fillOpacity:r,x:a,y:n,width:i,height:o,horizontalPoints:l,horizontal:c=!0}=e;if(!c||!t||!t.length)return null;var d=l.map(m=>Math.round(m+n-n)).sort((m,h)=>m-h);n!==d[0]&&d.unshift(0);var u=d.map((m,h)=>{var f=!d[h+1],g=f?n+o-m:d[h+1]-m;if(g<=0)return null;var x=h%t.length;return p.createElement("rect",{key:"react-".concat(h),y:m,x:a,height:g,width:i,stroke:"none",fill:t[x],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return p.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},u)}function i0e(e){var{vertical:t=!0,verticalFill:r,fillOpacity:a,x:n,y:i,width:o,height:l,verticalPoints:c}=e;if(!t||!r||!r.length)return null;var d=c.map(m=>Math.round(m+n-n)).sort((m,h)=>m-h);n!==d[0]&&d.unshift(0);var u=d.map((m,h)=>{var f=!d[h+1],g=f?n+o-m:d[h+1]-m;if(g<=0)return null;var x=h%r.length;return p.createElement("rect",{key:"react-".concat(h),x:m,y:i,width:g,height:l,stroke:"none",fill:r[x],fillOpacity:a,className:"recharts-cartesian-grid-bg"})});return p.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},u)}var o0e=(e,t)=>{var{xAxis:r,width:a,height:n,offset:i}=e;return NL(dk(sr(sr(sr({},Ol.defaultProps),r),{},{ticks:SL(r),viewBox:{x:0,y:0,width:a,height:n}})),i.left,i.left+i.width,t)},l0e=(e,t)=>{var{yAxis:r,width:a,height:n,offset:i}=e;return NL(dk(sr(sr(sr({},Ol.defaultProps),r),{},{ticks:SL(r),viewBox:{x:0,y:0,width:a,height:n}})),i.top,i.top+i.height,t)},c0e={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0};function rs(e){var t=z_(),r=U_(),a=EL(),n=sr(sr({},Kr(e,c0e)),{},{x:ve(e.x)?e.x:a.left,y:ve(e.y)?e.y:a.top,width:ve(e.width)?e.width:a.width,height:ve(e.height)?e.height:a.height}),{xAxisId:i,yAxisId:o,x:l,y:c,width:d,height:u,syncWithTicks:m,horizontalValues:h,verticalValues:f}=n,g=Ps(),x=fe(E=>QT(E,"xAxis",i,g)),y=fe(E=>QT(E,"yAxis",o,g));if(!ve(d)||d<=0||!ve(u)||u<=0||!ve(l)||l!==+l||!ve(c)||c!==+c)return null;var v=n.verticalCoordinatesGenerator||o0e,b=n.horizontalCoordinatesGenerator||l0e,{horizontalPoints:j,verticalPoints:N}=n;if((!j||!j.length)&&typeof b=="function"){var w=h&&h.length,S=b({yAxis:y?sr(sr({},y),{},{ticks:w?h:y.ticks}):void 0,width:t,height:r,offset:a},w?!0:m);kh(Array.isArray(S),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof S,"]")),Array.isArray(S)&&(j=S)}if((!N||!N.length)&&typeof v=="function"){var _=f&&f.length,C=v({xAxis:x?sr(sr({},x),{},{ticks:_?f:x.ticks}):void 0,width:t,height:r,offset:a},_?!0:m);kh(Array.isArray(C),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof C,"]")),Array.isArray(C)&&(N=C)}return p.createElement("g",{className:"recharts-cartesian-grid"},p.createElement(s0e,{fill:n.fill,fillOpacity:n.fillOpacity,x:n.x,y:n.y,width:n.width,height:n.height,ry:n.ry}),p.createElement(n0e,ic({},n,{horizontalPoints:j})),p.createElement(i0e,ic({},n,{verticalPoints:N})),p.createElement(r0e,ic({},n,{offset:a,horizontalPoints:j,xAxis:x,yAxis:y})),p.createElement(a0e,ic({},n,{offset:a,verticalPoints:N,xAxis:x,yAxis:y})))}rs.displayName="CartesianGrid";var ez=(e,t,r,a)=>Wa(e,"xAxis",t,a),tz=(e,t,r,a)=>di(e,"xAxis",t,a),sz=(e,t,r,a)=>Wa(e,"yAxis",r,a),rz=(e,t,r,a)=>di(e,"yAxis",r,a),d0e=ee([Xe,ez,sz,tz,rz],(e,t,r,a,n)=>Tn(e,"xAxis")?Hi(t,a,!1):Hi(r,n,!1)),u0e=(e,t,r,a,n)=>n,m0e=ee([vp,u0e],(e,t)=>{if(e.some(r=>r.type==="line"&&t.dataKey===r.dataKey&&t.data===r.data))return t}),h0e=ee([Xe,ez,sz,tz,rz,m0e,d0e,ky],(e,t,r,a,n,i,o,l)=>{var{chartData:c,dataStartIndex:d,dataEndIndex:u}=l;if(!(i==null||t==null||r==null||a==null||n==null||a.length===0||n.length===0||o==null)){var{dataKey:m,data:h}=i,f;if(h!=null&&h.length>0?f=h:f=c==null?void 0:c.slice(d,u+1),f!=null)return M0e({layout:e,xAxis:t,yAxis:r,xAxisTicks:a,yAxisTicks:n,dataKey:m,bandSize:o,displayedData:f})}}),f0e=["type","layout","connectNulls","needClip"],p0e=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId"];function az(e,t){if(e==null)return{};var r,a,n=x0e(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function x0e(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}function eO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),r.push.apply(r,a)}return r}function fn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?eO(Object(r),!0).forEach(function(a){Wy(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):eO(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function Wy(e,t,r){return(t=g0e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function g0e(e){var t=v0e(e,"string");return typeof t=="symbol"?t:t+""}function v0e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function zu(){return zu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},zu.apply(null,arguments)}var y0e=e=>{var{dataKey:t,name:r,stroke:a,legendType:n,hide:i}=e;return[{inactive:i,dataKey:t,type:n,color:a,value:mi(r,t),payload:e}]};function b0e(e){var{dataKey:t,data:r,stroke:a,strokeWidth:n,fill:i,name:o,hide:l,unit:c}=e;return{dataDefinedOnItem:r,positions:void 0,settings:{stroke:a,strokeWidth:n,fill:i,dataKey:t,nameKey:void 0,name:mi(o,t),hide:l,type:e.tooltipType,color:e.stroke,unit:c}}}var nz=(e,t)=>"".concat(t,"px ").concat(e-t,"px");function j0e(e,t){for(var r=e.length%2!==0?[...e,0]:e,a=[],n=0;n<t;++n)a=[...a,...r];return a}var w0e=(e,t,r)=>{var a=r.reduce((m,h)=>m+h);if(!a)return nz(t,e);for(var n=Math.floor(e/a),i=e%a,o=t-e,l=[],c=0,d=0;c<r.length;d+=r[c],++c)if(d+r[c]>i){l=[...r.slice(0,c),i-d];break}var u=l.length%2===0?[0,o]:[o];return[...j0e(r,n),...l,...u].map(m=>"".concat(m,"px")).join(", ")};function N0e(e,t){var r;if(p.isValidElement(e))r=p.cloneElement(e,t);else if(typeof e=="function")r=e(t);else{var a=Ie("recharts-line-dot",typeof e!="boolean"?e.className:"");r=p.createElement(Np,zu({},t,{className:a}))}return r}function S0e(e,t){return e==null?!1:t?!0:e.length===1}function _0e(e){var{clipPathId:t,points:r,props:a}=e,{dot:n,dataKey:i,needClip:o}=a;if(!S0e(r,n))return null;var l=Z0(n),c=Ce(a,!1),d=Ce(n,!0),u=r.map((h,f)=>{var g=fn(fn(fn({key:"dot-".concat(f),r:3},c),d),{},{index:f,cx:h.x,cy:h.y,dataKey:i,value:h.value,payload:h.payload,points:r});return N0e(n,g)}),m={clipPath:o?"url(#clipPath-".concat(l?"":"dots-").concat(t,")"):null};return p.createElement(it,zu({className:"recharts-line-dots",key:"dots"},m),u)}function G1(e){var{clipPathId:t,pathRef:r,points:a,strokeDasharray:n,props:i,showLabels:o}=e,{type:l,layout:c,connectNulls:d,needClip:u}=i,m=az(i,f0e),h=fn(fn({},Ce(m,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:u?"url(#clipPath-".concat(t,")"):null,points:a,type:l,layout:c,connectNulls:d,strokeDasharray:n??i.strokeDasharray});return p.createElement(p.Fragment,null,(a==null?void 0:a.length)>1&&p.createElement(au,zu({},h,{pathRef:r})),p.createElement(_0e,{points:a,clipPathId:t,props:i}),o&&ei.renderCallByParent(i,a))}function C0e(e){try{return e&&e.getTotalLength&&e.getTotalLength()||0}catch{return 0}}function k0e(e){var{clipPathId:t,props:r,pathRef:a,previousPointsRef:n,longestAnimatedLengthRef:i}=e,{points:o,strokeDasharray:l,isAnimationActive:c,animationBegin:d,animationDuration:u,animationEasing:m,animateNewValues:h,width:f,height:g,onAnimationEnd:x,onAnimationStart:y}=r,v=n.current,b=kp(r,"recharts-line-"),[j,N]=p.useState(!1),w=p.useCallback(()=>{typeof x=="function"&&x(),N(!1)},[x]),S=p.useCallback(()=>{typeof y=="function"&&y(),N(!0)},[y]),_=C0e(a.current),C=i.current;return p.createElement(li,{begin:d,duration:u,isActive:c,easing:m,from:{t:0},to:{t:1},onAnimationEnd:w,onAnimationStart:S,key:b},E=>{var{t:T}=E,k=qs(C,_+C),P=Math.min(k(T),_),D;if(l){var I="".concat(l).split(/[,\s]+/gim).map(R=>parseFloat(R));D=w0e(P,_,I)}else D=nz(_,P);if(v){var V=v.length/o.length,W=T===1?o:o.map((R,F)=>{var H=Math.floor(F*V);if(v[H]){var Z=v[H],B=qs(Z.x,R.x),K=qs(Z.y,R.y);return fn(fn({},R),{},{x:B(T),y:K(T)})}if(h){var Q=qs(f*2,R.x),ie=qs(g/2,R.y);return fn(fn({},R),{},{x:Q(T),y:ie(T)})}return fn(fn({},R),{},{x:R.x,y:R.y})});return n.current=W,p.createElement(G1,{props:r,points:W,clipPathId:t,pathRef:a,showLabels:!j,strokeDasharray:D})}return T>0&&_>0&&(n.current=o,i.current=P),p.createElement(G1,{props:r,points:o,clipPathId:t,pathRef:a,showLabels:!j,strokeDasharray:D})})}function P0e(e){var{clipPathId:t,props:r}=e,{points:a,isAnimationActive:n}=r,i=p.useRef(null),o=p.useRef(0),l=p.useRef(null),c=i.current;return n&&a&&a.length&&c!==a?p.createElement(k0e,{props:r,clipPathId:t,previousPointsRef:i,longestAnimatedLengthRef:o,pathRef:l}):p.createElement(G1,{props:r,points:a,clipPathId:t,pathRef:l,showLabels:!0})}var E0e=(e,t)=>({x:e.x,y:e.y,value:e.value,errorVal:pt(e.payload,t)});class A0e extends p.Component{constructor(){super(...arguments),Wy(this,"id",vl("recharts-line-"))}render(){var t,{hide:r,dot:a,points:n,className:i,xAxisId:o,yAxisId:l,top:c,left:d,width:u,height:m,id:h,needClip:f,layout:g}=this.props;if(r)return null;var x=Ie("recharts-line",i),y=dt(h)?this.id:h,{r:v=3,strokeWidth:b=2}=(t=Ce(a,!1))!==null&&t!==void 0?t:{r:3,strokeWidth:2},j=Z0(a),N=v*2+b;return p.createElement(p.Fragment,null,p.createElement(it,{className:x},f&&p.createElement("defs",null,p.createElement(ok,{clipPathId:y,xAxisId:o,yAxisId:l}),!j&&p.createElement("clipPath",{id:"clipPath-dots-".concat(y)},p.createElement("rect",{x:d-N/2,y:c-N/2,width:u+N,height:m+N}))),p.createElement(P0e,{props:this.props,clipPathId:y}),p.createElement($B,{direction:g==="horizontal"?"y":"x"},p.createElement(IB,{xAxisId:o,yAxisId:l,data:n,dataPointFormatter:E0e,errorBarOffset:0},this.props.children))),p.createElement(Ov,{activeDot:this.props.activeDot,points:n,mainColor:this.props.stroke,itemDataKey:this.props.dataKey}))}}var iz={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:!oo.isSsr,label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0};function T0e(e){var t=Kr(e,iz),{activeDot:r,animateNewValues:a,animationBegin:n,animationDuration:i,animationEasing:o,connectNulls:l,dot:c,hide:d,isAnimationActive:u,label:m,legendType:h,xAxisId:f,yAxisId:g}=t,x=az(t,p0e),{needClip:y}=Uy(f,g),{height:v,width:b,x:j,y:N}=zy(),w=cp(),S=Ps(),_=p.useMemo(()=>({dataKey:e.dataKey,data:e.data}),[e.dataKey,e.data]),C=fe(E=>h0e(E,f,g,S,_));return w!=="horizontal"&&w!=="vertical"?null:p.createElement(A0e,zu({},x,{connectNulls:l,dot:c,activeDot:r,animateNewValues:a,animationBegin:n,animationDuration:i,animationEasing:o,isAnimationActive:u,hide:d,label:m,legendType:h,xAxisId:f,yAxisId:g,points:C,layout:w,height:v,width:b,left:j,top:N,needClip:y}))}function M0e(e){var{layout:t,xAxis:r,yAxis:a,xAxisTicks:n,yAxisTicks:i,dataKey:o,bandSize:l,displayedData:c}=e;return c.map((d,u)=>{var m=pt(d,o);return t==="horizontal"?{x:fv({axis:r,ticks:n,bandSize:l,entry:d,index:u}),y:dt(m)?null:a.scale(m),value:m,payload:d}:{x:dt(m)?null:r.scale(m),y:fv({axis:a,ticks:i,bandSize:l,entry:d,index:u}),value:m,payload:d}})}class Ds extends p.PureComponent{render(){return p.createElement(ik,{type:"line",data:this.props.data,xAxisId:this.props.xAxisId,yAxisId:this.props.yAxisId,zAxisId:0,dataKey:this.props.dataKey,stackId:void 0,hide:this.props.hide,barSize:void 0},p.createElement(rk,{legendPayload:y0e(this.props)}),p.createElement(Cp,{fn:b0e,args:this.props}),p.createElement(T0e,this.props))}}Wy(Ds,"displayName","Line");Wy(Ds,"defaultProps",iz);var oz=(e,t,r,a)=>Wa(e,"xAxis",t,a),lz=(e,t,r,a)=>di(e,"xAxis",t,a),cz=(e,t,r,a)=>Wa(e,"yAxis",r,a),dz=(e,t,r,a)=>di(e,"yAxis",r,a),O0e=ee([Xe,oz,cz,lz,dz],(e,t,r,a,n)=>Tn(e,"xAxis")?Hi(t,a,!1):Hi(r,n,!1)),D0e=(e,t,r,a,n)=>{var i,o=Xe(e),l=Tn(o,"xAxis"),c;if(l?c=yf(e,"yAxis",r,a):c=yf(e,"xAxis",t,a),c!=null){var{dataKey:d,stackId:u}=n;if(u!=null){var m=(i=c[u])===null||i===void 0?void 0:i.stackedData;return m==null?void 0:m.find(h=>h.key===d)}}},R0e=(e,t,r,a,n)=>n,I0e=ee([vp,R0e],(e,t)=>{if(e.some(r=>r.type==="area"&&t.dataKey===r.dataKey&&L_(t.stackId)===r.stackId&&t.data===r.data))return t}),F0e=ee([Xe,oz,cz,lz,dz,D0e,ky,O0e,I0e],(e,t,r,a,n,i,o,l,c)=>{var{chartData:d,dataStartIndex:u,dataEndIndex:m}=o;if(!(c==null||e!=="horizontal"&&e!=="vertical"||t==null||r==null||a==null||n==null||a.length===0||n.length===0||l==null)){var{data:h}=c,f;if(h&&h.length>0?f=h:f=d==null?void 0:d.slice(u,m+1),f!=null){var g=void 0;return sye({layout:e,xAxis:t,yAxis:r,xAxisTicks:a,yAxisTicks:n,dataStartIndex:u,areaSettings:c,stackedData:i,displayedData:f,chartBaseValue:g,bandSize:l})}}}),L0e=["layout","type","stroke","connectNulls","isRange"],$0e=["activeDot","animationBegin","animationDuration","animationEasing","connectNulls","dot","fill","fillOpacity","hide","isAnimationActive","legendType","stroke","xAxisId","yAxisId"];function uz(e,t){if(e==null)return{};var r,a,n=B0e(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function B0e(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}function tO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),r.push.apply(r,a)}return r}function oc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?tO(Object(r),!0).forEach(function(a){Hy(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tO(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function Hy(e,t,r){return(t=z0e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function z0e(e){var t=U0e(e,"string");return typeof t=="symbol"?t:t+""}function U0e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ol(){return ol=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},ol.apply(null,arguments)}function Fv(e,t){return e&&e!=="none"?e:t}var q0e=e=>{var{dataKey:t,name:r,stroke:a,fill:n,legendType:i,hide:o}=e;return[{inactive:o,dataKey:t,type:i,color:Fv(a,n),value:mi(r,t),payload:e}]};function V0e(e){var{dataKey:t,data:r,stroke:a,strokeWidth:n,fill:i,name:o,hide:l,unit:c}=e;return{dataDefinedOnItem:r,positions:void 0,settings:{stroke:a,strokeWidth:n,fill:i,dataKey:t,nameKey:void 0,name:mi(o,t),hide:l,type:e.tooltipType,color:Fv(a,i),unit:c}}}var W0e=(e,t)=>{var r;if(p.isValidElement(e))r=p.cloneElement(e,t);else if(typeof e=="function")r=e(t);else{var a=Ie("recharts-area-dot",typeof e!="boolean"?e.className:"");r=p.createElement(Np,ol({},t,{className:a}))}return r};function H0e(e,t){return e==null?!1:t?!0:e.length===1}function K0e(e){var{clipPathId:t,points:r,props:a}=e,{needClip:n,dot:i,dataKey:o}=a;if(!H0e(r,i))return null;var l=Z0(i),c=Ce(a,!1),d=Ce(i,!0),u=r.map((h,f)=>{var g=oc(oc(oc({key:"dot-".concat(f),r:3},c),d),{},{index:f,cx:h.x,cy:h.y,dataKey:o,value:h.value,payload:h.payload,points:r});return W0e(i,g)}),m={clipPath:n?"url(#clipPath-".concat(l?"":"dots-").concat(t,")"):void 0};return p.createElement(it,ol({className:"recharts-area-dots"},m),u)}function Y1(e){var{points:t,baseLine:r,needClip:a,clipPathId:n,props:i,showLabels:o}=e,{layout:l,type:c,stroke:d,connectNulls:u,isRange:m}=i,h=uz(i,L0e);return p.createElement(p.Fragment,null,(t==null?void 0:t.length)>1&&p.createElement(it,{clipPath:a?"url(#clipPath-".concat(n,")"):void 0},p.createElement(au,ol({},Ce(h,!0),{points:t,connectNulls:u,type:c,baseLine:r,layout:l,stroke:"none",className:"recharts-area-area"})),d!=="none"&&p.createElement(au,ol({},Ce(i,!1),{className:"recharts-area-curve",layout:l,type:c,connectNulls:u,fill:"none",points:t})),d!=="none"&&m&&p.createElement(au,ol({},Ce(i,!1),{className:"recharts-area-curve",layout:l,type:c,connectNulls:u,fill:"none",points:r}))),p.createElement(K0e,{points:t,props:i,clipPathId:n}),o&&ei.renderCallByParent(i,t))}function G0e(e){var{alpha:t,baseLine:r,points:a,strokeWidth:n}=e,i=a[0].y,o=a[a.length-1].y;if(!Ks(i)||!Ks(o))return null;var l=t*Math.abs(i-o),c=Math.max(...a.map(d=>d.x||0));return ve(r)?c=Math.max(r,c):r&&Array.isArray(r)&&r.length&&(c=Math.max(...r.map(d=>d.x||0),c)),ve(c)?p.createElement("rect",{x:0,y:i<o?i:i-l,width:c+(n?parseInt("".concat(n),10):1),height:Math.floor(l)}):null}function Y0e(e){var{alpha:t,baseLine:r,points:a,strokeWidth:n}=e,i=a[0].x,o=a[a.length-1].x;if(!Ks(i)||!Ks(o))return null;var l=t*Math.abs(i-o),c=Math.max(...a.map(d=>d.y||0));return ve(r)?c=Math.max(r,c):r&&Array.isArray(r)&&r.length&&(c=Math.max(...r.map(d=>d.y||0),c)),ve(c)?p.createElement("rect",{x:i<o?i:i-l,y:0,width:l,height:Math.floor(c+(n?parseInt("".concat(n),10):1))}):null}function X0e(e){var{alpha:t,layout:r,points:a,baseLine:n,strokeWidth:i}=e;return r==="vertical"?p.createElement(G0e,{alpha:t,points:a,baseLine:n,strokeWidth:i}):p.createElement(Y0e,{alpha:t,points:a,baseLine:n,strokeWidth:i})}function Q0e(e){var{needClip:t,clipPathId:r,props:a,previousPointsRef:n,previousBaselineRef:i}=e,{points:o,baseLine:l,isAnimationActive:c,animationBegin:d,animationDuration:u,animationEasing:m,onAnimationStart:h,onAnimationEnd:f}=a,g=kp(a,"recharts-area-"),[x,y]=p.useState(!0),v=p.useCallback(()=>{typeof f=="function"&&f(),y(!1)},[f]),b=p.useCallback(()=>{typeof h=="function"&&h(),y(!0)},[h]),j=n.current,N=i.current;return p.createElement(li,{begin:d,duration:u,isActive:c,easing:m,from:{t:0},to:{t:1},onAnimationEnd:v,onAnimationStart:b,key:g},w=>{var{t:S}=w;if(j){var _=j.length/o.length,C=S===1?o:o.map((T,k)=>{var P=Math.floor(k*_);if(j[P]){var D=j[P];return oc(oc({},T),{},{x:xd(D.x,T.x,S),y:xd(D.y,T.y,S)})}return T}),E;return ve(l)?E=xd(N,l,S):dt(l)||dr(l)?E=xd(N,0,S):E=l.map((T,k)=>{var P=Math.floor(k*_);if(Array.isArray(N)&&N[P]){var D=N[P];return oc(oc({},T),{},{x:xd(D.x,T.x,S),y:xd(D.y,T.y,S)})}return T}),S>0&&(n.current=C,i.current=E),p.createElement(Y1,{points:C,baseLine:E,needClip:t,clipPathId:r,props:a,showLabels:!x})}return S>0&&(n.current=o,i.current=l),p.createElement(it,null,p.createElement("defs",null,p.createElement("clipPath",{id:"animationClipPath-".concat(r)},p.createElement(X0e,{alpha:S,points:o,baseLine:l,layout:a.layout,strokeWidth:a.strokeWidth}))),p.createElement(it,{clipPath:"url(#animationClipPath-".concat(r,")")},p.createElement(Y1,{points:o,baseLine:l,needClip:t,clipPathId:r,props:a,showLabels:!0})))})}function J0e(e){var{needClip:t,clipPathId:r,props:a}=e,{points:n,baseLine:i,isAnimationActive:o}=a,l=p.useRef(null),c=p.useRef(),d=l.current,u=c.current;return o&&n&&n.length&&(d!==n||u!==i)?p.createElement(Q0e,{needClip:t,clipPathId:r,props:a,previousPointsRef:l,previousBaselineRef:c}):p.createElement(Y1,{points:n,baseLine:i,needClip:t,clipPathId:r,props:a,showLabels:!0})}class Z0e extends p.PureComponent{constructor(){super(...arguments),Hy(this,"id",vl("recharts-area-"))}render(){var t,{hide:r,dot:a,points:n,className:i,top:o,left:l,needClip:c,xAxisId:d,yAxisId:u,width:m,height:h,id:f,baseLine:g}=this.props;if(r)return null;var x=Ie("recharts-area",i),y=dt(f)?this.id:f,{r:v=3,strokeWidth:b=2}=(t=Ce(a,!1))!==null&&t!==void 0?t:{r:3,strokeWidth:2},j=Z0(a),N=v*2+b;return p.createElement(p.Fragment,null,p.createElement(it,{className:x},c&&p.createElement("defs",null,p.createElement(ok,{clipPathId:y,xAxisId:d,yAxisId:u}),!j&&p.createElement("clipPath",{id:"clipPath-dots-".concat(y)},p.createElement("rect",{x:l-N/2,y:o-N/2,width:m+N,height:h+N}))),p.createElement(J0e,{needClip:c,clipPathId:y,props:this.props})),p.createElement(Ov,{points:n,mainColor:Fv(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot}),this.props.isRange&&Array.isArray(g)&&p.createElement(Ov,{points:g,mainColor:Fv(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot}))}}var mz={activeDot:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!1,fill:"#3182bd",fillOpacity:.6,hide:!1,isAnimationActive:!oo.isSsr,legendType:"line",stroke:"#3182bd",xAxisId:0,yAxisId:0};function eye(e){var t,r=Kr(e,mz),{activeDot:a,animationBegin:n,animationDuration:i,animationEasing:o,connectNulls:l,dot:c,fill:d,fillOpacity:u,hide:m,isAnimationActive:h,legendType:f,stroke:g,xAxisId:x,yAxisId:y}=r,v=uz(r,$0e),b=cp(),j=B8(),{needClip:N}=Uy(x,y),w=Ps(),S=p.useMemo(()=>({baseValue:e.baseValue,stackId:e.stackId,connectNulls:l,data:e.data,dataKey:e.dataKey}),[e.baseValue,e.stackId,l,e.data,e.dataKey]),{points:_,isRange:C,baseLine:E}=(t=fe(I=>F0e(I,x,y,w,S)))!==null&&t!==void 0?t:{},{height:T,width:k,x:P,y:D}=zy();return b!=="horizontal"&&b!=="vertical"||j!=="AreaChart"&&j!=="ComposedChart"?null:p.createElement(Z0e,ol({},v,{activeDot:a,animationBegin:n,animationDuration:i,animationEasing:o,baseLine:E,connectNulls:l,dot:c,fill:d,fillOpacity:u,height:T,hide:m,layout:b,isAnimationActive:h,isRange:C,legendType:f,needClip:N,points:_,stroke:g,width:k,left:P,top:D,xAxisId:x,yAxisId:y}))}var tye=(e,t,r,a,n)=>{var i=r??t;if(ve(i))return i;var o=e==="horizontal"?n:a,l=o.scale.domain();if(o.type==="number"){var c=Math.max(l[0],l[1]),d=Math.min(l[0],l[1]);return i==="dataMin"?d:i==="dataMax"||c<0?c:Math.max(Math.min(l[0],l[1]),0)}return i==="dataMin"?l[0]:i==="dataMax"?l[1]:l[0]};function sye(e){var{areaSettings:{connectNulls:t,baseValue:r,dataKey:a},stackedData:n,layout:i,chartBaseValue:o,xAxis:l,yAxis:c,displayedData:d,dataStartIndex:u,xAxisTicks:m,yAxisTicks:h,bandSize:f}=e,g=n&&n.length,x=tye(i,o,r,l,c),y=i==="horizontal",v=!1,b=d.map((N,w)=>{var S;g?S=n[u+w]:(S=pt(N,a),Array.isArray(S)?v=!0:S=[x,S]);var _=S[1]==null||g&&!t&&pt(N,a)==null;return y?{x:fv({axis:l,ticks:m,bandSize:f,entry:N,index:w}),y:_?null:c.scale(S[1]),value:S,payload:N}:{x:_?null:l.scale(S[1]),y:fv({axis:c,ticks:h,bandSize:f,entry:N,index:w}),value:S,payload:N}}),j;return g||v?j=b.map(N=>{var w=Array.isArray(N.value)?N.value[0]:null;return y?{x:N.x,y:w!=null&&N.y!=null?c.scale(w):null}:{x:w!=null?l.scale(w):null,y:N.y}}):j=y?c.scale(x):l.scale(x),{points:b,baseLine:j,isRange:v}}class Cf extends p.PureComponent{render(){return p.createElement(ik,{type:"area",data:this.props.data,dataKey:this.props.dataKey,xAxisId:this.props.xAxisId,yAxisId:this.props.yAxisId,zAxisId:0,stackId:this.props.stackId,hide:this.props.hide,barSize:void 0},p.createElement(rk,{legendPayload:q0e(this.props)}),p.createElement(Cp,{fn:V0e,args:this.props}),p.createElement(eye,this.props))}}Hy(Cf,"displayName","Area");Hy(Cf,"defaultProps",mz);function sO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),r.push.apply(r,a)}return r}function rO(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?sO(Object(r),!0).forEach(function(a){rye(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):sO(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function rye(e,t,r){return(t=aye(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function aye(e){var t=nye(e,"string");return typeof t=="symbol"?t:t+""}function nye(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var iye={xAxis:{},yAxis:{},zAxis:{}},hz=Ya({name:"cartesianAxis",initialState:iye,reducers:{addXAxis(e,t){e.xAxis[t.payload.id]=t.payload},removeXAxis(e,t){delete e.xAxis[t.payload.id]},addYAxis(e,t){e.yAxis[t.payload.id]=t.payload},removeYAxis(e,t){delete e.yAxis[t.payload.id]},addZAxis(e,t){e.zAxis[t.payload.id]=t.payload},removeZAxis(e,t){delete e.zAxis[t.payload.id]},updateYAxisWidth(e,t){var{id:r,width:a}=t.payload;e.yAxis[r]&&(e.yAxis[r]=rO(rO({},e.yAxis[r]),{},{width:a}))}}}),{addXAxis:oye,removeXAxis:lye,addYAxis:cye,removeYAxis:dye,addZAxis:e3e,removeZAxis:t3e,updateYAxisWidth:uye}=hz.actions,mye=hz.reducer,hye=["children"],fye=["dangerouslySetInnerHTML","ticks"];function fz(e,t,r){return(t=pye(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pye(e){var t=xye(e,"string");return typeof t=="symbol"?t:t+""}function xye(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function X1(){return X1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},X1.apply(null,arguments)}function pz(e,t){if(e==null)return{};var r,a,n=gye(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function gye(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}function vye(e){var t=Pt(),r=p.useMemo(()=>{var{children:i}=e,o=pz(e,hye);return o},[e]),a=fe(i=>hi(i,r.id)),n=r===a;return p.useEffect(()=>(t(oye(r)),()=>{t(lye(r))}),[r,t]),n?e.children:null}var yye=e=>{var{xAxisId:t,className:r}=e,a=fe(PL),n=Ps(),i="xAxis",o=fe(f=>yl(f,i,t,n)),l=fe(f=>v8(f,i,t,n)),c=fe(f=>f8(f,t)),d=fe(f=>que(f,t));if(c==null||d==null)return null;var{dangerouslySetInnerHTML:u,ticks:m}=e,h=pz(e,fye);return p.createElement(Ol,X1({},h,{scale:o,x:d.x,y:d.y,width:c.width,height:c.height,className:Ie("recharts-".concat(i," ").concat(i),r),viewBox:a,ticks:l}))},bye=e=>{var t,r,a,n,i;return p.createElement(vye,{interval:(t=e.interval)!==null&&t!==void 0?t:"preserveEnd",id:e.xAxisId,scale:e.scale,type:e.type,padding:e.padding,allowDataOverflow:e.allowDataOverflow,domain:e.domain,dataKey:e.dataKey,allowDuplicatedCategory:e.allowDuplicatedCategory,allowDecimals:e.allowDecimals,tickCount:e.tickCount,includeHidden:(r=e.includeHidden)!==null&&r!==void 0?r:!1,reversed:e.reversed,ticks:e.ticks,height:e.height,orientation:e.orientation,mirror:e.mirror,hide:e.hide,unit:e.unit,name:e.name,angle:(a=e.angle)!==null&&a!==void 0?a:0,minTickGap:(n=e.minTickGap)!==null&&n!==void 0?n:5,tick:(i=e.tick)!==null&&i!==void 0?i:!0,tickFormatter:e.tickFormatter},p.createElement(yye,e))};class Kt extends p.Component{render(){return p.createElement(bye,this.props)}}fz(Kt,"displayName","XAxis");fz(Kt,"defaultProps",{allowDataOverflow:Qr.allowDataOverflow,allowDecimals:Qr.allowDecimals,allowDuplicatedCategory:Qr.allowDuplicatedCategory,height:Qr.height,hide:!1,mirror:Qr.mirror,orientation:Qr.orientation,padding:Qr.padding,reversed:Qr.reversed,scale:Qr.scale,tickCount:Qr.tickCount,type:Qr.type,xAxisId:0});var jye=e=>{var{ticks:t,label:r,labelGapWithTick:a=5,tickSize:n=0,tickMargin:i=0}=e,o=0;if(t){t.forEach(u=>{if(u){var m=u.getBoundingClientRect();m.width>o&&(o=m.width)}});var l=r?r.getBoundingClientRect().width:0,c=n+i,d=o+c+l+(r?a:0);return Math.round(d)}return 0},wye=["dangerouslySetInnerHTML","ticks"];function xz(e,t,r){return(t=Nye(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Nye(e){var t=Sye(e,"string");return typeof t=="symbol"?t:t+""}function Sye(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Q1(){return Q1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Q1.apply(null,arguments)}function _ye(e,t){if(e==null)return{};var r,a,n=Cye(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Cye(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}function kye(e){var t=Pt();return p.useEffect(()=>(t(cye(e)),()=>{t(dye(e))}),[e,t]),null}var Pye=e=>{var t,{yAxisId:r,className:a,width:n,label:i}=e,o=p.useRef(null),l=p.useRef(null),c=fe(PL),d=Ps(),u=Pt(),m="yAxis",h=fe(j=>yl(j,m,r,d)),f=fe(j=>p8(j,r)),g=fe(j=>Vue(j,r)),x=fe(j=>v8(j,m,r,d));if(p.useLayoutEffect(()=>{var j;if(!(n!=="auto"||!f||WC(i)||p.isValidElement(i))){var N=o.current,w=N==null||(j=N.tickRefs)===null||j===void 0?void 0:j.current,{tickSize:S,tickMargin:_}=N.props,C=jye({ticks:w,label:l.current,labelGapWithTick:5,tickSize:S,tickMargin:_});Math.round(f.width)!==Math.round(C)&&u(uye({id:r,width:C}))}},[o,o==null||(t=o.current)===null||t===void 0||(t=t.tickRefs)===null||t===void 0?void 0:t.current,f==null?void 0:f.width,f,u,i,r,n]),f==null||g==null)return null;var{dangerouslySetInnerHTML:y,ticks:v}=e,b=_ye(e,wye);return p.createElement(Ol,Q1({},b,{ref:o,labelRef:l,scale:h,x:g.x,y:g.y,width:f.width,height:f.height,className:Ie("recharts-".concat(m," ").concat(m),a),viewBox:c,ticks:x}))},Eye=e=>{var t,r,a,n,i;return p.createElement(p.Fragment,null,p.createElement(kye,{interval:(t=e.interval)!==null&&t!==void 0?t:"preserveEnd",id:e.yAxisId,scale:e.scale,type:e.type,domain:e.domain,allowDataOverflow:e.allowDataOverflow,dataKey:e.dataKey,allowDuplicatedCategory:e.allowDuplicatedCategory,allowDecimals:e.allowDecimals,tickCount:e.tickCount,padding:e.padding,includeHidden:(r=e.includeHidden)!==null&&r!==void 0?r:!1,reversed:e.reversed,ticks:e.ticks,width:e.width,orientation:e.orientation,mirror:e.mirror,hide:e.hide,unit:e.unit,name:e.name,angle:(a=e.angle)!==null&&a!==void 0?a:0,minTickGap:(n=e.minTickGap)!==null&&n!==void 0?n:5,tick:(i=e.tick)!==null&&i!==void 0?i:!0,tickFormatter:e.tickFormatter}),p.createElement(Pye,e))},Aye={allowDataOverflow:Jr.allowDataOverflow,allowDecimals:Jr.allowDecimals,allowDuplicatedCategory:Jr.allowDuplicatedCategory,hide:!1,mirror:Jr.mirror,orientation:Jr.orientation,padding:Jr.padding,reversed:Jr.reversed,scale:Jr.scale,tickCount:Jr.tickCount,type:Jr.type,width:Jr.width,yAxisId:0};class It extends p.Component{render(){return p.createElement(Eye,this.props)}}xz(It,"displayName","YAxis");xz(It,"defaultProps",Aye);var Tye={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pp=p;function Mye(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Oye=typeof Object.is=="function"?Object.is:Mye,Dye=Pp.useSyncExternalStore,Rye=Pp.useRef,Iye=Pp.useEffect,Fye=Pp.useMemo,Lye=Pp.useDebugValue;Tye.useSyncExternalStoreWithSelector=function(e,t,r,a,n){var i=Rye(null);if(i.current===null){var o={hasValue:!1,value:null};i.current=o}else o=i.current;i=Fye(function(){function c(f){if(!d){if(d=!0,u=f,f=a(f),n!==void 0&&o.hasValue){var g=o.value;if(n(g,f))return m=g}return m=f}if(g=m,Oye(u,f))return g;var x=a(f);return n!==void 0&&n(g,x)?(u=f,g):(u=f,m=x)}var d=!1,u,m,h=r===void 0?null:r;return[function(){return c(t())},h===null?void 0:function(){return c(h())}]},[t,r,a,n]);var l=Dye(e,i[0],i[1]);return Iye(function(){o.hasValue=!0,o.value=l},[l]),Lye(l),l};function $ye(e){e()}function Bye(){let e=null,t=null;return{clear(){e=null,t=null},notify(){$ye(()=>{let r=e;for(;r;)r.callback(),r=r.next})},get(){const r=[];let a=e;for(;a;)r.push(a),a=a.next;return r},subscribe(r){let a=!0;const n=t={callback:r,next:null,prev:t};return n.prev?n.prev.next=n:e=n,function(){!a||e===null||(a=!1,n.next?n.next.prev=n.prev:t=n.prev,n.prev?n.prev.next=n.next:e=n.next)}}}}var aO={notify(){},get:()=>[]};function zye(e,t){let r,a=aO,n=0,i=!1;function o(x){u();const y=a.subscribe(x);let v=!1;return()=>{v||(v=!0,y(),m())}}function l(){a.notify()}function c(){g.onStateChange&&g.onStateChange()}function d(){return i}function u(){n++,r||(r=e.subscribe(c),a=Bye())}function m(){n--,r&&n===0&&(r(),r=void 0,a.clear(),a=aO)}function h(){i||(i=!0,u())}function f(){i&&(i=!1,m())}const g={addNestedSub:o,notifyNestedSubs:l,handleChangeWrapper:c,isSubscribed:d,trySubscribe:h,tryUnsubscribe:f,getListeners:()=>a};return g}var Uye=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",qye=Uye(),Vye=()=>typeof navigator<"u"&&navigator.product==="ReactNative",Wye=Vye(),Hye=()=>qye||Wye?p.useLayoutEffect:p.useEffect,Kye=Hye(),Bj=Symbol.for("react-redux-context"),zj=typeof globalThis<"u"?globalThis:{};function Gye(){if(!p.createContext)return{};const e=zj[Bj]??(zj[Bj]=new Map);let t=e.get(p.createContext);return t||(t=p.createContext(null),e.set(p.createContext,t)),t}var Yye=Gye();function Xye(e){const{children:t,context:r,serverState:a,store:n}=e,i=p.useMemo(()=>{const c=zye(n);return{store:n,subscription:c,getServerState:a?()=>a:void 0}},[n,a]),o=p.useMemo(()=>n.getState(),[n]);Kye(()=>{const{subscription:c}=i;return c.onStateChange=c.notifyNestedSubs,c.trySubscribe(),o!==n.getState()&&c.notifyNestedSubs(),()=>{c.tryUnsubscribe(),c.onStateChange=void 0}},[i,o]);const l=r||Yye;return p.createElement(l.Provider,{value:i},t)}var Qye=Xye,Jye=(e,t)=>t,mk=ee([Jye,Xe,xp,Ls,D8,uo,Vme,ks],Yme),hk=e=>{var t=e.currentTarget.getBoundingClientRect(),r=t.width/e.currentTarget.offsetWidth,a=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/r),chartY:Math.round((e.clientY-t.top)/a)}},gz=qa("mouseClick"),vz=lp();vz.startListening({actionCreator:gz,effect:(e,t)=>{var r=e.payload,a=mk(t.getState(),hk(r));(a==null?void 0:a.activeIndex)!=null&&t.dispatch(tme({activeIndex:a.activeIndex,activeDataKey:void 0,activeCoordinate:a.activeCoordinate}))}});var J1=qa("mouseMove"),yz=lp();yz.startListening({actionCreator:J1,effect:(e,t)=>{var r=e.payload,a=t.getState(),n=IC(a,a.tooltip.settings.shared),i=mk(a,hk(r));n==="axis"&&((i==null?void 0:i.activeIndex)!=null?t.dispatch(k8({activeIndex:i.activeIndex,activeDataKey:void 0,activeCoordinate:i.activeCoordinate})):t.dispatch(C8()))}});function Zye(e,t){return t instanceof HTMLElement?"HTMLElement <".concat(t.tagName,' class="').concat(t.className,'">'):t===window?"global.window":t}var nO={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index"},bz=Ya({name:"rootProps",initialState:nO,reducers:{updateOptions:(e,t)=>{var r;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(r=t.payload.barGap)!==null&&r!==void 0?r:nO.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className}}}),ebe=bz.reducer,{updateOptions:tbe}=bz.actions,jz=Ya({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),{updatePolarOptions:sbe}=jz.actions,rbe=jz.reducer,wz=qa("keyDown"),Nz=qa("focus"),fk=lp();fk.startListening({actionCreator:wz,effect:(e,t)=>{var r=t.getState(),a=r.rootProps.accessibilityLayer!==!1;if(a){var{keyboardInteraction:n}=r.tooltip,i=e.payload;if(!(i!=="ArrowRight"&&i!=="ArrowLeft"&&i!=="Enter")){var o=Number(FC(n,sd(r))),l=uo(r);if(i==="Enter"){var c=Ev(r,"axis","hover",String(n.index));t.dispatch($1({active:!n.active,activeIndex:n.index,activeDataKey:n.dataKey,activeCoordinate:c}));return}var d=Hue(r),u=d==="left-to-right"?1:-1,m=i==="ArrowRight"?1:-1,h=o+m*u;if(!(l==null||h>=l.length||h<0)){var f=Ev(r,"axis","hover",String(h));t.dispatch($1({active:!0,activeIndex:h.toString(),activeDataKey:void 0,activeCoordinate:f}))}}}}});fk.startListening({actionCreator:Nz,effect:(e,t)=>{var r=t.getState(),a=r.rootProps.accessibilityLayer!==!1;if(a){var{keyboardInteraction:n}=r.tooltip;if(!n.active&&n.index==null){var i="0",o=Ev(r,"axis","hover",String(i));t.dispatch($1({activeDataKey:void 0,active:!0,activeIndex:i,activeCoordinate:o}))}}}});var Na=qa("externalEvent"),Sz=lp();Sz.startListening({actionCreator:Na,effect:(e,t)=>{if(e.payload.handler!=null){var r=t.getState(),a={activeCoordinate:Rme(r),activeDataKey:L8(r),activeIndex:bl(r),activeLabel:F8(r),activeTooltipIndex:bl(r),isTooltipActive:Ime(r)};e.payload.handler(a,e.payload.reactEvent)}}});var abe=ee([wm],e=>e.tooltipItemPayloads),nbe=ee([abe,wp,(e,t,r)=>t,(e,t,r)=>r],(e,t,r,a)=>{var n=e.find(l=>l.settings.dataKey===a);if(n!=null){var{positions:i}=n;if(i!=null){var o=t(i,r);return o}}}),_z=qa("touchMove"),Cz=lp();Cz.startListening({actionCreator:_z,effect:(e,t)=>{var r=e.payload,a=t.getState(),n=IC(a,a.tooltip.settings.shared);if(n==="axis"){var i=mk(a,hk({clientX:r.touches[0].clientX,clientY:r.touches[0].clientY,currentTarget:r.currentTarget}));(i==null?void 0:i.activeIndex)!=null&&t.dispatch(k8({activeIndex:i.activeIndex,activeDataKey:void 0,activeCoordinate:i.activeCoordinate}))}else if(n==="item"){var o,l=r.touches[0],c=document.elementFromPoint(l.clientX,l.clientY);if(!c||!c.getAttribute)return;var d=c.getAttribute(CL),u=(o=c.getAttribute(kL))!==null&&o!==void 0?o:void 0,m=nbe(t.getState(),d,u);t.dispatch(_8({activeDataKey:u,activeIndex:d,activeCoordinate:m}))}}});var ibe=JF({brush:hve,cartesianAxis:mye,chartData:dhe,graphicalItems:Ipe,layout:eie,legend:Bie,options:nhe,polarAxis:Gfe,polarOptions:rbe,referenceElements:Sve,rootProps:ebe,tooltip:sme}),obe=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Chart";return _ne({reducer:ibe,preloadedState:t,middleware:a=>a({serializableCheck:!1}).concat([vz.middleware,yz.middleware,fk.middleware,Sz.middleware,Cz.middleware]),devTools:{serialize:{replacer:Zye},name:"recharts-".concat(r)}})};function kz(e){var{preloadedState:t,children:r,reduxStoreName:a}=e,n=Ps(),i=p.useRef(null);if(n)return r;i.current==null&&(i.current=obe(t,a));var o=A_;return p.createElement(Qye,{context:o,store:i.current},r)}function Pz(e){var{layout:t,width:r,height:a,margin:n}=e,i=Pt(),o=Ps();return p.useEffect(()=>{o||(i(Qne(t)),i(Jne({width:r,height:a})),i(Xne(n)))},[i,o,t,r,a,n]),null}function Ez(e){var t=Pt();return p.useEffect(()=>{t(tbe(e))},[t,e]),null}var lbe=["children"];function cbe(e,t){if(e==null)return{};var r,a,n=dbe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function dbe(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}function Lv(){return Lv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Lv.apply(null,arguments)}var ube={width:"100%",height:"100%"},mbe=p.forwardRef((e,t)=>{var r=z_(),a=U_(),n=OL();if(!Ru(r)||!Ru(a))return null;var{children:i,otherAttributes:o,title:l,desc:c}=e,d,u;return typeof o.tabIndex=="number"?d=o.tabIndex:d=n?0:void 0,typeof o.role=="string"?u=o.role:u=n?"application":void 0,p.createElement(g_,Lv({},o,{title:l,desc:c,role:u,tabIndex:d,width:r,height:a,style:ube,ref:t}),i)}),hbe=e=>{var{children:t}=e,r=fe(vy);if(!r)return null;var{width:a,height:n,y:i,x:o}=r;return p.createElement(g_,{width:a,height:n,x:o,y:i},t)},iO=p.forwardRef((e,t)=>{var{children:r}=e,a=cbe(e,lbe),n=Ps();return n?p.createElement(hbe,null,r):p.createElement(mbe,Lv({ref:t},a),r)});function fbe(){var e=Pt(),[t,r]=p.useState(null),a=fe(Pie);return p.useEffect(()=>{if(t!=null){var n=t.getBoundingClientRect(),i=n.width/t.offsetWidth;Ks(i)&&i!==a&&e(Zne(i))}},[t,e,a]),r}function oO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),r.push.apply(r,a)}return r}function pbe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?oO(Object(r),!0).forEach(function(a){xbe(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):oO(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function xbe(e,t,r){return(t=gbe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gbe(e){var t=vbe(e,"string");return typeof t=="symbol"?t:t+""}function vbe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ybe=p.forwardRef((e,t)=>{var{children:r,className:a,height:n,onClick:i,onContextMenu:o,onDoubleClick:l,onMouseDown:c,onMouseEnter:d,onMouseLeave:u,onMouseMove:m,onMouseUp:h,onTouchEnd:f,onTouchMove:g,onTouchStart:x,style:y,width:v}=e,b=Pt(),[j,N]=p.useState(null),[w,S]=p.useState(null);hhe();var _=fbe(),C=p.useCallback(K=>{_(K),typeof t=="function"&&t(K),N(K),S(K)},[_,t,N,S]),E=p.useCallback(K=>{b(gz(K)),b(Na({handler:i,reactEvent:K}))},[b,i]),T=p.useCallback(K=>{b(J1(K)),b(Na({handler:d,reactEvent:K}))},[b,d]),k=p.useCallback(K=>{b(C8()),b(Na({handler:u,reactEvent:K}))},[b,u]),P=p.useCallback(K=>{b(J1(K)),b(Na({handler:m,reactEvent:K}))},[b,m]),D=p.useCallback(()=>{b(Nz())},[b]),I=p.useCallback(K=>{b(wz(K.key))},[b]),V=p.useCallback(K=>{b(Na({handler:o,reactEvent:K}))},[b,o]),W=p.useCallback(K=>{b(Na({handler:l,reactEvent:K}))},[b,l]),R=p.useCallback(K=>{b(Na({handler:c,reactEvent:K}))},[b,c]),F=p.useCallback(K=>{b(Na({handler:h,reactEvent:K}))},[b,h]),H=p.useCallback(K=>{b(Na({handler:x,reactEvent:K}))},[b,x]),Z=p.useCallback(K=>{b(_z(K)),b(Na({handler:g,reactEvent:K}))},[b,g]),B=p.useCallback(K=>{b(Na({handler:f,reactEvent:K}))},[b,f]);return p.createElement(W8.Provider,{value:j},p.createElement(nF.Provider,{value:w},p.createElement("div",{className:Ie("recharts-wrapper",a),style:pbe({position:"relative",cursor:"default",width:v,height:n},y),onClick:E,onContextMenu:V,onDoubleClick:W,onFocus:D,onKeyDown:I,onMouseDown:R,onMouseEnter:T,onMouseLeave:k,onMouseMove:P,onMouseUp:F,onTouchEnd:B,onTouchMove:Z,onTouchStart:H,ref:C},r)))}),bbe=["children","className","width","height","style","compact","title","desc"];function jbe(e,t){if(e==null)return{};var r,a,n=wbe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function wbe(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}var Az=p.forwardRef((e,t)=>{var{children:r,className:a,width:n,height:i,style:o,compact:l,title:c,desc:d}=e,u=jbe(e,bbe),m=Ce(u,!1);return l?p.createElement(iO,{otherAttributes:m,title:c,desc:d},r):p.createElement(ybe,{className:a,style:o,width:n,height:i,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},p.createElement(iO,{otherAttributes:m,title:c,desc:d,ref:t},p.createElement(_ve,null,r)))}),Nbe=["width","height"];function Z1(){return Z1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Z1.apply(null,arguments)}function Sbe(e,t){if(e==null)return{};var r,a,n=_be(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function _be(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}var Cbe={top:5,right:5,bottom:5,left:5},kbe={accessibilityLayer:!0,layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:Cbe,reverseStackOrder:!1,syncMethod:"index"},Ky=p.forwardRef(function(t,r){var a,n=Kr(t.categoricalChartProps,kbe),{width:i,height:o}=n,l=Sbe(n,Nbe);if(!Ru(i)||!Ru(o))return null;var{chartName:c,defaultTooltipEventType:d,validateTooltipEventTypes:u,tooltipPayloadSearcher:m,categoricalChartProps:h}=t,f={chartName:c,defaultTooltipEventType:d,validateTooltipEventTypes:u,tooltipPayloadSearcher:m,eventEmitter:void 0};return p.createElement(kz,{preloadedState:{options:f},reduxStoreName:(a=h.id)!==null&&a!==void 0?a:c},p.createElement(KB,{chartData:h.data}),p.createElement(Pz,{width:i,height:o,layout:n.layout,margin:n.margin}),p.createElement(Ez,{accessibilityLayer:n.accessibilityLayer,barCategoryGap:n.barCategoryGap,maxBarSize:n.maxBarSize,stackOffset:n.stackOffset,barGap:n.barGap,barSize:n.barSize,syncId:n.syncId,syncMethod:n.syncMethod,className:n.className}),p.createElement(Az,Z1({},l,{width:i,height:o,ref:r})))}),Pbe=["axis"],Ji=p.forwardRef((e,t)=>p.createElement(Ky,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:Pbe,tooltipPayloadSearcher:Sm,categoricalChartProps:e,ref:t})),Ebe=["axis","item"],zc=p.forwardRef((e,t)=>p.createElement(Ky,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:Ebe,tooltipPayloadSearcher:Sm,categoricalChartProps:e,ref:t}));function Abe(e){var t=Pt();return p.useEffect(()=>{t(sbe(e))},[t,e]),null}var Tbe=["width","height","layout"];function e2(){return e2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},e2.apply(null,arguments)}function Mbe(e,t){if(e==null)return{};var r,a,n=Obe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Obe(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}var Dbe={top:5,right:5,bottom:5,left:5},Rbe={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:Dbe,reverseStackOrder:!1,syncMethod:"index",layout:"radial"},Tz=p.forwardRef(function(t,r){var a,n=Kr(t.categoricalChartProps,Rbe),{width:i,height:o,layout:l}=n,c=Mbe(n,Tbe);if(!Ru(i)||!Ru(o))return null;var{chartName:d,defaultTooltipEventType:u,validateTooltipEventTypes:m,tooltipPayloadSearcher:h}=t,f={chartName:d,defaultTooltipEventType:u,validateTooltipEventTypes:m,tooltipPayloadSearcher:h,eventEmitter:void 0};return p.createElement(kz,{preloadedState:{options:f},reduxStoreName:(a=n.id)!==null&&a!==void 0?a:d},p.createElement(KB,{chartData:n.data}),p.createElement(Pz,{width:i,height:o,layout:l,margin:n.margin}),p.createElement(Ez,{accessibilityLayer:n.accessibilityLayer,barCategoryGap:n.barCategoryGap,maxBarSize:n.maxBarSize,stackOffset:n.stackOffset,barGap:n.barGap,barSize:n.barSize,syncId:n.syncId,syncMethod:n.syncMethod,className:n.className}),p.createElement(Abe,{cx:n.cx,cy:n.cy,startAngle:n.startAngle,endAngle:n.endAngle,innerRadius:n.innerRadius,outerRadius:n.outerRadius}),p.createElement(Az,e2({width:i,height:o},c,{ref:r})))}),Ibe=["item"],Fbe={layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},Ep=p.forwardRef((e,t)=>{var r=Kr(e,Fbe);return p.createElement(Tz,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:Ibe,tooltipPayloadSearcher:Sm,categoricalChartProps:r,ref:t})}),Lbe=["axis"],$be={layout:"centric",startAngle:90,endAngle:-270,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},Mz=p.forwardRef((e,t)=>{var r=Kr(e,$be);return p.createElement(Tz,{chartName:"RadarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:Lbe,tooltipPayloadSearcher:Sm,categoricalChartProps:r,ref:t})}),Bbe=["axis"],Oz=p.forwardRef((e,t)=>p.createElement(Ky,{chartName:"AreaChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:Bbe,tooltipPayloadSearcher:Sm,categoricalChartProps:e,ref:t})),zbe=["axis"],Uj=p.forwardRef((e,t)=>p.createElement(Ky,{chartName:"ComposedChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:zbe,tooltipPayloadSearcher:Sm,categoricalChartProps:e,ref:t}));const M=p.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:xe("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));M.displayName="Card";const $=p.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:xe("flex flex-col space-y-1.5 p-6",e),...t}));$.displayName="CardHeader";const U=p.forwardRef(({className:e,...t},r)=>s.jsx("h3",{ref:r,className:xe("text-2xl font-semibold leading-none tracking-tight",e),...t}));U.displayName="CardTitle";const qt=p.forwardRef(({className:e,...t},r)=>s.jsx("p",{ref:r,className:xe("text-sm text-muted-foreground",e),...t}));qt.displayName="CardDescription";const O=p.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:xe("p-6 pt-0",e),...t}));O.displayName="CardContent";const Ube=p.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:xe("flex items-center p-6 pt-0",e),...t}));Ube.displayName="CardFooter";var pk="Progress",xk=100,[qbe,s3e]=ys(pk),[Vbe,Wbe]=qbe(pk),Dz=p.forwardRef((e,t)=>{const{__scopeProgress:r,value:a=null,max:n,getValueLabel:i=Hbe,...o}=e;(n||n===0)&&!lO(n)&&console.error(Kbe(`${n}`,"Progress"));const l=lO(n)?n:xk;a!==null&&!cO(a,l)&&console.error(Gbe(`${a}`,"Progress"));const c=cO(a,l)?a:null,d=$v(c)?i(c,l):void 0;return s.jsx(Vbe,{scope:r,value:c,max:l,children:s.jsx(ge.div,{"aria-valuemax":l,"aria-valuemin":0,"aria-valuenow":$v(c)?c:void 0,"aria-valuetext":d,role:"progressbar","data-state":Fz(c,l),"data-value":c??void 0,"data-max":l,...o,ref:t})})});Dz.displayName=pk;var Rz="ProgressIndicator",Iz=p.forwardRef((e,t)=>{const{__scopeProgress:r,...a}=e,n=Wbe(Rz,r);return s.jsx(ge.div,{"data-state":Fz(n.value,n.max),"data-value":n.value??void 0,"data-max":n.max,...a,ref:t})});Iz.displayName=Rz;function Hbe(e,t){return`${Math.round(e/t*100)}%`}function Fz(e,t){return e==null?"indeterminate":e===t?"complete":"loading"}function $v(e){return typeof e=="number"}function lO(e){return $v(e)&&!isNaN(e)&&e>0}function cO(e,t){return $v(e)&&!isNaN(e)&&e<=t&&e>=0}function Kbe(e,t){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${t}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${xk}\`.`}function Gbe(e,t){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${t}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${xk} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var Lz=Dz,Ybe=Iz;const Ge=p.forwardRef(({className:e,value:t,...r},a)=>s.jsx(Lz,{ref:a,className:xe("relative h-4 w-full overflow-hidden rounded-full bg-secondary",e),...r,children:s.jsx(Ybe,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})}));Ge.displayName=Lz.displayName;const ch=({className:e="",size:t="md",color:r="currentColor",variant:a="outline",gender:n="neutral"})=>{const i={sm:"w-4 h-4",md:"w-6 h-6",lg:"w-8 h-8",xl:"w-12 h-12"},l=r==="currentColor"?{male:"#3B82F6",female:"#EC4899",neutral:"#6B7280"}[n]:r;return(()=>{switch(a){case"filled":return s.jsx("svg",{viewBox:"0 0 24 24",fill:l,className:`${i[t]} ${e}`,children:s.jsx("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"})});case"gradient":return s.jsxs("svg",{viewBox:"0 0 24 24",className:`${i[t]} ${e}`,children:[s.jsx("defs",{children:s.jsxs("linearGradient",{id:"personGradient",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[s.jsx("stop",{offset:"0%",stopColor:l,stopOpacity:"0.8"}),s.jsx("stop",{offset:"100%",stopColor:l,stopOpacity:"0.4"})]})}),s.jsx("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z",fill:"url(#personGradient)"})]});default:return s.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:l,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:`${i[t]} ${e}`,children:s.jsx("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"})})}})()},qj=({className:e="",size:t="md",type:r})=>{const a={sm:"w-4 h-4",md:"w-6 h-6",lg:"w-8 h-8",xl:"w-12 h-12"},n={fat:"#F59E0B",muscle:"#10B981",water:"#3B82F6",bone:"#8B5CF6"},i={fat:"Gordura",muscle:"Msculo",water:"gua",bone:"Osso"};return s.jsxs("div",{className:`flex items-center gap-2 ${e}`,children:[s.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:n[r],strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:`${a[t]}`,children:s.jsx("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"})}),s.jsx("span",{className:"text-sm font-medium",style:{color:n[r]},children:i[r]})]})},Xbe=[{date:"01/01",peso:75.5,meta:70},{date:"01/02",peso:75.2,meta:70},{date:"01/03",peso:74.8,meta:70},{date:"01/04",peso:74.9,meta:70},{date:"01/05",peso:74.4,meta:70},{date:"01/06",peso:74,meta:70},{date:"01/07",peso:73.8,meta:70}],dO=[{name:"Massa Muscular",value:35,color:"#10B981"},{name:"Gordura",value:20,color:"#F59E0B"},{name:"gua",value:45,color:"#3B82F6"}],Qbe=[{day:"Seg",exercicio:45,hidratacao:1.8,sono:7.5},{day:"Ter",exercicio:30,hidratacao:2.1,sono:8},{day:"Qua",exercicio:60,hidratacao:2,sono:7},{day:"Qui",exercicio:40,hidratacao:1.9,sono:7.5},{day:"Sex",exercicio:50,hidratacao:2.2,sono:8.5},{day:"Sab",exercicio:75,hidratacao:2,sono:9},{day:"Dom",exercicio:35,hidratacao:1.7,sono:8}],Dx=({title:e,value:t,unit:r,change:a,icon:n,color:i,description:o})=>s.jsxs(M,{className:"stat-card",children:[s.jsxs($,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(U,{className:"text-sm font-medium text-muted-foreground",children:e}),s.jsx(n,{className:`h-4 w-4 ${i}`})]}),s.jsxs(O,{children:[s.jsxs("div",{className:"text-2xl font-bold text-foreground",children:[t,r&&s.jsx("span",{className:"text-base text-muted-foreground ml-1",children:r})]}),a&&s.jsx("p",{className:"text-xs text-muted-foreground",children:a}),o&&s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:o})]})]});function Jbe(){return s.jsxs("div",{className:"p-6 space-y-6 animate-fade-up",children:[s.jsx("div",{className:"flex items-center justify-between",children:s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"Dashboard"}),s.jsx("p",{className:"text-muted-foreground",children:"Acompanhe sua jornada de sade"})]})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[s.jsx(Dx,{title:"Peso Atual",value:"73.8",unit:"kg",change:"-1.7kg este ms",icon:_t,color:"text-primary"}),s.jsx(Dx,{title:"IMC",value:"22.1",change:"Normal",icon:_e,color:"text-success",description:"Faixa saudvel"}),s.jsx(Dx,{title:"gua Hoje",value:"1.8",unit:"L",change:"Meta: 2.0L",icon:Bi,color:"text-health-hydration"}),s.jsx(Dx,{title:"Exerccio",value:"45",unit:"min",change:"Meta: 30min",icon:Te,color:"text-health-steps"})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs(M,{className:"health-card",children:[s.jsxs($,{children:[s.jsxs(U,{className:"flex items-center space-x-2",children:[s.jsx(ch,{size:"md",variant:"filled",color:"#F97316"}),s.jsx("span",{children:"Evoluo do Peso"})]}),s.jsx(qt,{children:"ltimos 7 dias - Meta: 70kg"})]}),s.jsxs(O,{children:[s.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[s.jsx(ch,{size:"lg",variant:"gradient",color:"#F97316"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Seu progresso de peso ao longo do tempo"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"O boneco representa voc e sua jornada de sade"})]})]}),s.jsx("div",{className:"h-64",children:s.jsx(St,{width:"100%",height:"100%",children:s.jsxs(Ji,{data:Xbe,children:[s.jsx(rs,{strokeDasharray:"3 3",stroke:"hsl(var(--border))"}),s.jsx(Kt,{dataKey:"date",stroke:"hsl(var(--muted-foreground))",fontSize:12}),s.jsx(It,{stroke:"hsl(var(--muted-foreground))",fontSize:12,domain:["dataMin - 1","dataMax + 1"]}),s.jsx(cs,{}),s.jsx(Ds,{type:"monotone",dataKey:"peso",stroke:"hsl(var(--primary))",strokeWidth:3,dot:{fill:"hsl(var(--primary))",strokeWidth:2,r:4},activeDot:{r:6,stroke:"hsl(var(--primary))",strokeWidth:2}}),s.jsx(Ds,{type:"monotone",dataKey:"meta",stroke:"hsl(var(--success))",strokeWidth:2,strokeDasharray:"5 5",dot:!1})]})})})]})]}),s.jsxs(M,{className:"health-card",children:[s.jsxs($,{children:[s.jsxs(U,{className:"flex items-center space-x-2",children:[s.jsx(ch,{size:"md",variant:"filled",color:"#10B981"}),s.jsx("span",{children:"Composio Corporal"})]}),s.jsx(qt,{children:"Anlise atual do seu corpo"})]}),s.jsxs(O,{children:[s.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[s.jsx(ch,{size:"lg",variant:"gradient",color:"#10B981"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Distribuio dos componentes do seu corpo"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Cada seo representa uma parte da sua composio"})]})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-2 mb-4",children:[s.jsx(qj,{type:"muscle",size:"sm"}),s.jsx(qj,{type:"fat",size:"sm"}),s.jsx(qj,{type:"water",size:"sm"})]}),s.jsx("div",{className:"h-64",children:s.jsx(St,{width:"100%",height:"100%",children:s.jsxs(Ep,{children:[s.jsx(rd,{data:dO,cx:"50%",cy:"50%",outerRadius:80,dataKey:"value",label:({name:e,value:t})=>`${e}: ${t}%`,children:dO.map((e,t)=>s.jsx(kn,{fill:e.color},`cell-${t}`))}),s.jsx(cs,{})]})})})]})]})]}),s.jsxs(M,{className:"health-card",children:[s.jsxs($,{children:[s.jsxs(U,{className:"flex items-center space-x-2",children:[s.jsx(Te,{className:"w-5 h-5 text-health-steps"}),s.jsx("span",{children:"Atividade Semanal"})]}),s.jsx(qt,{children:"Exerccio, hidratao e qualidade do sono"})]}),s.jsx(O,{children:s.jsx("div",{className:"h-80",children:s.jsx(St,{width:"100%",height:"100%",children:s.jsxs(zc,{data:Qbe,children:[s.jsx(rs,{strokeDasharray:"3 3",stroke:"hsl(var(--border))"}),s.jsx(Kt,{dataKey:"day",stroke:"hsl(var(--muted-foreground))",fontSize:12}),s.jsx(It,{stroke:"hsl(var(--muted-foreground))",fontSize:12}),s.jsx(cs,{}),s.jsx(Ra,{}),s.jsx(vs,{dataKey:"exercicio",fill:"hsl(var(--health-steps))",radius:[2,2,0,0]}),s.jsx(vs,{dataKey:"hidratacao",fill:"hsl(var(--health-hydration))",radius:[2,2,0,0]}),s.jsx(vs,{dataKey:"sono",fill:"hsl(var(--accent))",radius:[2,2,0,0]})]})})})})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs(M,{className:"mission-card",children:[s.jsx($,{className:"pb-3",children:s.jsxs(U,{className:"text-sm flex items-center space-x-2",children:[s.jsx(He,{className:"w-4 h-4 text-health-heart"}),s.jsx("span",{children:"Exerccio Dirio"})]})}),s.jsx(O,{children:s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{children:"45 min"}),s.jsx("span",{children:"Meta: 30 min"})]}),s.jsx(Ge,{value:150,className:"h-2"}),s.jsx("p",{className:"text-xs text-success font-medium",children:"Meta superada! "})]})})]}),s.jsxs(M,{className:"mission-card",children:[s.jsx($,{className:"pb-3",children:s.jsxs(U,{className:"text-sm flex items-center space-x-2",children:[s.jsx(Bi,{className:"w-4 h-4 text-health-hydration"}),s.jsx("span",{children:"Hidratao"})]})}),s.jsx(O,{children:s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{children:"1.8 L"}),s.jsx("span",{children:"Meta: 2.0 L"})]}),s.jsx(Ge,{value:90,className:"h-2"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Falta apenas 200ml"})]})})]}),s.jsxs(M,{className:"mission-card",children:[s.jsx($,{className:"pb-3",children:s.jsxs(U,{className:"text-sm flex items-center space-x-2",children:[s.jsx(tp,{className:"w-4 h-4 text-accent"}),s.jsx("span",{children:"Sono"})]})}),s.jsx(O,{children:s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{children:"7.5 h"}),s.jsx("span",{children:"Meta: 8.0 h"})]}),s.jsx(Ge,{value:94,className:"h-2"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Quase na meta!"})]})})]})]})]})}const Zbe=()=>s.jsx(Jbe,{}),t2=cm("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90 shadow-glow",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline",gradient:"bg-gradient-primary text-white hover:opacity-90 shadow-glow transition-smooth",success:"bg-success text-success-foreground hover:bg-success/90",warning:"bg-warning text-warning-foreground hover:bg-warning/90"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),A=p.forwardRef(({className:e,variant:t,size:r,asChild:a=!1,...n},i)=>{const o=a?sZ:"button";return s.jsx(o,{className:xe(t2({variant:t,size:r,className:e})),ref:i,...n})});A.displayName="Button";const eje=cm("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function X({className:e,variant:t,...r}){return s.jsx("div",{className:xe(eje({variant:t}),e),...r})}const tje=()=>{var c;const[e,t]=p.useState(null),[r,a]=p.useState(!0),n=ur();p.useEffect(()=>{z.auth.getSession().then(({data:{session:u}})=>{t((u==null?void 0:u.user)??null),a(!1)});const{data:{subscription:d}}=z.auth.onAuthStateChange((u,m)=>{t((m==null?void 0:m.user)??null)});return()=>d.unsubscribe()},[]);const i=()=>{n(e?"/dashboard":"/auth")},o=[{icon:Te,title:"Misses Dirias",description:"Desenvolva hbitos saudveis com misses personalizadas",color:"text-primary",bgColor:"bg-primary/10"},{icon:Ye,title:"Anlise de Progresso",description:"Acompanhe sua evoluo com grficos detalhados",color:"text-secondary",bgColor:"bg-secondary/10"},{icon:Le,title:"Comunidade",description:"Conecte-se com outros usurios e mantenha a motivao",color:"text-health-steps",bgColor:"bg-blue-500/10"},{icon:jt,title:"Sistema de Ranking",description:"Compete com amigos e alcance novos nveis",color:"text-yellow-500",bgColor:"bg-yellow-500/10"},{icon:_e,title:"Metas Personalizadas",description:"Defina objetivos especficos e alcance seus sonhos",color:"text-green-500",bgColor:"bg-green-500/10"}],l=[{label:"Profissionais",value:"15+",icon:Le},{label:"Especialidades",value:"8",icon:_e},{label:"Anos de Experincia",value:"10+",icon:Ye},{label:"Satisfao",value:"100%",icon:kt}];return r?s.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx(He,{className:"h-12 w-12 text-primary mx-auto mb-4 animate-pulse"}),s.jsx("p",{className:"text-muted-foreground",children:"Carregando..."})]})}):s.jsxs("div",{className:"min-h-screen bg-background",children:[s.jsx("header",{className:"border-b border-border/20 bg-card/50 backdrop-blur-sm",children:s.jsxs("div",{className:"container mx-auto px-4 py-4 flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-primary to-secondary flex items-center justify-center",children:s.jsx(He,{className:"h-6 w-6 text-white"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-xl font-bold",children:"Health Platform"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Instituto dos Sonhos"})]})]}),s.jsx("div",{className:"flex items-center gap-4",children:e?s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs(A,{onClick:()=>n("/dashboard"),variant:"default",children:[s.jsx(ar,{className:"h-4 w-4 mr-2"}),"Dashboard"]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-8 h-8 rounded-full bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center",children:s.jsx(Ui,{className:"h-4 w-4 text-white"})}),s.jsx("span",{className:"text-sm text-muted-foreground hidden sm:block",children:(c=e.email)==null?void 0:c.split("@")[0]})]})]}):s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(A,{onClick:()=>n("/auth"),variant:"outline",children:"Entrar"}),s.jsx(A,{onClick:()=>n("/auth"),variant:"default",children:"Comear Agora"})]})})]})}),s.jsx("section",{className:"py-20 px-4",children:s.jsx("div",{className:"container mx-auto text-center",children:s.jsxs("div",{className:"max-w-4xl mx-auto",children:[s.jsx(X,{variant:"secondary",className:"mb-6 text-sm px-4 py-2",children:" Sua jornada de transformao comea aqui"}),s.jsx("h1",{className:"text-5xl md:text-7xl font-bold mb-6 bg-gradient-to-r from-primary via-secondary to-accent bg-clip-text text-transparent leading-tight",children:"Transforme sua vida com a Health Platform"}),s.jsx("p",{className:"text-xl text-muted-foreground mb-10 max-w-2xl mx-auto leading-relaxed",children:"A plataforma completa para monitorar sua sade, alcanar metas e transformar seus hbitos. Junte-se a milhares de pessoas que j mudaram suas vidas."}),s.jsx("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:s.jsxs(A,{onClick:i,size:"lg",className:"text-lg px-8 py-6 bg-gradient-to-r from-primary to-secondary hover:scale-105 transition-transform",children:[s.jsx(Rr,{className:"h-5 w-5 mr-2"}),e?"Ir para Dashboard":"Comear Gratuitamente",s.jsx(ml,{className:"h-5 w-5 ml-2"})]})})]})})}),s.jsx("section",{className:"py-16 px-4 bg-card/30",children:s.jsx("div",{className:"container mx-auto",children:s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-8",children:l.map((d,u)=>{const m=d.icon;return s.jsxs("div",{className:"text-center",children:[s.jsx(m,{className:"h-8 w-8 text-primary mx-auto mb-3"}),s.jsx("div",{className:"text-3xl font-bold mb-1",children:d.value}),s.jsx("div",{className:"text-sm text-muted-foreground",children:d.label})]},u)})})})}),s.jsx("section",{className:"py-20 px-4",children:s.jsxs("div",{className:"container mx-auto",children:[s.jsxs("div",{className:"text-center mb-16",children:[s.jsx("h2",{className:"text-4xl font-bold mb-4",children:"Funcionalidades Poderosas"}),s.jsx("p",{className:"text-xl text-muted-foreground max-w-2xl mx-auto",children:"Descubra todas as ferramentas que nossa plataforma oferece para transformar sua jornada de sade"})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:o.map((d,u)=>{const m=d.icon;return s.jsxs(M,{className:"group hover:scale-105 transition-all duration-300 cursor-pointer border-border/20 hover:border-primary/30 bg-gradient-to-br from-card to-card/50",onClick:()=>n(e?"/dashboard":"/auth"),children:[s.jsxs($,{children:[s.jsx("div",{className:`w-12 h-12 rounded-lg ${d.bgColor} flex items-center justify-center mb-4 group-hover:scale-110 transition-transform`,children:s.jsx(m,{className:`h-6 w-6 ${d.color}`})}),s.jsx(U,{className:"text-xl group-hover:text-primary transition-colors",children:d.title})]}),s.jsxs(O,{children:[s.jsx(qt,{className:"text-muted-foreground group-hover:text-foreground transition-colors",children:d.description}),s.jsx(Pu,{className:"h-5 w-5 text-muted-foreground group-hover:text-primary group-hover:translate-x-1 transition-all mt-4"})]})]},u)})})]})}),s.jsx("section",{className:"py-20 px-4 bg-gradient-to-r from-primary/10 via-secondary/10 to-accent/10",children:s.jsx("div",{className:"container mx-auto text-center",children:s.jsxs("div",{className:"max-w-3xl mx-auto",children:[s.jsx(us,{className:"h-16 w-16 text-primary mx-auto mb-6"}),s.jsx("h2",{className:"text-4xl font-bold mb-6",children:"Pronto para Comear sua Transformao?"}),s.jsx("p",{className:"text-xl text-muted-foreground mb-10",children:"Junte-se a milhares de pessoas que j esto transformando suas vidas com nossa plataforma. Comece hoje mesmo,  completamente gratuito!"}),s.jsxs(A,{onClick:i,size:"lg",className:"text-lg px-12 py-6 bg-gradient-to-r from-primary to-secondary hover:scale-105 transition-transform",children:[s.jsx(He,{className:"h-5 w-5 mr-2"}),e?"Voltar ao Dashboard":"Comear Minha Jornada",s.jsx(ml,{className:"h-5 w-5 ml-2"})]})]})})}),s.jsx("footer",{className:"border-t border-border/20 py-12 px-4 bg-card/20",children:s.jsxs("div",{className:"container mx-auto text-center",children:[s.jsxs("div",{className:"flex items-center justify-center gap-3 mb-6",children:[s.jsx("div",{className:"w-8 h-8 rounded-full bg-gradient-to-br from-primary to-secondary flex items-center justify-center",children:s.jsx(He,{className:"h-4 w-4 text-white"})}),s.jsx("span",{className:"text-lg font-semibold",children:"Health Platform"})]}),s.jsx("p",{className:"text-muted-foreground mb-4",children:" 2024 Instituto dos Sonhos. Transformando vidas atravs da tecnologia."}),s.jsxs("div",{className:"flex items-center justify-center gap-6 text-sm text-muted-foreground",children:[s.jsx("span",{children:"Termos de Uso"}),s.jsx("span",{children:""}),s.jsx("span",{children:"Poltica de Privacidade"}),s.jsx("span",{children:""}),s.jsx("span",{children:"Suporte"})]})]})})]})},sje=()=>s.jsxs("div",{className:"min-h-screen bg-background",children:[s.jsx("section",{className:"relative bg-gradient-primary py-20 px-4",children:s.jsxs("div",{className:"max-w-6xl mx-auto text-center",children:[s.jsx("h1",{className:"text-4xl md:text-6xl font-bold text-white mb-6",children:"Instituto dos Sonhos"}),s.jsx("p",{className:"text-xl md:text-2xl text-white/90 mb-8 max-w-3xl mx-auto",children:"Transforme seu corpo e sua vida com nosso mtodo exclusivo de emagrecimento integral"}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[s.jsx(A,{asChild:!0,size:"lg",className:"bg-white text-primary hover:bg-white/90",children:s.jsxs(Os,{to:"/auth",children:["Comece sua Transformao",s.jsx(ml,{className:"ml-2 h-5 w-5"})]})}),s.jsx(A,{variant:"outline",size:"lg",className:"border-white text-white hover:bg-white/10",children:"Conhea nossos Programas"})]})]})}),s.jsx("section",{className:"py-16 px-4",children:s.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[s.jsx("h2",{className:"text-3xl md:text-4xl font-bold mb-6",children:"Nossa Misso"}),s.jsx("p",{className:"text-lg text-muted-foreground leading-relaxed",children:"Guiar pessoas na transformao integral da sade fsica e emocional, proporcionando emagrecimento sustentvel, autoestima elevada, bem-estar e qualidade de vida. Rafael e Sirlene acreditam que a verdadeira mudana acontece de dentro para fora, por meio do equilbrio entre corpo, mente e emoes."})]})}),s.jsx("section",{className:"py-16 px-4 bg-card/50",children:s.jsxs("div",{className:"max-w-6xl mx-auto",children:[s.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-center mb-12",children:"Programas de Transformao"}),s.jsxs("div",{className:"grid md:grid-cols-3 gap-8",children:[s.jsx(M,{className:"health-card",children:s.jsxs(O,{className:"p-6",children:[s.jsx("div",{className:"w-12 h-12 bg-primary/10 rounded-lg flex items-center justify-center mb-4",children:s.jsx(_e,{className:"h-6 w-6 text-primary"})}),s.jsx("h3",{className:"text-xl font-semibold mb-3",children:"Programa de Recomeo"}),s.jsx("p",{className:"text-muted-foreground mb-4",children:"Um programa para quem j tentou de tudo. Aqui, voc encontra acolhimento, estratgia e motivao real. Entenda como desinflamar seu corpo e transforme sua rotina com o apoio de especialistas."}),s.jsx(A,{variant:"outline",className:"w-full",children:"Saiba Mais"})]})}),s.jsx(M,{className:"health-card",children:s.jsxs(O,{className:"p-6",children:[s.jsx("div",{className:"w-12 h-12 bg-secondary/10 rounded-lg flex items-center justify-center mb-4",children:s.jsx(He,{className:"h-6 w-6 text-secondary"})}),s.jsx("h3",{className:"text-xl font-semibold mb-3",children:"Emagrea com Conscincia"}),s.jsx("p",{className:"text-muted-foreground mb-4",children:"Voc no precisa sofrer para emagrecer. Oferecemos uma abordagem integrativa com foco em bem-estar fsico e emocional. Com hipnose, coaching e prticas saudveis, o emagrecimento vira consequncia."}),s.jsx(A,{variant:"outline",className:"w-full",children:"Saiba Mais"})]})}),s.jsx(M,{className:"health-card",children:s.jsxs(O,{className:"p-6",children:[s.jsx("div",{className:"w-12 h-12 bg-accent/10 rounded-lg flex items-center justify-center mb-4",children:s.jsx(Ta,{className:"h-6 w-6 text-accent"})}),s.jsx("h3",{className:"text-xl font-semibold mb-3",children:"Academia Sem Dor"}),s.jsx("p",{className:"text-muted-foreground mb-4",children:"Acesso a uma academia completa com musculao, pilates, fisioterapia e orientao profissional. Cuidar da sade fsica faz parte da transformao que voc merece viver."}),s.jsx(A,{variant:"outline",className:"w-full",children:"Saiba Mais"})]})})]})]})}),s.jsx("section",{className:"py-16 px-4",children:s.jsx("div",{className:"max-w-6xl mx-auto",children:s.jsxs("div",{className:"grid lg:grid-cols-2 gap-12 items-center",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-3xl md:text-4xl font-bold mb-6",children:"Sobre Rafael e Sirlene"}),s.jsx("p",{className:"text-lg text-muted-foreground mb-6 leading-relaxed",children:"O Instituto dos Sonhos foi fundado por Rafael Ferreira e Sirlene Freitas, especialistas em emagrecimento, sade emocional e esttica integrativa."}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(jt,{className:"h-6 w-6 text-primary mt-1 flex-shrink-0"}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold",children:"Rafael Ferreira"}),s.jsx("p",{className:"text-muted-foreground",children:"Coach, hipnlogo, psicoterapeuta, master coach e estudante de Biomedicina"})]})]}),s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(jt,{className:"h-6 w-6 text-secondary mt-1 flex-shrink-0"}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold",children:"Sirlene Freitas"}),s.jsx("p",{className:"text-muted-foreground",children:"Coach, hipnose, psicoterapia, inteligncia emocional e estudante de Nutrio"})]})]})]})]}),s.jsxs("div",{className:"bg-gradient-card rounded-2xl p-8",children:[s.jsx("h3",{className:"text-xl font-semibold mb-4",children:"Nossa Equipe Multidisciplinar"}),s.jsxs("ul",{className:"space-y-2 text-muted-foreground",children:[s.jsx("li",{children:" Nutricionistas especializados"}),s.jsx("li",{children:" Biomdicos qualificados"}),s.jsx("li",{children:" Fisioterapeutas experientes"}),s.jsx("li",{children:" Educadores fsicos"}),s.jsx("li",{children:" Academia Sem Dor completa"})]})]})]})})}),s.jsx("section",{className:"py-16 px-4 bg-card/50",children:s.jsxs("div",{className:"max-w-4xl mx-auto",children:[s.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-center mb-12",children:"Nossos Valores"}),s.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"w-8 h-8 bg-primary/10 rounded-full flex items-center justify-center flex-shrink-0 mt-1",children:s.jsx(He,{className:"h-4 w-4 text-primary"})}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold mb-2",children:"Humanizao e Empatia"}),s.jsx("p",{className:"text-muted-foreground",children:"Tratamos cada cliente como parte da famlia Instituto dos Sonhos"})]})]}),s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"w-8 h-8 bg-secondary/10 rounded-full flex items-center justify-center flex-shrink-0 mt-1",children:s.jsx(kt,{className:"h-4 w-4 text-secondary"})}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold mb-2",children:"tica e Transparncia"}),s.jsx("p",{className:"text-muted-foreground",children:"Compromisso com mtodos saudveis e verdadeiros"})]})]}),s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"w-8 h-8 bg-accent/10 rounded-full flex items-center justify-center flex-shrink-0 mt-1",children:s.jsx(Ta,{className:"h-4 w-4 text-accent"})}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold mb-2",children:"Inovao Constante"}),s.jsx("p",{className:"text-muted-foreground",children:"Uso de tecnologia e cincia de ponta"})]})]}),s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"w-8 h-8 bg-primary/10 rounded-full flex items-center justify-center flex-shrink-0 mt-1",children:s.jsx(Le,{className:"h-4 w-4 text-primary"})}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold mb-2",children:"Equilbrio Corpo-Mente"}),s.jsx("p",{className:"text-muted-foreground",children:"Acreditamos que sade emocional e fsica andam juntas"})]})]})]})]})}),s.jsx("section",{className:"py-16 px-4 bg-gradient-primary",children:s.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[s.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-white mb-6",children:'"Tudo Comea com Uma Escolha"'}),s.jsx("p",{className:"text-xl text-white/90 mb-8 max-w-3xl mx-auto",children:"Neste exato momento, milhares de pessoas enfrentam dores, inseguranas e o peso de tantas tentativas frustradas. Mas tambm existem aquelas que decidiram mudar. E voc pode ser a prxima."}),s.jsx(A,{asChild:!0,size:"lg",className:"bg-white text-primary hover:bg-white/90",children:s.jsxs(Os,{to:"/auth",children:["Comear Minha Transformao",s.jsx(ml,{className:"ml-2 h-5 w-5"})]})})]})}),s.jsx("footer",{className:"bg-card py-8 px-4",children:s.jsxs("div",{className:"max-w-6xl mx-auto text-center",children:[s.jsx("h3",{className:"text-2xl font-bold mb-4",children:"Instituto dos Sonhos"}),s.jsx("p",{className:"text-muted-foreground mb-6",children:"Transformao integral da sade fsica e emocional"}),s.jsxs("div",{className:"flex justify-center gap-4",children:[s.jsx(A,{variant:"outline",asChild:!0,children:s.jsx(Os,{to:"/auth",children:"Entrar"})}),s.jsx(A,{asChild:!0,children:s.jsx(Os,{to:"/auth",children:"Cadastrar"})})]})]})})]}),rje=()=>s.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-background via-background to-muted/20",children:[s.jsx("header",{className:"border-b border-border/20 bg-card/50 backdrop-blur-sm sticky top-0 z-50",children:s.jsxs("div",{className:"container mx-auto px-4 py-4 flex justify-between items-center",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("div",{className:"relative",children:[s.jsx(He,{className:"h-8 w-8 text-primary animate-pulse"}),s.jsx(Ta,{className:"h-4 w-4 text-yellow-500 absolute -top-1 -right-1"})]}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-foreground",children:"Instituto dos Sonhos"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Transformao Real"})]})]}),s.jsxs("div",{className:"flex gap-3",children:[s.jsx(Os,{to:"/auth",children:s.jsx(A,{variant:"outline",className:"hover:bg-muted",children:"Entrar"})}),s.jsx(Os,{to:"/auth",children:s.jsx(A,{className:"bg-primary hover:bg-primary/90 shadow-lg",children:"Comear Agora"})})]})]})}),s.jsxs("section",{className:"py-20 px-4 relative overflow-hidden",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-primary/10 via-transparent to-secondary/10"}),s.jsxs("div",{className:"container mx-auto text-center relative z-10",children:[s.jsxs(X,{className:"mb-6 bg-primary/20 text-primary border-primary/30",children:[s.jsx(Ta,{className:"h-3 w-3 mr-1"}),"Metodologia Comprovada"]}),s.jsxs("h1",{className:"text-5xl md:text-7xl font-bold mb-6 animate-fade-up",children:[s.jsx("span",{className:"bg-gradient-to-r from-primary via-secondary to-accent bg-clip-text text-transparent",children:"Transforme sua vida"}),s.jsx("br",{}),s.jsx("span",{className:"text-foreground",children:"em 30 dias"})]}),s.jsxs("p",{className:"text-xl md:text-2xl text-muted-foreground mb-8 max-w-3xl mx-auto animate-fade-up",children:["Plataforma completa de sade e bem-estar com gamificao,",s.jsx("br",{className:"hidden md:block"}),s.jsx("span",{className:"text-primary font-semibold",children:"integrao com balana inteligente"})," e anlise preditiva"]}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center items-center mb-12",children:[s.jsx(Os,{to:"/auth",children:s.jsxs(A,{size:"lg",className:"text-xl px-12 py-6 bg-primary hover:bg-primary/90 shadow-glow animate-scale-in",children:[s.jsx(Rr,{className:"mr-2 h-5 w-5"}),"COMEAR JORNADA"]})}),s.jsx(Os,{to:"/app/scale-test",children:s.jsxs(A,{variant:"outline",size:"lg",className:"text-xl px-8 py-6 border-2 hover:bg-muted",children:[s.jsx(_t,{className:"mr-2 h-5 w-5"}),"Testar Balana"]})})]}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-6 max-w-4xl mx-auto",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-3xl font-bold text-primary",children:"10k+"}),s.jsx("div",{className:"text-sm text-muted-foreground",children:"Usurios Ativos"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-3xl font-bold text-secondary",children:"15+"}),s.jsx("div",{className:"text-sm text-muted-foreground",children:"Profissionais"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-3xl font-bold text-accent",children:"30"}),s.jsx("div",{className:"text-sm text-muted-foreground",children:"Dias para Resultados"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-3xl font-bold text-green-500",children:"24/7"}),s.jsx("div",{className:"text-sm text-muted-foreground",children:"Suporte Disponvel"})]})]})]})]}),s.jsx("section",{className:"py-16 px-4 bg-card/30",children:s.jsxs("div",{className:"container mx-auto",children:[s.jsxs("div",{className:"text-center mb-12",children:[s.jsx("h2",{className:"text-4xl font-bold mb-4",children:"Por que escolher o Instituto?"}),s.jsx("p",{className:"text-xl text-muted-foreground max-w-2xl mx-auto",children:"Tecnologia de ponta combinada com metodologia cientfica para resultados reais"})]}),s.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-8",children:[s.jsx(M,{className:"health-card hover:shadow-xl transition-all duration-300",children:s.jsxs(O,{className:"pt-6",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[s.jsx("div",{className:"p-3 bg-primary/20 rounded-lg",children:s.jsx(_e,{className:"h-8 w-8 text-primary"})}),s.jsx("h3",{className:"text-xl font-bold",children:"Metodologia Cientfica"})]}),s.jsx("p",{className:"text-muted-foreground mb-4",children:"Sistema baseado em evidncias cientficas para emagrecimento saudvel e duradouro"}),s.jsxs("div",{className:"flex items-center text-sm text-primary",children:[s.jsx(Se,{className:"h-4 w-4 mr-1"}),"Comprovado por especialistas"]})]})}),s.jsx(M,{className:"health-card hover:shadow-xl transition-all duration-300",children:s.jsxs(O,{className:"pt-6",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[s.jsx("div",{className:"p-3 bg-secondary/20 rounded-lg",children:s.jsx(_t,{className:"h-8 w-8 text-secondary"})}),s.jsx("h3",{className:"text-xl font-bold",children:"Balana Inteligente"})]}),s.jsx("p",{className:"text-muted-foreground mb-4",children:"Integrao com Xiaomi Scale 2 para medies precisas e anlise corporal completa"}),s.jsxs("div",{className:"flex items-center text-sm text-secondary",children:[s.jsx(Se,{className:"h-4 w-4 mr-1"}),"Sincronizao automtica"]})]})}),s.jsx(M,{className:"health-card hover:shadow-xl transition-all duration-300",children:s.jsxs(O,{className:"pt-6",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[s.jsx("div",{className:"p-3 bg-accent/20 rounded-lg",children:s.jsx(Ye,{className:"h-8 w-8 text-accent"})}),s.jsx("h3",{className:"text-xl font-bold",children:"Anlise Preditiva"})]}),s.jsx("p",{className:"text-muted-foreground mb-4",children:"IA avanada que prev seu progresso e sugere otimizaes personalizadas"}),s.jsxs("div",{className:"flex items-center text-sm text-accent",children:[s.jsx(Se,{className:"h-4 w-4 mr-1"}),"Recomendaes inteligentes"]})]})}),s.jsx(M,{className:"health-card hover:shadow-xl transition-all duration-300",children:s.jsxs(O,{className:"pt-6",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[s.jsx("div",{className:"p-3 bg-green-500/20 rounded-lg",children:s.jsx(jt,{className:"h-8 w-8 text-green-500"})}),s.jsx("h3",{className:"text-xl font-bold",children:"Gamificao"})]}),s.jsx("p",{className:"text-muted-foreground mb-4",children:"Sistema de conquistas e pontuao que torna sua jornada divertida e motivadora"}),s.jsxs("div",{className:"flex items-center text-sm text-green-500",children:[s.jsx(Se,{className:"h-4 w-4 mr-1"}),"Progresso gamificado"]})]})}),s.jsx(M,{className:"health-card hover:shadow-xl transition-all duration-300",children:s.jsxs(O,{className:"pt-6",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[s.jsx("div",{className:"p-3 bg-purple-500/20 rounded-lg",children:s.jsx(ds,{className:"h-8 w-8 text-purple-500"})}),s.jsx("h3",{className:"text-xl font-bold",children:"Psicologia Positiva"})]}),s.jsx("p",{className:"text-muted-foreground mb-4",children:"Abordagem focada em bem-estar mental e mudana de hbitos sustentvel"}),s.jsxs("div",{className:"flex items-center text-sm text-purple-500",children:[s.jsx(Se,{className:"h-4 w-4 mr-1"}),"Mindset transformador"]})]})}),s.jsx(M,{className:"health-card hover:shadow-xl transition-all duration-300",children:s.jsxs(O,{className:"pt-6",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[s.jsx("div",{className:"p-3 bg-blue-500/20 rounded-lg",children:s.jsx(Da,{className:"h-8 w-8 text-blue-500"})}),s.jsx("h3",{className:"text-xl font-bold",children:"Privacidade Total"})]}),s.jsx("p",{className:"text-muted-foreground mb-4",children:"Seus dados so protegidos com criptografia de ponta e nunca compartilhados"}),s.jsxs("div",{className:"flex items-center text-sm text-blue-500",children:[s.jsx(Se,{className:"h-4 w-4 mr-1"}),"Dados seguros"]})]})})]})]})}),s.jsx("section",{className:"py-16 px-4",children:s.jsxs("div",{className:"container mx-auto",children:[s.jsxs("div",{className:"text-center mb-12",children:[s.jsx("h2",{className:"text-4xl font-bold mb-4",children:"Como Funciona?"}),s.jsx("p",{className:"text-xl text-muted-foreground",children:"Trs passos simples para transformar sua vida"})]}),s.jsxs("div",{className:"grid md:grid-cols-3 gap-8 max-w-4xl mx-auto",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"w-16 h-16 bg-primary/20 rounded-full flex items-center justify-center mx-auto mb-4",children:s.jsx("span",{className:"text-2xl font-bold text-primary",children:"1"})}),s.jsx("h3",{className:"text-xl font-bold mb-2",children:"Cadastre-se"}),s.jsx("p",{className:"text-muted-foreground",children:"Crie sua conta gratuitamente e configure seu perfil inicial"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"w-16 h-16 bg-secondary/20 rounded-full flex items-center justify-center mx-auto mb-4",children:s.jsx("span",{className:"text-2xl font-bold text-secondary",children:"2"})}),s.jsx("h3",{className:"text-xl font-bold mb-2",children:"Conecte sua Balana"}),s.jsx("p",{className:"text-muted-foreground",children:"Sincronize sua Xiaomi Scale 2 para medies automticas"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"w-16 h-16 bg-accent/20 rounded-full flex items-center justify-center mx-auto mb-4",children:s.jsx("span",{className:"text-2xl font-bold text-accent",children:"3"})}),s.jsx("h3",{className:"text-xl font-bold mb-2",children:"Acompanhe o Progresso"}),s.jsx("p",{className:"text-muted-foreground",children:"Visualize sua evoluo com grficos e anlises detalhadas"})]})]})]})}),s.jsx("section",{className:"py-20 px-4 bg-gradient-to-r from-primary/10 to-secondary/10",children:s.jsxs("div",{className:"container mx-auto text-center",children:[s.jsx("h2",{className:"text-4xl font-bold mb-6",children:"Pronto para transformar sua vida?"}),s.jsx("p",{className:"text-xl text-muted-foreground mb-8 max-w-2xl mx-auto",children:"Junte-se a milhares de pessoas que j transformaram suas vidas com o Instituto dos Sonhos"}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center items-center",children:[s.jsx(Os,{to:"/auth",children:s.jsxs(A,{size:"lg",className:"text-xl px-12 py-6 bg-primary hover:bg-primary/90 shadow-glow",children:["Comear Agora",s.jsx(ml,{className:"ml-2 h-5 w-5"})]})}),s.jsx(Os,{to:"/app/scale-test",children:s.jsx(A,{variant:"outline",size:"lg",className:"text-xl px-8 py-6 border-2",children:"Testar Balana"})})]})]})}),s.jsx("footer",{className:"py-8 px-4 border-t border-border/20",children:s.jsxs("div",{className:"container mx-auto text-center",children:[s.jsxs("div",{className:"flex items-center justify-center gap-2 mb-4",children:[s.jsx(He,{className:"h-6 w-6 text-primary"}),s.jsx("span",{className:"text-lg font-semibold",children:"Instituto dos Sonhos"})]}),s.jsx("p",{className:"text-muted-foreground",children:"Transformando vidas atravs da tecnologia e cincia"})]})})]}),re=p.forwardRef(({className:e,type:t,...r},a)=>s.jsx("input",{type:t,className:xe("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:a,...r}));re.displayName="Input";var aje="Label",$z=p.forwardRef((e,t)=>s.jsx(ge.label,{...e,ref:t,onMouseDown:r=>{var n;r.target.closest("button, input, select, textarea")||((n=e.onMouseDown)==null||n.call(e,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));$z.displayName=aje;var Bz=$z;const nje=cm("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Y=p.forwardRef(({className:e,...t},r)=>s.jsx(Bz,{ref:r,className:xe(nje(),e),...t}));Y.displayName=Bz.displayName;function Ap(e){const t=p.useRef({value:e,previous:e});return p.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var Gy="Checkbox",[ije,r3e]=ys(Gy),[oje,gk]=ije(Gy);function lje(e){const{__scopeCheckbox:t,checked:r,children:a,defaultChecked:n,disabled:i,form:o,name:l,onCheckedChange:c,required:d,value:u="on",internal_do_not_use_render:m}=e,[h,f]=Vr({prop:r,defaultProp:n??!1,onChange:c,caller:Gy}),[g,x]=p.useState(null),[y,v]=p.useState(null),b=p.useRef(!1),j=g?!!o||!!g.closest("form"):!0,N={checked:h,disabled:i,setChecked:f,control:g,setControl:x,name:l,form:o,value:u,hasConsumerStoppedPropagationRef:b,required:d,defaultChecked:ll(n)?!1:n,isFormControl:j,bubbleInput:y,setBubbleInput:v};return s.jsx(oje,{scope:t,...N,children:cje(m)?m(N):a})}var zz="CheckboxTrigger",Uz=p.forwardRef(({__scopeCheckbox:e,onKeyDown:t,onClick:r,...a},n)=>{const{control:i,value:o,disabled:l,checked:c,required:d,setControl:u,setChecked:m,hasConsumerStoppedPropagationRef:h,isFormControl:f,bubbleInput:g}=gk(zz,e),x=Me(n,u),y=p.useRef(c);return p.useEffect(()=>{const v=i==null?void 0:i.form;if(v){const b=()=>m(y.current);return v.addEventListener("reset",b),()=>v.removeEventListener("reset",b)}},[i,m]),s.jsx(ge.button,{type:"button",role:"checkbox","aria-checked":ll(c)?"mixed":c,"aria-required":d,"data-state":Kz(c),"data-disabled":l?"":void 0,disabled:l,value:o,...a,ref:x,onKeyDown:ce(t,v=>{v.key==="Enter"&&v.preventDefault()}),onClick:ce(r,v=>{m(b=>ll(b)?!0:!b),g&&f&&(h.current=v.isPropagationStopped(),h.current||v.stopPropagation())})})});Uz.displayName=zz;var vk=p.forwardRef((e,t)=>{const{__scopeCheckbox:r,name:a,checked:n,defaultChecked:i,required:o,disabled:l,value:c,onCheckedChange:d,form:u,...m}=e;return s.jsx(lje,{__scopeCheckbox:r,checked:n,defaultChecked:i,disabled:l,required:o,onCheckedChange:d,name:a,form:u,value:c,internal_do_not_use_render:({isFormControl:h})=>s.jsxs(s.Fragment,{children:[s.jsx(Uz,{...m,ref:t,__scopeCheckbox:r}),h&&s.jsx(Hz,{__scopeCheckbox:r})]})})});vk.displayName=Gy;var qz="CheckboxIndicator",Vz=p.forwardRef((e,t)=>{const{__scopeCheckbox:r,forceMount:a,...n}=e,i=gk(qz,r);return s.jsx(bs,{present:a||ll(i.checked)||i.checked===!0,children:s.jsx(ge.span,{"data-state":Kz(i.checked),"data-disabled":i.disabled?"":void 0,...n,ref:t,style:{pointerEvents:"none",...e.style}})})});Vz.displayName=qz;var Wz="CheckboxBubbleInput",Hz=p.forwardRef(({__scopeCheckbox:e,...t},r)=>{const{control:a,hasConsumerStoppedPropagationRef:n,checked:i,defaultChecked:o,required:l,disabled:c,name:d,value:u,form:m,bubbleInput:h,setBubbleInput:f}=gk(Wz,e),g=Me(r,f),x=Ap(i),y=rp(a);p.useEffect(()=>{const b=h;if(!b)return;const j=window.HTMLInputElement.prototype,w=Object.getOwnPropertyDescriptor(j,"checked").set,S=!n.current;if(x!==i&&w){const _=new Event("click",{bubbles:S});b.indeterminate=ll(i),w.call(b,ll(i)?!1:i),b.dispatchEvent(_)}},[h,x,i,n]);const v=p.useRef(ll(i)?!1:i);return s.jsx(ge.input,{type:"checkbox","aria-hidden":!0,defaultChecked:o??v.current,required:l,disabled:c,name:d,value:u,form:m,...t,tabIndex:-1,ref:g,style:{...t.style,...y,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});Hz.displayName=Wz;function cje(e){return typeof e=="function"}function ll(e){return e==="indeterminate"}function Kz(e){return ll(e)?"indeterminate":e?"checked":"unchecked"}const Uu=p.forwardRef(({className:e,...t},r)=>s.jsx(vk,{ref:r,className:xe("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...t,children:s.jsx(Vz,{className:xe("flex items-center justify-center text-current"),children:s.jsx(Dc,{className:"h-4 w-4"})})}));Uu.displayName=vk.displayName;var dje=p.createContext(void 0);function ad(e){const t=p.useContext(dje);return e||t||"ltr"}var Vj="rovingFocusGroup.onEntryFocus",uje={bubbles:!1,cancelable:!0},Tp="RovingFocusGroup",[s2,Gz,mje]=Qf(Tp),[hje,Pm]=ys(Tp,[mje]),[fje,pje]=hje(Tp),Yz=p.forwardRef((e,t)=>s.jsx(s2.Provider,{scope:e.__scopeRovingFocusGroup,children:s.jsx(s2.Slot,{scope:e.__scopeRovingFocusGroup,children:s.jsx(xje,{...e,ref:t})})}));Yz.displayName=Tp;var xje=p.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,orientation:a,loop:n=!1,dir:i,currentTabStopId:o,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:d,preventScrollOnEntryFocus:u=!1,...m}=e,h=p.useRef(null),f=Me(t,h),g=ad(i),[x,y]=Vr({prop:o,defaultProp:l??null,onChange:c,caller:Tp}),[v,b]=p.useState(!1),j=ss(d),N=Gz(r),w=p.useRef(!1),[S,_]=p.useState(0);return p.useEffect(()=>{const C=h.current;if(C)return C.addEventListener(Vj,j),()=>C.removeEventListener(Vj,j)},[j]),s.jsx(fje,{scope:r,orientation:a,dir:g,loop:n,currentTabStopId:x,onItemFocus:p.useCallback(C=>y(C),[y]),onItemShiftTab:p.useCallback(()=>b(!0),[]),onFocusableItemAdd:p.useCallback(()=>_(C=>C+1),[]),onFocusableItemRemove:p.useCallback(()=>_(C=>C-1),[]),children:s.jsx(ge.div,{tabIndex:v||S===0?-1:0,"data-orientation":a,...m,ref:f,style:{outline:"none",...e.style},onMouseDown:ce(e.onMouseDown,()=>{w.current=!0}),onFocus:ce(e.onFocus,C=>{const E=!w.current;if(C.target===C.currentTarget&&E&&!v){const T=new CustomEvent(Vj,uje);if(C.currentTarget.dispatchEvent(T),!T.defaultPrevented){const k=N().filter(W=>W.focusable),P=k.find(W=>W.active),D=k.find(W=>W.id===x),V=[P,D,...k].filter(Boolean).map(W=>W.ref.current);Jz(V,u)}}w.current=!1}),onBlur:ce(e.onBlur,()=>b(!1))})})}),Xz="RovingFocusGroupItem",Qz=p.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,focusable:a=!0,active:n=!1,tabStopId:i,children:o,...l}=e,c=oa(),d=i||c,u=pje(Xz,r),m=u.currentTabStopId===d,h=Gz(r),{onFocusableItemAdd:f,onFocusableItemRemove:g,currentTabStopId:x}=u;return p.useEffect(()=>{if(a)return f(),()=>g()},[a,f,g]),s.jsx(s2.ItemSlot,{scope:r,id:d,focusable:a,active:n,children:s.jsx(ge.span,{tabIndex:m?0:-1,"data-orientation":u.orientation,...l,ref:t,onMouseDown:ce(e.onMouseDown,y=>{a?u.onItemFocus(d):y.preventDefault()}),onFocus:ce(e.onFocus,()=>u.onItemFocus(d)),onKeyDown:ce(e.onKeyDown,y=>{if(y.key==="Tab"&&y.shiftKey){u.onItemShiftTab();return}if(y.target!==y.currentTarget)return;const v=yje(y,u.orientation,u.dir);if(v!==void 0){if(y.metaKey||y.ctrlKey||y.altKey||y.shiftKey)return;y.preventDefault();let j=h().filter(N=>N.focusable).map(N=>N.ref.current);if(v==="last")j.reverse();else if(v==="prev"||v==="next"){v==="prev"&&j.reverse();const N=j.indexOf(y.currentTarget);j=u.loop?bje(j,N+1):j.slice(N+1)}setTimeout(()=>Jz(j))}}),children:typeof o=="function"?o({isCurrentTabStop:m,hasTabStop:x!=null}):o})})});Qz.displayName=Xz;var gje={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function vje(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function yje(e,t,r){const a=vje(e.key,r);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(a))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(a)))return gje[a]}function Jz(e,t=!1){const r=document.activeElement;for(const a of e)if(a===r||(a.focus({preventScroll:t}),document.activeElement!==r))return}function bje(e,t){return e.map((r,a)=>e[(t+a)%e.length])}var yk=Yz,bk=Qz,Yy="Tabs",[jje,a3e]=ys(Yy,[Pm]),Zz=Pm(),[wje,jk]=jje(Yy),e9=p.forwardRef((e,t)=>{const{__scopeTabs:r,value:a,onValueChange:n,defaultValue:i,orientation:o="horizontal",dir:l,activationMode:c="automatic",...d}=e,u=ad(l),[m,h]=Vr({prop:a,onChange:n,defaultProp:i??"",caller:Yy});return s.jsx(wje,{scope:r,baseId:oa(),value:m,onValueChange:h,orientation:o,dir:u,activationMode:c,children:s.jsx(ge.div,{dir:u,"data-orientation":o,...d,ref:t})})});e9.displayName=Yy;var t9="TabsList",s9=p.forwardRef((e,t)=>{const{__scopeTabs:r,loop:a=!0,...n}=e,i=jk(t9,r),o=Zz(r);return s.jsx(yk,{asChild:!0,...o,orientation:i.orientation,dir:i.dir,loop:a,children:s.jsx(ge.div,{role:"tablist","aria-orientation":i.orientation,...n,ref:t})})});s9.displayName=t9;var r9="TabsTrigger",a9=p.forwardRef((e,t)=>{const{__scopeTabs:r,value:a,disabled:n=!1,...i}=e,o=jk(r9,r),l=Zz(r),c=o9(o.baseId,a),d=l9(o.baseId,a),u=a===o.value;return s.jsx(bk,{asChild:!0,...l,focusable:!n,active:u,children:s.jsx(ge.button,{type:"button",role:"tab","aria-selected":u,"aria-controls":d,"data-state":u?"active":"inactive","data-disabled":n?"":void 0,disabled:n,id:c,...i,ref:t,onMouseDown:ce(e.onMouseDown,m=>{!n&&m.button===0&&m.ctrlKey===!1?o.onValueChange(a):m.preventDefault()}),onKeyDown:ce(e.onKeyDown,m=>{[" ","Enter"].includes(m.key)&&o.onValueChange(a)}),onFocus:ce(e.onFocus,()=>{const m=o.activationMode!=="manual";!u&&!n&&m&&o.onValueChange(a)})})})});a9.displayName=r9;var n9="TabsContent",i9=p.forwardRef((e,t)=>{const{__scopeTabs:r,value:a,forceMount:n,children:i,...o}=e,l=jk(n9,r),c=o9(l.baseId,a),d=l9(l.baseId,a),u=a===l.value,m=p.useRef(u);return p.useEffect(()=>{const h=requestAnimationFrame(()=>m.current=!1);return()=>cancelAnimationFrame(h)},[]),s.jsx(bs,{present:n||u,children:({present:h})=>s.jsx(ge.div,{"data-state":u?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!h,id:d,tabIndex:0,...o,ref:t,style:{...e.style,animationDuration:m.current?"0s":void 0},children:h&&i})})});i9.displayName=n9;function o9(e,t){return`${e}-trigger-${t}`}function l9(e,t){return`${e}-content-${t}`}var Nje=e9,c9=s9,d9=a9,u9=i9;const ga=Nje,Gr=p.forwardRef(({className:e,...t},r)=>s.jsx(c9,{ref:r,className:xe("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));Gr.displayName=c9.displayName;const Ve=p.forwardRef(({className:e,...t},r)=>s.jsx(d9,{ref:r,className:xe("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...t}));Ve.displayName=d9.displayName;const ct=p.forwardRef(({className:e,...t},r)=>s.jsx(u9,{ref:r,className:xe("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));ct.displayName=u9.displayName;function kf(e,[t,r]){return Math.min(r,Math.max(t,e))}var Wj=0;function Xy(){p.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??uO()),document.body.insertAdjacentElement("beforeend",e[1]??uO()),Wj++,()=>{Wj===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),Wj--}},[])}function uO(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Hj="focusScope.autoFocusOnMount",Kj="focusScope.autoFocusOnUnmount",mO={bubbles:!1,cancelable:!0},Sje="FocusScope",Mp=p.forwardRef((e,t)=>{const{loop:r=!1,trapped:a=!1,onMountAutoFocus:n,onUnmountAutoFocus:i,...o}=e,[l,c]=p.useState(null),d=ss(n),u=ss(i),m=p.useRef(null),h=Me(t,x=>c(x)),f=p.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;p.useEffect(()=>{if(a){let x=function(j){if(f.paused||!l)return;const N=j.target;l.contains(N)?m.current=N:Po(m.current,{select:!0})},y=function(j){if(f.paused||!l)return;const N=j.relatedTarget;N!==null&&(l.contains(N)||Po(m.current,{select:!0}))},v=function(j){if(document.activeElement===document.body)for(const w of j)w.removedNodes.length>0&&Po(l)};document.addEventListener("focusin",x),document.addEventListener("focusout",y);const b=new MutationObserver(v);return l&&b.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",x),document.removeEventListener("focusout",y),b.disconnect()}}},[a,l,f.paused]),p.useEffect(()=>{if(l){fO.add(f);const x=document.activeElement;if(!l.contains(x)){const v=new CustomEvent(Hj,mO);l.addEventListener(Hj,d),l.dispatchEvent(v),v.defaultPrevented||(_je(Aje(m9(l)),{select:!0}),document.activeElement===x&&Po(l))}return()=>{l.removeEventListener(Hj,d),setTimeout(()=>{const v=new CustomEvent(Kj,mO);l.addEventListener(Kj,u),l.dispatchEvent(v),v.defaultPrevented||Po(x??document.body,{select:!0}),l.removeEventListener(Kj,u),fO.remove(f)},0)}}},[l,d,u,f]);const g=p.useCallback(x=>{if(!r&&!a||f.paused)return;const y=x.key==="Tab"&&!x.altKey&&!x.ctrlKey&&!x.metaKey,v=document.activeElement;if(y&&v){const b=x.currentTarget,[j,N]=Cje(b);j&&N?!x.shiftKey&&v===N?(x.preventDefault(),r&&Po(j,{select:!0})):x.shiftKey&&v===j&&(x.preventDefault(),r&&Po(N,{select:!0})):v===b&&x.preventDefault()}},[r,a,f.paused]);return s.jsx(ge.div,{tabIndex:-1,...o,ref:h,onKeyDown:g})});Mp.displayName=Sje;function _je(e,{select:t=!1}={}){const r=document.activeElement;for(const a of e)if(Po(a,{select:t}),document.activeElement!==r)return}function Cje(e){const t=m9(e),r=hO(t,e),a=hO(t.reverse(),e);return[r,a]}function m9(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:a=>{const n=a.tagName==="INPUT"&&a.type==="hidden";return a.disabled||a.hidden||n?NodeFilter.FILTER_SKIP:a.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function hO(e,t){for(const r of e)if(!kje(r,{upTo:t}))return r}function kje(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function Pje(e){return e instanceof HTMLInputElement&&"select"in e}function Po(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&Pje(e)&&t&&e.select()}}var fO=Eje();function Eje(){let e=[];return{add(t){const r=e[0];t!==r&&(r==null||r.pause()),e=pO(e,t),e.unshift(t)},remove(t){var r;e=pO(e,t),(r=e[0])==null||r.resume()}}}function pO(e,t){const r=[...e],a=r.indexOf(t);return a!==-1&&r.splice(a,1),r}function Aje(e){return e.filter(t=>t.tagName!=="A")}var Tje=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},yd=new WeakMap,Rx=new WeakMap,Ix={},Gj=0,h9=function(e){return e&&(e.host||h9(e.parentNode))},Mje=function(e,t){return t.map(function(r){if(e.contains(r))return r;var a=h9(r);return a&&e.contains(a)?a:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},Oje=function(e,t,r,a){var n=Mje(t,Array.isArray(e)?e:[e]);Ix[r]||(Ix[r]=new WeakMap);var i=Ix[r],o=[],l=new Set,c=new Set(n),d=function(m){!m||l.has(m)||(l.add(m),d(m.parentNode))};n.forEach(d);var u=function(m){!m||c.has(m)||Array.prototype.forEach.call(m.children,function(h){if(l.has(h))u(h);else try{var f=h.getAttribute(a),g=f!==null&&f!=="false",x=(yd.get(h)||0)+1,y=(i.get(h)||0)+1;yd.set(h,x),i.set(h,y),o.push(h),x===1&&g&&Rx.set(h,!0),y===1&&h.setAttribute(r,"true"),g||h.setAttribute(a,"true")}catch(v){console.error("aria-hidden: cannot operate on ",h,v)}})};return u(t),l.clear(),Gj++,function(){o.forEach(function(m){var h=yd.get(m)-1,f=i.get(m)-1;yd.set(m,h),i.set(m,f),h||(Rx.has(m)||m.removeAttribute(a),Rx.delete(m)),f||m.removeAttribute(r)}),Gj--,Gj||(yd=new WeakMap,yd=new WeakMap,Rx=new WeakMap,Ix={})}},Qy=function(e,t,r){r===void 0&&(r="data-aria-hidden");var a=Array.from(Array.isArray(e)?e:[e]),n=Tje(e);return n?(a.push.apply(a,Array.from(n.querySelectorAll("[aria-live], script"))),Oje(a,n,r,"aria-hidden")):function(){return null}},Un=function(){return Un=Object.assign||function(t){for(var r,a=1,n=arguments.length;a<n;a++){r=arguments[a];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},Un.apply(this,arguments)};function f9(e,t){var r={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(r[a]=e[a]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,a=Object.getOwnPropertySymbols(e);n<a.length;n++)t.indexOf(a[n])<0&&Object.prototype.propertyIsEnumerable.call(e,a[n])&&(r[a[n]]=e[a[n]]);return r}function Dje(e,t,r){if(r||arguments.length===2)for(var a=0,n=t.length,i;a<n;a++)(i||!(a in t))&&(i||(i=Array.prototype.slice.call(t,0,a)),i[a]=t[a]);return e.concat(i||Array.prototype.slice.call(t))}var mg="right-scroll-bar-position",hg="width-before-scroll-bar",Rje="with-scroll-bars-hidden",Ije="--removed-body-scroll-bar-size";function Yj(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function Fje(e,t){var r=p.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(a){var n=r.value;n!==a&&(r.value=a,r.callback(a,n))}}}})[0];return r.callback=t,r.facade}var Lje=typeof window<"u"?p.useLayoutEffect:p.useEffect,xO=new WeakMap;function $je(e,t){var r=Fje(null,function(a){return e.forEach(function(n){return Yj(n,a)})});return Lje(function(){var a=xO.get(r);if(a){var n=new Set(a),i=new Set(e),o=r.current;n.forEach(function(l){i.has(l)||Yj(l,null)}),i.forEach(function(l){n.has(l)||Yj(l,o)})}xO.set(r,e)},[e]),r}function Bje(e){return e}function zje(e,t){t===void 0&&(t=Bje);var r=[],a=!1,n={read:function(){if(a)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(i){var o=t(i,a);return r.push(o),function(){r=r.filter(function(l){return l!==o})}},assignSyncMedium:function(i){for(a=!0;r.length;){var o=r;r=[],o.forEach(i)}r={push:function(l){return i(l)},filter:function(){return r}}},assignMedium:function(i){a=!0;var o=[];if(r.length){var l=r;r=[],l.forEach(i),o=r}var c=function(){var u=o;o=[],u.forEach(i)},d=function(){return Promise.resolve().then(c)};d(),r={push:function(u){o.push(u),d()},filter:function(u){return o=o.filter(u),r}}}};return n}function Uje(e){e===void 0&&(e={});var t=zje(null);return t.options=Un({async:!0,ssr:!1},e),t}var p9=function(e){var t=e.sideCar,r=f9(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var a=t.read();if(!a)throw new Error("Sidecar medium not found");return p.createElement(a,Un({},r))};p9.isSideCarExport=!0;function qje(e,t){return e.useMedium(t),p9}var x9=Uje(),Xj=function(){},Jy=p.forwardRef(function(e,t){var r=p.useRef(null),a=p.useState({onScrollCapture:Xj,onWheelCapture:Xj,onTouchMoveCapture:Xj}),n=a[0],i=a[1],o=e.forwardProps,l=e.children,c=e.className,d=e.removeScrollBar,u=e.enabled,m=e.shards,h=e.sideCar,f=e.noRelative,g=e.noIsolation,x=e.inert,y=e.allowPinchZoom,v=e.as,b=v===void 0?"div":v,j=e.gapMode,N=f9(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),w=h,S=$je([r,t]),_=Un(Un({},N),n);return p.createElement(p.Fragment,null,u&&p.createElement(w,{sideCar:x9,removeScrollBar:d,shards:m,noRelative:f,noIsolation:g,inert:x,setCallbacks:i,allowPinchZoom:!!y,lockRef:r,gapMode:j}),o?p.cloneElement(p.Children.only(l),Un(Un({},_),{ref:S})):p.createElement(b,Un({},_,{className:c,ref:S}),l))});Jy.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Jy.classNames={fullWidth:hg,zeroRight:mg};var Vje=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function Wje(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=Vje();return t&&e.setAttribute("nonce",t),e}function Hje(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function Kje(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var Gje=function(){var e=0,t=null;return{add:function(r){e==0&&(t=Wje())&&(Hje(t,r),Kje(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},Yje=function(){var e=Gje();return function(t,r){p.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},g9=function(){var e=Yje(),t=function(r){var a=r.styles,n=r.dynamic;return e(a,n),null};return t},Xje={left:0,top:0,right:0,gap:0},Qj=function(e){return parseInt(e||"",10)||0},Qje=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],a=t[e==="padding"?"paddingTop":"marginTop"],n=t[e==="padding"?"paddingRight":"marginRight"];return[Qj(r),Qj(a),Qj(n)]},Jje=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return Xje;var t=Qje(e),r=document.documentElement.clientWidth,a=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,a-r+t[2]-t[0])}},Zje=g9(),iu="data-scroll-locked",ewe=function(e,t,r,a){var n=e.left,i=e.top,o=e.right,l=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(Rje,` {
   overflow: hidden `).concat(a,`;
   padding-right: `).concat(l,"px ").concat(a,`;
  }
  body[`).concat(iu,`] {
    overflow: hidden `).concat(a,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(a,";"),r==="margin"&&`
    padding-left: `.concat(n,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(a,`;
    `),r==="padding"&&"padding-right: ".concat(l,"px ").concat(a,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(mg,` {
    right: `).concat(l,"px ").concat(a,`;
  }
  
  .`).concat(hg,` {
    margin-right: `).concat(l,"px ").concat(a,`;
  }
  
  .`).concat(mg," .").concat(mg,` {
    right: 0 `).concat(a,`;
  }
  
  .`).concat(hg," .").concat(hg,` {
    margin-right: 0 `).concat(a,`;
  }
  
  body[`).concat(iu,`] {
    `).concat(Ije,": ").concat(l,`px;
  }
`)},gO=function(){var e=parseInt(document.body.getAttribute(iu)||"0",10);return isFinite(e)?e:0},twe=function(){p.useEffect(function(){return document.body.setAttribute(iu,(gO()+1).toString()),function(){var e=gO()-1;e<=0?document.body.removeAttribute(iu):document.body.setAttribute(iu,e.toString())}},[])},swe=function(e){var t=e.noRelative,r=e.noImportant,a=e.gapMode,n=a===void 0?"margin":a;twe();var i=p.useMemo(function(){return Jje(n)},[n]);return p.createElement(Zje,{styles:ewe(i,!t,n,r?"":"!important")})},r2=!1;if(typeof window<"u")try{var Fx=Object.defineProperty({},"passive",{get:function(){return r2=!0,!0}});window.addEventListener("test",Fx,Fx),window.removeEventListener("test",Fx,Fx)}catch{r2=!1}var bd=r2?{passive:!1}:!1,rwe=function(e){return e.tagName==="TEXTAREA"},v9=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!rwe(e)&&r[t]==="visible")},awe=function(e){return v9(e,"overflowY")},nwe=function(e){return v9(e,"overflowX")},vO=function(e,t){var r=t.ownerDocument,a=t;do{typeof ShadowRoot<"u"&&a instanceof ShadowRoot&&(a=a.host);var n=y9(e,a);if(n){var i=b9(e,a),o=i[1],l=i[2];if(o>l)return!0}a=a.parentNode}while(a&&a!==r.body);return!1},iwe=function(e){var t=e.scrollTop,r=e.scrollHeight,a=e.clientHeight;return[t,r,a]},owe=function(e){var t=e.scrollLeft,r=e.scrollWidth,a=e.clientWidth;return[t,r,a]},y9=function(e,t){return e==="v"?awe(t):nwe(t)},b9=function(e,t){return e==="v"?iwe(t):owe(t)},lwe=function(e,t){return e==="h"&&t==="rtl"?-1:1},cwe=function(e,t,r,a,n){var i=lwe(e,window.getComputedStyle(t).direction),o=i*a,l=r.target,c=t.contains(l),d=!1,u=o>0,m=0,h=0;do{if(!l)break;var f=b9(e,l),g=f[0],x=f[1],y=f[2],v=x-y-i*g;(g||v)&&y9(e,l)&&(m+=v,h+=g);var b=l.parentNode;l=b&&b.nodeType===Node.DOCUMENT_FRAGMENT_NODE?b.host:b}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(u&&Math.abs(m)<1||!u&&Math.abs(h)<1)&&(d=!0),d},Lx=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},yO=function(e){return[e.deltaX,e.deltaY]},bO=function(e){return e&&"current"in e?e.current:e},dwe=function(e,t){return e[0]===t[0]&&e[1]===t[1]},uwe=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},mwe=0,jd=[];function hwe(e){var t=p.useRef([]),r=p.useRef([0,0]),a=p.useRef(),n=p.useState(mwe++)[0],i=p.useState(g9)[0],o=p.useRef(e);p.useEffect(function(){o.current=e},[e]),p.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(n));var x=Dje([e.lockRef.current],(e.shards||[]).map(bO),!0).filter(Boolean);return x.forEach(function(y){return y.classList.add("allow-interactivity-".concat(n))}),function(){document.body.classList.remove("block-interactivity-".concat(n)),x.forEach(function(y){return y.classList.remove("allow-interactivity-".concat(n))})}}},[e.inert,e.lockRef.current,e.shards]);var l=p.useCallback(function(x,y){if("touches"in x&&x.touches.length===2||x.type==="wheel"&&x.ctrlKey)return!o.current.allowPinchZoom;var v=Lx(x),b=r.current,j="deltaX"in x?x.deltaX:b[0]-v[0],N="deltaY"in x?x.deltaY:b[1]-v[1],w,S=x.target,_=Math.abs(j)>Math.abs(N)?"h":"v";if("touches"in x&&_==="h"&&S.type==="range")return!1;var C=vO(_,S);if(!C)return!0;if(C?w=_:(w=_==="v"?"h":"v",C=vO(_,S)),!C)return!1;if(!a.current&&"changedTouches"in x&&(j||N)&&(a.current=w),!w)return!0;var E=a.current||w;return cwe(E,y,x,E==="h"?j:N)},[]),c=p.useCallback(function(x){var y=x;if(!(!jd.length||jd[jd.length-1]!==i)){var v="deltaY"in y?yO(y):Lx(y),b=t.current.filter(function(w){return w.name===y.type&&(w.target===y.target||y.target===w.shadowParent)&&dwe(w.delta,v)})[0];if(b&&b.should){y.cancelable&&y.preventDefault();return}if(!b){var j=(o.current.shards||[]).map(bO).filter(Boolean).filter(function(w){return w.contains(y.target)}),N=j.length>0?l(y,j[0]):!o.current.noIsolation;N&&y.cancelable&&y.preventDefault()}}},[]),d=p.useCallback(function(x,y,v,b){var j={name:x,delta:y,target:v,should:b,shadowParent:fwe(v)};t.current.push(j),setTimeout(function(){t.current=t.current.filter(function(N){return N!==j})},1)},[]),u=p.useCallback(function(x){r.current=Lx(x),a.current=void 0},[]),m=p.useCallback(function(x){d(x.type,yO(x),x.target,l(x,e.lockRef.current))},[]),h=p.useCallback(function(x){d(x.type,Lx(x),x.target,l(x,e.lockRef.current))},[]);p.useEffect(function(){return jd.push(i),e.setCallbacks({onScrollCapture:m,onWheelCapture:m,onTouchMoveCapture:h}),document.addEventListener("wheel",c,bd),document.addEventListener("touchmove",c,bd),document.addEventListener("touchstart",u,bd),function(){jd=jd.filter(function(x){return x!==i}),document.removeEventListener("wheel",c,bd),document.removeEventListener("touchmove",c,bd),document.removeEventListener("touchstart",u,bd)}},[]);var f=e.removeScrollBar,g=e.inert;return p.createElement(p.Fragment,null,g?p.createElement(i,{styles:uwe(n)}):null,f?p.createElement(swe,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function fwe(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const pwe=qje(x9,hwe);var Op=p.forwardRef(function(e,t){return p.createElement(Jy,Un({},e,{ref:t,sideCar:pwe}))});Op.classNames=Jy.classNames;var xwe=[" ","Enter","ArrowUp","ArrowDown"],gwe=[" ","Enter"],Uc="Select",[Zy,eb,vwe]=Qf(Uc),[Em,n3e]=ys(Uc,[vwe,El]),tb=El(),[ywe,Dl]=Em(Uc),[bwe,jwe]=Em(Uc),j9=e=>{const{__scopeSelect:t,children:r,open:a,defaultOpen:n,onOpenChange:i,value:o,defaultValue:l,onValueChange:c,dir:d,name:u,autoComplete:m,disabled:h,required:f,form:g}=e,x=tb(t),[y,v]=p.useState(null),[b,j]=p.useState(null),[N,w]=p.useState(!1),S=ad(d),[_,C]=Vr({prop:a,defaultProp:n??!1,onChange:i,caller:Uc}),[E,T]=Vr({prop:o,defaultProp:l,onChange:c,caller:Uc}),k=p.useRef(null),P=y?g||!!y.closest("form"):!0,[D,I]=p.useState(new Set),V=Array.from(D).map(W=>W.props.value).join(";");return s.jsx(R0,{...x,children:s.jsxs(ywe,{required:f,scope:t,trigger:y,onTriggerChange:v,valueNode:b,onValueNodeChange:j,valueNodeHasChildren:N,onValueNodeHasChildrenChange:w,contentId:oa(),value:E,onValueChange:T,open:_,onOpenChange:C,dir:S,triggerPointerDownPosRef:k,disabled:h,children:[s.jsx(Zy.Provider,{scope:t,children:s.jsx(bwe,{scope:e.__scopeSelect,onNativeOptionAdd:p.useCallback(W=>{I(R=>new Set(R).add(W))},[]),onNativeOptionRemove:p.useCallback(W=>{I(R=>{const F=new Set(R);return F.delete(W),F})},[]),children:r})}),P?s.jsxs(W9,{"aria-hidden":!0,required:f,tabIndex:-1,name:u,autoComplete:m,value:E,onChange:W=>T(W.target.value),disabled:h,form:g,children:[E===void 0?s.jsx("option",{value:""}):null,Array.from(D)]},V):null]})})};j9.displayName=Uc;var w9="SelectTrigger",N9=p.forwardRef((e,t)=>{const{__scopeSelect:r,disabled:a=!1,...n}=e,i=tb(r),o=Dl(w9,r),l=o.disabled||a,c=Me(t,o.onTriggerChange),d=eb(r),u=p.useRef("touch"),[m,h,f]=K9(x=>{const y=d().filter(j=>!j.disabled),v=y.find(j=>j.value===o.value),b=G9(y,x,v);b!==void 0&&o.onValueChange(b.value)}),g=x=>{l||(o.onOpenChange(!0),f()),x&&(o.triggerPointerDownPosRef.current={x:Math.round(x.pageX),y:Math.round(x.pageY)})};return s.jsx(ap,{asChild:!0,...i,children:s.jsx(ge.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":H9(o.value)?"":void 0,...n,ref:c,onClick:ce(n.onClick,x=>{x.currentTarget.focus(),u.current!=="mouse"&&g(x)}),onPointerDown:ce(n.onPointerDown,x=>{u.current=x.pointerType;const y=x.target;y.hasPointerCapture(x.pointerId)&&y.releasePointerCapture(x.pointerId),x.button===0&&x.ctrlKey===!1&&x.pointerType==="mouse"&&(g(x),x.preventDefault())}),onKeyDown:ce(n.onKeyDown,x=>{const y=m.current!=="";!(x.ctrlKey||x.altKey||x.metaKey)&&x.key.length===1&&h(x.key),!(y&&x.key===" ")&&xwe.includes(x.key)&&(g(),x.preventDefault())})})})});N9.displayName=w9;var S9="SelectValue",_9=p.forwardRef((e,t)=>{const{__scopeSelect:r,className:a,style:n,children:i,placeholder:o="",...l}=e,c=Dl(S9,r),{onValueNodeHasChildrenChange:d}=c,u=i!==void 0,m=Me(t,c.onValueNodeChange);return ns(()=>{d(u)},[d,u]),s.jsx(ge.span,{...l,ref:m,style:{pointerEvents:"none"},children:H9(c.value)?s.jsx(s.Fragment,{children:o}):i})});_9.displayName=S9;var wwe="SelectIcon",C9=p.forwardRef((e,t)=>{const{__scopeSelect:r,children:a,...n}=e;return s.jsx(ge.span,{"aria-hidden":!0,...n,ref:t,children:a||""})});C9.displayName=wwe;var Nwe="SelectPortal",k9=e=>s.jsx(lm,{asChild:!0,...e});k9.displayName=Nwe;var qc="SelectContent",P9=p.forwardRef((e,t)=>{const r=Dl(qc,e.__scopeSelect),[a,n]=p.useState();if(ns(()=>{n(new DocumentFragment)},[]),!r.open){const i=a;return i?ao.createPortal(s.jsx(E9,{scope:e.__scopeSelect,children:s.jsx(Zy.Slot,{scope:e.__scopeSelect,children:s.jsx("div",{children:e.children})})}),i):null}return s.jsx(A9,{...e,ref:t})});P9.displayName=qc;var an=10,[E9,Rl]=Em(qc),Swe="SelectContentImpl",_we=ul("SelectContent.RemoveScroll"),A9=p.forwardRef((e,t)=>{const{__scopeSelect:r,position:a="item-aligned",onCloseAutoFocus:n,onEscapeKeyDown:i,onPointerDownOutside:o,side:l,sideOffset:c,align:d,alignOffset:u,arrowPadding:m,collisionBoundary:h,collisionPadding:f,sticky:g,hideWhenDetached:x,avoidCollisions:y,...v}=e,b=Dl(qc,r),[j,N]=p.useState(null),[w,S]=p.useState(null),_=Me(t,le=>N(le)),[C,E]=p.useState(null),[T,k]=p.useState(null),P=eb(r),[D,I]=p.useState(!1),V=p.useRef(!1);p.useEffect(()=>{if(j)return Qy(j)},[j]),Xy();const W=p.useCallback(le=>{const[Oe,...ae]=P().map(q=>q.ref.current),[ue]=ae.slice(-1),L=document.activeElement;for(const q of le)if(q===L||(q==null||q.scrollIntoView({block:"nearest"}),q===Oe&&w&&(w.scrollTop=0),q===ue&&w&&(w.scrollTop=w.scrollHeight),q==null||q.focus(),document.activeElement!==L))return},[P,w]),R=p.useCallback(()=>W([C,j]),[W,C,j]);p.useEffect(()=>{D&&R()},[D,R]);const{onOpenChange:F,triggerPointerDownPosRef:H}=b;p.useEffect(()=>{if(j){let le={x:0,y:0};const Oe=ue=>{var L,q;le={x:Math.abs(Math.round(ue.pageX)-(((L=H.current)==null?void 0:L.x)??0)),y:Math.abs(Math.round(ue.pageY)-(((q=H.current)==null?void 0:q.y)??0))}},ae=ue=>{le.x<=10&&le.y<=10?ue.preventDefault():j.contains(ue.target)||F(!1),document.removeEventListener("pointermove",Oe),H.current=null};return H.current!==null&&(document.addEventListener("pointermove",Oe),document.addEventListener("pointerup",ae,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Oe),document.removeEventListener("pointerup",ae,{capture:!0})}}},[j,F,H]),p.useEffect(()=>{const le=()=>F(!1);return window.addEventListener("blur",le),window.addEventListener("resize",le),()=>{window.removeEventListener("blur",le),window.removeEventListener("resize",le)}},[F]);const[Z,B]=K9(le=>{const Oe=P().filter(L=>!L.disabled),ae=Oe.find(L=>L.ref.current===document.activeElement),ue=G9(Oe,le,ae);ue&&setTimeout(()=>ue.ref.current.focus())}),K=p.useCallback((le,Oe,ae)=>{const ue=!V.current&&!ae;(b.value!==void 0&&b.value===Oe||ue)&&(E(le),ue&&(V.current=!0))},[b.value]),Q=p.useCallback(()=>j==null?void 0:j.focus(),[j]),ie=p.useCallback((le,Oe,ae)=>{const ue=!V.current&&!ae;(b.value!==void 0&&b.value===Oe||ue)&&k(le)},[b.value]),oe=a==="popper"?a2:T9,je=oe===a2?{side:l,sideOffset:c,align:d,alignOffset:u,arrowPadding:m,collisionBoundary:h,collisionPadding:f,sticky:g,hideWhenDetached:x,avoidCollisions:y}:{};return s.jsx(E9,{scope:r,content:j,viewport:w,onViewportChange:S,itemRefCallback:K,selectedItem:C,onItemLeave:Q,itemTextRefCallback:ie,focusSelectedItem:R,selectedItemText:T,position:a,isPositioned:D,searchRef:Z,children:s.jsx(Op,{as:_we,allowPinchZoom:!0,children:s.jsx(Mp,{asChild:!0,trapped:b.open,onMountAutoFocus:le=>{le.preventDefault()},onUnmountAutoFocus:ce(n,le=>{var Oe;(Oe=b.trigger)==null||Oe.focus({preventScroll:!0}),le.preventDefault()}),children:s.jsx(Xc,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:le=>le.preventDefault(),onDismiss:()=>b.onOpenChange(!1),children:s.jsx(oe,{role:"listbox",id:b.contentId,"data-state":b.open?"open":"closed",dir:b.dir,onContextMenu:le=>le.preventDefault(),...v,...je,onPlaced:()=>I(!0),ref:_,style:{display:"flex",flexDirection:"column",outline:"none",...v.style},onKeyDown:ce(v.onKeyDown,le=>{const Oe=le.ctrlKey||le.altKey||le.metaKey;if(le.key==="Tab"&&le.preventDefault(),!Oe&&le.key.length===1&&B(le.key),["ArrowUp","ArrowDown","Home","End"].includes(le.key)){let ue=P().filter(L=>!L.disabled).map(L=>L.ref.current);if(["ArrowUp","End"].includes(le.key)&&(ue=ue.slice().reverse()),["ArrowUp","ArrowDown"].includes(le.key)){const L=le.target,q=ue.indexOf(L);ue=ue.slice(q+1)}setTimeout(()=>W(ue)),le.preventDefault()}})})})})})})});A9.displayName=Swe;var Cwe="SelectItemAlignedPosition",T9=p.forwardRef((e,t)=>{const{__scopeSelect:r,onPlaced:a,...n}=e,i=Dl(qc,r),o=Rl(qc,r),[l,c]=p.useState(null),[d,u]=p.useState(null),m=Me(t,_=>u(_)),h=eb(r),f=p.useRef(!1),g=p.useRef(!0),{viewport:x,selectedItem:y,selectedItemText:v,focusSelectedItem:b}=o,j=p.useCallback(()=>{if(i.trigger&&i.valueNode&&l&&d&&x&&y&&v){const _=i.trigger.getBoundingClientRect(),C=d.getBoundingClientRect(),E=i.valueNode.getBoundingClientRect(),T=v.getBoundingClientRect();if(i.dir!=="rtl"){const L=T.left-C.left,q=E.left-L,te=_.left-q,ye=_.width+te,Pe=Math.max(ye,C.width),J=window.innerWidth-an,se=kf(q,[an,Math.max(an,J-Pe)]);l.style.minWidth=ye+"px",l.style.left=se+"px"}else{const L=C.right-T.right,q=window.innerWidth-E.right-L,te=window.innerWidth-_.right-q,ye=_.width+te,Pe=Math.max(ye,C.width),J=window.innerWidth-an,se=kf(q,[an,Math.max(an,J-Pe)]);l.style.minWidth=ye+"px",l.style.right=se+"px"}const k=h(),P=window.innerHeight-an*2,D=x.scrollHeight,I=window.getComputedStyle(d),V=parseInt(I.borderTopWidth,10),W=parseInt(I.paddingTop,10),R=parseInt(I.borderBottomWidth,10),F=parseInt(I.paddingBottom,10),H=V+W+D+F+R,Z=Math.min(y.offsetHeight*5,H),B=window.getComputedStyle(x),K=parseInt(B.paddingTop,10),Q=parseInt(B.paddingBottom,10),ie=_.top+_.height/2-an,oe=P-ie,je=y.offsetHeight/2,le=y.offsetTop+je,Oe=V+W+le,ae=H-Oe;if(Oe<=ie){const L=k.length>0&&y===k[k.length-1].ref.current;l.style.bottom="0px";const q=d.clientHeight-x.offsetTop-x.offsetHeight,te=Math.max(oe,je+(L?Q:0)+q+R),ye=Oe+te;l.style.height=ye+"px"}else{const L=k.length>0&&y===k[0].ref.current;l.style.top="0px";const te=Math.max(ie,V+x.offsetTop+(L?K:0)+je)+ae;l.style.height=te+"px",x.scrollTop=Oe-ie+x.offsetTop}l.style.margin=`${an}px 0`,l.style.minHeight=Z+"px",l.style.maxHeight=P+"px",a==null||a(),requestAnimationFrame(()=>f.current=!0)}},[h,i.trigger,i.valueNode,l,d,x,y,v,i.dir,a]);ns(()=>j(),[j]);const[N,w]=p.useState();ns(()=>{d&&w(window.getComputedStyle(d).zIndex)},[d]);const S=p.useCallback(_=>{_&&g.current===!0&&(j(),b==null||b(),g.current=!1)},[j,b]);return s.jsx(Pwe,{scope:r,contentWrapper:l,shouldExpandOnScrollRef:f,onScrollButtonChange:S,children:s.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:N},children:s.jsx(ge.div,{...n,ref:m,style:{boxSizing:"border-box",maxHeight:"100%",...n.style}})})})});T9.displayName=Cwe;var kwe="SelectPopperPosition",a2=p.forwardRef((e,t)=>{const{__scopeSelect:r,align:a="start",collisionPadding:n=an,...i}=e,o=tb(r);return s.jsx(I0,{...o,...i,ref:t,align:a,collisionPadding:n,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});a2.displayName=kwe;var[Pwe,wk]=Em(qc,{}),n2="SelectViewport",M9=p.forwardRef((e,t)=>{const{__scopeSelect:r,nonce:a,...n}=e,i=Rl(n2,r),o=wk(n2,r),l=Me(t,i.onViewportChange),c=p.useRef(0);return s.jsxs(s.Fragment,{children:[s.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:a}),s.jsx(Zy.Slot,{scope:r,children:s.jsx(ge.div,{"data-radix-select-viewport":"",role:"presentation",...n,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...n.style},onScroll:ce(n.onScroll,d=>{const u=d.currentTarget,{contentWrapper:m,shouldExpandOnScrollRef:h}=o;if(h!=null&&h.current&&m){const f=Math.abs(c.current-u.scrollTop);if(f>0){const g=window.innerHeight-an*2,x=parseFloat(m.style.minHeight),y=parseFloat(m.style.height),v=Math.max(x,y);if(v<g){const b=v+f,j=Math.min(g,b),N=b-j;m.style.height=j+"px",m.style.bottom==="0px"&&(u.scrollTop=N>0?N:0,m.style.justifyContent="flex-end")}}}c.current=u.scrollTop})})})]})});M9.displayName=n2;var O9="SelectGroup",[Ewe,Awe]=Em(O9),Twe=p.forwardRef((e,t)=>{const{__scopeSelect:r,...a}=e,n=oa();return s.jsx(Ewe,{scope:r,id:n,children:s.jsx(ge.div,{role:"group","aria-labelledby":n,...a,ref:t})})});Twe.displayName=O9;var D9="SelectLabel",R9=p.forwardRef((e,t)=>{const{__scopeSelect:r,...a}=e,n=Awe(D9,r);return s.jsx(ge.div,{id:n.id,...a,ref:t})});R9.displayName=D9;var Bv="SelectItem",[Mwe,I9]=Em(Bv),F9=p.forwardRef((e,t)=>{const{__scopeSelect:r,value:a,disabled:n=!1,textValue:i,...o}=e,l=Dl(Bv,r),c=Rl(Bv,r),d=l.value===a,[u,m]=p.useState(i??""),[h,f]=p.useState(!1),g=Me(t,b=>{var j;return(j=c.itemRefCallback)==null?void 0:j.call(c,b,a,n)}),x=oa(),y=p.useRef("touch"),v=()=>{n||(l.onValueChange(a),l.onOpenChange(!1))};if(a==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return s.jsx(Mwe,{scope:r,value:a,disabled:n,textId:x,isSelected:d,onItemTextChange:p.useCallback(b=>{m(j=>j||((b==null?void 0:b.textContent)??"").trim())},[]),children:s.jsx(Zy.ItemSlot,{scope:r,value:a,disabled:n,textValue:u,children:s.jsx(ge.div,{role:"option","aria-labelledby":x,"data-highlighted":h?"":void 0,"aria-selected":d&&h,"data-state":d?"checked":"unchecked","aria-disabled":n||void 0,"data-disabled":n?"":void 0,tabIndex:n?void 0:-1,...o,ref:g,onFocus:ce(o.onFocus,()=>f(!0)),onBlur:ce(o.onBlur,()=>f(!1)),onClick:ce(o.onClick,()=>{y.current!=="mouse"&&v()}),onPointerUp:ce(o.onPointerUp,()=>{y.current==="mouse"&&v()}),onPointerDown:ce(o.onPointerDown,b=>{y.current=b.pointerType}),onPointerMove:ce(o.onPointerMove,b=>{var j;y.current=b.pointerType,n?(j=c.onItemLeave)==null||j.call(c):y.current==="mouse"&&b.currentTarget.focus({preventScroll:!0})}),onPointerLeave:ce(o.onPointerLeave,b=>{var j;b.currentTarget===document.activeElement&&((j=c.onItemLeave)==null||j.call(c))}),onKeyDown:ce(o.onKeyDown,b=>{var N;((N=c.searchRef)==null?void 0:N.current)!==""&&b.key===" "||(gwe.includes(b.key)&&v(),b.key===" "&&b.preventDefault())})})})})});F9.displayName=Bv;var dh="SelectItemText",L9=p.forwardRef((e,t)=>{const{__scopeSelect:r,className:a,style:n,...i}=e,o=Dl(dh,r),l=Rl(dh,r),c=I9(dh,r),d=jwe(dh,r),[u,m]=p.useState(null),h=Me(t,v=>m(v),c.onItemTextChange,v=>{var b;return(b=l.itemTextRefCallback)==null?void 0:b.call(l,v,c.value,c.disabled)}),f=u==null?void 0:u.textContent,g=p.useMemo(()=>s.jsx("option",{value:c.value,disabled:c.disabled,children:f},c.value),[c.disabled,c.value,f]),{onNativeOptionAdd:x,onNativeOptionRemove:y}=d;return ns(()=>(x(g),()=>y(g)),[x,y,g]),s.jsxs(s.Fragment,{children:[s.jsx(ge.span,{id:c.textId,...i,ref:h}),c.isSelected&&o.valueNode&&!o.valueNodeHasChildren?ao.createPortal(i.children,o.valueNode):null]})});L9.displayName=dh;var $9="SelectItemIndicator",B9=p.forwardRef((e,t)=>{const{__scopeSelect:r,...a}=e;return I9($9,r).isSelected?s.jsx(ge.span,{"aria-hidden":!0,...a,ref:t}):null});B9.displayName=$9;var i2="SelectScrollUpButton",z9=p.forwardRef((e,t)=>{const r=Rl(i2,e.__scopeSelect),a=wk(i2,e.__scopeSelect),[n,i]=p.useState(!1),o=Me(t,a.onScrollButtonChange);return ns(()=>{if(r.viewport&&r.isPositioned){let l=function(){const d=c.scrollTop>0;i(d)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),n?s.jsx(q9,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});z9.displayName=i2;var o2="SelectScrollDownButton",U9=p.forwardRef((e,t)=>{const r=Rl(o2,e.__scopeSelect),a=wk(o2,e.__scopeSelect),[n,i]=p.useState(!1),o=Me(t,a.onScrollButtonChange);return ns(()=>{if(r.viewport&&r.isPositioned){let l=function(){const d=c.scrollHeight-c.clientHeight,u=Math.ceil(c.scrollTop)<d;i(u)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),n?s.jsx(q9,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});U9.displayName=o2;var q9=p.forwardRef((e,t)=>{const{__scopeSelect:r,onAutoScroll:a,...n}=e,i=Rl("SelectScrollButton",r),o=p.useRef(null),l=eb(r),c=p.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return p.useEffect(()=>()=>c(),[c]),ns(()=>{var u;const d=l().find(m=>m.ref.current===document.activeElement);(u=d==null?void 0:d.ref.current)==null||u.scrollIntoView({block:"nearest"})},[l]),s.jsx(ge.div,{"aria-hidden":!0,...n,ref:t,style:{flexShrink:0,...n.style},onPointerDown:ce(n.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(a,50))}),onPointerMove:ce(n.onPointerMove,()=>{var d;(d=i.onItemLeave)==null||d.call(i),o.current===null&&(o.current=window.setInterval(a,50))}),onPointerLeave:ce(n.onPointerLeave,()=>{c()})})}),Owe="SelectSeparator",V9=p.forwardRef((e,t)=>{const{__scopeSelect:r,...a}=e;return s.jsx(ge.div,{"aria-hidden":!0,...a,ref:t})});V9.displayName=Owe;var l2="SelectArrow",Dwe=p.forwardRef((e,t)=>{const{__scopeSelect:r,...a}=e,n=tb(r),i=Dl(l2,r),o=Rl(l2,r);return i.open&&o.position==="popper"?s.jsx(F0,{...n,...a,ref:t}):null});Dwe.displayName=l2;var Rwe="SelectBubbleInput",W9=p.forwardRef(({__scopeSelect:e,value:t,...r},a)=>{const n=p.useRef(null),i=Me(a,n),o=Ap(t);return p.useEffect(()=>{const l=n.current;if(!l)return;const c=window.HTMLSelectElement.prototype,u=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==t&&u){const m=new Event("change",{bubbles:!0});u.call(l,t),l.dispatchEvent(m)}},[o,t]),s.jsx(ge.select,{...r,style:{...MI,...r.style},ref:i,defaultValue:t})});W9.displayName=Rwe;function H9(e){return e===""||e===void 0}function K9(e){const t=ss(e),r=p.useRef(""),a=p.useRef(0),n=p.useCallback(o=>{const l=r.current+o;t(l),function c(d){r.current=d,window.clearTimeout(a.current),d!==""&&(a.current=window.setTimeout(()=>c(""),1e3))}(l)},[t]),i=p.useCallback(()=>{r.current="",window.clearTimeout(a.current)},[]);return p.useEffect(()=>()=>window.clearTimeout(a.current),[]),[r,n,i]}function G9(e,t,r){const n=t.length>1&&Array.from(t).every(d=>d===t[0])?t[0]:t,i=r?e.indexOf(r):-1;let o=Iwe(e,Math.max(i,0));n.length===1&&(o=o.filter(d=>d!==r));const c=o.find(d=>d.textValue.toLowerCase().startsWith(n.toLowerCase()));return c!==r?c:void 0}function Iwe(e,t){return e.map((r,a)=>e[(t+a)%e.length])}var Fwe=j9,Y9=N9,Lwe=_9,$we=C9,Bwe=k9,X9=P9,zwe=M9,Q9=R9,J9=F9,Uwe=L9,qwe=B9,Z9=z9,eU=U9,tU=V9;const rt=Fwe,at=Lwe,tt=p.forwardRef(({className:e,children:t,...r},a)=>s.jsxs(Y9,{ref:a,className:xe("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...r,children:[t,s.jsx($we,{asChild:!0,children:s.jsx(P0,{className:"h-4 w-4 opacity-50"})})]}));tt.displayName=Y9.displayName;const sU=p.forwardRef(({className:e,...t},r)=>s.jsx(Z9,{ref:r,className:xe("flex cursor-default items-center justify-center py-1",e),...t,children:s.jsx(YS,{className:"h-4 w-4"})}));sU.displayName=Z9.displayName;const rU=p.forwardRef(({className:e,...t},r)=>s.jsx(eU,{ref:r,className:xe("flex cursor-default items-center justify-center py-1",e),...t,children:s.jsx(P0,{className:"h-4 w-4"})}));rU.displayName=eU.displayName;const st=p.forwardRef(({className:e,children:t,position:r="popper",...a},n)=>s.jsx(Bwe,{children:s.jsxs(X9,{ref:n,className:xe("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...a,children:[s.jsx(sU,{}),s.jsx(zwe,{className:xe("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),s.jsx(rU,{})]})}));st.displayName=X9.displayName;const Vwe=p.forwardRef(({className:e,...t},r)=>s.jsx(Q9,{ref:r,className:xe("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));Vwe.displayName=Q9.displayName;const he=p.forwardRef(({className:e,children:t,...r},a)=>s.jsxs(J9,{ref:a,className:xe("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[s.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(qwe,{children:s.jsx(Dc,{className:"h-4 w-4"})})}),s.jsx(Uwe,{children:t})]}));he.displayName=J9.displayName;const Wwe=p.forwardRef(({className:e,...t},r)=>s.jsx(tU,{ref:r,className:xe("-mx-1 my-1 h-px bg-muted",e),...t}));Wwe.displayName=tU.displayName;const Hwe=()=>{const[e,t]=p.useState(!1),[r,a]=p.useState(!1),[n,i]=p.useState(""),[o,l]=p.useState(!0),[c,d]=p.useState(!1),u=ur(),{toast:m}=Ee(),[h,f]=p.useState({email:"",password:""}),[g,x]=p.useState({fullName:"",email:"",phone:"",birthDate:"",gender:"",city:"",state:"",height:"",password:"",confirmPassword:""}),y=async()=>{if(!h.email||!h.password){m({title:"Erro",description:"Por favor, preencha todos os campos",variant:"destructive"});return}t(!0);try{const{data:j,error:N}=await z.auth.signInWithPassword({email:h.email,password:h.password});if(N){m({title:"Erro no login",description:"Email ou senha incorretos",variant:"destructive"});return}if(j.user)try{const{data:w}=await z.from("profiles").select("role").eq("user_id",j.user.id).single();(w==null?void 0:w.role)==="admin"?(m({title:"Acesso administrativo concedido",description:"Bem-vindo, administrador"}),u("/admin")):(m({title:"Login realizado!",description:"Bem-vindo de volta ao Instituto dos Sonhos"}),u("/dashboard"))}catch(w){console.log("Erro ao verificar role, assumindo usurio comum:",w),m({title:"Login realizado!",description:"Bem-vindo de volta ao Instituto dos Sonhos"}),u("/dashboard")}}catch{m({title:"Erro",description:"Ocorreu um erro inesperado",variant:"destructive"})}finally{t(!1)}},v=async()=>{if(!g.fullName||!g.email||!g.phone||!g.birthDate||!g.gender||!g.city||!g.state||!g.height||!g.password||!g.confirmPassword){m({title:"Erro",description:"Por favor, preencha todos os campos obrigatrios",variant:"destructive"});return}if(g.password!==g.confirmPassword){m({title:"Erro",description:"As senhas no coincidem",variant:"destructive"});return}if(!c){m({title:"Erro",description:"Voc precisa aceitar os termos de uso",variant:"destructive"});return}const j=parseFloat(g.height);if(j<100||j>250){m({title:"Erro",description:"Altura deve estar entre 100cm e 250cm",variant:"destructive"});return}const N=new Date(g.birthDate),S=new Date().getFullYear()-N.getFullYear();if(S<13||S>120){m({title:"Erro",description:"Idade deve estar entre 13 e 120 anos",variant:"destructive"});return}t(!0);try{const{data:_,error:C}=await z.auth.signUp({email:g.email,password:g.password,options:{emailRedirectTo:`${window.location.origin}/`,data:{full_name:g.fullName,phone:g.phone,birth_date:g.birthDate,gender:g.gender,city:g.city,state:g.state,height:j}}});if(C)m({title:"Erro no cadastro",description:C.message,variant:"destructive"});else if(_.user){const{error:E}=await z.from("user_physical_data").insert({user_id:_.user.id,altura_cm:j,idade:S,sexo:g.gender==="male"?"masculino":"feminino",nivel_atividade:"moderado"});E&&console.error("Erro ao criar dados fsicos:",E),m({title:"Conta criada com sucesso!",description:"Bem-vindo ao Instituto dos Sonhos. Seus dados foram salvos."}),u("/dashboard")}}catch{m({title:"Erro",description:"Ocorreu um erro inesperado",variant:"destructive"})}finally{t(!1)}},b=async()=>{if(!n){m({title:"Erro",description:"Por favor, digite seu email",variant:"destructive"});return}t(!0);try{const{error:j}=await z.auth.resetPasswordForEmail(n,{redirectTo:`${window.location.origin}/auth`});j?m({title:"Erro",description:j.message,variant:"destructive"}):(m({title:"Email enviado!",description:"Verifique sua caixa de entrada para redefinir a senha"}),a(!1),i(""))}catch{m({title:"Erro",description:"Ocorreu um erro inesperado",variant:"destructive"})}finally{t(!1)}};return s.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-background via-background to-muted/20",children:[s.jsx("header",{className:"absolute top-0 left-0 right-0 z-10 border-b border-border/10 bg-background/80 backdrop-blur-xl",children:s.jsx("div",{className:"container mx-auto px-6 py-4",children:s.jsxs(Os,{to:"/",className:"flex items-center gap-3 group",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Wr,{className:"h-5 w-5 transition-transform group-hover:-translate-x-1"}),s.jsxs("div",{className:"relative",children:[s.jsx(He,{className:"h-8 w-8 text-primary"}),s.jsx("div",{className:"absolute inset-0 h-8 w-8 text-primary/20 animate-pulse"})]})]}),s.jsx("h1",{className:"text-2xl font-bold bg-gradient-to-r from-primary to-primary/70 bg-clip-text text-transparent",children:"Instituto dos Sonhos"})]})})}),s.jsx("div",{className:"min-h-screen flex items-center justify-center px-6 py-20",children:s.jsxs("div",{className:"w-full max-w-md space-y-8",children:[s.jsx("div",{className:"text-center space-y-4",children:s.jsxs("div",{className:"space-y-2",children:[s.jsxs("h1",{className:"text-4xl font-bold tracking-tight",children:["Comece sua",s.jsxs("span",{className:"bg-gradient-to-r from-primary to-primary/70 bg-clip-text text-transparent",children:[" ","transformao"]})]}),s.jsx("p",{className:"text-lg text-muted-foreground",children:"Faa login ou crie sua conta gratuita"})]})}),s.jsx(M,{className:"border-0 shadow-2xl shadow-primary/5 bg-card/50 backdrop-blur-xl",children:s.jsx(O,{className:"p-8",children:s.jsxs(ga,{defaultValue:"login",className:"w-full",children:[s.jsxs(Gr,{className:"grid w-full grid-cols-2 mb-8 bg-muted/50",children:[s.jsx(Ve,{value:"login",className:"data-[state=active]:bg-background data-[state=active]:shadow-md",children:"Entrar"}),s.jsx(Ve,{value:"signup",className:"data-[state=active]:bg-background data-[state=active]:shadow-md",children:"Criar Conta"})]}),s.jsxs(ct,{value:"login",className:"space-y-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Y,{htmlFor:"login-email",className:"text-sm font-medium",children:"Email"}),s.jsx(re,{id:"login-email",type:"email",placeholder:"seu@email.com",value:h.email,onChange:j=>f({...h,email:j.target.value}),className:"h-12 bg-background/50 border-border/50 focus:border-primary focus:ring-primary/20",required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Y,{htmlFor:"login-password",className:"text-sm font-medium",children:"Senha"}),s.jsx(re,{id:"login-password",type:"password",placeholder:"Sua senha",value:h.password,onChange:j=>f({...h,password:j.target.value}),onKeyDown:j=>j.key==="Enter"&&y(),className:"h-12 bg-background/50 border-border/50 focus:border-primary focus:ring-primary/20",required:!0})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Uu,{id:"remember",checked:o,onCheckedChange:j=>l(j===!0)}),s.jsx(Y,{htmlFor:"remember",className:"text-sm text-muted-foreground",children:"Lembrar de mim"})]}),s.jsx("button",{onClick:()=>a(!0),className:"text-sm text-primary hover:underline",children:"Esqueceu a senha?"})]})]}),s.jsx(A,{onClick:y,disabled:e,className:"w-full h-12 bg-gradient-to-r from-primary to-primary/90 hover:from-primary/90 hover:to-primary text-primary-foreground font-medium shadow-lg shadow-primary/25 transition-all duration-200",children:e?s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-4 h-4 border-2 border-primary-foreground/20 border-t-primary-foreground rounded-full animate-spin"}),"Entrando..."]}):"Entrar"}),s.jsxs("div",{className:"text-center",children:[s.jsxs("p",{className:"text-sm text-muted-foreground",children:["Ainda no tem conta?"," ",s.jsx("span",{className:"text-primary font-medium cursor-pointer hover:underline",children:"Crie uma agora"})]}),s.jsx("div",{className:"mt-4 p-3 bg-muted/50 rounded-lg",children:s.jsxs("p",{className:"text-xs text-muted-foreground",children:[" ",s.jsx("strong",{children:"Para testes rpidos:"}),s.jsx("br",{}),"Email: ",s.jsx("code",{className:"bg-background px-1 rounded",children:"teste@institutodossonhos.com"}),s.jsx("br",{}),"Senha: ",s.jsx("code",{className:"bg-background px-1 rounded",children:"123456"}),s.jsx("br",{}),s.jsx(A,{variant:"outline",size:"sm",className:"mt-2",onClick:()=>{f({email:"teste@institutodossonhos.com",password:"123456"})},children:"Preencher dados de teste"})]})})]})]}),r&&s.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:s.jsxs("div",{className:"bg-background rounded-lg p-6 w-full max-w-md mx-4 shadow-2xl border",children:[s.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Recuperar Senha"}),s.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Digite seu email para receber as instrues de recuperao"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Y,{htmlFor:"forgot-email",children:"Email"}),s.jsx(re,{id:"forgot-email",type:"email",placeholder:"seu@email.com",value:n,onChange:j=>i(j.target.value),className:"h-12 bg-background/50 border-border/50 focus:border-primary focus:ring-primary/20"})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(A,{variant:"outline",onClick:()=>{a(!1),i("")},className:"flex-1",children:"Cancelar"}),s.jsx(A,{onClick:b,disabled:e,className:"flex-1",children:e?"Enviando...":"Enviar"})]})]}),s.jsx("div",{className:"mt-4 p-3 bg-muted rounded-lg",children:s.jsxs("p",{className:"text-xs text-muted-foreground",children:[" ",s.jsx("strong",{children:"Para testes:"})," Use o email ",s.jsx("code",{children:"teste@institutodossonhos.com"})," com senha ",s.jsx("code",{children:"123456"})]})})]})}),s.jsxs(ct,{value:"signup",className:"space-y-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center gap-2 pb-2 border-b border-border/50",children:[s.jsx("div",{className:"p-2 bg-primary/10 rounded-lg",children:s.jsx(Ui,{className:"h-4 w-4 text-primary"})}),s.jsx("span",{className:"font-semibold text-foreground",children:"Dados Pessoais"})]}),s.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Y,{htmlFor:"signup-name",className:"text-sm font-medium",children:"Nome completo *"}),s.jsx(re,{id:"signup-name",type:"text",placeholder:"Digite seu nome completo",value:g.fullName,onChange:j=>x({...g,fullName:j.target.value}),className:"h-12 bg-background/50 border-border/50 focus:border-primary focus:ring-primary/20",required:!0})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs(Y,{htmlFor:"signup-phone",className:"text-sm font-medium flex items-center gap-2",children:[s.jsx(l6,{className:"h-3 w-3"}),"Celular *"]}),s.jsx(re,{id:"signup-phone",type:"tel",placeholder:"(11) 99999-9999",value:g.phone,onChange:j=>x({...g,phone:j.target.value}),className:"h-12 bg-background/50 border-border/50 focus:border-primary focus:ring-primary/20",required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Y,{htmlFor:"signup-email",className:"text-sm font-medium",children:"Email *"}),s.jsx(re,{id:"signup-email",type:"email",placeholder:"seu@email.com",value:g.email,onChange:j=>x({...g,email:j.target.value}),className:"h-12 bg-background/50 border-border/50 focus:border-primary focus:ring-primary/20",required:!0})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs(Y,{htmlFor:"signup-birth",className:"text-sm font-medium flex items-center gap-2",children:[s.jsx(Vt,{className:"h-3 w-3"}),"Data de Nascimento *"]}),s.jsx(re,{id:"signup-birth",type:"date",value:g.birthDate,onChange:j=>x({...g,birthDate:j.target.value}),className:"h-12 bg-background/50 border-border/50 focus:border-primary focus:ring-primary/20",required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Y,{htmlFor:"signup-gender",className:"text-sm font-medium",children:"Gnero *"}),s.jsxs(rt,{value:g.gender,onValueChange:j=>{console.log("Gender selected:",j),x({...g,gender:j})},children:[s.jsx(tt,{className:"h-12 bg-background/50 border-border/50 focus:border-primary focus:ring-primary/20",children:s.jsx(at,{placeholder:"Selecione seu gnero"})}),s.jsxs(st,{className:"z-50",children:[s.jsx(he,{value:"male",children:"Masculino"}),s.jsx(he,{value:"female",children:"Feminino"}),s.jsx(he,{value:"other",children:"Outro"})]})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs(Y,{htmlFor:"signup-city",className:"text-sm font-medium flex items-center gap-2",children:[s.jsx(ep,{className:"h-3 w-3"}),"Cidade *"]}),s.jsx(re,{id:"signup-city",type:"text",placeholder:"Sua cidade",value:g.city,onChange:j=>x({...g,city:j.target.value}),className:"h-12 bg-background/50 border-border/50 focus:border-primary focus:ring-primary/20",required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Y,{htmlFor:"signup-state",className:"text-sm font-medium",children:"Estado *"}),s.jsx(re,{id:"signup-state",type:"text",placeholder:"SP",value:g.state,onChange:j=>x({...g,state:j.target.value}),className:"h-12 bg-background/50 border-border/50 focus:border-primary focus:ring-primary/20",required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(Y,{htmlFor:"signup-height",className:"text-sm font-medium flex items-center gap-2",children:[s.jsx(of,{className:"h-3 w-3"}),"Altura (cm) *"]}),s.jsx(re,{id:"signup-height",type:"number",placeholder:"175",min:"100",max:"250",value:g.height,onChange:j=>x({...g,height:j.target.value}),className:"h-12 bg-background/50 border-border/50 focus:border-primary focus:ring-primary/20",required:!0})]})]})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center gap-2 pb-2 border-b border-border/50",children:[s.jsx("div",{className:"p-2 bg-primary/10 rounded-lg",children:s.jsx(He,{className:"h-4 w-4 text-primary"})}),s.jsx("span",{className:"font-semibold text-foreground",children:"Segurana"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Y,{htmlFor:"signup-password",className:"text-sm font-medium",children:"Senha *"}),s.jsx(re,{id:"signup-password",type:"password",placeholder:"Crie uma senha forte",value:g.password,onChange:j=>x({...g,password:j.target.value}),className:"h-12 bg-background/50 border-border/50 focus:border-primary focus:ring-primary/20",required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Y,{htmlFor:"confirm-password",className:"text-sm font-medium",children:"Confirmar senha *"}),s.jsx(re,{id:"confirm-password",type:"password",placeholder:"Confirme sua senha",value:g.confirmPassword,onChange:j=>x({...g,confirmPassword:j.target.value}),className:"h-12 bg-background/50 border-border/50 focus:border-primary focus:ring-primary/20",required:!0})]})]})]}),s.jsxs("div",{className:"flex items-start space-x-3 p-4 bg-muted/20 rounded-lg border border-border/50",children:[s.jsx(Uu,{id:"terms",checked:c,onCheckedChange:j=>d(j===!0),className:"mt-0.5"}),s.jsxs(Y,{htmlFor:"terms",className:"text-sm text-muted-foreground leading-relaxed",children:["Aceito os"," ",s.jsx("span",{className:"text-primary hover:underline cursor-pointer font-medium",children:"termos de uso"})," ","e"," ",s.jsx("span",{className:"text-primary hover:underline cursor-pointer font-medium",children:"poltica de privacidade"})]})]}),s.jsx(A,{onClick:v,disabled:e,className:"w-full h-12 bg-gradient-to-r from-green-600 to-green-500 hover:from-green-700 hover:to-green-600 text-white font-medium shadow-lg shadow-green-500/25 transition-all duration-200",children:e?s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-4 h-4 border-2 border-white/20 border-t-white rounded-full animate-spin"}),"Criando conta..."]}):"Criar minha conta"})]})]})})}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{className:"text-center",children:s.jsxs("p",{className:"text-sm text-muted-foreground",children:["Mais de ",s.jsx("span",{className:"font-semibold text-primary",children:"10.000 pessoas"})," j transformaram suas vidas"]})}),s.jsx(M,{className:"border-0 bg-gradient-to-r from-primary/5 to-green-500/5 backdrop-blur-sm",children:s.jsxs(O,{className:"p-6 text-center",children:[s.jsx("div",{className:"flex items-center justify-center gap-1 mb-3",children:Array.from({length:5}).map((j,N)=>s.jsx(He,{className:"h-4 w-4 fill-yellow-400 text-yellow-400"},N))}),s.jsx("p",{className:"text-lg font-medium mb-2",children:'"Transformei minha vida em 30 dias!"'}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Maria S.  Perdeu 8kg"})]})})]})]})})]})},Kwe=()=>{const[e,t]=p.useState(!0),[r]=tX(),a=ur(),{toast:n}=Ee();return p.useEffect(()=>{(async()=>{try{const o=r.get("token"),l=r.get("session"),c=r.get("redirect");if(!o){n({title:"Link invlido",description:"Token de acesso no encontrado",variant:"destructive"}),a("/auth");return}const d=atob(o),[u,m]=d.split(":");if(!u||!m){n({title:"Credenciais invlidas",description:"Link malformado ou corrompido",variant:"destructive"}),a("/auth");return}const{data:h,error:f}=await z.auth.signInWithPassword({email:u,password:m});if(f){n({title:"Erro no login automtico",description:"Credenciais incorretas ou expiradas",variant:"destructive"}),a("/auth");return}n({title:"Login realizado com sucesso!",description:"Redirecionando para sua rea..."}),setTimeout(()=>{a(l?`/sessions/${l}`:c||"/dashboard")},1500)}catch(o){console.error("Erro no auto-login:",o),n({title:"Erro inesperado",description:"Ocorreu um erro durante o login automtico",variant:"destructive"}),a("/auth")}finally{t(!1)}})()},[r,a,n]),s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-background via-background to-muted/20 flex items-center justify-center px-6",children:s.jsx(M,{className:"w-full max-w-md",children:s.jsxs(O,{className:"p-8 text-center space-y-6",children:[s.jsxs("div",{className:"relative",children:[s.jsx(He,{className:"h-12 w-12 text-primary mx-auto animate-pulse"}),s.jsx("div",{className:"absolute inset-0 h-12 w-12 text-primary/20 animate-ping mx-auto"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("h1",{className:"text-2xl font-bold",children:"Instituto dos Sonhos"}),s.jsx("p",{className:"text-muted-foreground",children:e?"Realizando login automtico...":"Redirecionando..."})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx("div",{className:"w-full bg-muted rounded-full h-2",children:s.jsx("div",{className:"bg-primary h-2 rounded-full animate-pulse w-3/4"})}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Aguarde enquanto processamos seu acesso"})]})]})})})};var c2=["Enter"," "],Gwe=["ArrowDown","PageUp","Home"],aU=["ArrowUp","PageDown","End"],Ywe=[...Gwe,...aU],Xwe={ltr:[...c2,"ArrowRight"],rtl:[...c2,"ArrowLeft"]},Qwe={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Dp="Menu",[Pf,Jwe,Zwe]=Qf(Dp),[nd,nU]=ys(Dp,[Zwe,El,Pm]),sb=El(),iU=Pm(),[eNe,id]=nd(Dp),[tNe,Rp]=nd(Dp),oU=e=>{const{__scopeMenu:t,open:r=!1,children:a,dir:n,onOpenChange:i,modal:o=!0}=e,l=sb(t),[c,d]=p.useState(null),u=p.useRef(!1),m=ss(i),h=ad(n);return p.useEffect(()=>{const f=()=>{u.current=!0,document.addEventListener("pointerdown",g,{capture:!0,once:!0}),document.addEventListener("pointermove",g,{capture:!0,once:!0})},g=()=>u.current=!1;return document.addEventListener("keydown",f,{capture:!0}),()=>{document.removeEventListener("keydown",f,{capture:!0}),document.removeEventListener("pointerdown",g,{capture:!0}),document.removeEventListener("pointermove",g,{capture:!0})}},[]),s.jsx(R0,{...l,children:s.jsx(eNe,{scope:t,open:r,onOpenChange:m,content:c,onContentChange:d,children:s.jsx(tNe,{scope:t,onClose:p.useCallback(()=>m(!1),[m]),isUsingKeyboardRef:u,dir:h,modal:o,children:a})})})};oU.displayName=Dp;var sNe="MenuAnchor",Nk=p.forwardRef((e,t)=>{const{__scopeMenu:r,...a}=e,n=sb(r);return s.jsx(ap,{...n,...a,ref:t})});Nk.displayName=sNe;var Sk="MenuPortal",[rNe,lU]=nd(Sk,{forceMount:void 0}),cU=e=>{const{__scopeMenu:t,forceMount:r,children:a,container:n}=e,i=id(Sk,t);return s.jsx(rNe,{scope:t,forceMount:r,children:s.jsx(bs,{present:r||i.open,children:s.jsx(lm,{asChild:!0,container:n,children:a})})})};cU.displayName=Sk;var Ia="MenuContent",[aNe,_k]=nd(Ia),dU=p.forwardRef((e,t)=>{const r=lU(Ia,e.__scopeMenu),{forceMount:a=r.forceMount,...n}=e,i=id(Ia,e.__scopeMenu),o=Rp(Ia,e.__scopeMenu);return s.jsx(Pf.Provider,{scope:e.__scopeMenu,children:s.jsx(bs,{present:a||i.open,children:s.jsx(Pf.Slot,{scope:e.__scopeMenu,children:o.modal?s.jsx(nNe,{...n,ref:t}):s.jsx(iNe,{...n,ref:t})})})})}),nNe=p.forwardRef((e,t)=>{const r=id(Ia,e.__scopeMenu),a=p.useRef(null),n=Me(t,a);return p.useEffect(()=>{const i=a.current;if(i)return Qy(i)},[]),s.jsx(Ck,{...e,ref:n,trapFocus:r.open,disableOutsidePointerEvents:r.open,disableOutsideScroll:!0,onFocusOutside:ce(e.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>r.onOpenChange(!1)})}),iNe=p.forwardRef((e,t)=>{const r=id(Ia,e.__scopeMenu);return s.jsx(Ck,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>r.onOpenChange(!1)})}),oNe=ul("MenuContent.ScrollLock"),Ck=p.forwardRef((e,t)=>{const{__scopeMenu:r,loop:a=!1,trapFocus:n,onOpenAutoFocus:i,onCloseAutoFocus:o,disableOutsidePointerEvents:l,onEntryFocus:c,onEscapeKeyDown:d,onPointerDownOutside:u,onFocusOutside:m,onInteractOutside:h,onDismiss:f,disableOutsideScroll:g,...x}=e,y=id(Ia,r),v=Rp(Ia,r),b=sb(r),j=iU(r),N=Jwe(r),[w,S]=p.useState(null),_=p.useRef(null),C=Me(t,_,y.onContentChange),E=p.useRef(0),T=p.useRef(""),k=p.useRef(0),P=p.useRef(null),D=p.useRef("right"),I=p.useRef(0),V=g?Op:p.Fragment,W=g?{as:oNe,allowPinchZoom:!0}:void 0,R=H=>{var le,Oe;const Z=T.current+H,B=N().filter(ae=>!ae.disabled),K=document.activeElement,Q=(le=B.find(ae=>ae.ref.current===K))==null?void 0:le.textValue,ie=B.map(ae=>ae.textValue),oe=yNe(ie,Z,Q),je=(Oe=B.find(ae=>ae.textValue===oe))==null?void 0:Oe.ref.current;(function ae(ue){T.current=ue,window.clearTimeout(E.current),ue!==""&&(E.current=window.setTimeout(()=>ae(""),1e3))})(Z),je&&setTimeout(()=>je.focus())};p.useEffect(()=>()=>window.clearTimeout(E.current),[]),Xy();const F=p.useCallback(H=>{var B,K;return D.current===((B=P.current)==null?void 0:B.side)&&jNe(H,(K=P.current)==null?void 0:K.area)},[]);return s.jsx(aNe,{scope:r,searchRef:T,onItemEnter:p.useCallback(H=>{F(H)&&H.preventDefault()},[F]),onItemLeave:p.useCallback(H=>{var Z;F(H)||((Z=_.current)==null||Z.focus(),S(null))},[F]),onTriggerLeave:p.useCallback(H=>{F(H)&&H.preventDefault()},[F]),pointerGraceTimerRef:k,onPointerGraceIntentChange:p.useCallback(H=>{P.current=H},[]),children:s.jsx(V,{...W,children:s.jsx(Mp,{asChild:!0,trapped:n,onMountAutoFocus:ce(i,H=>{var Z;H.preventDefault(),(Z=_.current)==null||Z.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:s.jsx(Xc,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:d,onPointerDownOutside:u,onFocusOutside:m,onInteractOutside:h,onDismiss:f,children:s.jsx(yk,{asChild:!0,...j,dir:v.dir,orientation:"vertical",loop:a,currentTabStopId:w,onCurrentTabStopIdChange:S,onEntryFocus:ce(c,H=>{v.isUsingKeyboardRef.current||H.preventDefault()}),preventScrollOnEntryFocus:!0,children:s.jsx(I0,{role:"menu","aria-orientation":"vertical","data-state":CU(y.open),"data-radix-menu-content":"",dir:v.dir,...b,...x,ref:C,style:{outline:"none",...x.style},onKeyDown:ce(x.onKeyDown,H=>{const B=H.target.closest("[data-radix-menu-content]")===H.currentTarget,K=H.ctrlKey||H.altKey||H.metaKey,Q=H.key.length===1;B&&(H.key==="Tab"&&H.preventDefault(),!K&&Q&&R(H.key));const ie=_.current;if(H.target!==ie||!Ywe.includes(H.key))return;H.preventDefault();const je=N().filter(le=>!le.disabled).map(le=>le.ref.current);aU.includes(H.key)&&je.reverse(),gNe(je)}),onBlur:ce(e.onBlur,H=>{H.currentTarget.contains(H.target)||(window.clearTimeout(E.current),T.current="")}),onPointerMove:ce(e.onPointerMove,Ef(H=>{const Z=H.target,B=I.current!==H.clientX;if(H.currentTarget.contains(Z)&&B){const K=H.clientX>I.current?"right":"left";D.current=K,I.current=H.clientX}}))})})})})})})});dU.displayName=Ia;var lNe="MenuGroup",kk=p.forwardRef((e,t)=>{const{__scopeMenu:r,...a}=e;return s.jsx(ge.div,{role:"group",...a,ref:t})});kk.displayName=lNe;var cNe="MenuLabel",uU=p.forwardRef((e,t)=>{const{__scopeMenu:r,...a}=e;return s.jsx(ge.div,{...a,ref:t})});uU.displayName=cNe;var zv="MenuItem",jO="menu.itemSelect",rb=p.forwardRef((e,t)=>{const{disabled:r=!1,onSelect:a,...n}=e,i=p.useRef(null),o=Rp(zv,e.__scopeMenu),l=_k(zv,e.__scopeMenu),c=Me(t,i),d=p.useRef(!1),u=()=>{const m=i.current;if(!r&&m){const h=new CustomEvent(jO,{bubbles:!0,cancelable:!0});m.addEventListener(jO,f=>a==null?void 0:a(f),{once:!0}),qS(m,h),h.defaultPrevented?d.current=!1:o.onClose()}};return s.jsx(mU,{...n,ref:c,disabled:r,onClick:ce(e.onClick,u),onPointerDown:m=>{var h;(h=e.onPointerDown)==null||h.call(e,m),d.current=!0},onPointerUp:ce(e.onPointerUp,m=>{var h;d.current||(h=m.currentTarget)==null||h.click()}),onKeyDown:ce(e.onKeyDown,m=>{const h=l.searchRef.current!=="";r||h&&m.key===" "||c2.includes(m.key)&&(m.currentTarget.click(),m.preventDefault())})})});rb.displayName=zv;var mU=p.forwardRef((e,t)=>{const{__scopeMenu:r,disabled:a=!1,textValue:n,...i}=e,o=_k(zv,r),l=iU(r),c=p.useRef(null),d=Me(t,c),[u,m]=p.useState(!1),[h,f]=p.useState("");return p.useEffect(()=>{const g=c.current;g&&f((g.textContent??"").trim())},[i.children]),s.jsx(Pf.ItemSlot,{scope:r,disabled:a,textValue:n??h,children:s.jsx(bk,{asChild:!0,...l,focusable:!a,children:s.jsx(ge.div,{role:"menuitem","data-highlighted":u?"":void 0,"aria-disabled":a||void 0,"data-disabled":a?"":void 0,...i,ref:d,onPointerMove:ce(e.onPointerMove,Ef(g=>{a?o.onItemLeave(g):(o.onItemEnter(g),g.defaultPrevented||g.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:ce(e.onPointerLeave,Ef(g=>o.onItemLeave(g))),onFocus:ce(e.onFocus,()=>m(!0)),onBlur:ce(e.onBlur,()=>m(!1))})})})}),dNe="MenuCheckboxItem",hU=p.forwardRef((e,t)=>{const{checked:r=!1,onCheckedChange:a,...n}=e;return s.jsx(vU,{scope:e.__scopeMenu,checked:r,children:s.jsx(rb,{role:"menuitemcheckbox","aria-checked":Uv(r)?"mixed":r,...n,ref:t,"data-state":Ek(r),onSelect:ce(n.onSelect,()=>a==null?void 0:a(Uv(r)?!0:!r),{checkForDefaultPrevented:!1})})})});hU.displayName=dNe;var fU="MenuRadioGroup",[uNe,mNe]=nd(fU,{value:void 0,onValueChange:()=>{}}),pU=p.forwardRef((e,t)=>{const{value:r,onValueChange:a,...n}=e,i=ss(a);return s.jsx(uNe,{scope:e.__scopeMenu,value:r,onValueChange:i,children:s.jsx(kk,{...n,ref:t})})});pU.displayName=fU;var xU="MenuRadioItem",gU=p.forwardRef((e,t)=>{const{value:r,...a}=e,n=mNe(xU,e.__scopeMenu),i=r===n.value;return s.jsx(vU,{scope:e.__scopeMenu,checked:i,children:s.jsx(rb,{role:"menuitemradio","aria-checked":i,...a,ref:t,"data-state":Ek(i),onSelect:ce(a.onSelect,()=>{var o;return(o=n.onValueChange)==null?void 0:o.call(n,r)},{checkForDefaultPrevented:!1})})})});gU.displayName=xU;var Pk="MenuItemIndicator",[vU,hNe]=nd(Pk,{checked:!1}),yU=p.forwardRef((e,t)=>{const{__scopeMenu:r,forceMount:a,...n}=e,i=hNe(Pk,r);return s.jsx(bs,{present:a||Uv(i.checked)||i.checked===!0,children:s.jsx(ge.span,{...n,ref:t,"data-state":Ek(i.checked)})})});yU.displayName=Pk;var fNe="MenuSeparator",bU=p.forwardRef((e,t)=>{const{__scopeMenu:r,...a}=e;return s.jsx(ge.div,{role:"separator","aria-orientation":"horizontal",...a,ref:t})});bU.displayName=fNe;var pNe="MenuArrow",jU=p.forwardRef((e,t)=>{const{__scopeMenu:r,...a}=e,n=sb(r);return s.jsx(F0,{...n,...a,ref:t})});jU.displayName=pNe;var xNe="MenuSub",[i3e,wU]=nd(xNe),uh="MenuSubTrigger",NU=p.forwardRef((e,t)=>{const r=id(uh,e.__scopeMenu),a=Rp(uh,e.__scopeMenu),n=wU(uh,e.__scopeMenu),i=_k(uh,e.__scopeMenu),o=p.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:c}=i,d={__scopeMenu:e.__scopeMenu},u=p.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return p.useEffect(()=>u,[u]),p.useEffect(()=>{const m=l.current;return()=>{window.clearTimeout(m),c(null)}},[l,c]),s.jsx(Nk,{asChild:!0,...d,children:s.jsx(mU,{id:n.triggerId,"aria-haspopup":"menu","aria-expanded":r.open,"aria-controls":n.contentId,"data-state":CU(r.open),...e,ref:_0(t,n.onTriggerChange),onClick:m=>{var h;(h=e.onClick)==null||h.call(e,m),!(e.disabled||m.defaultPrevented)&&(m.currentTarget.focus(),r.open||r.onOpenChange(!0))},onPointerMove:ce(e.onPointerMove,Ef(m=>{i.onItemEnter(m),!m.defaultPrevented&&!e.disabled&&!r.open&&!o.current&&(i.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{r.onOpenChange(!0),u()},100))})),onPointerLeave:ce(e.onPointerLeave,Ef(m=>{var f,g;u();const h=(f=r.content)==null?void 0:f.getBoundingClientRect();if(h){const x=(g=r.content)==null?void 0:g.dataset.side,y=x==="right",v=y?-5:5,b=h[y?"left":"right"],j=h[y?"right":"left"];i.onPointerGraceIntentChange({area:[{x:m.clientX+v,y:m.clientY},{x:b,y:h.top},{x:j,y:h.top},{x:j,y:h.bottom},{x:b,y:h.bottom}],side:x}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>i.onPointerGraceIntentChange(null),300)}else{if(i.onTriggerLeave(m),m.defaultPrevented)return;i.onPointerGraceIntentChange(null)}})),onKeyDown:ce(e.onKeyDown,m=>{var f;const h=i.searchRef.current!=="";e.disabled||h&&m.key===" "||Xwe[a.dir].includes(m.key)&&(r.onOpenChange(!0),(f=r.content)==null||f.focus(),m.preventDefault())})})})});NU.displayName=uh;var SU="MenuSubContent",_U=p.forwardRef((e,t)=>{const r=lU(Ia,e.__scopeMenu),{forceMount:a=r.forceMount,...n}=e,i=id(Ia,e.__scopeMenu),o=Rp(Ia,e.__scopeMenu),l=wU(SU,e.__scopeMenu),c=p.useRef(null),d=Me(t,c);return s.jsx(Pf.Provider,{scope:e.__scopeMenu,children:s.jsx(bs,{present:a||i.open,children:s.jsx(Pf.Slot,{scope:e.__scopeMenu,children:s.jsx(Ck,{id:l.contentId,"aria-labelledby":l.triggerId,...n,ref:d,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:u=>{var m;o.isUsingKeyboardRef.current&&((m=c.current)==null||m.focus()),u.preventDefault()},onCloseAutoFocus:u=>u.preventDefault(),onFocusOutside:ce(e.onFocusOutside,u=>{u.target!==l.trigger&&i.onOpenChange(!1)}),onEscapeKeyDown:ce(e.onEscapeKeyDown,u=>{o.onClose(),u.preventDefault()}),onKeyDown:ce(e.onKeyDown,u=>{var f;const m=u.currentTarget.contains(u.target),h=Qwe[o.dir].includes(u.key);m&&h&&(i.onOpenChange(!1),(f=l.trigger)==null||f.focus(),u.preventDefault())})})})})})});_U.displayName=SU;function CU(e){return e?"open":"closed"}function Uv(e){return e==="indeterminate"}function Ek(e){return Uv(e)?"indeterminate":e?"checked":"unchecked"}function gNe(e){const t=document.activeElement;for(const r of e)if(r===t||(r.focus(),document.activeElement!==t))return}function vNe(e,t){return e.map((r,a)=>e[(t+a)%e.length])}function yNe(e,t,r){const n=t.length>1&&Array.from(t).every(d=>d===t[0])?t[0]:t,i=r?e.indexOf(r):-1;let o=vNe(e,Math.max(i,0));n.length===1&&(o=o.filter(d=>d!==r));const c=o.find(d=>d.toLowerCase().startsWith(n.toLowerCase()));return c!==r?c:void 0}function bNe(e,t){const{x:r,y:a}=e;let n=!1;for(let i=0,o=t.length-1;i<t.length;o=i++){const l=t[i],c=t[o],d=l.x,u=l.y,m=c.x,h=c.y;u>a!=h>a&&r<(m-d)*(a-u)/(h-u)+d&&(n=!n)}return n}function jNe(e,t){if(!t)return!1;const r={x:e.clientX,y:e.clientY};return bNe(r,t)}function Ef(e){return t=>t.pointerType==="mouse"?e(t):void 0}var wNe=oU,NNe=Nk,SNe=cU,_Ne=dU,CNe=kk,kNe=uU,PNe=rb,ENe=hU,ANe=pU,TNe=gU,MNe=yU,ONe=bU,DNe=jU,RNe=NU,INe=_U,ab="DropdownMenu",[FNe,o3e]=ys(ab,[nU]),Cr=nU(),[LNe,kU]=FNe(ab),PU=e=>{const{__scopeDropdownMenu:t,children:r,dir:a,open:n,defaultOpen:i,onOpenChange:o,modal:l=!0}=e,c=Cr(t),d=p.useRef(null),[u,m]=Vr({prop:n,defaultProp:i??!1,onChange:o,caller:ab});return s.jsx(LNe,{scope:t,triggerId:oa(),triggerRef:d,contentId:oa(),open:u,onOpenChange:m,onOpenToggle:p.useCallback(()=>m(h=>!h),[m]),modal:l,children:s.jsx(wNe,{...c,open:u,onOpenChange:m,dir:a,modal:l,children:r})})};PU.displayName=ab;var EU="DropdownMenuTrigger",AU=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,disabled:a=!1,...n}=e,i=kU(EU,r),o=Cr(r);return s.jsx(NNe,{asChild:!0,...o,children:s.jsx(ge.button,{type:"button",id:i.triggerId,"aria-haspopup":"menu","aria-expanded":i.open,"aria-controls":i.open?i.contentId:void 0,"data-state":i.open?"open":"closed","data-disabled":a?"":void 0,disabled:a,...n,ref:_0(t,i.triggerRef),onPointerDown:ce(e.onPointerDown,l=>{!a&&l.button===0&&l.ctrlKey===!1&&(i.onOpenToggle(),i.open||l.preventDefault())}),onKeyDown:ce(e.onKeyDown,l=>{a||(["Enter"," "].includes(l.key)&&i.onOpenToggle(),l.key==="ArrowDown"&&i.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(l.key)&&l.preventDefault())})})})});AU.displayName=EU;var $Ne="DropdownMenuPortal",TU=e=>{const{__scopeDropdownMenu:t,...r}=e,a=Cr(t);return s.jsx(SNe,{...a,...r})};TU.displayName=$Ne;var MU="DropdownMenuContent",OU=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...a}=e,n=kU(MU,r),i=Cr(r),o=p.useRef(!1);return s.jsx(_Ne,{id:n.contentId,"aria-labelledby":n.triggerId,...i,...a,ref:t,onCloseAutoFocus:ce(e.onCloseAutoFocus,l=>{var c;o.current||(c=n.triggerRef.current)==null||c.focus(),o.current=!1,l.preventDefault()}),onInteractOutside:ce(e.onInteractOutside,l=>{const c=l.detail.originalEvent,d=c.button===0&&c.ctrlKey===!0,u=c.button===2||d;(!n.modal||u)&&(o.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});OU.displayName=MU;var BNe="DropdownMenuGroup",zNe=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...a}=e,n=Cr(r);return s.jsx(CNe,{...n,...a,ref:t})});zNe.displayName=BNe;var UNe="DropdownMenuLabel",DU=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...a}=e,n=Cr(r);return s.jsx(kNe,{...n,...a,ref:t})});DU.displayName=UNe;var qNe="DropdownMenuItem",RU=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...a}=e,n=Cr(r);return s.jsx(PNe,{...n,...a,ref:t})});RU.displayName=qNe;var VNe="DropdownMenuCheckboxItem",IU=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...a}=e,n=Cr(r);return s.jsx(ENe,{...n,...a,ref:t})});IU.displayName=VNe;var WNe="DropdownMenuRadioGroup",HNe=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...a}=e,n=Cr(r);return s.jsx(ANe,{...n,...a,ref:t})});HNe.displayName=WNe;var KNe="DropdownMenuRadioItem",FU=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...a}=e,n=Cr(r);return s.jsx(TNe,{...n,...a,ref:t})});FU.displayName=KNe;var GNe="DropdownMenuItemIndicator",LU=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...a}=e,n=Cr(r);return s.jsx(MNe,{...n,...a,ref:t})});LU.displayName=GNe;var YNe="DropdownMenuSeparator",$U=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...a}=e,n=Cr(r);return s.jsx(ONe,{...n,...a,ref:t})});$U.displayName=YNe;var XNe="DropdownMenuArrow",QNe=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...a}=e,n=Cr(r);return s.jsx(DNe,{...n,...a,ref:t})});QNe.displayName=XNe;var JNe="DropdownMenuSubTrigger",BU=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...a}=e,n=Cr(r);return s.jsx(RNe,{...n,...a,ref:t})});BU.displayName=JNe;var ZNe="DropdownMenuSubContent",zU=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...a}=e,n=Cr(r);return s.jsx(INe,{...n,...a,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});zU.displayName=ZNe;var e1e=PU,t1e=AU,s1e=TU,UU=OU,qU=DU,VU=RU,WU=IU,HU=FU,KU=LU,GU=$U,YU=BU,XU=zU;const r1e=e1e,a1e=t1e,n1e=p.forwardRef(({className:e,inset:t,children:r,...a},n)=>s.jsxs(YU,{ref:n,className:xe("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",t&&"pl-8",e),...a,children:[r,s.jsx(Pu,{className:"ml-auto h-4 w-4"})]}));n1e.displayName=YU.displayName;const i1e=p.forwardRef(({className:e,...t},r)=>s.jsx(XU,{ref:r,className:xe("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t}));i1e.displayName=XU.displayName;const QU=p.forwardRef(({className:e,sideOffset:t=4,...r},a)=>s.jsx(s1e,{children:s.jsx(UU,{ref:a,sideOffset:t,className:xe("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r})}));QU.displayName=UU.displayName;const JU=p.forwardRef(({className:e,inset:t,...r},a)=>s.jsx(VU,{ref:a,className:xe("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t&&"pl-8",e),...r}));JU.displayName=VU.displayName;const o1e=p.forwardRef(({className:e,children:t,checked:r,...a},n)=>s.jsxs(WU,{ref:n,className:xe("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:r,...a,children:[s.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(KU,{children:s.jsx(Dc,{className:"h-4 w-4"})})}),t]}));o1e.displayName=WU.displayName;const l1e=p.forwardRef(({className:e,children:t,...r},a)=>s.jsxs(HU,{ref:a,className:xe("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[s.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(KU,{children:s.jsx(r6,{className:"h-2 w-2 fill-current"})})}),t]}));l1e.displayName=HU.displayName;const c1e=p.forwardRef(({className:e,inset:t,...r},a)=>s.jsx(qU,{ref:a,className:xe("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...r}));c1e.displayName=qU.displayName;const d1e=p.forwardRef(({className:e,...t},r)=>s.jsx(GU,{ref:r,className:xe("-mx-1 my-1 h-px bg-muted",e),...t}));d1e.displayName=GU.displayName;const ZU=()=>{const[e,t]=p.useState([]),[r,a]=p.useState(0);Ee(),p.useEffect(()=>{n()},[]);const n=async()=>{try{const{data:{user:l}}=await z.auth.getUser();if(!l)return;const c=[],d=null,u=[];t(u),a(u.length)}catch(l){console.error("Erro ao carregar notificaes:",l)}},i=l=>{t(c=>c.map(d=>d.id===l?{...d,is_read:!0}:d)),a(c=>Math.max(0,c-1))},o=l=>{const c=new Date(l),u=Math.floor((new Date().getTime()-c.getTime())/(1e3*60*60));return u<1?"Agora h pouco":u<24?`${u}h atrs`:c.toLocaleDateString("pt-BR")};return s.jsxs(r1e,{children:[s.jsx(a1e,{asChild:!0,children:s.jsxs(A,{variant:"ghost",size:"icon",className:"relative",children:[s.jsx(KN,{className:"h-7 w-7"}),r>0&&s.jsx(X,{variant:"destructive",className:"absolute -top-1 -right-1 h-6 w-6 p-0 flex items-center justify-center text-sm font-bold",children:r>9?"9+":r})]})}),s.jsxs(QU,{align:"end",className:"w-80",children:[s.jsx("div",{className:"p-2 border-b",children:s.jsx("h3",{className:"font-semibold",children:"Notificaes"})}),e.length===0?s.jsxs("div",{className:"p-4 text-center text-muted-foreground",children:[s.jsx(KN,{className:"h-8 w-8 mx-auto mb-2 opacity-50"}),s.jsx("p",{children:"Nenhuma notificao"})]}):s.jsx("div",{className:"max-h-96 overflow-y-auto",children:e.map(l=>s.jsx(JU,{className:"p-3 cursor-pointer hover:bg-muted",onClick:()=>i(l.id),children:s.jsxs("div",{className:"w-full",children:[s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsx("h4",{className:"font-medium text-sm line-clamp-1",children:l.title}),!l.is_read&&s.jsx("div",{className:"w-2 h-2 bg-primary rounded-full flex-shrink-0 ml-2"})]}),s.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2 mt-1",children:l.message}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:o(l.created_at)})]})},l.id))}),e.length>0&&s.jsx("div",{className:"p-2 border-t",children:s.jsx(A,{variant:"ghost",size:"sm",className:"w-full",onClick:()=>{t(l=>l.map(c=>({...c,is_read:!0}))),a(0)},children:"Marcar todas como lidas"})})]})]})};var nb="Dialog",[eq,l3e]=ys(nb),[u1e,Mn]=eq(nb),tq=e=>{const{__scopeDialog:t,children:r,open:a,defaultOpen:n,onOpenChange:i,modal:o=!0}=e,l=p.useRef(null),c=p.useRef(null),[d,u]=Vr({prop:a,defaultProp:n??!1,onChange:i,caller:nb});return s.jsx(u1e,{scope:t,triggerRef:l,contentRef:c,contentId:oa(),titleId:oa(),descriptionId:oa(),open:d,onOpenChange:u,onOpenToggle:p.useCallback(()=>u(m=>!m),[u]),modal:o,children:r})};tq.displayName=nb;var sq="DialogTrigger",rq=p.forwardRef((e,t)=>{const{__scopeDialog:r,...a}=e,n=Mn(sq,r),i=Me(t,n.triggerRef);return s.jsx(ge.button,{type:"button","aria-haspopup":"dialog","aria-expanded":n.open,"aria-controls":n.contentId,"data-state":Mk(n.open),...a,ref:i,onClick:ce(e.onClick,n.onOpenToggle)})});rq.displayName=sq;var Ak="DialogPortal",[m1e,aq]=eq(Ak,{forceMount:void 0}),nq=e=>{const{__scopeDialog:t,forceMount:r,children:a,container:n}=e,i=Mn(Ak,t);return s.jsx(m1e,{scope:t,forceMount:r,children:p.Children.map(a,o=>s.jsx(bs,{present:r||i.open,children:s.jsx(lm,{asChild:!0,container:n,children:o})}))})};nq.displayName=Ak;var qv="DialogOverlay",iq=p.forwardRef((e,t)=>{const r=aq(qv,e.__scopeDialog),{forceMount:a=r.forceMount,...n}=e,i=Mn(qv,e.__scopeDialog);return i.modal?s.jsx(bs,{present:a||i.open,children:s.jsx(f1e,{...n,ref:t})}):null});iq.displayName=qv;var h1e=ul("DialogOverlay.RemoveScroll"),f1e=p.forwardRef((e,t)=>{const{__scopeDialog:r,...a}=e,n=Mn(qv,r);return s.jsx(Op,{as:h1e,allowPinchZoom:!0,shards:[n.contentRef],children:s.jsx(ge.div,{"data-state":Mk(n.open),...a,ref:t,style:{pointerEvents:"auto",...a.style}})})}),Vc="DialogContent",oq=p.forwardRef((e,t)=>{const r=aq(Vc,e.__scopeDialog),{forceMount:a=r.forceMount,...n}=e,i=Mn(Vc,e.__scopeDialog);return s.jsx(bs,{present:a||i.open,children:i.modal?s.jsx(p1e,{...n,ref:t}):s.jsx(x1e,{...n,ref:t})})});oq.displayName=Vc;var p1e=p.forwardRef((e,t)=>{const r=Mn(Vc,e.__scopeDialog),a=p.useRef(null),n=Me(t,r.contentRef,a);return p.useEffect(()=>{const i=a.current;if(i)return Qy(i)},[]),s.jsx(lq,{...e,ref:n,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ce(e.onCloseAutoFocus,i=>{var o;i.preventDefault(),(o=r.triggerRef.current)==null||o.focus()}),onPointerDownOutside:ce(e.onPointerDownOutside,i=>{const o=i.detail.originalEvent,l=o.button===0&&o.ctrlKey===!0;(o.button===2||l)&&i.preventDefault()}),onFocusOutside:ce(e.onFocusOutside,i=>i.preventDefault())})}),x1e=p.forwardRef((e,t)=>{const r=Mn(Vc,e.__scopeDialog),a=p.useRef(!1),n=p.useRef(!1);return s.jsx(lq,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,l;(o=e.onCloseAutoFocus)==null||o.call(e,i),i.defaultPrevented||(a.current||(l=r.triggerRef.current)==null||l.focus(),i.preventDefault()),a.current=!1,n.current=!1},onInteractOutside:i=>{var c,d;(c=e.onInteractOutside)==null||c.call(e,i),i.defaultPrevented||(a.current=!0,i.detail.originalEvent.type==="pointerdown"&&(n.current=!0));const o=i.target;((d=r.triggerRef.current)==null?void 0:d.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&n.current&&i.preventDefault()}})}),lq=p.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:a,onOpenAutoFocus:n,onCloseAutoFocus:i,...o}=e,l=Mn(Vc,r),c=p.useRef(null),d=Me(t,c);return Xy(),s.jsxs(s.Fragment,{children:[s.jsx(Mp,{asChild:!0,loop:!0,trapped:a,onMountAutoFocus:n,onUnmountAutoFocus:i,children:s.jsx(Xc,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":Mk(l.open),...o,ref:d,onDismiss:()=>l.onOpenChange(!1)})}),s.jsxs(s.Fragment,{children:[s.jsx(g1e,{titleId:l.titleId}),s.jsx(y1e,{contentRef:c,descriptionId:l.descriptionId})]})]})}),Tk="DialogTitle",cq=p.forwardRef((e,t)=>{const{__scopeDialog:r,...a}=e,n=Mn(Tk,r);return s.jsx(ge.h2,{id:n.titleId,...a,ref:t})});cq.displayName=Tk;var dq="DialogDescription",uq=p.forwardRef((e,t)=>{const{__scopeDialog:r,...a}=e,n=Mn(dq,r);return s.jsx(ge.p,{id:n.descriptionId,...a,ref:t})});uq.displayName=dq;var mq="DialogClose",hq=p.forwardRef((e,t)=>{const{__scopeDialog:r,...a}=e,n=Mn(mq,r);return s.jsx(ge.button,{type:"button",...a,ref:t,onClick:ce(e.onClick,()=>n.onOpenChange(!1))})});hq.displayName=mq;function Mk(e){return e?"open":"closed"}var fq="DialogTitleWarning",[c3e,pq]=eZ(fq,{contentName:Vc,titleName:Tk,docsSlug:"dialog"}),g1e=({titleId:e})=>{const t=pq(fq),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return p.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},v1e="DialogDescriptionWarning",y1e=({contentRef:e,descriptionId:t})=>{const a=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${pq(v1e).contentName}}.`;return p.useEffect(()=>{var i;const n=(i=e.current)==null?void 0:i.getAttribute("aria-describedby");t&&n&&(document.getElementById(t)||console.warn(a))},[a,e,t]),null},xq=tq,gq=rq,vq=nq,ib=iq,ob=oq,lb=cq,cb=uq,yq=hq;const gt=xq,ir=gq,b1e=vq,bq=p.forwardRef(({className:e,...t},r)=>s.jsx(ib,{ref:r,className:xe("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));bq.displayName=ib.displayName;const vt=p.forwardRef(({className:e,children:t,...r},a)=>s.jsxs(b1e,{children:[s.jsx(bq,{}),s.jsxs(ob,{ref:a,className:xe("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...r,children:[t,s.jsxs(yq,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[s.jsx(nr,{className:"h-4 w-4"}),s.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));vt.displayName=ob.displayName;const yt=({className:e,...t})=>s.jsx("div",{className:xe("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});yt.displayName="DialogHeader";const db=({className:e,...t})=>s.jsx("div",{className:xe("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});db.displayName="DialogFooter";const bt=p.forwardRef(({className:e,...t},r)=>s.jsx(lb,{ref:r,className:xe("text-lg font-semibold leading-none tracking-tight",e),...t}));bt.displayName=lb.displayName;const Zi=p.forwardRef(({className:e,...t},r)=>s.jsx(cb,{ref:r,className:xe("text-sm text-muted-foreground",e),...t}));Zi.displayName=cb.displayName;const Ke=p.forwardRef(({className:e,...t},r)=>s.jsx("textarea",{className:xe("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:r,...t}));Ke.displayName="Textarea";const j1e=({data:e,totalScore:t,title:r="Evoluo do Sistema em Todas as Rodas",className:a="",size:n=450})=>{const i=()=>typeof window<"u"?window.innerWidth<640?Math.min(280,window.innerWidth-40):window.innerWidth<1024?Math.min(350,window.innerWidth-80):n:n,[o,l]=me.useState(i());me.useEffect(()=>{const v=()=>{l(i())};return window.addEventListener("resize",v),()=>window.removeEventListener("resize",v)},[]);const c=o/2,d=o/2,u=o*.35,m=o*.15,h=o*.45,f=(v,b,j,N)=>{const w=360/b,S=v*w-90,_=S+w,C=S*Math.PI/180,E=_*Math.PI/180,T=Math.max(10,j/10*100),k=m+(u-m)*(T/100),P=60,D=60,I=c+P+Math.cos(C)*m,V=d+D+Math.sin(C)*m,W=c+P+Math.cos(C)*k,R=d+D+Math.sin(C)*k,F=c+P+Math.cos(E)*k,H=d+D+Math.sin(E)*k,Z=c+P+Math.cos(E)*m,B=d+D+Math.sin(E)*m,K=w>180?1:0;return s.jsx("path",{d:`M ${I} ${V} 
           L ${W} ${R} 
           A ${k} ${k} 0 ${K} 1 ${F} ${H}
           L ${Z} ${B}
           A ${m} ${m} 0 ${K} 0 ${I} ${V} Z`,fill:N,stroke:"#1a1a1a",strokeWidth:"2",opacity:"0.8"},`segment-${v}`)},g=(v,b)=>{const j=360/b,w=(v*j-90+j/2)*Math.PI/180;return{x:c+Math.cos(w)*h,y:d+Math.sin(w)*h}},x=e.map((v,b)=>{const j=360/e.length,w=(b*j-90)*Math.PI/180;return s.jsx("line",{x1:c+60+Math.cos(w)*m,y1:d+60+Math.sin(w)*m,x2:c+60+Math.cos(w)*u,y2:d+60+Math.sin(w)*u,stroke:"#444",strokeWidth:"1",opacity:"0.4"},`line-${b}`)}),y=[25,50,75,100].map(v=>{const b=m+(u-m)*(v/100);return s.jsx("circle",{cx:c+60,cy:d+60,r:b,fill:"none",stroke:"#444",strokeWidth:"0.5",opacity:"0.2",strokeDasharray:"3,3"},`circle-${v}`)});return s.jsxs(M,{className:`bg-gray-900 text-white border-gray-700 ${a}`,children:[s.jsxs($,{className:"text-center pb-2",children:[s.jsx(U,{className:"text-white text-xl",children:r}),s.jsx("div",{className:"text-sm text-gray-400",children:"Mapeamento completo dos sintomas - 100% do questionrio respondido"})]}),s.jsx(O,{className:"flex flex-col items-center space-y-6 p-4",children:s.jsx("div",{className:"w-full flex flex-col xl:flex-row xl:items-start xl:gap-8",children:s.jsx("div",{className:"flex flex-col items-center xl:flex-1",children:s.jsx("div",{className:"relative",children:s.jsxs("svg",{width:o+120,height:o+120,className:"overflow-visible",viewBox:`0 0 ${o+120} ${o+120}`,children:[s.jsx("rect",{x:"0",y:"0",width:o+120,height:o+120,fill:"#1a1a1a",rx:"8"}),y,x,e.map((v,b)=>f(b,e.length,v.score,v.color)),s.jsx("circle",{cx:c+60,cy:d+60,r:m,fill:"#0a0a0a",stroke:"#333",strokeWidth:"2"}),e.map((v,b)=>{const j=g(b,e.length),N=o<320?14:18,w=o<320?"9px":"11px",S=o<320?20:28,_=o<320?28:38;return s.jsxs("g",{children:[s.jsx("circle",{cx:j.x+60,cy:j.y+60,r:N,fill:"#2a2a2a",stroke:"#555",strokeWidth:"1"}),s.jsx("text",{x:j.x+60,y:j.y+61,textAnchor:"middle",dominantBaseline:"middle",className:o<320?"text-sm":"text-base",fill:"white",children:v.icon}),s.jsx("text",{x:j.x+60+S,y:j.y+62,textAnchor:"middle",dominantBaseline:"middle",className:"text-sm font-bold",fill:v.color,children:Math.round(v.score)}),o>=320&&s.jsx("text",{x:j.x+60,y:j.y+60+_,textAnchor:"middle",dominantBaseline:"middle",className:"text-xs font-medium",style:{fontSize:w},fill:"white",children:v.systemName.length>12&&o<400?v.systemName.substring(0,10)+"...":v.systemName})]},`icon-${b}`)})]})})})})})]})},w1e=({data:e,className:t="",title:r="Evoluo dos Sintomas"})=>{const a=[{month:"jan",score:140},{month:"fev",score:80},{month:"mar",score:30},{month:"abr",score:6},{month:"mai",score:8},{month:"jun",score:10}],n=e&&e.length>0?e:a;return s.jsxs(M,{className:`bg-gray-900 text-white border-gray-700 ${t}`,children:[s.jsx($,{className:"text-center pb-2",children:s.jsx(U,{className:"text-white text-xl",children:r})}),s.jsx(O,{className:"p-4",children:s.jsx(St,{width:"100%",height:300,children:s.jsxs(Ji,{data:n,margin:{top:20,right:30,left:20,bottom:20},children:[s.jsx(rs,{strokeDasharray:"3,3",stroke:"#444"}),s.jsx(Kt,{dataKey:"month",axisLine:!1,tickLine:!1,tick:{fill:"#9ca3af",fontSize:12}}),s.jsx(It,{axisLine:!1,tickLine:!1,tick:{fill:"#9ca3af",fontSize:12},domain:[0,150]}),s.jsx(cs,{contentStyle:{backgroundColor:"#1f2937",border:"1px solid #374151",borderRadius:"8px",color:"#ffffff"}}),s.jsx(Ds,{type:"monotone",dataKey:"score",stroke:"#eab308",strokeWidth:4,dot:{fill:"#eab308",strokeWidth:2,r:8},activeDot:{r:10,fill:"#eab308"}})]})})})]})},Ok=p.createContext({});function Dk(e){const t=p.useRef(null);return t.current===null&&(t.current=e()),t.current}const Rk=typeof window<"u",jq=Rk?p.useLayoutEffect:p.useEffect,ub=p.createContext(null);function Ik(e,t){e.indexOf(t)===-1&&e.push(t)}function Fk(e,t){const r=e.indexOf(t);r>-1&&e.splice(r,1)}const eo=(e,t,r)=>r>t?t:r<e?e:r;let Lk=()=>{};const to={},wq=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function Nq(e){return typeof e=="object"&&e!==null}const Sq=e=>/^0[^.\s]+$/u.test(e);function $k(e){let t;return()=>(t===void 0&&(t=e()),t)}const Fa=e=>e,N1e=(e,t)=>r=>t(e(r)),Ip=(...e)=>e.reduce(N1e),Af=(e,t,r)=>{const a=t-e;return a===0?1:(r-e)/a};class Bk{constructor(){this.subscriptions=[]}add(t){return Ik(this.subscriptions,t),()=>Fk(this.subscriptions,t)}notify(t,r,a){const n=this.subscriptions.length;if(n)if(n===1)this.subscriptions[0](t,r,a);else for(let i=0;i<n;i++){const o=this.subscriptions[i];o&&o(t,r,a)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const ti=e=>e*1e3,si=e=>e/1e3;function _q(e,t){return t?e*(1e3/t):0}const Cq=(e,t,r)=>(((1-3*r+3*t)*e+(3*r-6*t))*e+3*t)*e,S1e=1e-7,_1e=12;function C1e(e,t,r,a,n){let i,o,l=0;do o=t+(r-t)/2,i=Cq(o,a,n)-e,i>0?r=o:t=o;while(Math.abs(i)>S1e&&++l<_1e);return o}function Fp(e,t,r,a){if(e===t&&r===a)return Fa;const n=i=>C1e(i,0,1,e,r);return i=>i===0||i===1?i:Cq(n(i),t,a)}const kq=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,Pq=e=>t=>1-e(1-t),Eq=Fp(.33,1.53,.69,.99),zk=Pq(Eq),Aq=kq(zk),Tq=e=>(e*=2)<1?.5*zk(e):.5*(2-Math.pow(2,-10*(e-1))),Uk=e=>1-Math.sin(Math.acos(e)),Mq=Pq(Uk),Oq=kq(Uk),k1e=Fp(.42,0,1,1),P1e=Fp(0,0,.58,1),Dq=Fp(.42,0,.58,1),E1e=e=>Array.isArray(e)&&typeof e[0]!="number",Rq=e=>Array.isArray(e)&&typeof e[0]=="number",A1e={linear:Fa,easeIn:k1e,easeInOut:Dq,easeOut:P1e,circIn:Uk,circInOut:Oq,circOut:Mq,backIn:zk,backInOut:Aq,backOut:Eq,anticipate:Tq},T1e=e=>typeof e=="string",wO=e=>{if(Rq(e)){Lk(e.length===4);const[t,r,a,n]=e;return Fp(t,r,a,n)}else if(T1e(e))return A1e[e];return e},$x=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function M1e(e,t){let r=new Set,a=new Set,n=!1,i=!1;const o=new WeakSet;let l={delta:0,timestamp:0,isProcessing:!1};function c(u){o.has(u)&&(d.schedule(u),e()),u(l)}const d={schedule:(u,m=!1,h=!1)=>{const g=h&&n?r:a;return m&&o.add(u),g.has(u)||g.add(u),u},cancel:u=>{a.delete(u),o.delete(u)},process:u=>{if(l=u,n){i=!0;return}n=!0,[r,a]=[a,r],r.forEach(c),r.clear(),n=!1,i&&(i=!1,d.process(u))}};return d}const O1e=40;function Iq(e,t){let r=!1,a=!0;const n={delta:0,timestamp:0,isProcessing:!1},i=()=>r=!0,o=$x.reduce((j,N)=>(j[N]=M1e(i),j),{}),{setup:l,read:c,resolveKeyframes:d,preUpdate:u,update:m,preRender:h,render:f,postRender:g}=o,x=()=>{const j=to.useManualTiming?n.timestamp:performance.now();r=!1,to.useManualTiming||(n.delta=a?1e3/60:Math.max(Math.min(j-n.timestamp,O1e),1)),n.timestamp=j,n.isProcessing=!0,l.process(n),c.process(n),d.process(n),u.process(n),m.process(n),h.process(n),f.process(n),g.process(n),n.isProcessing=!1,r&&t&&(a=!1,e(x))},y=()=>{r=!0,a=!0,n.isProcessing||e(x)};return{schedule:$x.reduce((j,N)=>{const w=o[N];return j[N]=(S,_=!1,C=!1)=>(r||y(),w.schedule(S,_,C)),j},{}),cancel:j=>{for(let N=0;N<$x.length;N++)o[$x[N]].cancel(j)},state:n,steps:o}}const{schedule:Ut,cancel:jl,state:zs,steps:Jj}=Iq(typeof requestAnimationFrame<"u"?requestAnimationFrame:Fa,!0);let fg;function D1e(){fg=void 0}const Lr={now:()=>(fg===void 0&&Lr.set(zs.isProcessing||to.useManualTiming?zs.timestamp:performance.now()),fg),set:e=>{fg=e,queueMicrotask(D1e)}},Fq=e=>t=>typeof t=="string"&&t.startsWith(e),qk=Fq("--"),R1e=Fq("var(--"),Vk=e=>R1e(e)?I1e.test(e.split("/*")[0].trim()):!1,I1e=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Am={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},Tf={...Am,transform:e=>eo(0,1,e)},Bx={...Am,default:1},Th=e=>Math.round(e*1e5)/1e5,Wk=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function F1e(e){return e==null}const L1e=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Hk=(e,t)=>r=>!!(typeof r=="string"&&L1e.test(r)&&r.startsWith(e)||t&&!F1e(r)&&Object.prototype.hasOwnProperty.call(r,t)),Lq=(e,t,r)=>a=>{if(typeof a!="string")return a;const[n,i,o,l]=a.match(Wk);return{[e]:parseFloat(n),[t]:parseFloat(i),[r]:parseFloat(o),alpha:l!==void 0?parseFloat(l):1}},$1e=e=>eo(0,255,e),Zj={...Am,transform:e=>Math.round($1e(e))},lc={test:Hk("rgb","red"),parse:Lq("red","green","blue"),transform:({red:e,green:t,blue:r,alpha:a=1})=>"rgba("+Zj.transform(e)+", "+Zj.transform(t)+", "+Zj.transform(r)+", "+Th(Tf.transform(a))+")"};function B1e(e){let t="",r="",a="",n="";return e.length>5?(t=e.substring(1,3),r=e.substring(3,5),a=e.substring(5,7),n=e.substring(7,9)):(t=e.substring(1,2),r=e.substring(2,3),a=e.substring(3,4),n=e.substring(4,5),t+=t,r+=r,a+=a,n+=n),{red:parseInt(t,16),green:parseInt(r,16),blue:parseInt(a,16),alpha:n?parseInt(n,16)/255:1}}const d2={test:Hk("#"),parse:B1e,transform:lc.transform},Lp=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),Eo=Lp("deg"),ri=Lp("%"),De=Lp("px"),z1e=Lp("vh"),U1e=Lp("vw"),NO={...ri,parse:e=>ri.parse(e)/100,transform:e=>ri.transform(e*100)},qd={test:Hk("hsl","hue"),parse:Lq("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:r,alpha:a=1})=>"hsla("+Math.round(e)+", "+ri.transform(Th(t))+", "+ri.transform(Th(r))+", "+Th(Tf.transform(a))+")"},fs={test:e=>lc.test(e)||d2.test(e)||qd.test(e),parse:e=>lc.test(e)?lc.parse(e):qd.test(e)?qd.parse(e):d2.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?lc.transform(e):qd.transform(e),getAnimatableNone:e=>{const t=fs.parse(e);return t.alpha=0,fs.transform(t)}},q1e=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function V1e(e){var t,r;return isNaN(e)&&typeof e=="string"&&(((t=e.match(Wk))==null?void 0:t.length)||0)+(((r=e.match(q1e))==null?void 0:r.length)||0)>0}const $q="number",Bq="color",W1e="var",H1e="var(",SO="${}",K1e=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Mf(e){const t=e.toString(),r=[],a={color:[],number:[],var:[]},n=[];let i=0;const l=t.replace(K1e,c=>(fs.test(c)?(a.color.push(i),n.push(Bq),r.push(fs.parse(c))):c.startsWith(H1e)?(a.var.push(i),n.push(W1e),r.push(c)):(a.number.push(i),n.push($q),r.push(parseFloat(c))),++i,SO)).split(SO);return{values:r,split:l,indexes:a,types:n}}function zq(e){return Mf(e).values}function Uq(e){const{split:t,types:r}=Mf(e),a=t.length;return n=>{let i="";for(let o=0;o<a;o++)if(i+=t[o],n[o]!==void 0){const l=r[o];l===$q?i+=Th(n[o]):l===Bq?i+=fs.transform(n[o]):i+=n[o]}return i}}const G1e=e=>typeof e=="number"?0:fs.test(e)?fs.getAnimatableNone(e):e;function Y1e(e){const t=zq(e);return Uq(e)(t.map(G1e))}const wl={test:V1e,parse:zq,createTransformer:Uq,getAnimatableNone:Y1e};function ew(e,t,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?e+(t-e)*6*r:r<1/2?t:r<2/3?e+(t-e)*(2/3-r)*6:e}function X1e({hue:e,saturation:t,lightness:r,alpha:a}){e/=360,t/=100,r/=100;let n=0,i=0,o=0;if(!t)n=i=o=r;else{const l=r<.5?r*(1+t):r+t-r*t,c=2*r-l;n=ew(c,l,e+1/3),i=ew(c,l,e),o=ew(c,l,e-1/3)}return{red:Math.round(n*255),green:Math.round(i*255),blue:Math.round(o*255),alpha:a}}function Vv(e,t){return r=>r>0?t:e}const Gt=(e,t,r)=>e+(t-e)*r,tw=(e,t,r)=>{const a=e*e,n=r*(t*t-a)+a;return n<0?0:Math.sqrt(n)},Q1e=[d2,lc,qd],J1e=e=>Q1e.find(t=>t.test(e));function _O(e){const t=J1e(e);if(!t)return!1;let r=t.parse(e);return t===qd&&(r=X1e(r)),r}const CO=(e,t)=>{const r=_O(e),a=_O(t);if(!r||!a)return Vv(e,t);const n={...r};return i=>(n.red=tw(r.red,a.red,i),n.green=tw(r.green,a.green,i),n.blue=tw(r.blue,a.blue,i),n.alpha=Gt(r.alpha,a.alpha,i),lc.transform(n))},u2=new Set(["none","hidden"]);function Z1e(e,t){return u2.has(e)?r=>r<=0?e:t:r=>r>=1?t:e}function e2e(e,t){return r=>Gt(e,t,r)}function Kk(e){return typeof e=="number"?e2e:typeof e=="string"?Vk(e)?Vv:fs.test(e)?CO:r2e:Array.isArray(e)?qq:typeof e=="object"?fs.test(e)?CO:t2e:Vv}function qq(e,t){const r=[...e],a=r.length,n=e.map((i,o)=>Kk(i)(i,t[o]));return i=>{for(let o=0;o<a;o++)r[o]=n[o](i);return r}}function t2e(e,t){const r={...e,...t},a={};for(const n in r)e[n]!==void 0&&t[n]!==void 0&&(a[n]=Kk(e[n])(e[n],t[n]));return n=>{for(const i in a)r[i]=a[i](n);return r}}function s2e(e,t){const r=[],a={color:0,var:0,number:0};for(let n=0;n<t.values.length;n++){const i=t.types[n],o=e.indexes[i][a[i]],l=e.values[o]??0;r[n]=l,a[i]++}return r}const r2e=(e,t)=>{const r=wl.createTransformer(t),a=Mf(e),n=Mf(t);return a.indexes.var.length===n.indexes.var.length&&a.indexes.color.length===n.indexes.color.length&&a.indexes.number.length>=n.indexes.number.length?u2.has(e)&&!n.values.length||u2.has(t)&&!a.values.length?Z1e(e,t):Ip(qq(s2e(a,n),n.values),r):Vv(e,t)};function Vq(e,t,r){return typeof e=="number"&&typeof t=="number"&&typeof r=="number"?Gt(e,t,r):Kk(e)(e,t)}const a2e=e=>{const t=({timestamp:r})=>e(r);return{start:(r=!0)=>Ut.update(t,r),stop:()=>jl(t),now:()=>zs.isProcessing?zs.timestamp:Lr.now()}},Wq=(e,t,r=10)=>{let a="";const n=Math.max(Math.round(t/r),2);for(let i=0;i<n;i++)a+=Math.round(e(i/(n-1))*1e4)/1e4+", ";return`linear(${a.substring(0,a.length-2)})`},Wv=2e4;function Gk(e){let t=0;const r=50;let a=e.next(t);for(;!a.done&&t<Wv;)t+=r,a=e.next(t);return t>=Wv?1/0:t}function n2e(e,t=100,r){const a=r({...e,keyframes:[0,t]}),n=Math.min(Gk(a),Wv);return{type:"keyframes",ease:i=>a.next(n*i).value/t,duration:si(n)}}const i2e=5;function Hq(e,t,r){const a=Math.max(t-i2e,0);return _q(r-e(a),t-a)}const Zt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},sw=.001;function o2e({duration:e=Zt.duration,bounce:t=Zt.bounce,velocity:r=Zt.velocity,mass:a=Zt.mass}){let n,i,o=1-t;o=eo(Zt.minDamping,Zt.maxDamping,o),e=eo(Zt.minDuration,Zt.maxDuration,si(e)),o<1?(n=d=>{const u=d*o,m=u*e,h=u-r,f=m2(d,o),g=Math.exp(-m);return sw-h/f*g},i=d=>{const m=d*o*e,h=m*r+r,f=Math.pow(o,2)*Math.pow(d,2)*e,g=Math.exp(-m),x=m2(Math.pow(d,2),o);return(-n(d)+sw>0?-1:1)*((h-f)*g)/x}):(n=d=>{const u=Math.exp(-d*e),m=(d-r)*e+1;return-sw+u*m},i=d=>{const u=Math.exp(-d*e),m=(r-d)*(e*e);return u*m});const l=5/e,c=c2e(n,i,l);if(e=ti(e),isNaN(c))return{stiffness:Zt.stiffness,damping:Zt.damping,duration:e};{const d=Math.pow(c,2)*a;return{stiffness:d,damping:o*2*Math.sqrt(a*d),duration:e}}}const l2e=12;function c2e(e,t,r){let a=r;for(let n=1;n<l2e;n++)a=a-e(a)/t(a);return a}function m2(e,t){return e*Math.sqrt(1-t*t)}const d2e=["duration","bounce"],u2e=["stiffness","damping","mass"];function kO(e,t){return t.some(r=>e[r]!==void 0)}function m2e(e){let t={velocity:Zt.velocity,stiffness:Zt.stiffness,damping:Zt.damping,mass:Zt.mass,isResolvedFromDuration:!1,...e};if(!kO(e,u2e)&&kO(e,d2e))if(e.visualDuration){const r=e.visualDuration,a=2*Math.PI/(r*1.2),n=a*a,i=2*eo(.05,1,1-(e.bounce||0))*Math.sqrt(n);t={...t,mass:Zt.mass,stiffness:n,damping:i}}else{const r=o2e(e);t={...t,...r,mass:Zt.mass},t.isResolvedFromDuration=!0}return t}function Hv(e=Zt.visualDuration,t=Zt.bounce){const r=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:a,restDelta:n}=r;const i=r.keyframes[0],o=r.keyframes[r.keyframes.length-1],l={done:!1,value:i},{stiffness:c,damping:d,mass:u,duration:m,velocity:h,isResolvedFromDuration:f}=m2e({...r,velocity:-si(r.velocity||0)}),g=h||0,x=d/(2*Math.sqrt(c*u)),y=o-i,v=si(Math.sqrt(c/u)),b=Math.abs(y)<5;a||(a=b?Zt.restSpeed.granular:Zt.restSpeed.default),n||(n=b?Zt.restDelta.granular:Zt.restDelta.default);let j;if(x<1){const w=m2(v,x);j=S=>{const _=Math.exp(-x*v*S);return o-_*((g+x*v*y)/w*Math.sin(w*S)+y*Math.cos(w*S))}}else if(x===1)j=w=>o-Math.exp(-v*w)*(y+(g+v*y)*w);else{const w=v*Math.sqrt(x*x-1);j=S=>{const _=Math.exp(-x*v*S),C=Math.min(w*S,300);return o-_*((g+x*v*y)*Math.sinh(C)+w*y*Math.cosh(C))/w}}const N={calculatedDuration:f&&m||null,next:w=>{const S=j(w);if(f)l.done=w>=m;else{let _=w===0?g:0;x<1&&(_=w===0?ti(g):Hq(j,w,S));const C=Math.abs(_)<=a,E=Math.abs(o-S)<=n;l.done=C&&E}return l.value=l.done?o:S,l},toString:()=>{const w=Math.min(Gk(N),Wv),S=Wq(_=>N.next(w*_).value,w,30);return w+"ms "+S},toTransition:()=>{}};return N}Hv.applyToOptions=e=>{const t=n2e(e,100,Hv);return e.ease=t.ease,e.duration=ti(t.duration),e.type="keyframes",e};function h2({keyframes:e,velocity:t=0,power:r=.8,timeConstant:a=325,bounceDamping:n=10,bounceStiffness:i=500,modifyTarget:o,min:l,max:c,restDelta:d=.5,restSpeed:u}){const m=e[0],h={done:!1,value:m},f=C=>l!==void 0&&C<l||c!==void 0&&C>c,g=C=>l===void 0?c:c===void 0||Math.abs(l-C)<Math.abs(c-C)?l:c;let x=r*t;const y=m+x,v=o===void 0?y:o(y);v!==y&&(x=v-m);const b=C=>-x*Math.exp(-C/a),j=C=>v+b(C),N=C=>{const E=b(C),T=j(C);h.done=Math.abs(E)<=d,h.value=h.done?v:T};let w,S;const _=C=>{f(h.value)&&(w=C,S=Hv({keyframes:[h.value,g(h.value)],velocity:Hq(j,C,h.value),damping:n,stiffness:i,restDelta:d,restSpeed:u}))};return _(0),{calculatedDuration:null,next:C=>{let E=!1;return!S&&w===void 0&&(E=!0,N(C),_(C)),w!==void 0&&C>=w?S.next(C-w):(!E&&N(C),h)}}}function h2e(e,t,r){const a=[],n=r||to.mix||Vq,i=e.length-1;for(let o=0;o<i;o++){let l=n(e[o],e[o+1]);if(t){const c=Array.isArray(t)?t[o]||Fa:t;l=Ip(c,l)}a.push(l)}return a}function f2e(e,t,{clamp:r=!0,ease:a,mixer:n}={}){const i=e.length;if(Lk(i===t.length),i===1)return()=>t[0];if(i===2&&t[0]===t[1])return()=>t[1];const o=e[0]===e[1];e[0]>e[i-1]&&(e=[...e].reverse(),t=[...t].reverse());const l=h2e(t,a,n),c=l.length,d=u=>{if(o&&u<e[0])return t[0];let m=0;if(c>1)for(;m<e.length-2&&!(u<e[m+1]);m++);const h=Af(e[m],e[m+1],u);return l[m](h)};return r?u=>d(eo(e[0],e[i-1],u)):d}function p2e(e,t){const r=e[e.length-1];for(let a=1;a<=t;a++){const n=Af(0,t,a);e.push(Gt(r,1,n))}}function x2e(e){const t=[0];return p2e(t,e.length-1),t}function g2e(e,t){return e.map(r=>r*t)}function v2e(e,t){return e.map(()=>t||Dq).splice(0,e.length-1)}function Mh({duration:e=300,keyframes:t,times:r,ease:a="easeInOut"}){const n=E1e(a)?a.map(wO):wO(a),i={done:!1,value:t[0]},o=g2e(r&&r.length===t.length?r:x2e(t),e),l=f2e(o,t,{ease:Array.isArray(n)?n:v2e(t,n)});return{calculatedDuration:e,next:c=>(i.value=l(c),i.done=c>=e,i)}}const y2e=e=>e!==null;function Yk(e,{repeat:t,repeatType:r="loop"},a,n=1){const i=e.filter(y2e),l=n<0||t&&r!=="loop"&&t%2===1?0:i.length-1;return!l||a===void 0?i[l]:a}const b2e={decay:h2,inertia:h2,tween:Mh,keyframes:Mh,spring:Hv};function Kq(e){typeof e.type=="string"&&(e.type=b2e[e.type])}class Xk{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,r){return this.finished.then(t,r)}}const j2e=e=>e/100;class Qk extends Xk{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var a,n;const{motionValue:r}=this.options;r&&r.updatedAt!==Lr.now()&&this.tick(Lr.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(n=(a=this.options).onStop)==null||n.call(a))},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;Kq(t);const{type:r=Mh,repeat:a=0,repeatDelay:n=0,repeatType:i,velocity:o=0}=t;let{keyframes:l}=t;const c=r||Mh;c!==Mh&&typeof l[0]!="number"&&(this.mixKeyframes=Ip(j2e,Vq(l[0],l[1])),l=[0,100]);const d=c({...t,keyframes:l});i==="mirror"&&(this.mirroredGenerator=c({...t,keyframes:[...l].reverse(),velocity:-o})),d.calculatedDuration===null&&(d.calculatedDuration=Gk(d));const{calculatedDuration:u}=d;this.calculatedDuration=u,this.resolvedDuration=u+n,this.totalDuration=this.resolvedDuration*(a+1)-n,this.generator=d}updateTime(t){const r=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=r}tick(t,r=!1){const{generator:a,totalDuration:n,mixKeyframes:i,mirroredGenerator:o,resolvedDuration:l,calculatedDuration:c}=this;if(this.startTime===null)return a.next(0);const{delay:d=0,keyframes:u,repeat:m,repeatType:h,repeatDelay:f,type:g,onUpdate:x,finalKeyframe:y}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-n/this.speed,this.startTime)),r?this.currentTime=t:this.updateTime(t);const v=this.currentTime-d*(this.playbackSpeed>=0?1:-1),b=this.playbackSpeed>=0?v<0:v>n;this.currentTime=Math.max(v,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=n);let j=this.currentTime,N=a;if(m){const C=Math.min(this.currentTime,n)/l;let E=Math.floor(C),T=C%1;!T&&C>=1&&(T=1),T===1&&E--,E=Math.min(E,m+1),!!(E%2)&&(h==="reverse"?(T=1-T,f&&(T-=f/l)):h==="mirror"&&(N=o)),j=eo(0,1,T)*l}const w=b?{done:!1,value:u[0]}:N.next(j);i&&(w.value=i(w.value));let{done:S}=w;!b&&c!==null&&(S=this.playbackSpeed>=0?this.currentTime>=n:this.currentTime<=0);const _=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&S);return _&&g!==h2&&(w.value=Yk(u,this.options,y,this.speed)),x&&x(w.value),_&&this.finish(),w}then(t,r){return this.finished.then(t,r)}get duration(){return si(this.calculatedDuration)}get time(){return si(this.currentTime)}set time(t){var r;t=ti(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),(r=this.driver)==null||r.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(Lr.now());const r=this.playbackSpeed!==t;this.playbackSpeed=t,r&&(this.time=si(this.currentTime))}play(){var n,i;if(this.isStopped)return;const{driver:t=a2e,startTime:r}=this.options;this.driver||(this.driver=t(o=>this.tick(o))),(i=(n=this.options).onPlay)==null||i.call(n);const a=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=a):this.holdTime!==null?this.startTime=a-this.holdTime:this.startTime||(this.startTime=r??a),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Lr.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var t,r;this.notifyFinished(),this.teardown(),this.state="finished",(r=(t=this.options).onComplete)==null||r.call(t)}cancel(){var t,r;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(r=(t=this.options).onCancel)==null||r.call(t)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){var r;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(r=this.driver)==null||r.stop(),t.observe(this)}}function w2e(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const cc=e=>e*180/Math.PI,f2=e=>{const t=cc(Math.atan2(e[1],e[0]));return p2(t)},N2e={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:f2,rotateZ:f2,skewX:e=>cc(Math.atan(e[1])),skewY:e=>cc(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},p2=e=>(e=e%360,e<0&&(e+=360),e),PO=f2,EO=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),AO=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),S2e={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:EO,scaleY:AO,scale:e=>(EO(e)+AO(e))/2,rotateX:e=>p2(cc(Math.atan2(e[6],e[5]))),rotateY:e=>p2(cc(Math.atan2(-e[2],e[0]))),rotateZ:PO,rotate:PO,skewX:e=>cc(Math.atan(e[4])),skewY:e=>cc(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function x2(e){return e.includes("scale")?1:0}function g2(e,t){if(!e||e==="none")return x2(t);const r=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let a,n;if(r)a=S2e,n=r;else{const l=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);a=N2e,n=l}if(!n)return x2(t);const i=a[t],o=n[1].split(",").map(C2e);return typeof i=="function"?i(o):o[i]}const _2e=(e,t)=>{const{transform:r="none"}=getComputedStyle(e);return g2(r,t)};function C2e(e){return parseFloat(e.trim())}const Tm=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Mm=new Set(Tm),TO=e=>e===Am||e===De,k2e=new Set(["x","y","z"]),P2e=Tm.filter(e=>!k2e.has(e));function E2e(e){const t=[];return P2e.forEach(r=>{const a=e.getValue(r);a!==void 0&&(t.push([r,a.get()]),a.set(r.startsWith("scale")?1:0))}),t}const _c={width:({x:e},{paddingLeft:t="0",paddingRight:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),height:({y:e},{paddingTop:t="0",paddingBottom:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>g2(t,"x"),y:(e,{transform:t})=>g2(t,"y")};_c.translateX=_c.x;_c.translateY=_c.y;const Cc=new Set;let v2=!1,y2=!1,b2=!1;function Gq(){if(y2){const e=Array.from(Cc).filter(a=>a.needsMeasurement),t=new Set(e.map(a=>a.element)),r=new Map;t.forEach(a=>{const n=E2e(a);n.length&&(r.set(a,n),a.render())}),e.forEach(a=>a.measureInitialState()),t.forEach(a=>{a.render();const n=r.get(a);n&&n.forEach(([i,o])=>{var l;(l=a.getValue(i))==null||l.set(o)})}),e.forEach(a=>a.measureEndState()),e.forEach(a=>{a.suspendedScrollY!==void 0&&window.scrollTo(0,a.suspendedScrollY)})}y2=!1,v2=!1,Cc.forEach(e=>e.complete(b2)),Cc.clear()}function Yq(){Cc.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(y2=!0)})}function A2e(){b2=!0,Yq(),Gq(),b2=!1}class Jk{constructor(t,r,a,n,i,o=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=r,this.name=a,this.motionValue=n,this.element=i,this.isAsync=o}scheduleResolve(){this.state="scheduled",this.isAsync?(Cc.add(this),v2||(v2=!0,Ut.read(Yq),Ut.resolveKeyframes(Gq))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:r,element:a,motionValue:n}=this;if(t[0]===null){const i=n==null?void 0:n.get(),o=t[t.length-1];if(i!==void 0)t[0]=i;else if(a&&r){const l=a.readValue(r,o);l!=null&&(t[0]=l)}t[0]===void 0&&(t[0]=o),n&&i===void 0&&n.set(t[0])}w2e(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),Cc.delete(this)}cancel(){this.state==="scheduled"&&(Cc.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const T2e=e=>e.startsWith("--");function M2e(e,t,r){T2e(t)?e.style.setProperty(t,r):e.style[t]=r}const O2e=$k(()=>window.ScrollTimeline!==void 0),D2e={};function R2e(e,t){const r=$k(e);return()=>D2e[t]??r()}const Xq=R2e(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),mh=([e,t,r,a])=>`cubic-bezier(${e}, ${t}, ${r}, ${a})`,MO={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:mh([0,.65,.55,1]),circOut:mh([.55,0,1,.45]),backIn:mh([.31,.01,.66,-.59]),backOut:mh([.33,1.53,.69,.99])};function Qq(e,t){if(e)return typeof e=="function"?Xq()?Wq(e,t):"ease-out":Rq(e)?mh(e):Array.isArray(e)?e.map(r=>Qq(r,t)||MO.easeOut):MO[e]}function I2e(e,t,r,{delay:a=0,duration:n=300,repeat:i=0,repeatType:o="loop",ease:l="easeOut",times:c}={},d=void 0){const u={[t]:r};c&&(u.offset=c);const m=Qq(l,n);Array.isArray(m)&&(u.easing=m);const h={delay:a,duration:n,easing:Array.isArray(m)?"linear":m,fill:"both",iterations:i+1,direction:o==="reverse"?"alternate":"normal"};return d&&(h.pseudoElement=d),e.animate(u,h)}function Jq(e){return typeof e=="function"&&"applyToOptions"in e}function F2e({type:e,...t}){return Jq(e)&&Xq()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class L2e extends Xk{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:r,name:a,keyframes:n,pseudoElement:i,allowFlatten:o=!1,finalKeyframe:l,onComplete:c}=t;this.isPseudoElement=!!i,this.allowFlatten=o,this.options=t,Lk(typeof t.type!="string");const d=F2e(t);this.animation=I2e(r,a,n,d,i),d.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!i){const u=Yk(n,this.options,l,this.speed);this.updateMotionValue?this.updateMotionValue(u):M2e(r,a,u),this.animation.cancel()}c==null||c(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var t,r;(r=(t=this.animation).finish)==null||r.call(t)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var t,r;this.isPseudoElement||(r=(t=this.animation).commitStyles)==null||r.call(t)}get duration(){var r,a;const t=((a=(r=this.animation.effect)==null?void 0:r.getComputedTiming)==null?void 0:a.call(r).duration)||0;return si(Number(t))}get time(){return si(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=ti(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:r}){var a;return this.allowFlatten&&((a=this.animation.effect)==null||a.updateTiming({easing:"linear"})),this.animation.onfinish=null,t&&O2e()?(this.animation.timeline=t,Fa):r(this)}}const Zq={anticipate:Tq,backInOut:Aq,circInOut:Oq};function $2e(e){return e in Zq}function B2e(e){typeof e.ease=="string"&&$2e(e.ease)&&(e.ease=Zq[e.ease])}const OO=10;class z2e extends L2e{constructor(t){B2e(t),Kq(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:r,onUpdate:a,onComplete:n,element:i,...o}=this.options;if(!r)return;if(t!==void 0){r.set(t);return}const l=new Qk({...o,autoplay:!1}),c=ti(this.finishedTime??this.time);r.setWithVelocity(l.sample(c-OO).value,l.sample(c).value,OO),l.stop()}}const DO=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(wl.test(e)||e==="0")&&!e.startsWith("url("));function U2e(e){const t=e[0];if(e.length===1)return!0;for(let r=0;r<e.length;r++)if(e[r]!==t)return!0}function q2e(e,t,r,a){const n=e[0];if(n===null)return!1;if(t==="display"||t==="visibility")return!0;const i=e[e.length-1],o=DO(n,t),l=DO(i,t);return!o||!l?!1:U2e(e)||(r==="spring"||Jq(r))&&a}function j2(e){e.duration=0,e.type}const V2e=new Set(["opacity","clipPath","filter","transform"]),W2e=$k(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function H2e(e){var u;const{motionValue:t,name:r,repeatDelay:a,repeatType:n,damping:i,type:o}=e;if(!(((u=t==null?void 0:t.owner)==null?void 0:u.current)instanceof HTMLElement))return!1;const{onUpdate:c,transformTemplate:d}=t.owner.getProps();return W2e()&&r&&V2e.has(r)&&(r!=="transform"||!d)&&!c&&!a&&n!=="mirror"&&i!==0&&o!=="inertia"}const K2e=40;class G2e extends Xk{constructor({autoplay:t=!0,delay:r=0,type:a="keyframes",repeat:n=0,repeatDelay:i=0,repeatType:o="loop",keyframes:l,name:c,motionValue:d,element:u,...m}){var g;super(),this.stop=()=>{var x,y;this._animation&&(this._animation.stop(),(x=this.stopTimeline)==null||x.call(this)),(y=this.keyframeResolver)==null||y.cancel()},this.createdAt=Lr.now();const h={autoplay:t,delay:r,type:a,repeat:n,repeatDelay:i,repeatType:o,name:c,motionValue:d,element:u,...m},f=(u==null?void 0:u.KeyframeResolver)||Jk;this.keyframeResolver=new f(l,(x,y,v)=>this.onKeyframesResolved(x,y,h,!v),c,d,u),(g=this.keyframeResolver)==null||g.scheduleResolve()}onKeyframesResolved(t,r,a,n){this.keyframeResolver=void 0;const{name:i,type:o,velocity:l,delay:c,isHandoff:d,onUpdate:u}=a;this.resolvedAt=Lr.now(),q2e(t,i,o,l)||((to.instantAnimations||!c)&&(u==null||u(Yk(t,a,r))),t[0]=t[t.length-1],j2(a),a.repeat=0);const h={startTime:n?this.resolvedAt?this.resolvedAt-this.createdAt>K2e?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:r,...a,keyframes:t},f=!d&&H2e(h)?new z2e({...h,element:h.motionValue.owner.current}):new Qk(h);f.finished.then(()=>this.notifyFinished()).catch(Fa),this.pendingTimeline&&(this.stopTimeline=f.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=f}get finished(){return this._animation?this.animation.finished:this._finished}then(t,r){return this.finished.finally(t).then(()=>{})}get animation(){var t;return this._animation||((t=this.keyframeResolver)==null||t.resume(),A2e()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var t;this._animation&&this.animation.cancel(),(t=this.keyframeResolver)==null||t.cancel()}}const Y2e=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function X2e(e){const t=Y2e.exec(e);if(!t)return[,];const[,r,a,n]=t;return[`--${r??a}`,n]}function e7(e,t,r=1){const[a,n]=X2e(e);if(!a)return;const i=window.getComputedStyle(t).getPropertyValue(a);if(i){const o=i.trim();return wq(o)?parseFloat(o):o}return Vk(n)?e7(n,t,r+1):n}function Zk(e,t){return(e==null?void 0:e[t])??(e==null?void 0:e.default)??e}const t7=new Set(["width","height","top","left","right","bottom",...Tm]),Q2e={test:e=>e==="auto",parse:e=>e},s7=e=>t=>t.test(e),r7=[Am,De,ri,Eo,U1e,z1e,Q2e],RO=e=>r7.find(s7(e));function J2e(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||Sq(e):!0}const Z2e=new Set(["brightness","contrast","saturate","opacity"]);function eSe(e){const[t,r]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[a]=r.match(Wk)||[];if(!a)return e;const n=r.replace(a,"");let i=Z2e.has(t)?1:0;return a!==r&&(i*=100),t+"("+i+n+")"}const tSe=/\b([a-z-]*)\(.*?\)/gu,w2={...wl,getAnimatableNone:e=>{const t=e.match(tSe);return t?t.map(eSe).join(" "):e}},IO={...Am,transform:Math.round},sSe={rotate:Eo,rotateX:Eo,rotateY:Eo,rotateZ:Eo,scale:Bx,scaleX:Bx,scaleY:Bx,scaleZ:Bx,skew:Eo,skewX:Eo,skewY:Eo,distance:De,translateX:De,translateY:De,translateZ:De,x:De,y:De,z:De,perspective:De,transformPerspective:De,opacity:Tf,originX:NO,originY:NO,originZ:De},eP={borderWidth:De,borderTopWidth:De,borderRightWidth:De,borderBottomWidth:De,borderLeftWidth:De,borderRadius:De,radius:De,borderTopLeftRadius:De,borderTopRightRadius:De,borderBottomRightRadius:De,borderBottomLeftRadius:De,width:De,maxWidth:De,height:De,maxHeight:De,top:De,right:De,bottom:De,left:De,padding:De,paddingTop:De,paddingRight:De,paddingBottom:De,paddingLeft:De,margin:De,marginTop:De,marginRight:De,marginBottom:De,marginLeft:De,backgroundPositionX:De,backgroundPositionY:De,...sSe,zIndex:IO,fillOpacity:Tf,strokeOpacity:Tf,numOctaves:IO},rSe={...eP,color:fs,backgroundColor:fs,outlineColor:fs,fill:fs,stroke:fs,borderColor:fs,borderTopColor:fs,borderRightColor:fs,borderBottomColor:fs,borderLeftColor:fs,filter:w2,WebkitFilter:w2},a7=e=>rSe[e];function n7(e,t){let r=a7(e);return r!==w2&&(r=wl),r.getAnimatableNone?r.getAnimatableNone(t):void 0}const aSe=new Set(["auto","none","0"]);function nSe(e,t,r){let a=0,n;for(;a<e.length&&!n;){const i=e[a];typeof i=="string"&&!aSe.has(i)&&Mf(i).values.length&&(n=e[a]),a++}if(n&&r)for(const i of t)e[i]=n7(r,n)}class iSe extends Jk{constructor(t,r,a,n,i){super(t,r,a,n,i,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:r,name:a}=this;if(!r||!r.current)return;super.readKeyframes();for(let c=0;c<t.length;c++){let d=t[c];if(typeof d=="string"&&(d=d.trim(),Vk(d))){const u=e7(d,r.current);u!==void 0&&(t[c]=u),c===t.length-1&&(this.finalKeyframe=d)}}if(this.resolveNoneKeyframes(),!t7.has(a)||t.length!==2)return;const[n,i]=t,o=RO(n),l=RO(i);if(o!==l)if(TO(o)&&TO(l))for(let c=0;c<t.length;c++){const d=t[c];typeof d=="string"&&(t[c]=parseFloat(d))}else _c[a]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:r}=this,a=[];for(let n=0;n<t.length;n++)(t[n]===null||J2e(t[n]))&&a.push(n);a.length&&nSe(t,a,r)}measureInitialState(){const{element:t,unresolvedKeyframes:r,name:a}=this;if(!t||!t.current)return;a==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=_c[a](t.measureViewportBox(),window.getComputedStyle(t.current)),r[0]=this.measuredOrigin;const n=r[r.length-1];n!==void 0&&t.getValue(a,n).jump(n,!1)}measureEndState(){var l;const{element:t,name:r,unresolvedKeyframes:a}=this;if(!t||!t.current)return;const n=t.getValue(r);n&&n.jump(this.measuredOrigin,!1);const i=a.length-1,o=a[i];a[i]=_c[r](t.measureViewportBox(),window.getComputedStyle(t.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),(l=this.removedTransforms)!=null&&l.length&&this.removedTransforms.forEach(([c,d])=>{t.getValue(c).set(d)}),this.resolveNoneKeyframes()}}function oSe(e,t,r){if(e instanceof EventTarget)return[e];if(typeof e=="string"){let a=document;const n=(r==null?void 0:r[e])??a.querySelectorAll(e);return n?Array.from(n):[]}return Array.from(e)}const i7=(e,t)=>t&&typeof e=="number"?t.transform(e):e;function o7(e){return Nq(e)&&"offsetHeight"in e}const FO=30,lSe=e=>!isNaN(parseFloat(e));class cSe{constructor(t,r={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=a=>{var i;const n=Lr.now();if(this.updatedAt!==n&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(a),this.current!==this.prev&&((i=this.events.change)==null||i.notify(this.current),this.dependents))for(const o of this.dependents)o.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=r.owner}setCurrent(t){this.current=t,this.updatedAt=Lr.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=lSe(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,r){this.events[t]||(this.events[t]=new Bk);const a=this.events[t].add(r);return t==="change"?()=>{a(),Ut.read(()=>{this.events.change.getSize()||this.stop()})}:a}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,r){this.passiveEffect=t,this.stopPassiveEffect=r}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,r,a){this.set(r),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-a}jump(t,r=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,r&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var t;(t=this.events.change)==null||t.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=Lr.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>FO)return 0;const r=Math.min(this.updatedAt-this.prevUpdatedAt,FO);return _q(parseFloat(this.current)-parseFloat(this.prevFrameValue),r)}start(t){return this.stop(),new Promise(r=>{this.hasAnimated=!0,this.animation=t(r),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var t,r;(t=this.dependents)==null||t.clear(),(r=this.events.destroy)==null||r.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function qu(e,t){return new cSe(e,t)}const{schedule:tP}=Iq(queueMicrotask,!1),nn={x:!1,y:!1};function l7(){return nn.x||nn.y}function dSe(e){return e==="x"||e==="y"?nn[e]?null:(nn[e]=!0,()=>{nn[e]=!1}):nn.x||nn.y?null:(nn.x=nn.y=!0,()=>{nn.x=nn.y=!1})}function c7(e,t){const r=oSe(e),a=new AbortController,n={passive:!0,...t,signal:a.signal};return[r,n,()=>a.abort()]}function LO(e){return!(e.pointerType==="touch"||l7())}function uSe(e,t,r={}){const[a,n,i]=c7(e,r),o=l=>{if(!LO(l))return;const{target:c}=l,d=t(c,l);if(typeof d!="function"||!c)return;const u=m=>{LO(m)&&(d(m),c.removeEventListener("pointerleave",u))};c.addEventListener("pointerleave",u,n)};return a.forEach(l=>{l.addEventListener("pointerenter",o,n)}),i}const d7=(e,t)=>t?e===t?!0:d7(e,t.parentElement):!1,sP=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,mSe=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function hSe(e){return mSe.has(e.tagName)||e.tabIndex!==-1}const pg=new WeakSet;function $O(e){return t=>{t.key==="Enter"&&e(t)}}function rw(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const fSe=(e,t)=>{const r=e.currentTarget;if(!r)return;const a=$O(()=>{if(pg.has(r))return;rw(r,"down");const n=$O(()=>{rw(r,"up")}),i=()=>rw(r,"cancel");r.addEventListener("keyup",n,t),r.addEventListener("blur",i,t)});r.addEventListener("keydown",a,t),r.addEventListener("blur",()=>r.removeEventListener("keydown",a),t)};function BO(e){return sP(e)&&!l7()}function pSe(e,t,r={}){const[a,n,i]=c7(e,r),o=l=>{const c=l.currentTarget;if(!BO(l))return;pg.add(c);const d=t(c,l),u=(f,g)=>{window.removeEventListener("pointerup",m),window.removeEventListener("pointercancel",h),pg.has(c)&&pg.delete(c),BO(f)&&typeof d=="function"&&d(f,{success:g})},m=f=>{u(f,c===window||c===document||r.useGlobalTarget||d7(c,f.target))},h=f=>{u(f,!1)};window.addEventListener("pointerup",m,n),window.addEventListener("pointercancel",h,n)};return a.forEach(l=>{(r.useGlobalTarget?window:l).addEventListener("pointerdown",o,n),o7(l)&&(l.addEventListener("focus",d=>fSe(d,n)),!hSe(l)&&!l.hasAttribute("tabindex")&&(l.tabIndex=0))}),i}function u7(e){return Nq(e)&&"ownerSVGElement"in e}function xSe(e){return u7(e)&&e.tagName==="svg"}const rr=e=>!!(e&&e.getVelocity),gSe=[...r7,fs,wl],vSe=e=>gSe.find(s7(e)),rP=p.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});class ySe extends p.Component{getSnapshotBeforeUpdate(t){const r=this.props.childRef.current;if(r&&t.isPresent&&!this.props.isPresent){const a=r.offsetParent,n=o7(a)&&a.offsetWidth||0,i=this.props.sizeRef.current;i.height=r.offsetHeight||0,i.width=r.offsetWidth||0,i.top=r.offsetTop,i.left=r.offsetLeft,i.right=n-i.width-i.left}return null}componentDidUpdate(){}render(){return this.props.children}}function bSe({children:e,isPresent:t,anchorX:r,root:a}){const n=p.useId(),i=p.useRef(null),o=p.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:l}=p.useContext(rP);return p.useInsertionEffect(()=>{const{width:c,height:d,top:u,left:m,right:h}=o.current;if(t||!i.current||!c||!d)return;const f=r==="left"?`left: ${m}`:`right: ${h}`;i.current.dataset.motionPopId=n;const g=document.createElement("style");l&&(g.nonce=l);const x=a??document.head;return x.appendChild(g),g.sheet&&g.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${c}px !important;
            height: ${d}px !important;
            ${f}px !important;
            top: ${u}px !important;
          }
        `),()=>{x.contains(g)&&x.removeChild(g)}},[t]),s.jsx(ySe,{isPresent:t,childRef:i,sizeRef:o,children:p.cloneElement(e,{ref:i})})}const jSe=({children:e,initial:t,isPresent:r,onExitComplete:a,custom:n,presenceAffectsLayout:i,mode:o,anchorX:l,root:c})=>{const d=Dk(wSe),u=p.useId();let m=!0,h=p.useMemo(()=>(m=!1,{id:u,initial:t,isPresent:r,custom:n,onExitComplete:f=>{d.set(f,!0);for(const g of d.values())if(!g)return;a&&a()},register:f=>(d.set(f,!1),()=>d.delete(f))}),[r,d,a]);return i&&m&&(h={...h}),p.useMemo(()=>{d.forEach((f,g)=>d.set(g,!1))},[r]),p.useEffect(()=>{!r&&!d.size&&a&&a()},[r]),o==="popLayout"&&(e=s.jsx(bSe,{isPresent:r,anchorX:l,root:c,children:e})),s.jsx(ub.Provider,{value:h,children:e})};function wSe(){return new Map}function m7(e=!0){const t=p.useContext(ub);if(t===null)return[!0,null];const{isPresent:r,onExitComplete:a,register:n}=t,i=p.useId();p.useEffect(()=>{if(e)return n(i)},[e]);const o=p.useCallback(()=>e&&a&&a(i),[i,a,e]);return!r&&a?[!1,o]:[!0]}const zx=e=>e.key||"";function zO(e){const t=[];return p.Children.forEach(e,r=>{p.isValidElement(r)&&t.push(r)}),t}const so=({children:e,custom:t,initial:r=!0,onExitComplete:a,presenceAffectsLayout:n=!0,mode:i="sync",propagate:o=!1,anchorX:l="left",root:c})=>{const[d,u]=m7(o),m=p.useMemo(()=>zO(e),[e]),h=o&&!d?[]:m.map(zx),f=p.useRef(!0),g=p.useRef(m),x=Dk(()=>new Map),[y,v]=p.useState(m),[b,j]=p.useState(m);jq(()=>{f.current=!1,g.current=m;for(let S=0;S<b.length;S++){const _=zx(b[S]);h.includes(_)?x.delete(_):x.get(_)!==!0&&x.set(_,!1)}},[b,h.length,h.join("-")]);const N=[];if(m!==y){let S=[...m];for(let _=0;_<b.length;_++){const C=b[_],E=zx(C);h.includes(E)||(S.splice(_,0,C),N.push(C))}return i==="wait"&&N.length&&(S=N),j(zO(S)),v(m),null}const{forceRender:w}=p.useContext(Ok);return s.jsx(s.Fragment,{children:b.map(S=>{const _=zx(S),C=o&&!d?!1:m===b||h.includes(_),E=()=>{if(x.has(_))x.set(_,!0);else return;let T=!0;x.forEach(k=>{k||(T=!1)}),T&&(w==null||w(),j(g.current),o&&(u==null||u()),a&&a())};return s.jsx(jSe,{isPresent:C,initial:!f.current||r?void 0:!1,custom:t,presenceAffectsLayout:n,mode:i,root:c,onExitComplete:C?void 0:E,anchorX:l,children:S},_)})})},h7=p.createContext({strict:!1}),UO={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Vu={};for(const e in UO)Vu[e]={isEnabled:t=>UO[e].some(r=>!!t[r])};function NSe(e){for(const t in e)Vu[t]={...Vu[t],...e[t]}}const SSe=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Kv(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||SSe.has(e)}let f7=e=>!Kv(e);function _Se(e){typeof e=="function"&&(f7=t=>t.startsWith("on")?!Kv(t):e(t))}try{_Se(require("@emotion/is-prop-valid").default)}catch{}function CSe(e,t,r){const a={};for(const n in e)n==="values"&&typeof e.values=="object"||(f7(n)||r===!0&&Kv(n)||!t&&!Kv(n)||e.draggable&&n.startsWith("onDrag"))&&(a[n]=e[n]);return a}const mb=p.createContext({});function hb(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function Of(e){return typeof e=="string"||Array.isArray(e)}const aP=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],nP=["initial",...aP];function fb(e){return hb(e.animate)||nP.some(t=>Of(e[t]))}function p7(e){return!!(fb(e)||e.variants)}function kSe(e,t){if(fb(e)){const{initial:r,animate:a}=e;return{initial:r===!1||Of(r)?r:void 0,animate:Of(a)?a:void 0}}return e.inherit!==!1?t:{}}function PSe(e){const{initial:t,animate:r}=kSe(e,p.useContext(mb));return p.useMemo(()=>({initial:t,animate:r}),[qO(t),qO(r)])}function qO(e){return Array.isArray(e)?e.join(" "):e}const Df={};function ESe(e){for(const t in e)Df[t]=e[t],qk(t)&&(Df[t].isCSSVariable=!0)}function x7(e,{layout:t,layoutId:r}){return Mm.has(e)||e.startsWith("origin")||(t||r!==void 0)&&(!!Df[e]||e==="opacity")}const ASe={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},TSe=Tm.length;function MSe(e,t,r){let a="",n=!0;for(let i=0;i<TSe;i++){const o=Tm[i],l=e[o];if(l===void 0)continue;let c=!0;if(typeof l=="number"?c=l===(o.startsWith("scale")?1:0):c=parseFloat(l)===0,!c||r){const d=i7(l,eP[o]);if(!c){n=!1;const u=ASe[o]||o;a+=`${u}(${d}) `}r&&(t[o]=d)}}return a=a.trim(),r?a=r(t,n?"":a):n&&(a="none"),a}function iP(e,t,r){const{style:a,vars:n,transformOrigin:i}=e;let o=!1,l=!1;for(const c in t){const d=t[c];if(Mm.has(c)){o=!0;continue}else if(qk(c)){n[c]=d;continue}else{const u=i7(d,eP[c]);c.startsWith("origin")?(l=!0,i[c]=u):a[c]=u}}if(t.transform||(o||r?a.transform=MSe(t,e.transform,r):a.transform&&(a.transform="none")),l){const{originX:c="50%",originY:d="50%",originZ:u=0}=i;a.transformOrigin=`${c} ${d} ${u}`}}const oP=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function g7(e,t,r){for(const a in t)!rr(t[a])&&!x7(a,r)&&(e[a]=t[a])}function OSe({transformTemplate:e},t){return p.useMemo(()=>{const r=oP();return iP(r,t,e),Object.assign({},r.vars,r.style)},[t])}function DSe(e,t){const r=e.style||{},a={};return g7(a,r,e),Object.assign(a,OSe(e,t)),a}function RSe(e,t){const r={},a=DSe(e,t);return e.drag&&e.dragListener!==!1&&(r.draggable=!1,a.userSelect=a.WebkitUserSelect=a.WebkitTouchCallout="none",a.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(r.tabIndex=0),r.style=a,r}const ISe={offset:"stroke-dashoffset",array:"stroke-dasharray"},FSe={offset:"strokeDashoffset",array:"strokeDasharray"};function LSe(e,t,r=1,a=0,n=!0){e.pathLength=1;const i=n?ISe:FSe;e[i.offset]=De.transform(-a);const o=De.transform(t),l=De.transform(r);e[i.array]=`${o} ${l}`}function v7(e,{attrX:t,attrY:r,attrScale:a,pathLength:n,pathSpacing:i=1,pathOffset:o=0,...l},c,d,u){if(iP(e,l,d),c){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:m,style:h}=e;m.transform&&(h.transform=m.transform,delete m.transform),(h.transform||m.transformOrigin)&&(h.transformOrigin=m.transformOrigin??"50% 50%",delete m.transformOrigin),h.transform&&(h.transformBox=(u==null?void 0:u.transformBox)??"fill-box",delete m.transformBox),t!==void 0&&(m.x=t),r!==void 0&&(m.y=r),a!==void 0&&(m.scale=a),n!==void 0&&LSe(m,n,i,o,!1)}const y7=()=>({...oP(),attrs:{}}),b7=e=>typeof e=="string"&&e.toLowerCase()==="svg";function $Se(e,t,r,a){const n=p.useMemo(()=>{const i=y7();return v7(i,t,b7(a),e.transformTemplate,e.style),{...i.attrs,style:{...i.style}}},[t]);if(e.style){const i={};g7(i,e.style,e),n.style={...i,...n.style}}return n}const BSe=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function lP(e){return typeof e!="string"||e.includes("-")?!1:!!(BSe.indexOf(e)>-1||/[A-Z]/u.test(e))}function zSe(e,t,r,{latestValues:a},n,i=!1){const l=(lP(e)?$Se:RSe)(t,a,n,e),c=CSe(t,typeof e=="string",i),d=e!==p.Fragment?{...c,...l,ref:r}:{},{children:u}=t,m=p.useMemo(()=>rr(u)?u.get():u,[u]);return p.createElement(e,{...d,children:m})}function VO(e){const t=[{},{}];return e==null||e.values.forEach((r,a)=>{t[0][a]=r.get(),t[1][a]=r.getVelocity()}),t}function cP(e,t,r,a){if(typeof t=="function"){const[n,i]=VO(a);t=t(r!==void 0?r:e.custom,n,i)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[n,i]=VO(a);t=t(r!==void 0?r:e.custom,n,i)}return t}function xg(e){return rr(e)?e.get():e}function USe({scrapeMotionValuesFromProps:e,createRenderState:t},r,a,n){return{latestValues:qSe(r,a,n,e),renderState:t()}}function qSe(e,t,r,a){const n={},i=a(e,{});for(const h in i)n[h]=xg(i[h]);let{initial:o,animate:l}=e;const c=fb(e),d=p7(e);t&&d&&!c&&e.inherit!==!1&&(o===void 0&&(o=t.initial),l===void 0&&(l=t.animate));let u=r?r.initial===!1:!1;u=u||o===!1;const m=u?l:o;if(m&&typeof m!="boolean"&&!hb(m)){const h=Array.isArray(m)?m:[m];for(let f=0;f<h.length;f++){const g=cP(e,h[f]);if(g){const{transitionEnd:x,transition:y,...v}=g;for(const b in v){let j=v[b];if(Array.isArray(j)){const N=u?j.length-1:0;j=j[N]}j!==null&&(n[b]=j)}for(const b in x)n[b]=x[b]}}}return n}const j7=e=>(t,r)=>{const a=p.useContext(mb),n=p.useContext(ub),i=()=>USe(e,t,a,n);return r?i():Dk(i)};function dP(e,t,r){var i;const{style:a}=e,n={};for(const o in a)(rr(a[o])||t.style&&rr(t.style[o])||x7(o,e)||((i=r==null?void 0:r.getValue(o))==null?void 0:i.liveStyle)!==void 0)&&(n[o]=a[o]);return n}const VSe=j7({scrapeMotionValuesFromProps:dP,createRenderState:oP});function w7(e,t,r){const a=dP(e,t,r);for(const n in e)if(rr(e[n])||rr(t[n])){const i=Tm.indexOf(n)!==-1?"attr"+n.charAt(0).toUpperCase()+n.substring(1):n;a[i]=e[n]}return a}const WSe=j7({scrapeMotionValuesFromProps:w7,createRenderState:y7}),HSe=Symbol.for("motionComponentSymbol");function Vd(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function KSe(e,t,r){return p.useCallback(a=>{a&&e.onMount&&e.onMount(a),t&&(a?t.mount(a):t.unmount()),r&&(typeof r=="function"?r(a):Vd(r)&&(r.current=a))},[t])}const uP=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),GSe="framerAppearId",N7="data-"+uP(GSe),S7=p.createContext({});function YSe(e,t,r,a,n){var x,y;const{visualElement:i}=p.useContext(mb),o=p.useContext(h7),l=p.useContext(ub),c=p.useContext(rP).reducedMotion,d=p.useRef(null);a=a||o.renderer,!d.current&&a&&(d.current=a(e,{visualState:t,parent:i,props:r,presenceContext:l,blockInitialAnimation:l?l.initial===!1:!1,reducedMotionConfig:c}));const u=d.current,m=p.useContext(S7);u&&!u.projection&&n&&(u.type==="html"||u.type==="svg")&&XSe(d.current,r,n,m);const h=p.useRef(!1);p.useInsertionEffect(()=>{u&&h.current&&u.update(r,l)});const f=r[N7],g=p.useRef(!!f&&!((x=window.MotionHandoffIsComplete)!=null&&x.call(window,f))&&((y=window.MotionHasOptimisedAnimation)==null?void 0:y.call(window,f)));return jq(()=>{u&&(h.current=!0,window.MotionIsMounted=!0,u.updateFeatures(),u.scheduleRenderMicrotask(),g.current&&u.animationState&&u.animationState.animateChanges())}),p.useEffect(()=>{u&&(!g.current&&u.animationState&&u.animationState.animateChanges(),g.current&&(queueMicrotask(()=>{var v;(v=window.MotionHandoffMarkAsComplete)==null||v.call(window,f)}),g.current=!1))}),u}function XSe(e,t,r,a){const{layoutId:n,layout:i,drag:o,dragConstraints:l,layoutScroll:c,layoutRoot:d,layoutCrossfade:u}=t;e.projection=new r(e.latestValues,t["data-framer-portal-id"]?void 0:_7(e.parent)),e.projection.setOptions({layoutId:n,layout:i,alwaysMeasureLayout:!!o||l&&Vd(l),visualElement:e,animationType:typeof i=="string"?i:"both",initialPromotionConfig:a,crossfade:u,layoutScroll:c,layoutRoot:d})}function _7(e){if(e)return e.options.allowProjection!==!1?e.projection:_7(e.parent)}function aw(e,{forwardMotionProps:t=!1}={},r,a){r&&NSe(r);const n=lP(e)?WSe:VSe;function i(l,c){let d;const u={...p.useContext(rP),...l,layoutId:QSe(l)},{isStatic:m}=u,h=PSe(l),f=n(l,m);if(!m&&Rk){JSe();const g=ZSe(u);d=g.MeasureLayout,h.visualElement=YSe(e,f,u,a,g.ProjectionNode)}return s.jsxs(mb.Provider,{value:h,children:[d&&h.visualElement?s.jsx(d,{visualElement:h.visualElement,...u}):null,zSe(e,l,KSe(f,h.visualElement,c),f,m,t)]})}i.displayName=`motion.${typeof e=="string"?e:`create(${e.displayName??e.name??""})`}`;const o=p.forwardRef(i);return o[HSe]=e,o}function QSe({layoutId:e}){const t=p.useContext(Ok).id;return t&&e!==void 0?t+"-"+e:e}function JSe(e,t){p.useContext(h7).strict}function ZSe(e){const{drag:t,layout:r}=Vu;if(!t&&!r)return{};const a={...t,...r};return{MeasureLayout:t!=null&&t.isEnabled(e)||r!=null&&r.isEnabled(e)?a.MeasureLayout:void 0,ProjectionNode:a.ProjectionNode}}function e_e(e,t){if(typeof Proxy>"u")return aw;const r=new Map,a=(i,o)=>aw(i,o,e,t),n=(i,o)=>a(i,o);return new Proxy(n,{get:(i,o)=>o==="create"?a:(r.has(o)||r.set(o,aw(o,void 0,e,t)),r.get(o))})}function C7({top:e,left:t,right:r,bottom:a}){return{x:{min:t,max:r},y:{min:e,max:a}}}function t_e({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function s_e(e,t){if(!t)return e;const r=t({x:e.left,y:e.top}),a=t({x:e.right,y:e.bottom});return{top:r.y,left:r.x,bottom:a.y,right:a.x}}function nw(e){return e===void 0||e===1}function N2({scale:e,scaleX:t,scaleY:r}){return!nw(e)||!nw(t)||!nw(r)}function Xl(e){return N2(e)||k7(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function k7(e){return WO(e.x)||WO(e.y)}function WO(e){return e&&e!=="0%"}function Gv(e,t,r){const a=e-r,n=t*a;return r+n}function HO(e,t,r,a,n){return n!==void 0&&(e=Gv(e,n,a)),Gv(e,r,a)+t}function S2(e,t=0,r=1,a,n){e.min=HO(e.min,t,r,a,n),e.max=HO(e.max,t,r,a,n)}function P7(e,{x:t,y:r}){S2(e.x,t.translate,t.scale,t.originPoint),S2(e.y,r.translate,r.scale,r.originPoint)}const KO=.999999999999,GO=1.0000000000001;function r_e(e,t,r,a=!1){const n=r.length;if(!n)return;t.x=t.y=1;let i,o;for(let l=0;l<n;l++){i=r[l],o=i.projectionDelta;const{visualElement:c}=i.options;c&&c.props.style&&c.props.style.display==="contents"||(a&&i.options.layoutScroll&&i.scroll&&i!==i.root&&Hd(e,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),o&&(t.x*=o.x.scale,t.y*=o.y.scale,P7(e,o)),a&&Xl(i.latestValues)&&Hd(e,i.latestValues))}t.x<GO&&t.x>KO&&(t.x=1),t.y<GO&&t.y>KO&&(t.y=1)}function Wd(e,t){e.min=e.min+t,e.max=e.max+t}function YO(e,t,r,a,n=.5){const i=Gt(e.min,e.max,n);S2(e,t,r,i,a)}function Hd(e,t){YO(e.x,t.x,t.scaleX,t.scale,t.originX),YO(e.y,t.y,t.scaleY,t.scale,t.originY)}function E7(e,t){return C7(s_e(e.getBoundingClientRect(),t))}function a_e(e,t,r){const a=E7(e,r),{scroll:n}=t;return n&&(Wd(a.x,n.offset.x),Wd(a.y,n.offset.y)),a}const XO=()=>({translate:0,scale:1,origin:0,originPoint:0}),Kd=()=>({x:XO(),y:XO()}),QO=()=>({min:0,max:0}),is=()=>({x:QO(),y:QO()}),_2={current:null},A7={current:!1};function n_e(){if(A7.current=!0,!!Rk)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>_2.current=e.matches;e.addEventListener("change",t),t()}else _2.current=!1}const i_e=new WeakMap;function o_e(e,t,r){for(const a in t){const n=t[a],i=r[a];if(rr(n))e.addValue(a,n);else if(rr(i))e.addValue(a,qu(n,{owner:e}));else if(i!==n)if(e.hasValue(a)){const o=e.getValue(a);o.liveStyle===!0?o.jump(n):o.hasAnimated||o.set(n)}else{const o=e.getStaticValue(a);e.addValue(a,qu(o!==void 0?o:n,{owner:e}))}}for(const a in r)t[a]===void 0&&e.removeValue(a);return t}const JO=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class l_e{scrapeMotionValuesFromProps(t,r,a){return{}}constructor({parent:t,props:r,presenceContext:a,reducedMotionConfig:n,blockInitialAnimation:i,visualState:o},l={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Jk,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const h=Lr.now();this.renderScheduledAt<h&&(this.renderScheduledAt=h,Ut.render(this.render,!1,!0))};const{latestValues:c,renderState:d}=o;this.latestValues=c,this.baseTarget={...c},this.initialValues=r.initial?{...c}:{},this.renderState=d,this.parent=t,this.props=r,this.presenceContext=a,this.depth=t?t.depth+1:0,this.reducedMotionConfig=n,this.options=l,this.blockInitialAnimation=!!i,this.isControllingVariants=fb(r),this.isVariantNode=p7(r),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:u,...m}=this.scrapeMotionValuesFromProps(r,{},this);for(const h in m){const f=m[h];c[h]!==void 0&&rr(f)&&f.set(c[h])}}mount(t){this.current=t,i_e.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,a)=>this.bindToMotionValue(a,r)),A7.current||n_e(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:_2.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),jl(this.notifyUpdate),jl(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const r=this.features[t];r&&(r.unmount(),r.isMounted=!1)}this.current=null}bindToMotionValue(t,r){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const a=Mm.has(t);a&&this.onBindTransform&&this.onBindTransform();const n=r.on("change",o=>{this.latestValues[t]=o,this.props.onUpdate&&Ut.preRender(this.notifyUpdate),a&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let i;window.MotionCheckAppearSync&&(i=window.MotionCheckAppearSync(this,t,r)),this.valueSubscriptions.set(t,()=>{n(),i&&i(),r.owner&&r.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in Vu){const r=Vu[t];if(!r)continue;const{isEnabled:a,Feature:n}=r;if(!this.features[t]&&n&&a(this.props)&&(this.features[t]=new n(this)),this.features[t]){const i=this.features[t];i.isMounted?i.update():(i.mount(),i.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):is()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,r){this.latestValues[t]=r}update(t,r){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=r;for(let a=0;a<JO.length;a++){const n=JO[a];this.propEventSubscriptions[n]&&(this.propEventSubscriptions[n](),delete this.propEventSubscriptions[n]);const i="on"+n,o=t[i];o&&(this.propEventSubscriptions[n]=this.on(n,o))}this.prevMotionValues=o_e(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const r=this.getClosestVariantNode();if(r)return r.variantChildren&&r.variantChildren.add(t),()=>r.variantChildren.delete(t)}addValue(t,r){const a=this.values.get(t);r!==a&&(a&&this.removeValue(t),this.bindToMotionValue(t,r),this.values.set(t,r),this.latestValues[t]=r.get())}removeValue(t){this.values.delete(t);const r=this.valueSubscriptions.get(t);r&&(r(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,r){if(this.props.values&&this.props.values[t])return this.props.values[t];let a=this.values.get(t);return a===void 0&&r!==void 0&&(a=qu(r===null?void 0:r,{owner:this}),this.addValue(t,a)),a}readValue(t,r){let a=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return a!=null&&(typeof a=="string"&&(wq(a)||Sq(a))?a=parseFloat(a):!vSe(a)&&wl.test(r)&&(a=n7(t,r)),this.setBaseTarget(t,rr(a)?a.get():a)),rr(a)?a.get():a}setBaseTarget(t,r){this.baseTarget[t]=r}getBaseTarget(t){var i;const{initial:r}=this.props;let a;if(typeof r=="string"||typeof r=="object"){const o=cP(this.props,r,(i=this.presenceContext)==null?void 0:i.custom);o&&(a=o[t])}if(r&&a!==void 0)return a;const n=this.getBaseTargetFromProps(this.props,t);return n!==void 0&&!rr(n)?n:this.initialValues[t]!==void 0&&a===void 0?void 0:this.baseTarget[t]}on(t,r){return this.events[t]||(this.events[t]=new Bk),this.events[t].add(r)}notify(t,...r){this.events[t]&&this.events[t].notify(...r)}scheduleRenderMicrotask(){tP.render(this.render)}}class T7 extends l_e{constructor(){super(...arguments),this.KeyframeResolver=iSe}sortInstanceNodePosition(t,r){return t.compareDocumentPosition(r)&2?1:-1}getBaseTargetFromProps(t,r){return t.style?t.style[r]:void 0}removeValueFromRenderState(t,{vars:r,style:a}){delete r[t],delete a[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;rr(t)&&(this.childSubscription=t.on("change",r=>{this.current&&(this.current.textContent=`${r}`)}))}}function M7(e,{style:t,vars:r},a,n){const i=e.style;let o;for(o in t)i[o]=t[o];n==null||n.applyProjectionStyles(i,a);for(o in r)i.setProperty(o,r[o])}function c_e(e){return window.getComputedStyle(e)}class d_e extends T7{constructor(){super(...arguments),this.type="html",this.renderInstance=M7}readValueFromInstance(t,r){var a;if(Mm.has(r))return(a=this.projection)!=null&&a.isProjecting?x2(r):_2e(t,r);{const n=c_e(t),i=(qk(r)?n.getPropertyValue(r):n[r])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(t,{transformPagePoint:r}){return E7(t,r)}build(t,r,a){iP(t,r,a.transformTemplate)}scrapeMotionValuesFromProps(t,r,a){return dP(t,r,a)}}const O7=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function u_e(e,t,r,a){M7(e,t,void 0,a);for(const n in t.attrs)e.setAttribute(O7.has(n)?n:uP(n),t.attrs[n])}class m_e extends T7{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=is}getBaseTargetFromProps(t,r){return t[r]}readValueFromInstance(t,r){if(Mm.has(r)){const a=a7(r);return a&&a.default||0}return r=O7.has(r)?r:uP(r),t.getAttribute(r)}scrapeMotionValuesFromProps(t,r,a){return w7(t,r,a)}build(t,r,a){v7(t,r,this.isSVGTag,a.transformTemplate,a.style)}renderInstance(t,r,a,n){u_e(t,r,a,n)}mount(t){this.isSVGTag=b7(t.tagName),super.mount(t)}}const h_e=(e,t)=>lP(e)?new m_e(t):new d_e(t,{allowProjection:e!==p.Fragment});function Rf(e,t,r){const a=e.getProps();return cP(a,t,r!==void 0?r:a.custom,e)}const C2=e=>Array.isArray(e);function f_e(e,t,r){e.hasValue(t)?e.getValue(t).set(r):e.addValue(t,qu(r))}function p_e(e){return C2(e)?e[e.length-1]||0:e}function x_e(e,t){const r=Rf(e,t);let{transitionEnd:a={},transition:n={},...i}=r||{};i={...i,...a};for(const o in i){const l=p_e(i[o]);f_e(e,o,l)}}function g_e(e){return!!(rr(e)&&e.add)}function k2(e,t){const r=e.getValue("willChange");if(g_e(r))return r.add(t);if(!r&&to.WillChange){const a=new to.WillChange("auto");e.addValue("willChange",a),a.add(t)}}function D7(e){return e.props[N7]}const v_e=e=>e!==null;function y_e(e,{repeat:t,repeatType:r="loop"},a){const n=e.filter(v_e),i=t&&r!=="loop"&&t%2===1?0:n.length-1;return n[i]}const b_e={type:"spring",stiffness:500,damping:25,restSpeed:10},j_e=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),w_e={type:"keyframes",duration:.8},N_e={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},S_e=(e,{keyframes:t})=>t.length>2?w_e:Mm.has(e)?e.startsWith("scale")?j_e(t[1]):b_e:N_e;function __e({when:e,delay:t,delayChildren:r,staggerChildren:a,staggerDirection:n,repeat:i,repeatType:o,repeatDelay:l,from:c,elapsed:d,...u}){return!!Object.keys(u).length}const mP=(e,t,r,a={},n,i)=>o=>{const l=Zk(a,e)||{},c=l.delay||a.delay||0;let{elapsed:d=0}=a;d=d-ti(c);const u={keyframes:Array.isArray(r)?r:[null,r],ease:"easeOut",velocity:t.getVelocity(),...l,delay:-d,onUpdate:h=>{t.set(h),l.onUpdate&&l.onUpdate(h)},onComplete:()=>{o(),l.onComplete&&l.onComplete()},name:e,motionValue:t,element:i?void 0:n};__e(l)||Object.assign(u,S_e(e,u)),u.duration&&(u.duration=ti(u.duration)),u.repeatDelay&&(u.repeatDelay=ti(u.repeatDelay)),u.from!==void 0&&(u.keyframes[0]=u.from);let m=!1;if((u.type===!1||u.duration===0&&!u.repeatDelay)&&(j2(u),u.delay===0&&(m=!0)),(to.instantAnimations||to.skipAnimations)&&(m=!0,j2(u),u.delay=0),u.allowFlatten=!l.type&&!l.ease,m&&!i&&t.get()!==void 0){const h=y_e(u.keyframes,l);if(h!==void 0){Ut.update(()=>{u.onUpdate(h),u.onComplete()});return}}return l.isSync?new Qk(u):new G2e(u)};function C_e({protectedKeys:e,needsAnimating:t},r){const a=e.hasOwnProperty(r)&&t[r]!==!0;return t[r]=!1,a}function R7(e,t,{delay:r=0,transitionOverride:a,type:n}={}){let{transition:i=e.getDefaultTransition(),transitionEnd:o,...l}=t;a&&(i=a);const c=[],d=n&&e.animationState&&e.animationState.getState()[n];for(const u in l){const m=e.getValue(u,e.latestValues[u]??null),h=l[u];if(h===void 0||d&&C_e(d,u))continue;const f={delay:r,...Zk(i||{},u)},g=m.get();if(g!==void 0&&!m.isAnimating&&!Array.isArray(h)&&h===g&&!f.velocity)continue;let x=!1;if(window.MotionHandoffAnimation){const v=D7(e);if(v){const b=window.MotionHandoffAnimation(v,u,Ut);b!==null&&(f.startTime=b,x=!0)}}k2(e,u),m.start(mP(u,m,h,e.shouldReduceMotion&&t7.has(u)?{type:!1}:f,e,x));const y=m.animation;y&&c.push(y)}return o&&Promise.all(c).then(()=>{Ut.update(()=>{o&&x_e(e,o)})}),c}function P2(e,t,r={}){var c;const a=Rf(e,t,r.type==="exit"?(c=e.presenceContext)==null?void 0:c.custom:void 0);let{transition:n=e.getDefaultTransition()||{}}=a||{};r.transitionOverride&&(n=r.transitionOverride);const i=a?()=>Promise.all(R7(e,a,r)):()=>Promise.resolve(),o=e.variantChildren&&e.variantChildren.size?(d=0)=>{const{delayChildren:u=0,staggerChildren:m,staggerDirection:h}=n;return k_e(e,t,d,u,m,h,r)}:()=>Promise.resolve(),{when:l}=n;if(l){const[d,u]=l==="beforeChildren"?[i,o]:[o,i];return d().then(()=>u())}else return Promise.all([i(),o(r.delay)])}function k_e(e,t,r=0,a=0,n=0,i=1,o){const l=[],c=e.variantChildren.size,d=(c-1)*n,u=typeof a=="function",m=u?h=>a(h,c):i===1?(h=0)=>h*n:(h=0)=>d-h*n;return Array.from(e.variantChildren).sort(P_e).forEach((h,f)=>{h.notify("AnimationStart",t),l.push(P2(h,t,{...o,delay:r+(u?0:a)+m(f)}).then(()=>h.notify("AnimationComplete",t)))}),Promise.all(l)}function P_e(e,t){return e.sortNodePosition(t)}function E_e(e,t,r={}){e.notify("AnimationStart",t);let a;if(Array.isArray(t)){const n=t.map(i=>P2(e,i,r));a=Promise.all(n)}else if(typeof t=="string")a=P2(e,t,r);else{const n=typeof t=="function"?Rf(e,t,r.custom):t;a=Promise.all(R7(e,n,r))}return a.then(()=>{e.notify("AnimationComplete",t)})}function I7(e,t){if(!Array.isArray(t))return!1;const r=t.length;if(r!==e.length)return!1;for(let a=0;a<r;a++)if(t[a]!==e[a])return!1;return!0}const A_e=nP.length;function F7(e){if(!e)return;if(!e.isControllingVariants){const r=e.parent?F7(e.parent)||{}:{};return e.props.initial!==void 0&&(r.initial=e.props.initial),r}const t={};for(let r=0;r<A_e;r++){const a=nP[r],n=e.props[a];(Of(n)||n===!1)&&(t[a]=n)}return t}const T_e=[...aP].reverse(),M_e=aP.length;function O_e(e){return t=>Promise.all(t.map(({animation:r,options:a})=>E_e(e,r,a)))}function D_e(e){let t=O_e(e),r=ZO(),a=!0;const n=c=>(d,u)=>{var h;const m=Rf(e,u,c==="exit"?(h=e.presenceContext)==null?void 0:h.custom:void 0);if(m){const{transition:f,transitionEnd:g,...x}=m;d={...d,...x,...g}}return d};function i(c){t=c(e)}function o(c){const{props:d}=e,u=F7(e.parent)||{},m=[],h=new Set;let f={},g=1/0;for(let y=0;y<M_e;y++){const v=T_e[y],b=r[v],j=d[v]!==void 0?d[v]:u[v],N=Of(j),w=v===c?b.isActive:null;w===!1&&(g=y);let S=j===u[v]&&j!==d[v]&&N;if(S&&a&&e.manuallyAnimateOnMount&&(S=!1),b.protectedKeys={...f},!b.isActive&&w===null||!j&&!b.prevProp||hb(j)||typeof j=="boolean")continue;const _=R_e(b.prevProp,j);let C=_||v===c&&b.isActive&&!S&&N||y>g&&N,E=!1;const T=Array.isArray(j)?j:[j];let k=T.reduce(n(v),{});w===!1&&(k={});const{prevResolvedValues:P={}}=b,D={...P,...k},I=R=>{C=!0,h.has(R)&&(E=!0,h.delete(R)),b.needsAnimating[R]=!0;const F=e.getValue(R);F&&(F.liveStyle=!1)};for(const R in D){const F=k[R],H=P[R];if(f.hasOwnProperty(R))continue;let Z=!1;C2(F)&&C2(H)?Z=!I7(F,H):Z=F!==H,Z?F!=null?I(R):h.add(R):F!==void 0&&h.has(R)?I(R):b.protectedKeys[R]=!0}b.prevProp=j,b.prevResolvedValues=k,b.isActive&&(f={...f,...k}),a&&e.blockInitialAnimation&&(C=!1),C&&(!(S&&_)||E)&&m.push(...T.map(R=>({animation:R,options:{type:v}})))}if(h.size){const y={};if(typeof d.initial!="boolean"){const v=Rf(e,Array.isArray(d.initial)?d.initial[0]:d.initial);v&&v.transition&&(y.transition=v.transition)}h.forEach(v=>{const b=e.getBaseTarget(v),j=e.getValue(v);j&&(j.liveStyle=!0),y[v]=b??null}),m.push({animation:y})}let x=!!m.length;return a&&(d.initial===!1||d.initial===d.animate)&&!e.manuallyAnimateOnMount&&(x=!1),a=!1,x?t(m):Promise.resolve()}function l(c,d){var m;if(r[c].isActive===d)return Promise.resolve();(m=e.variantChildren)==null||m.forEach(h=>{var f;return(f=h.animationState)==null?void 0:f.setActive(c,d)}),r[c].isActive=d;const u=o(c);for(const h in r)r[h].protectedKeys={};return u}return{animateChanges:o,setActive:l,setAnimateFunction:i,getState:()=>r,reset:()=>{r=ZO(),a=!0}}}function R_e(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!I7(t,e):!1}function Ul(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function ZO(){return{animate:Ul(!0),whileInView:Ul(),whileHover:Ul(),whileTap:Ul(),whileDrag:Ul(),whileFocus:Ul(),exit:Ul()}}class Il{constructor(t){this.isMounted=!1,this.node=t}update(){}}class I_e extends Il{constructor(t){super(t),t.animationState||(t.animationState=D_e(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();hb(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:r}=this.node.prevProps||{};t!==r&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)==null||t.call(this)}}let F_e=0;class L_e extends Il{constructor(){super(...arguments),this.id=F_e++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:r}=this.node.presenceContext,{isPresent:a}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===a)return;const n=this.node.animationState.setActive("exit",!t);r&&!t&&n.then(()=>{r(this.id)})}mount(){const{register:t,onExitComplete:r}=this.node.presenceContext||{};r&&r(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const $_e={animation:{Feature:I_e},exit:{Feature:L_e}};function If(e,t,r,a={passive:!0}){return e.addEventListener(t,r,a),()=>e.removeEventListener(t,r)}function $p(e){return{point:{x:e.pageX,y:e.pageY}}}const B_e=e=>t=>sP(t)&&e(t,$p(t));function Oh(e,t,r,a){return If(e,t,B_e(r),a)}const L7=1e-4,z_e=1-L7,U_e=1+L7,$7=.01,q_e=0-$7,V_e=0+$7;function jr(e){return e.max-e.min}function W_e(e,t,r){return Math.abs(e-t)<=r}function e3(e,t,r,a=.5){e.origin=a,e.originPoint=Gt(t.min,t.max,e.origin),e.scale=jr(r)/jr(t),e.translate=Gt(r.min,r.max,e.origin)-e.originPoint,(e.scale>=z_e&&e.scale<=U_e||isNaN(e.scale))&&(e.scale=1),(e.translate>=q_e&&e.translate<=V_e||isNaN(e.translate))&&(e.translate=0)}function Dh(e,t,r,a){e3(e.x,t.x,r.x,a?a.originX:void 0),e3(e.y,t.y,r.y,a?a.originY:void 0)}function t3(e,t,r){e.min=r.min+t.min,e.max=e.min+jr(t)}function H_e(e,t,r){t3(e.x,t.x,r.x),t3(e.y,t.y,r.y)}function s3(e,t,r){e.min=t.min-r.min,e.max=e.min+jr(t)}function Rh(e,t,r){s3(e.x,t.x,r.x),s3(e.y,t.y,r.y)}function Sa(e){return[e("x"),e("y")]}const B7=({current:e})=>e?e.ownerDocument.defaultView:null,r3=(e,t)=>Math.abs(e-t);function K_e(e,t){const r=r3(e.x,t.x),a=r3(e.y,t.y);return Math.sqrt(r**2+a**2)}class z7{constructor(t,r,{transformPagePoint:a,contextWindow:n=window,dragSnapToOrigin:i=!1,distanceThreshold:o=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const h=ow(this.lastMoveEventInfo,this.history),f=this.startEvent!==null,g=K_e(h.offset,{x:0,y:0})>=this.distanceThreshold;if(!f&&!g)return;const{point:x}=h,{timestamp:y}=zs;this.history.push({...x,timestamp:y});const{onStart:v,onMove:b}=this.handlers;f||(v&&v(this.lastMoveEvent,h),this.startEvent=this.lastMoveEvent),b&&b(this.lastMoveEvent,h)},this.handlePointerMove=(h,f)=>{this.lastMoveEvent=h,this.lastMoveEventInfo=iw(f,this.transformPagePoint),Ut.update(this.updatePoint,!0)},this.handlePointerUp=(h,f)=>{this.end();const{onEnd:g,onSessionEnd:x,resumeAnimation:y}=this.handlers;if(this.dragSnapToOrigin&&y&&y(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const v=ow(h.type==="pointercancel"?this.lastMoveEventInfo:iw(f,this.transformPagePoint),this.history);this.startEvent&&g&&g(h,v),x&&x(h,v)},!sP(t))return;this.dragSnapToOrigin=i,this.handlers=r,this.transformPagePoint=a,this.distanceThreshold=o,this.contextWindow=n||window;const l=$p(t),c=iw(l,this.transformPagePoint),{point:d}=c,{timestamp:u}=zs;this.history=[{...d,timestamp:u}];const{onSessionStart:m}=r;m&&m(t,ow(c,this.history)),this.removeListeners=Ip(Oh(this.contextWindow,"pointermove",this.handlePointerMove),Oh(this.contextWindow,"pointerup",this.handlePointerUp),Oh(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),jl(this.updatePoint)}}function iw(e,t){return t?{point:t(e.point)}:e}function a3(e,t){return{x:e.x-t.x,y:e.y-t.y}}function ow({point:e},t){return{point:e,delta:a3(e,U7(t)),offset:a3(e,G_e(t)),velocity:Y_e(t,.1)}}function G_e(e){return e[0]}function U7(e){return e[e.length-1]}function Y_e(e,t){if(e.length<2)return{x:0,y:0};let r=e.length-1,a=null;const n=U7(e);for(;r>=0&&(a=e[r],!(n.timestamp-a.timestamp>ti(t)));)r--;if(!a)return{x:0,y:0};const i=si(n.timestamp-a.timestamp);if(i===0)return{x:0,y:0};const o={x:(n.x-a.x)/i,y:(n.y-a.y)/i};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function X_e(e,{min:t,max:r},a){return t!==void 0&&e<t?e=a?Gt(t,e,a.min):Math.max(e,t):r!==void 0&&e>r&&(e=a?Gt(r,e,a.max):Math.min(e,r)),e}function n3(e,t,r){return{min:t!==void 0?e.min+t:void 0,max:r!==void 0?e.max+r-(e.max-e.min):void 0}}function Q_e(e,{top:t,left:r,bottom:a,right:n}){return{x:n3(e.x,r,n),y:n3(e.y,t,a)}}function i3(e,t){let r=t.min-e.min,a=t.max-e.max;return t.max-t.min<e.max-e.min&&([r,a]=[a,r]),{min:r,max:a}}function J_e(e,t){return{x:i3(e.x,t.x),y:i3(e.y,t.y)}}function Z_e(e,t){let r=.5;const a=jr(e),n=jr(t);return n>a?r=Af(t.min,t.max-a,e.min):a>n&&(r=Af(e.min,e.max-n,t.min)),eo(0,1,r)}function eCe(e,t){const r={};return t.min!==void 0&&(r.min=t.min-e.min),t.max!==void 0&&(r.max=t.max-e.min),r}const E2=.35;function tCe(e=E2){return e===!1?e=0:e===!0&&(e=E2),{x:o3(e,"left","right"),y:o3(e,"top","bottom")}}function o3(e,t,r){return{min:l3(e,t),max:l3(e,r)}}function l3(e,t){return typeof e=="number"?e:e[t]||0}const sCe=new WeakMap;class rCe{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=is(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:r=!1,distanceThreshold:a}={}){const{presenceContext:n}=this.visualElement;if(n&&n.isPresent===!1)return;const i=m=>{const{dragSnapToOrigin:h}=this.getProps();h?this.pauseAnimation():this.stopAnimation(),r&&this.snapToCursor($p(m).point)},o=(m,h)=>{const{drag:f,dragPropagation:g,onDragStart:x}=this.getProps();if(f&&!g&&(this.openDragLock&&this.openDragLock(),this.openDragLock=dSe(f),!this.openDragLock))return;this.latestPointerEvent=m,this.latestPanInfo=h,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Sa(v=>{let b=this.getAxisMotionValue(v).get()||0;if(ri.test(b)){const{projection:j}=this.visualElement;if(j&&j.layout){const N=j.layout.layoutBox[v];N&&(b=jr(N)*(parseFloat(b)/100))}}this.originPoint[v]=b}),x&&Ut.postRender(()=>x(m,h)),k2(this.visualElement,"transform");const{animationState:y}=this.visualElement;y&&y.setActive("whileDrag",!0)},l=(m,h)=>{this.latestPointerEvent=m,this.latestPanInfo=h;const{dragPropagation:f,dragDirectionLock:g,onDirectionLock:x,onDrag:y}=this.getProps();if(!f&&!this.openDragLock)return;const{offset:v}=h;if(g&&this.currentDirection===null){this.currentDirection=aCe(v),this.currentDirection!==null&&x&&x(this.currentDirection);return}this.updateAxis("x",h.point,v),this.updateAxis("y",h.point,v),this.visualElement.render(),y&&y(m,h)},c=(m,h)=>{this.latestPointerEvent=m,this.latestPanInfo=h,this.stop(m,h),this.latestPointerEvent=null,this.latestPanInfo=null},d=()=>Sa(m=>{var h;return this.getAnimationState(m)==="paused"&&((h=this.getAxisMotionValue(m).animation)==null?void 0:h.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new z7(t,{onSessionStart:i,onStart:o,onMove:l,onSessionEnd:c,resumeAnimation:d},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,distanceThreshold:a,contextWindow:B7(this.visualElement)})}stop(t,r){const a=t||this.latestPointerEvent,n=r||this.latestPanInfo,i=this.isDragging;if(this.cancel(),!i||!n||!a)return;const{velocity:o}=n;this.startAnimation(o);const{onDragEnd:l}=this.getProps();l&&Ut.postRender(()=>l(a,n))}cancel(){this.isDragging=!1;const{projection:t,animationState:r}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:a}=this.getProps();!a&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),r&&r.setActive("whileDrag",!1)}updateAxis(t,r,a){const{drag:n}=this.getProps();if(!a||!Ux(t,n,this.currentDirection))return;const i=this.getAxisMotionValue(t);let o=this.originPoint[t]+a[t];this.constraints&&this.constraints[t]&&(o=X_e(o,this.constraints[t],this.elastic[t])),i.set(o)}resolveConstraints(){var i;const{dragConstraints:t,dragElastic:r}=this.getProps(),a=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(i=this.visualElement.projection)==null?void 0:i.layout,n=this.constraints;t&&Vd(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&a?this.constraints=Q_e(a.layoutBox,t):this.constraints=!1,this.elastic=tCe(r),n!==this.constraints&&a&&this.constraints&&!this.hasMutatedConstraints&&Sa(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=eCe(a.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:r}=this.getProps();if(!t||!Vd(t))return!1;const a=t.current,{projection:n}=this.visualElement;if(!n||!n.layout)return!1;const i=a_e(a,n.root,this.visualElement.getTransformPagePoint());let o=J_e(n.layout.layoutBox,i);if(r){const l=r(t_e(o));this.hasMutatedConstraints=!!l,l&&(o=C7(l))}return o}startAnimation(t){const{drag:r,dragMomentum:a,dragElastic:n,dragTransition:i,dragSnapToOrigin:o,onDragTransitionEnd:l}=this.getProps(),c=this.constraints||{},d=Sa(u=>{if(!Ux(u,r,this.currentDirection))return;let m=c&&c[u]||{};o&&(m={min:0,max:0});const h=n?200:1e6,f=n?40:1e7,g={type:"inertia",velocity:a?t[u]:0,bounceStiffness:h,bounceDamping:f,timeConstant:750,restDelta:1,restSpeed:10,...i,...m};return this.startAxisValueAnimation(u,g)});return Promise.all(d).then(l)}startAxisValueAnimation(t,r){const a=this.getAxisMotionValue(t);return k2(this.visualElement,t),a.start(mP(t,a,0,r,this.visualElement,!1))}stopAnimation(){Sa(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){Sa(t=>{var r;return(r=this.getAxisMotionValue(t).animation)==null?void 0:r.pause()})}getAnimationState(t){var r;return(r=this.getAxisMotionValue(t).animation)==null?void 0:r.state}getAxisMotionValue(t){const r=`_drag${t.toUpperCase()}`,a=this.visualElement.getProps(),n=a[r];return n||this.visualElement.getValue(t,(a.initial?a.initial[t]:void 0)||0)}snapToCursor(t){Sa(r=>{const{drag:a}=this.getProps();if(!Ux(r,a,this.currentDirection))return;const{projection:n}=this.visualElement,i=this.getAxisMotionValue(r);if(n&&n.layout){const{min:o,max:l}=n.layout.layoutBox[r];i.set(t[r]-Gt(o,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:r}=this.getProps(),{projection:a}=this.visualElement;if(!Vd(r)||!a||!this.constraints)return;this.stopAnimation();const n={x:0,y:0};Sa(o=>{const l=this.getAxisMotionValue(o);if(l&&this.constraints!==!1){const c=l.get();n[o]=Z_e({min:c,max:c},this.constraints[o])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",a.root&&a.root.updateScroll(),a.updateLayout(),this.resolveConstraints(),Sa(o=>{if(!Ux(o,t,null))return;const l=this.getAxisMotionValue(o),{min:c,max:d}=this.constraints[o];l.set(Gt(c,d,n[o]))})}addListeners(){if(!this.visualElement.current)return;sCe.set(this.visualElement,this);const t=this.visualElement.current,r=Oh(t,"pointerdown",c=>{const{drag:d,dragListener:u=!0}=this.getProps();d&&u&&this.start(c)}),a=()=>{const{dragConstraints:c}=this.getProps();Vd(c)&&c.current&&(this.constraints=this.resolveRefConstraints())},{projection:n}=this.visualElement,i=n.addEventListener("measure",a);n&&!n.layout&&(n.root&&n.root.updateScroll(),n.updateLayout()),Ut.read(a);const o=If(window,"resize",()=>this.scalePositionWithinConstraints()),l=n.addEventListener("didUpdate",({delta:c,hasLayoutChanged:d})=>{this.isDragging&&d&&(Sa(u=>{const m=this.getAxisMotionValue(u);m&&(this.originPoint[u]+=c[u].translate,m.set(m.get()+c[u].translate))}),this.visualElement.render())});return()=>{o(),r(),i(),l&&l()}}getProps(){const t=this.visualElement.getProps(),{drag:r=!1,dragDirectionLock:a=!1,dragPropagation:n=!1,dragConstraints:i=!1,dragElastic:o=E2,dragMomentum:l=!0}=t;return{...t,drag:r,dragDirectionLock:a,dragPropagation:n,dragConstraints:i,dragElastic:o,dragMomentum:l}}}function Ux(e,t,r){return(t===!0||t===e)&&(r===null||r===e)}function aCe(e,t=10){let r=null;return Math.abs(e.y)>t?r="y":Math.abs(e.x)>t&&(r="x"),r}class nCe extends Il{constructor(t){super(t),this.removeGroupControls=Fa,this.removeListeners=Fa,this.controls=new rCe(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Fa}unmount(){this.removeGroupControls(),this.removeListeners()}}const c3=e=>(t,r)=>{e&&Ut.postRender(()=>e(t,r))};class iCe extends Il{constructor(){super(...arguments),this.removePointerDownListener=Fa}onPointerDown(t){this.session=new z7(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:B7(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:r,onPan:a,onPanEnd:n}=this.node.getProps();return{onSessionStart:c3(t),onStart:c3(r),onMove:a,onEnd:(i,o)=>{delete this.session,n&&Ut.postRender(()=>n(i,o))}}}mount(){this.removePointerDownListener=Oh(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const gg={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function d3(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const eh={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(De.test(e))e=parseFloat(e);else return e;const r=d3(e,t.target.x),a=d3(e,t.target.y);return`${r}% ${a}%`}},oCe={correct:(e,{treeScale:t,projectionDelta:r})=>{const a=e,n=wl.parse(e);if(n.length>5)return a;const i=wl.createTransformer(e),o=typeof n[0]!="number"?1:0,l=r.x.scale*t.x,c=r.y.scale*t.y;n[0+o]/=l,n[1+o]/=c;const d=Gt(l,c,.5);return typeof n[2+o]=="number"&&(n[2+o]/=d),typeof n[3+o]=="number"&&(n[3+o]/=d),i(n)}};let u3=!1;class lCe extends p.Component{componentDidMount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:a,layoutId:n}=this.props,{projection:i}=t;ESe(cCe),i&&(r.group&&r.group.add(i),a&&a.register&&n&&a.register(i),u3&&i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),gg.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:r,visualElement:a,drag:n,isPresent:i}=this.props,{projection:o}=a;return o&&(o.isPresent=i,u3=!0,n||t.layoutDependency!==r||r===void 0||t.isPresent!==i?o.willUpdate():this.safeToRemove(),t.isPresent!==i&&(i?o.promote():o.relegate()||Ut.postRender(()=>{const l=o.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),tP.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:a}=this.props,{projection:n}=t;n&&(n.scheduleCheckAfterUnmount(),r&&r.group&&r.group.remove(n),a&&a.deregister&&a.deregister(n))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function q7(e){const[t,r]=m7(),a=p.useContext(Ok);return s.jsx(lCe,{...e,layoutGroup:a,switchLayoutGroup:p.useContext(S7),isPresent:t,safeToRemove:r})}const cCe={borderRadius:{...eh,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:eh,borderTopRightRadius:eh,borderBottomLeftRadius:eh,borderBottomRightRadius:eh,boxShadow:oCe};function dCe(e,t,r){const a=rr(e)?e:qu(e);return a.start(mP("",a,t,r)),a.animation}const uCe=(e,t)=>e.depth-t.depth;class mCe{constructor(){this.children=[],this.isDirty=!1}add(t){Ik(this.children,t),this.isDirty=!0}remove(t){Fk(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(uCe),this.isDirty=!1,this.children.forEach(t)}}function hCe(e,t){const r=Lr.now(),a=({timestamp:n})=>{const i=n-r;i>=t&&(jl(a),e(i-t))};return Ut.setup(a,!0),()=>jl(a)}const V7=["TopLeft","TopRight","BottomLeft","BottomRight"],fCe=V7.length,m3=e=>typeof e=="string"?parseFloat(e):e,h3=e=>typeof e=="number"||De.test(e);function pCe(e,t,r,a,n,i){n?(e.opacity=Gt(0,r.opacity??1,xCe(a)),e.opacityExit=Gt(t.opacity??1,0,gCe(a))):i&&(e.opacity=Gt(t.opacity??1,r.opacity??1,a));for(let o=0;o<fCe;o++){const l=`border${V7[o]}Radius`;let c=f3(t,l),d=f3(r,l);if(c===void 0&&d===void 0)continue;c||(c=0),d||(d=0),c===0||d===0||h3(c)===h3(d)?(e[l]=Math.max(Gt(m3(c),m3(d),a),0),(ri.test(d)||ri.test(c))&&(e[l]+="%")):e[l]=d}(t.rotate||r.rotate)&&(e.rotate=Gt(t.rotate||0,r.rotate||0,a))}function f3(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const xCe=W7(0,.5,Mq),gCe=W7(.5,.95,Fa);function W7(e,t,r){return a=>a<e?0:a>t?1:r(Af(e,t,a))}function p3(e,t){e.min=t.min,e.max=t.max}function wa(e,t){p3(e.x,t.x),p3(e.y,t.y)}function x3(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function g3(e,t,r,a,n){return e-=t,e=Gv(e,1/r,a),n!==void 0&&(e=Gv(e,1/n,a)),e}function vCe(e,t=0,r=1,a=.5,n,i=e,o=e){if(ri.test(t)&&(t=parseFloat(t),t=Gt(o.min,o.max,t/100)-o.min),typeof t!="number")return;let l=Gt(i.min,i.max,a);e===i&&(l-=t),e.min=g3(e.min,t,r,l,n),e.max=g3(e.max,t,r,l,n)}function v3(e,t,[r,a,n],i,o){vCe(e,t[r],t[a],t[n],t.scale,i,o)}const yCe=["x","scaleX","originX"],bCe=["y","scaleY","originY"];function y3(e,t,r,a){v3(e.x,t,yCe,r?r.x:void 0,a?a.x:void 0),v3(e.y,t,bCe,r?r.y:void 0,a?a.y:void 0)}function b3(e){return e.translate===0&&e.scale===1}function H7(e){return b3(e.x)&&b3(e.y)}function j3(e,t){return e.min===t.min&&e.max===t.max}function jCe(e,t){return j3(e.x,t.x)&&j3(e.y,t.y)}function w3(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function K7(e,t){return w3(e.x,t.x)&&w3(e.y,t.y)}function N3(e){return jr(e.x)/jr(e.y)}function S3(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class wCe{constructor(){this.members=[]}add(t){Ik(this.members,t),t.scheduleRender()}remove(t){if(Fk(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const r=this.members[this.members.length-1];r&&this.promote(r)}}relegate(t){const r=this.members.findIndex(n=>t===n);if(r===0)return!1;let a;for(let n=r;n>=0;n--){const i=this.members[n];if(i.isPresent!==!1){a=i;break}}return a?(this.promote(a),!0):!1}promote(t,r){const a=this.lead;if(t!==a&&(this.prevLead=a,this.lead=t,t.show(),a)){a.instance&&a.scheduleRender(),t.scheduleRender(),t.resumeFrom=a,r&&(t.resumeFrom.preserveOpacity=!0),a.snapshot&&(t.snapshot=a.snapshot,t.snapshot.latestValues=a.animationValues||a.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:n}=t.options;n===!1&&a.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:r,resumingFrom:a}=t;r.onExitComplete&&r.onExitComplete(),a&&a.options.onExitComplete&&a.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function NCe(e,t,r){let a="";const n=e.x.translate/t.x,i=e.y.translate/t.y,o=(r==null?void 0:r.z)||0;if((n||i||o)&&(a=`translate3d(${n}px, ${i}px, ${o}px) `),(t.x!==1||t.y!==1)&&(a+=`scale(${1/t.x}, ${1/t.y}) `),r){const{transformPerspective:d,rotate:u,rotateX:m,rotateY:h,skewX:f,skewY:g}=r;d&&(a=`perspective(${d}px) ${a}`),u&&(a+=`rotate(${u}deg) `),m&&(a+=`rotateX(${m}deg) `),h&&(a+=`rotateY(${h}deg) `),f&&(a+=`skewX(${f}deg) `),g&&(a+=`skewY(${g}deg) `)}const l=e.x.scale*t.x,c=e.y.scale*t.y;return(l!==1||c!==1)&&(a+=`scale(${l}, ${c})`),a||"none"}const lw=["","X","Y","Z"],SCe=1e3;let _Ce=0;function cw(e,t,r,a){const{latestValues:n}=t;n[e]&&(r[e]=n[e],t.setStaticValue(e,0),a&&(a[e]=0))}function G7(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const r=D7(t);if(window.MotionHasOptimisedAnimation(r,"transform")){const{layout:n,layoutId:i}=e.options;window.MotionCancelOptimisedAnimation(r,"transform",Ut,!(n||i))}const{parent:a}=e;a&&!a.hasCheckedOptimisedAppear&&G7(a)}function Y7({attachResizeListener:e,defaultParent:t,measureScroll:r,checkIsScrollRoot:a,resetTransform:n}){return class{constructor(o={},l=t==null?void 0:t()){this.id=_Ce++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(PCe),this.nodes.forEach(MCe),this.nodes.forEach(OCe),this.nodes.forEach(ECe)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new mCe)}addEventListener(o,l){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new Bk),this.eventHandlers.get(o).add(l)}notifyListeners(o,...l){const c=this.eventHandlers.get(o);c&&c.notify(...l)}hasListeners(o){return this.eventHandlers.has(o)}mount(o){if(this.instance)return;this.isSVG=u7(o)&&!xSe(o),this.instance=o;const{layoutId:l,layout:c,visualElement:d}=this.options;if(d&&!d.current&&d.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(c||l)&&(this.isLayoutDirty=!0),e){let u,m=0;const h=()=>this.root.updateBlockedByResize=!1;Ut.read(()=>{m=window.innerWidth}),e(o,()=>{const f=window.innerWidth;f!==m&&(m=f,this.root.updateBlockedByResize=!0,u&&u(),u=hCe(h,250),gg.hasAnimatedSinceResize&&(gg.hasAnimatedSinceResize=!1,this.nodes.forEach(k3)))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&d&&(l||c)&&this.addEventListener("didUpdate",({delta:u,hasLayoutChanged:m,hasRelativeLayoutChanged:h,layout:f})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const g=this.options.transition||d.getDefaultTransition()||LCe,{onLayoutAnimationStart:x,onLayoutAnimationComplete:y}=d.getProps(),v=!this.targetLayout||!K7(this.targetLayout,f),b=!m&&h;if(this.options.layoutRoot||this.resumeFrom||b||m&&(v||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const j={...Zk(g,"layout"),onPlay:x,onComplete:y};(d.shouldReduceMotion||this.options.layoutRoot)&&(j.delay=0,j.type=!1),this.startAnimation(j),this.setAnimationOrigin(u,b)}else m||k3(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=f})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),jl(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(DCe),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&G7(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let u=0;u<this.path.length;u++){const m=this.path[u];m.shouldResetTransform=!0,m.updateScroll("snapshot"),m.options.layoutRoot&&m.willUpdate(!1)}const{layoutId:l,layout:c}=this.options;if(l===void 0&&!c)return;const d=this.getTransformTemplate();this.prevTransformTemplateValue=d?d(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(_3);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(C3);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(TCe),this.nodes.forEach(CCe),this.nodes.forEach(kCe)):this.nodes.forEach(C3),this.clearAllSnapshots();const l=Lr.now();zs.delta=eo(0,1e3/60,l-zs.timestamp),zs.timestamp=l,zs.isProcessing=!0,Jj.update.process(zs),Jj.preRender.process(zs),Jj.render.process(zs),zs.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,tP.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(ACe),this.sharedNodes.forEach(RCe)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Ut.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Ut.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!jr(this.snapshot.measuredBox.x)&&!jr(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=is(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let l=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(l=!1),l&&this.instance){const c=a(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:c,offset:r(this.instance),wasRoot:this.scroll?this.scroll.isRoot:c}}}resetTransform(){if(!n)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,l=this.projectionDelta&&!H7(this.projectionDelta),c=this.getTransformTemplate(),d=c?c(this.latestValues,""):void 0,u=d!==this.prevTransformTemplateValue;o&&this.instance&&(l||Xl(this.latestValues)||u)&&(n(this.instance,d),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const l=this.measurePageBox();let c=this.removeElementScroll(l);return o&&(c=this.removeTransform(c)),$Ce(c),{animationId:this.root.animationId,measuredBox:l,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){var d;const{visualElement:o}=this.options;if(!o)return is();const l=o.measureViewportBox();if(!(((d=this.scroll)==null?void 0:d.wasRoot)||this.path.some(BCe))){const{scroll:u}=this.root;u&&(Wd(l.x,u.offset.x),Wd(l.y,u.offset.y))}return l}removeElementScroll(o){var c;const l=is();if(wa(l,o),(c=this.scroll)!=null&&c.wasRoot)return l;for(let d=0;d<this.path.length;d++){const u=this.path[d],{scroll:m,options:h}=u;u!==this.root&&m&&h.layoutScroll&&(m.wasRoot&&wa(l,o),Wd(l.x,m.offset.x),Wd(l.y,m.offset.y))}return l}applyTransform(o,l=!1){const c=is();wa(c,o);for(let d=0;d<this.path.length;d++){const u=this.path[d];!l&&u.options.layoutScroll&&u.scroll&&u!==u.root&&Hd(c,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),Xl(u.latestValues)&&Hd(c,u.latestValues)}return Xl(this.latestValues)&&Hd(c,this.latestValues),c}removeTransform(o){const l=is();wa(l,o);for(let c=0;c<this.path.length;c++){const d=this.path[c];if(!d.instance||!Xl(d.latestValues))continue;N2(d.latestValues)&&d.updateSnapshot();const u=is(),m=d.measurePageBox();wa(u,m),y3(l,d.latestValues,d.snapshot?d.snapshot.layoutBox:void 0,u)}return Xl(this.latestValues)&&y3(l,this.latestValues),l}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==zs.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var h;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(o||c&&this.isSharedProjectionDirty||this.isProjectionDirty||(h=this.parent)!=null&&h.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:u,layoutId:m}=this.options;if(!(!this.layout||!(u||m))){if(this.resolvedRelativeTargetAt=zs.timestamp,!this.targetDelta&&!this.relativeTarget){const f=this.getClosestProjectingParent();f&&f.layout&&this.animationProgress!==1?(this.relativeParent=f,this.forceRelativeParentToResolveTarget(),this.relativeTarget=is(),this.relativeTargetOrigin=is(),Rh(this.relativeTargetOrigin,this.layout.layoutBox,f.layout.layoutBox),wa(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=is(),this.targetWithTransforms=is()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),H_e(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):wa(this.target,this.layout.layoutBox),P7(this.target,this.targetDelta)):wa(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const f=this.getClosestProjectingParent();f&&!!f.resumingFrom==!!this.resumingFrom&&!f.options.layoutScroll&&f.target&&this.animationProgress!==1?(this.relativeParent=f,this.forceRelativeParentToResolveTarget(),this.relativeTarget=is(),this.relativeTargetOrigin=is(),Rh(this.relativeTargetOrigin,this.target,f.target),wa(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||N2(this.parent.latestValues)||k7(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var g;const o=this.getLead(),l=!!this.resumingFrom||this!==o;let c=!0;if((this.isProjectionDirty||(g=this.parent)!=null&&g.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===zs.timestamp&&(c=!1),c)return;const{layout:d,layoutId:u}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||u))return;wa(this.layoutCorrected,this.layout.layoutBox);const m=this.treeScale.x,h=this.treeScale.y;r_e(this.layoutCorrected,this.treeScale,this.path,l),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=is());const{target:f}=o;if(!f){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(x3(this.prevProjectionDelta.x,this.projectionDelta.x),x3(this.prevProjectionDelta.y,this.projectionDelta.y)),Dh(this.projectionDelta,this.layoutCorrected,f,this.latestValues),(this.treeScale.x!==m||this.treeScale.y!==h||!S3(this.projectionDelta.x,this.prevProjectionDelta.x)||!S3(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",f))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var l;if((l=this.options.visualElement)==null||l.scheduleRender(),o){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Kd(),this.projectionDelta=Kd(),this.projectionDeltaWithTransform=Kd()}setAnimationOrigin(o,l=!1){const c=this.snapshot,d=c?c.latestValues:{},u={...this.latestValues},m=Kd();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const h=is(),f=c?c.source:void 0,g=this.layout?this.layout.source:void 0,x=f!==g,y=this.getStack(),v=!y||y.members.length<=1,b=!!(x&&!v&&this.options.crossfade===!0&&!this.path.some(FCe));this.animationProgress=0;let j;this.mixTargetDelta=N=>{const w=N/1e3;P3(m.x,o.x,w),P3(m.y,o.y,w),this.setTargetDelta(m),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Rh(h,this.layout.layoutBox,this.relativeParent.layout.layoutBox),ICe(this.relativeTarget,this.relativeTargetOrigin,h,w),j&&jCe(this.relativeTarget,j)&&(this.isProjectionDirty=!1),j||(j=is()),wa(j,this.relativeTarget)),x&&(this.animationValues=u,pCe(u,d,this.latestValues,w,b,v)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=w},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){var l,c,d;this.notifyListeners("animationStart"),(l=this.currentAnimation)==null||l.stop(),(d=(c=this.resumingFrom)==null?void 0:c.currentAnimation)==null||d.stop(),this.pendingAnimation&&(jl(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Ut.update(()=>{gg.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=qu(0)),this.currentAnimation=dCe(this.motionValue,[0,1e3],{...o,velocity:0,isSync:!0,onUpdate:u=>{this.mixTargetDelta(u),o.onUpdate&&o.onUpdate(u)},onStop:()=>{},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(SCe),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:l,target:c,layout:d,latestValues:u}=o;if(!(!l||!c||!d)){if(this!==o&&this.layout&&d&&X7(this.options.animationType,this.layout.layoutBox,d.layoutBox)){c=this.target||is();const m=jr(this.layout.layoutBox.x);c.x.min=o.target.x.min,c.x.max=c.x.min+m;const h=jr(this.layout.layoutBox.y);c.y.min=o.target.y.min,c.y.max=c.y.min+h}wa(l,c),Hd(l,u),Dh(this.projectionDeltaWithTransform,this.layoutCorrected,l,u)}}registerSharedNode(o,l){this.sharedNodes.has(o)||this.sharedNodes.set(o,new wCe),this.sharedNodes.get(o).add(l);const d=l.options.initialPromotionConfig;l.promote({transition:d?d.transition:void 0,preserveFollowOpacity:d&&d.shouldPreserveFollowOpacity?d.shouldPreserveFollowOpacity(l):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var l;const{layoutId:o}=this.options;return o?((l=this.getStack())==null?void 0:l.lead)||this:this}getPrevLead(){var l;const{layoutId:o}=this.options;return o?(l=this.getStack())==null?void 0:l.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:l,preserveFollowOpacity:c}={}){const d=this.getStack();d&&d.promote(this,c),o&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let l=!1;const{latestValues:c}=o;if((c.z||c.rotate||c.rotateX||c.rotateY||c.rotateZ||c.skewX||c.skewY)&&(l=!0),!l)return;const d={};c.z&&cw("z",o,d,this.animationValues);for(let u=0;u<lw.length;u++)cw(`rotate${lw[u]}`,o,d,this.animationValues),cw(`skew${lw[u]}`,o,d,this.animationValues);o.render();for(const u in d)o.setStaticValue(u,d[u]),this.animationValues&&(this.animationValues[u]=d[u]);o.scheduleRender()}applyProjectionStyles(o,l){if(!this.instance||this.isSVG)return;if(!this.isVisible){o.visibility="hidden";return}const c=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,o.visibility="",o.opacity="",o.pointerEvents=xg(l==null?void 0:l.pointerEvents)||"",o.transform=c?c(this.latestValues,""):"none";return}const d=this.getLead();if(!this.projectionDelta||!this.layout||!d.target){this.options.layoutId&&(o.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,o.pointerEvents=xg(l==null?void 0:l.pointerEvents)||""),this.hasProjected&&!Xl(this.latestValues)&&(o.transform=c?c({},""):"none",this.hasProjected=!1);return}o.visibility="";const u=d.animationValues||d.latestValues;this.applyTransformsToTarget();let m=NCe(this.projectionDeltaWithTransform,this.treeScale,u);c&&(m=c(u,m)),o.transform=m;const{x:h,y:f}=this.projectionDelta;o.transformOrigin=`${h.origin*100}% ${f.origin*100}% 0`,d.animationValues?o.opacity=d===this?u.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:u.opacityExit:o.opacity=d===this?u.opacity!==void 0?u.opacity:"":u.opacityExit!==void 0?u.opacityExit:0;for(const g in Df){if(u[g]===void 0)continue;const{correct:x,applyTo:y,isCSSVariable:v}=Df[g],b=m==="none"?u[g]:x(u[g],d);if(y){const j=y.length;for(let N=0;N<j;N++)o[y[N]]=b}else v?this.options.visualElement.renderState.vars[g]=b:o[g]=b}this.options.layoutId&&(o.pointerEvents=d===this?xg(l==null?void 0:l.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var l;return(l=o.currentAnimation)==null?void 0:l.stop()}),this.root.nodes.forEach(_3),this.root.sharedNodes.clear()}}}function CCe(e){e.updateLayout()}function kCe(e){var r;const t=((r=e.resumeFrom)==null?void 0:r.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:a,measuredBox:n}=e.layout,{animationType:i}=e.options,o=t.source!==e.layout.source;i==="size"?Sa(m=>{const h=o?t.measuredBox[m]:t.layoutBox[m],f=jr(h);h.min=a[m].min,h.max=h.min+f}):X7(i,t.layoutBox,a)&&Sa(m=>{const h=o?t.measuredBox[m]:t.layoutBox[m],f=jr(a[m]);h.max=h.min+f,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[m].max=e.relativeTarget[m].min+f)});const l=Kd();Dh(l,a,t.layoutBox);const c=Kd();o?Dh(c,e.applyTransform(n,!0),t.measuredBox):Dh(c,a,t.layoutBox);const d=!H7(l);let u=!1;if(!e.resumeFrom){const m=e.getClosestProjectingParent();if(m&&!m.resumeFrom){const{snapshot:h,layout:f}=m;if(h&&f){const g=is();Rh(g,t.layoutBox,h.layoutBox);const x=is();Rh(x,a,f.layoutBox),K7(g,x)||(u=!0),m.options.layoutRoot&&(e.relativeTarget=x,e.relativeTargetOrigin=g,e.relativeParent=m)}}}e.notifyListeners("didUpdate",{layout:a,snapshot:t,delta:c,layoutDelta:l,hasLayoutChanged:d,hasRelativeLayoutChanged:u})}else if(e.isLead()){const{onExitComplete:a}=e.options;a&&a()}e.options.transition=void 0}function PCe(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function ECe(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function ACe(e){e.clearSnapshot()}function _3(e){e.clearMeasurements()}function C3(e){e.isLayoutDirty=!1}function TCe(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function k3(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function MCe(e){e.resolveTargetDelta()}function OCe(e){e.calcProjection()}function DCe(e){e.resetSkewAndRotation()}function RCe(e){e.removeLeadSnapshot()}function P3(e,t,r){e.translate=Gt(t.translate,0,r),e.scale=Gt(t.scale,1,r),e.origin=t.origin,e.originPoint=t.originPoint}function E3(e,t,r,a){e.min=Gt(t.min,r.min,a),e.max=Gt(t.max,r.max,a)}function ICe(e,t,r,a){E3(e.x,t.x,r.x,a),E3(e.y,t.y,r.y,a)}function FCe(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const LCe={duration:.45,ease:[.4,0,.1,1]},A3=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),T3=A3("applewebkit/")&&!A3("chrome/")?Math.round:Fa;function M3(e){e.min=T3(e.min),e.max=T3(e.max)}function $Ce(e){M3(e.x),M3(e.y)}function X7(e,t,r){return e==="position"||e==="preserve-aspect"&&!W_e(N3(t),N3(r),.2)}function BCe(e){var t;return e!==e.root&&((t=e.scroll)==null?void 0:t.wasRoot)}const zCe=Y7({attachResizeListener:(e,t)=>If(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),dw={current:void 0},Q7=Y7({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!dw.current){const e=new zCe({});e.mount(window),e.setOptions({layoutScroll:!0}),dw.current=e}return dw.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),UCe={pan:{Feature:iCe},drag:{Feature:nCe,ProjectionNode:Q7,MeasureLayout:q7}};function O3(e,t,r){const{props:a}=e;e.animationState&&a.whileHover&&e.animationState.setActive("whileHover",r==="Start");const n="onHover"+r,i=a[n];i&&Ut.postRender(()=>i(t,$p(t)))}class qCe extends Il{mount(){const{current:t}=this.node;t&&(this.unmount=uSe(t,(r,a)=>(O3(this.node,a,"Start"),n=>O3(this.node,n,"End"))))}unmount(){}}class VCe extends Il{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Ip(If(this.node.current,"focus",()=>this.onFocus()),If(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function D3(e,t,r){const{props:a}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&a.whileTap&&e.animationState.setActive("whileTap",r==="Start");const n="onTap"+(r==="End"?"":r),i=a[n];i&&Ut.postRender(()=>i(t,$p(t)))}class WCe extends Il{mount(){const{current:t}=this.node;t&&(this.unmount=pSe(t,(r,a)=>(D3(this.node,a,"Start"),(n,{success:i})=>D3(this.node,n,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const A2=new WeakMap,uw=new WeakMap,HCe=e=>{const t=A2.get(e.target);t&&t(e)},KCe=e=>{e.forEach(HCe)};function GCe({root:e,...t}){const r=e||document;uw.has(r)||uw.set(r,{});const a=uw.get(r),n=JSON.stringify(t);return a[n]||(a[n]=new IntersectionObserver(KCe,{root:e,...t})),a[n]}function YCe(e,t,r){const a=GCe(t);return A2.set(e,r),a.observe(e),()=>{A2.delete(e),a.unobserve(e)}}const XCe={some:0,all:1};class QCe extends Il{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:r,margin:a,amount:n="some",once:i}=t,o={root:r?r.current:void 0,rootMargin:a,threshold:typeof n=="number"?n:XCe[n]},l=c=>{const{isIntersecting:d}=c;if(this.isInView===d||(this.isInView=d,i&&!d&&this.hasEnteredView))return;d&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",d);const{onViewportEnter:u,onViewportLeave:m}=this.node.getProps(),h=d?u:m;h&&h(c)};return YCe(this.node.current,o,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:r}=this.node;["amount","margin","root"].some(JCe(t,r))&&this.startObserver()}unmount(){}}function JCe({viewport:e={}},{viewport:t={}}={}){return r=>e[r]!==t[r]}const ZCe={inView:{Feature:QCe},tap:{Feature:WCe},focus:{Feature:VCe},hover:{Feature:qCe}},eke={layout:{ProjectionNode:Q7,MeasureLayout:q7}},tke={...$_e,...ZCe,...UCe,...eke},pe=e_e(tke,h_e),ske=({data:e,totalScore:t,evolutionData:r=[],title:a="Mapeamento de Sintomas",className:n="",size:i=450,showHealthWheel:o=!0,showEvolutionChart:l=!0})=>{const[c,d]=p.useState({width:400,height:300}),[u,m]=p.useState({width:450,height:450}),[h,f]=p.useState({width:800,height:500}),g=(x,y,v)=>{switch(x){case"symptoms":d(b=>({width:Math.max(300,b.width+y),height:Math.max(200,b.height+v)}));break;case"wheel":m(b=>({width:Math.max(300,b.width+y),height:Math.max(300,b.height+v)}));break;case"chart":f(b=>({width:Math.max(400,b.width+y),height:Math.max(300,b.height+v)}));break}};return s.jsx("div",{className:`w-full space-y-6 ${n}`,children:s.jsxs("div",{className:"relative min-h-screen",children:[s.jsxs(pe.div,{drag:!0,dragMomentum:!1,className:"absolute top-0 left-0 cursor-move group",style:{width:c.width,height:c.height},whileDrag:{scale:1.05,zIndex:50},children:[s.jsxs("div",{className:"bg-gray-800/20 p-2 rounded-t-lg flex justify-between items-center",children:[s.jsx("span",{className:"text-xs text-gray-400",children:" Arrastar para mover"}),s.jsx("div",{className:"flex gap-1",children:s.jsx("button",{className:"text-xs text-gray-400 hover:text-white px-1",onMouseDown:x=>{x.stopPropagation();const y=x.clientX,v=x.clientY,b=N=>{const w=N.clientX-y,S=N.clientY-v;g("symptoms",w/10,S/10)},j=()=>{document.removeEventListener("mousemove",b),document.removeEventListener("mouseup",j)};document.addEventListener("mousemove",b),document.addEventListener("mouseup",j)},children:""})})]}),s.jsx("div",{style:{width:"100%",height:"calc(100% - 40px)"},children:s.jsx(w1e,{})}),s.jsx("div",{className:"absolute bottom-0 right-0 w-4 h-4 bg-gray-600 cursor-se-resize opacity-0 group-hover:opacity-100 transition-opacity",onMouseDown:x=>{x.stopPropagation();const y=x.clientX,v=x.clientY,b=c.width,j=c.height,N=S=>{const _=S.clientX-y,C=S.clientY-v;d({width:Math.max(300,b+_),height:Math.max(200,j+C)})},w=()=>{document.removeEventListener("mousemove",N),document.removeEventListener("mouseup",w)};document.addEventListener("mousemove",N),document.addEventListener("mouseup",w)}})]}),o&&s.jsxs(pe.div,{drag:!0,dragMomentum:!1,className:"absolute top-0 right-0 cursor-move group",style:{width:u.width,height:u.height},whileDrag:{scale:1.05,zIndex:50},children:[s.jsxs("div",{className:"bg-gray-800/20 p-2 rounded-t-lg flex justify-between items-center",children:[s.jsx("span",{className:"text-xs text-gray-400",children:" Arrastar para mover"}),s.jsx("div",{className:"flex gap-1",children:s.jsx("button",{className:"text-xs text-gray-400 hover:text-white px-1",onMouseDown:x=>{x.stopPropagation();const y=x.clientX,v=x.clientY,b=N=>{const w=N.clientX-y,S=N.clientY-v;g("wheel",w/10,S/10)},j=()=>{document.removeEventListener("mousemove",b),document.removeEventListener("mouseup",j)};document.addEventListener("mousemove",b),document.addEventListener("mouseup",j)},children:""})})]}),s.jsx("div",{className:"flex justify-center",style:{height:"calc(100% - 40px)"},children:s.jsx(j1e,{data:e,totalScore:t,title:a,size:Math.min(u.width-40,u.height-80)})}),s.jsx("div",{className:"absolute bottom-0 right-0 w-4 h-4 bg-gray-600 cursor-se-resize opacity-0 group-hover:opacity-100 transition-opacity",onMouseDown:x=>{x.stopPropagation();const y=x.clientX,v=x.clientY,b=u.width,j=u.height,N=S=>{const _=S.clientX-y,C=S.clientY-v;m({width:Math.max(300,b+_),height:Math.max(300,j+C)})},w=()=>{document.removeEventListener("mousemove",N),document.removeEventListener("mouseup",w)};document.addEventListener("mousemove",N),document.addEventListener("mouseup",w)}})]}),l&&s.jsxs(pe.div,{drag:!0,dragMomentum:!1,className:"absolute top-[400px] left-0 cursor-move group",style:{width:h.width,height:h.height},whileDrag:{scale:1.05,zIndex:50},children:[s.jsxs("div",{className:"bg-gray-800/20 p-2 rounded-t-lg flex justify-between items-center",children:[s.jsx("span",{className:"text-xs text-gray-400",children:" Arrastar para mover"}),s.jsx("div",{className:"flex gap-1",children:s.jsx("button",{className:"text-xs text-gray-400 hover:text-white px-1",onMouseDown:x=>{x.stopPropagation();const y=x.clientX,v=x.clientY,b=N=>{const w=N.clientX-y,S=N.clientY-v;g("chart",w/10,S/10)},j=()=>{document.removeEventListener("mousemove",b),document.removeEventListener("mouseup",j)};document.addEventListener("mousemove",b),document.addEventListener("mouseup",j)},children:""})})]}),s.jsxs(M,{className:"bg-gray-900 text-white border-gray-700",children:[s.jsxs($,{className:"text-center",children:[s.jsx(U,{className:"text-white text-xl flex items-center justify-center gap-2",children:" Evoluo Mensal dos Resultados"}),s.jsx("div",{className:"text-sm text-gray-400",children:"Acompanhe a evoluo do seu score geral e dos principais sistemas"})]}),s.jsxs(O,{className:"p-4",children:[r.length>0?s.jsx(St,{width:"100%",height:h.height-120,children:s.jsxs(Ji,{data:r,margin:{top:20,right:30,left:20,bottom:20},children:[s.jsx(rs,{strokeDasharray:"3,3",stroke:"#374151"}),s.jsx(Kt,{dataKey:"month",stroke:"#9CA3AF",fontSize:12}),s.jsx(It,{stroke:"#9CA3AF",fontSize:12,domain:[0,10]}),s.jsx(cs,{contentStyle:{backgroundColor:"#1F2937",border:"1px solid #374151",borderRadius:"8px",color:"#fff"}}),s.jsx(Ra,{}),s.jsx(Ds,{type:"monotone",dataKey:"totalScore",stroke:"#10b981",strokeWidth:3,name:"Score Total",dot:{fill:"#10b981",strokeWidth:2,r:6}}),e.slice(0,3).map((x,y)=>s.jsx(Ds,{type:"monotone",dataKey:x.systemName.toLowerCase().replace(/ /g,"_"),stroke:x.color,strokeWidth:2,name:x.systemName,dot:{fill:x.color,strokeWidth:2,r:4}},x.systemName))]})}):s.jsx(St,{width:"100%",height:h.height-120,children:s.jsxs(Ji,{data:[{month:"Jan",totalScore:Math.round(Number(t)||0)*.7},{month:"Fev",totalScore:Math.round(Number(t)||0)*.8},{month:"Mar",totalScore:Math.round(Number(t)||0)*.9},{month:"Abr",totalScore:Math.round(Number(t)||0)}],margin:{top:20,right:30,left:20,bottom:20},children:[s.jsx(rs,{strokeDasharray:"3,3",stroke:"#374151"}),s.jsx(Kt,{dataKey:"month",stroke:"#9CA3AF",fontSize:12}),s.jsx(It,{stroke:"#9CA3AF",fontSize:12,domain:[0,10]}),s.jsx(cs,{contentStyle:{backgroundColor:"#1F2937",border:"1px solid #374151",borderRadius:"8px",color:"#fff"}}),s.jsx(Ra,{}),s.jsx(Ds,{type:"monotone",dataKey:"totalScore",stroke:"#10b981",strokeWidth:3,name:"Score Total",dot:{fill:"#10b981",strokeWidth:2,r:6},strokeDasharray:"5,5"})]})}),r.length===0&&s.jsx("div",{className:"text-center mt-4 p-4 bg-gray-800 rounded-lg",children:s.jsx("p",{className:"text-gray-400 text-sm",children:" Dados simulados baseados no seu score atual. Faa mais avaliaes para ver sua evoluo real ao longo do tempo."})})]})]}),s.jsx("div",{className:"absolute bottom-0 right-0 w-4 h-4 bg-gray-600 cursor-se-resize opacity-0 group-hover:opacity-100 transition-opacity",onMouseDown:x=>{x.stopPropagation();const y=x.clientX,v=x.clientY,b=h.width,j=h.height,N=S=>{const _=S.clientX-y,C=S.clientY-v;f({width:Math.max(400,b+_),height:Math.max(300,j+C)})},w=()=>{document.removeEventListener("mousemove",N),document.removeEventListener("mouseup",w)};document.addEventListener("mousemove",N),document.addEventListener("mouseup",w)}})]})]})})},R3={DR_VITAL:"https://hlrkoyywjpckdotimtik.supabase.co/storage/v1/object/public/course-thumbnails/Dr.Vital%20sem%20fundo.png",SOFIA:"https://hlrkoyywjpckdotimtik.supabase.co/storage/v1/object/public/course-thumbnails/Sofia%20sem%20fundo.png"},I3={DR_VITAL:"/images/dr-vital.png",SOFIA:"/images/sofia.png"},mw={DR_VITAL:{name:"Dr. Vital",imageUrl:R3.DR_VITAL,fallbackUrl:I3.DR_VITAL,description:"Mdico especialista em sade e bem-estar",role:"doctor",colors:{primary:"from-blue-500 to-blue-600",secondary:"from-blue-400 to-blue-500"}},SOFIA:{name:"Sofia",imageUrl:R3.SOFIA,fallbackUrl:I3.SOFIA,description:"Assistente virtual e coach de sade",role:"assistant",colors:{primary:"from-purple-500 to-purple-600",secondary:"from-purple-400 to-purple-500"}}},rke=e=>{switch(e){case"dr-vital":return mw.DR_VITAL;case"sofia":return mw.SOFIA;default:return mw.SOFIA}},T2=e=>rke(e).imageUrl,hP=({assessmentType:e,scores:t,areas:r,onResetToDefault:a,onNewAssessment:n,onShowResults:i})=>{const[o,l]=p.useState(0),[c,d]=p.useState(!1),[u,m]=p.useState(!1),{toast:h}=Ee(),f=T2("dr-vital"),g=Object.values(t),x=g.reduce((_,C)=>_+C,0)/g.length,y=r.filter(_=>t[_.id]<=2),v=r.filter(_=>t[_.id]>=4),j=(()=>{const _={abundance:["Ol! Sou o Dr. Vital, e analisei sua Roda da Abundncia. ",`Seu score geral  de ${Math.round(x*20)}%. ${x>=4?"Parabns pelo progresso!":"Vamos trabalhar juntos para melhorar!"}`,y.length>0?`Identifiquei ${y.length} rea(s) que precisam de ateno especial: ${y.map(C=>C.name).join(", ")}.`:"Suas finanas esto bem equilibradas! Continue assim.",v.length>0?`Suas reas mais fortes so: ${v.map(C=>C.name).join(", ")}. Use-as como base para crescer!`:"Vamos fortalecer suas competncias financeiras gradualmente.","Agora vou mostrar seus resultados detalhados para voc acompanhar sua evoluo."],competency:["Ol! Sou o Dr. Vital, e analisei sua Roda das Competncias. ",`Seu nvel geral  de ${Math.round(x*10)}%. ${x>=7?"Excelente desenvolvimento profissional!":"H muito potencial para crescer!"}`,y.length>0?`Recomendo focar no desenvolvimento de: ${y.map(C=>C.name).join(", ")}.`:"Suas competncias esto bem desenvolvidas!",v.length>0?`Suas competncias destaque so: ${v.map(C=>C.name).join(", ")}. So seus diferenciais!`:"Vamos identificar e desenvolver suas competncias naturais.","Agora vou mostrar sua anlise detalhada para voc acompanhar seu desenvolvimento."],health:["Ol! Sou o Dr. Vital, e analisei sua Roda da Sade. ",`Seu ndice geral de sade  ${Math.round(x*10)}%. ${x>=7?"timo cuidado com sua sade!":"Vamos cuidar melhor de voc!"}`,y.length>0?`reas que precisam de ateno imediata: ${y.map(C=>C.name).join(", ")}.`:"Sua sade est bem equilibrada!",v.length>0?`Pontos fortes da sua sade: ${v.map(C=>C.name).join(", ")}. Mantenha esses hbitos!`:"Vamos construir hbitos saudveis gradualmente.","Agora vou mostrar seus indicadores detalhados para acompanharmos sua jornada de bem-estar."],life:["Ol! Sou o Dr. Vital, e analisei sua Roda da Vida. ",`Seu ndice de satisfao  ${Math.round(x*10)}%. ${x>=7?"Vida bem equilibrada!":"Vamos buscar mais equilbrio!"}`,y.length>0?`reas da vida que merecem mais ateno: ${y.map(C=>C.name).join(", ")}.`:"Sua vida est bem balanceada entre as diferentes reas!",v.length>0?`Seus pilares mais slidos: ${v.map(C=>C.name).join(", ")}. Use-os como apoio!`:"Vamos fortalecer cada rea da sua vida de forma equilibrada.","Agora vou mostrar sua anlise detalhada para voc acompanhar seu crescimento pessoal."]};return _[e]||_.health})();p.useEffect(()=>{if(o<j.length-1){const _=setTimeout(()=>{l(C=>C+1)},5e3);return()=>clearTimeout(_)}else{const _=setTimeout(()=>{d(!0)},3e3);return()=>clearTimeout(_)}},[o,j.length]);const N=()=>{i()},w=_=>{const C={abundance:"Roda da Abundncia",competency:"Roda das Competncias",health:"Roda da Sade",life:"Roda da Vida"}[e],E=Math.round(x*(e==="abundance"?20:10));switch(_){case"email":const T=encodeURIComponent(`Minha Avaliao - ${C}`),k=encodeURIComponent(`Ol! Acabei de fazer minha avaliao de ${C} e obtive um score de ${E}%.

reas fortes: ${v.map(D=>D.name).join(", ")}
reas para melhorar: ${y.map(D=>D.name).join(", ")}

Quer fazer sua avaliao tambm? Acesse: ${window.location.origin}`);window.open(`mailto:?subject=${T}&body=${k}`);break;case"whatsapp":const P=encodeURIComponent(` Acabei de fazer minha avaliao de ${C}!

 Score: ${E}%
 reas fortes: ${v.map(D=>D.name).join(", ")}
 Para melhorar: ${y.map(D=>D.name).join(", ")}

Quer fazer sua avaliao tambm? Acesse: ${window.location.origin}`);window.open(`https://wa.me/?text=${P}`);break;case"print":window.print();break}h({title:"Compartilhado com sucesso!",description:`Sua avaliao foi ${_==="print"?"enviada para impresso":"compartilhada"}.`})},S=()=>{const _={abundance:"Roda da Abundncia",competency:"Roda das Competncias",health:"Roda da Sade",life:"Roda da Vida"}[e],C=Math.round(x*(e==="abundance"?20:10)),E=`
AVALIAO - ${_.toUpperCase()}
Data: ${new Date().toLocaleDateString("pt-BR")}
Score Geral: ${C}%

REAS FORTES:
${v.map(D=>`- ${D.name}: ${t[D.id]*20}%`).join(`
`)}

REAS PARA MELHORAR:
${y.map(D=>`- ${D.name}: ${t[D.id]*20}%`).join(`
`)}

TODAS AS REAS:
${r.map(D=>`- ${D.name}: ${t[D.id]*20}%`).join(`
`)}

---
Instituto dos Sonhos - Avaliao Personalizada
    `.trim(),T=new Blob([E],{type:"text/plain"}),k=URL.createObjectURL(T),P=document.createElement("a");P.href=k,P.download=`avaliacao-${e}-${new Date().toISOString().split("T")[0]}.txt`,document.body.appendChild(P),P.click(),document.body.removeChild(P),URL.revokeObjectURL(k),h({title:"Relatrio baixado!",description:"Sua avaliao foi salva no seu dispositivo."})};return s.jsx("div",{className:"fixed inset-0 bg-black/80 flex items-center justify-center p-4 z-50",children:s.jsxs(M,{className:"max-w-2xl w-full bg-gradient-to-br from-blue-900/90 to-slate-900/90 border-blue-700/50 backdrop-blur-lg",children:[s.jsxs($,{className:"text-center pb-4",children:[s.jsx("div",{className:"mx-auto w-20 h-20 bg-blue-500/20 rounded-full flex items-center justify-center mb-4 overflow-hidden",children:s.jsx("img",{src:f,alt:"Dr. Vital",className:"w-full h-full object-cover rounded-full"})}),s.jsxs(U,{className:"text-2xl text-white flex items-center justify-center gap-2",children:[s.jsx(Ui,{className:"w-6 h-6"}),"Dr. Vital - Feedback Personalizado"]})]}),s.jsxs(O,{className:"space-y-6",children:[s.jsx("div",{className:"bg-slate-800/50 rounded-lg p-6 min-h-[120px] flex items-center",children:s.jsx("div",{className:"w-full",children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"w-12 h-12 bg-blue-500/20 rounded-full flex items-center justify-center flex-shrink-0 overflow-hidden",children:s.jsx("img",{src:f,alt:"Dr. Vital",className:"w-full h-full object-cover rounded-full"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-white text-lg leading-relaxed",children:j[o]}),s.jsx("div",{className:"flex gap-1 mt-4",children:j.map((_,C)=>s.jsx("div",{className:`h-1 rounded-full transition-all duration-500 ${C<=o?"bg-blue-400 w-8":"bg-slate-600 w-2"}`},C))})]})]})})}),o>=1&&s.jsxs("div",{className:"grid grid-cols-3 gap-4 animate-in slide-in-from-bottom-4 duration-500",children:[s.jsxs("div",{className:"text-center p-4 bg-slate-800/30 rounded-lg",children:[s.jsxs("div",{className:"text-2xl font-bold text-blue-400",children:[Math.round(x*(e==="abundance"?20:10)),"%"]}),s.jsx("div",{className:"text-sm text-slate-300",children:"Score Geral"})]}),s.jsxs("div",{className:"text-center p-4 bg-slate-800/30 rounded-lg",children:[s.jsx("div",{className:"text-2xl font-bold text-green-400",children:v.length}),s.jsx("div",{className:"text-sm text-slate-300",children:"reas Fortes"})]}),s.jsxs("div",{className:"text-center p-4 bg-slate-800/30 rounded-lg",children:[s.jsx("div",{className:"text-2xl font-bold text-orange-400",children:y.length}),s.jsx("div",{className:"text-sm text-slate-300",children:"A Melhorar"})]})]}),c&&s.jsxs("div",{className:"space-y-4 animate-in slide-in-from-bottom-4 duration-500",children:[s.jsxs(A,{onClick:N,className:"w-full bg-blue-600 hover:bg-blue-700 text-white flex items-center justify-center gap-2",size:"lg",children:[s.jsx(Ui,{className:"w-5 h-5"}),"Ver Resultados Detalhados"]}),s.jsxs("div",{className:"flex flex-wrap gap-2",children:[s.jsxs(A,{onClick:S,variant:"outline",size:"sm",className:"flex items-center gap-2",children:[s.jsx(Zf,{className:"w-4 h-4"}),"Baixar"]}),s.jsxs(A,{onClick:()=>w("email"),variant:"outline",size:"sm",className:"flex items-center gap-2",children:[s.jsx(Ei,{className:"w-4 h-4"}),"Email"]}),s.jsxs(A,{onClick:()=>w("whatsapp"),variant:"outline",size:"sm",className:"flex items-center gap-2",children:[s.jsx(zi,{className:"w-4 h-4"}),"WhatsApp"]}),s.jsxs(A,{onClick:()=>w("print"),variant:"outline",size:"sm",className:"flex items-center gap-2",children:[s.jsx(c6,{className:"w-4 h-4"}),"Imprimir"]})]})]}),!c&&s.jsx("div",{className:"flex justify-center",children:s.jsxs("div",{className:"flex items-center gap-2 text-slate-400",children:[s.jsx("div",{className:"w-2 h-2 bg-blue-400 rounded-full animate-pulse"}),s.jsx("div",{className:"w-2 h-2 bg-blue-400 rounded-full animate-pulse delay-100"}),s.jsx("div",{className:"w-2 h-2 bg-blue-400 rounded-full animate-pulse delay-200"}),s.jsx("span",{className:"text-sm ml-2",children:"Dr. Vital analisando..."})]})})]})]})})},F3=({sessionId:e,userId:t,content:r,onComplete:a})=>{const{toast:n}=Ee(),[i,o]=p.useState(0),[l,c]=p.useState(0),[d,u]=p.useState({}),[m,h]=p.useState(!1),[f,g]=p.useState(""),[x,y]=p.useState(null),[v,b]=p.useState(!1);p.useEffect(()=>{(async()=>{try{const{data:K}=await z.from("user_sessions").select("status, progress").eq("session_id",e).eq("user_id",t).single();K&&K.status==="completed"&&(g("completed"),await j(),h(!0))}catch(K){console.error("Error checking session status:",K)}})()},[e,t]);const j=async()=>{try{const B=new Date().toISOString().split("T")[0],K=r.areas?"life_wheel":"health_wheel",{data:Q}=await z.from("daily_responses").select("*").eq("user_id",t).eq("date",B).eq("section",K);if(Q&&Q.length>0){const ie={};Q.forEach(oe=>{try{const je=JSON.parse(oe.text_response||"[]"),le=oe.question_id.replace(`${K}_`,"");ie[le]=je}catch(je){console.error("Error parsing saved response:",je)}}),u(ie)}}catch(B){console.error("Error loading saved responses:",B)}},N=r.systems?Object.entries(r.systems).map(([B,K])=>{console.log("Processing system:",B,K);const Q=K.questions.map(ie=>{console.log("System question type:",typeof ie),console.log("System question value:",ie);const oe=typeof ie=="string"?ie:(ie==null?void 0:ie.text)||"";return console.log("Converted system question text:",oe),oe});return[B,{name:K.name,icon:K.icon,color:K.color,questions:Q}]}):r.areas?r.areas.map(B=>{var Q;console.log("Processing area:",B),console.log("Area question type:",typeof B.question),console.log("Area question value:",B.question);const K=typeof B.question=="string"?B.question:((Q=B.question)==null?void 0:Q.text)||"";return console.log("Converted question text:",K),[B.id,{name:B.name,icon:B.icon,color:B.color,questions:[K]}]}):[],[w,S]=N[i]||[void 0,void 0],_=S==null?void 0:S.questions[l];console.log("Final current question value:",_),console.log("Final current question type:",typeof _);const C=N.reduce((B,[K,Q])=>B+Q.questions.length,0),E=Object.values(d).reduce((B,K)=>B+K.length,0),T=E/C*100,k=B=>{if(!w||!_)return;if(B==="Ocasionalmente"||B==="Frequentemente"){y({question:_,answer:B,systemKey:w});return}const K={question:_,answer:B};u(Q=>({...Q,[w]:[...Q[w]||[],K]})),I()},P=(B,K,Q)=>{if(!w||!_)return;const ie={question:_,answer:`${B} - ${K} ${Q}`};u(oe=>({...oe,[w]:[...oe[w]||[],ie]})),I()},D=B=>{if(!x)return;const K={question:x.question,answer:x.answer,followUpQuestion:`Qual a intensidade dessa ${x.question.toLowerCase()}?`,followUpAnswer:B};u(Q=>({...Q,[x.systemKey]:[...Q[x.systemKey]||[],K]})),y(null),I()},I=()=>{S&&l<S.questions.length-1?c(l+1):i<N.length-1?(o(i+1),c(0)):V()},V=async()=>{try{const B=W(),K=new Date().toISOString().split("T")[0];for(const Q of B)await z.from("daily_responses").insert({user_id:t,date:K,section:r.areas?"life_wheel":"health_wheel",question_id:`${r.areas?"life_wheel":"health_wheel"}_${Q.systemName.toLowerCase().replace(/\s+/g,"_")}`,answer:`Score: ${Q.score}%`,text_response:JSON.stringify(Q.responses),points_earned:Math.max(10,Q.score)});await z.from("user_sessions").update({status:"completed",progress:100,completed_at:new Date().toISOString()}).eq("session_id",e).eq("user_id",t),b(!0)}catch(B){console.error("Error completing assessment:",B),n({title:"Erro",description:"No foi possvel salvar os resultados",variant:"destructive"})}},W=()=>N.map(([B,K])=>{const Q=d[B]||[];let ie=0;if(r.areas){const je=Q.reduce((le,Oe)=>{const ae=Oe.answer.match(/^(\d+)\s*-/),ue=ae?parseInt(ae[1]):0;return le+ue},0);ie=Q.length>0?Math.round(je/(Q.length*5)*100):0}else{const je=Q.filter(Oe=>Oe.answer==="No").length,le=K.questions.length;ie=le>0?Math.round(je/le*100):0}const oe=Q.filter(je=>je.answer==="Ocasionalmente"||je.answer==="Frequentemente").map(je=>je.question);return{systemName:K.name,responses:Q,score:ie,color:K.color,icon:K.icon,symptomsCount:K.questions.length,symptoms:oe}}),R=()=>{var B,K;return!S||!_?s.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-xl mb-4",children:"Carregando avaliao..."}),s.jsx(Ge,{value:0,className:"w-64"})]})}):x?s.jsxs(M,{className:"w-full max-w-2xl mx-auto",children:[s.jsxs($,{className:"text-center",children:[s.jsxs("div",{className:"flex items-center justify-center mb-4",children:[s.jsx("div",{className:"text-4xl mr-3",children:S==null?void 0:S.icon}),s.jsxs("div",{children:[s.jsx(U,{className:"text-lg",children:S==null?void 0:S.name}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Pergunta de follow-up sobre intensidade"})]})]}),s.jsx(Ge,{value:T,className:"w-full"}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:[E," de ",C," perguntas respondidas"]})]}),s.jsx(O,{className:"space-y-6",children:s.jsxs("div",{className:"text-center",children:[s.jsxs("div",{className:"mb-4 p-4 bg-blue-50 dark:bg-blue-950 rounded-lg border border-blue-200 dark:border-blue-800",children:[s.jsxs("p",{className:"text-sm text-blue-700 dark:text-blue-300 mb-2",children:["Sua resposta anterior: ",s.jsxs("strong",{children:['"',x.answer,'"']})]}),s.jsxs("p",{className:"text-sm text-blue-600 dark:text-blue-400",children:["Para: ",x.question]})]}),s.jsx("p",{className:"text-lg mb-6",children:"Qual a intensidade/gravidade desse sintoma?"}),s.jsx("div",{className:"space-y-3",children:["Leve","Moderada","Intensa"].map(Q=>s.jsx(A,{variant:"outline",size:"lg",className:"w-full text-left justify-start h-auto py-4 px-6",onClick:()=>D(Q),style:{borderColor:Q==="Leve"?"#10b981":Q==="Moderada"?"#f59e0b":"#ef4444",color:Q==="Leve"?"#10b981":Q==="Moderada"?"#f59e0b":"#ef4444"},children:s.jsxs("div",{className:"flex items-center",children:[Q==="Leve"&&"",Q==="Moderada"&&"",Q==="Intensa"&&"",s.jsx("span",{className:"ml-3 text-lg",children:Q})]})},Q))})]})})]}):s.jsxs(M,{className:"w-full max-w-2xl mx-auto",children:[s.jsxs($,{className:"text-center",children:[s.jsxs("div",{className:"flex items-center justify-center mb-4",children:[s.jsx("div",{className:"text-4xl mr-3",children:S==null?void 0:S.icon}),s.jsxs("div",{children:[s.jsx(U,{className:"text-lg",children:S==null?void 0:S.name}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:["Pergunta ",l+1," de ",(S==null?void 0:S.questions.length)||0]})]})]}),s.jsx(Ge,{value:T,className:"w-full"}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:[E," de ",C," perguntas respondidas"]})]}),s.jsx(O,{className:"space-y-6",children:s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-lg mb-6",children:_}),s.jsx("div",{className:"space-y-3",children:r.areas&&((B=r.areas.find(Q=>Q.id===w))!=null&&B.emoji_options)?(K=r.areas.find(Q=>Q.id===w))==null?void 0:K.emoji_options.map(Q=>s.jsx(A,{variant:"outline",size:"lg",className:"w-full text-left justify-start h-auto py-4 px-6",onClick:()=>P(Q.value,Q.emoji,Q.label),children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("span",{className:"text-3xl mr-4",children:Q.emoji}),s.jsxs("div",{children:[s.jsx("div",{className:"text-lg font-medium",children:Q.label}),s.jsxs("div",{className:"text-sm text-muted-foreground",children:["Valor: ",Q.value]})]})]})},Q.value)):["No","Ocasionalmente","Frequentemente"].map(Q=>s.jsx(A,{variant:"outline",size:"lg",className:"w-full text-left justify-start h-auto py-4 px-6",onClick:()=>k(Q),style:{borderColor:Q==="No"?"#10b981":Q==="Ocasionalmente"?"#f59e0b":"#ef4444",color:Q==="No"?"#10b981":Q==="Ocasionalmente"?"#f59e0b":"#ef4444"},children:s.jsxs("div",{className:"flex items-center",children:[Q==="No"&&"",Q==="Ocasionalmente"&&"",Q==="Frequentemente"&&"",s.jsx("span",{className:"ml-3 text-lg",children:Q})]})},Q))})]})})]})},F=()=>{const B=W(),K=B.reduce((oe,je)=>oe+je.score,0),Q=B.length>0?K/B.length:0,ie=B.map(oe=>({systemName:oe.systemName,score:oe.score/10,color:oe.color,icon:oe.icon,symptomsCount:oe.symptomsCount,symptoms:oe.symptoms}));return s.jsxs("div",{className:"min-h-screen bg-background",children:[s.jsx("div",{className:"bg-card border-b border-border",children:s.jsx("div",{className:"container mx-auto px-4 py-6",children:s.jsx("div",{className:"flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("h1",{className:"text-2xl font-bold text-foreground flex items-center justify-center gap-2",children:r.areas?" Resultados da Roda da Vida":" Resultados da Roda da Sade"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:r.areas?"Avaliao de Equilbrio de Vida":"Avaliao Completa de Sade"})]})})})}),s.jsx("div",{className:"container mx-auto px-4 py-8",children:s.jsxs("div",{className:"space-y-8",children:[s.jsxs("div",{className:"grid lg:grid-cols-2 gap-8",children:[s.jsxs(M,{className:"shadow-xl border-0 bg-gradient-to-br from-slate-900 via-gray-900 to-slate-800",children:[s.jsxs($,{className:"text-center pb-4 bg-gradient-to-r from-blue-600/20 to-purple-600/20 rounded-t-lg",children:[s.jsx(U,{className:"text-white flex items-center justify-center gap-2 text-lg",children:r.areas?" Roda da Vida":" Roda da Sade"}),s.jsx("p",{className:"text-sm text-gray-300",children:"Avaliao Atual dos Sistemas"})]}),s.jsx(O,{className:"flex justify-center p-6",children:s.jsx(ske,{data:ie,totalScore:Q/10,evolutionData:[],title:"",size:450,className:"w-full",showEvolutionChart:!1})})]}),s.jsxs(M,{className:"shadow-xl border-0 bg-gradient-to-br from-slate-900 via-gray-900 to-slate-800",children:[s.jsxs($,{className:"text-center pb-4 bg-gradient-to-r from-green-600/20 to-blue-600/20 rounded-t-lg",children:[s.jsx(U,{className:"text-white flex items-center justify-center gap-2 text-lg",children:" Score Geral"}),s.jsx("p",{className:"text-sm text-gray-300",children:"Pontuao Total da Avaliao"})]}),s.jsx(O,{className:"p-6 space-y-6",children:s.jsx("div",{className:"bg-black/30 rounded-lg p-8",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"relative mb-6",children:s.jsxs("svg",{width:"300",height:"180",className:"mx-auto",children:[s.jsx("defs",{children:s.jsxs("linearGradient",{id:"thermometerGradient",x1:"0%",y1:"0%",x2:"100%",y2:"0%",children:[s.jsx("stop",{offset:"0%",stopColor:"#ef4444"}),s.jsx("stop",{offset:"30%",stopColor:"#f59e0b"}),s.jsx("stop",{offset:"70%",stopColor:"#84cc16"}),s.jsx("stop",{offset:"100%",stopColor:"#10b981"})]})}),s.jsx("path",{d:"M 50 140 A 100 100 0 0 1 250 140",fill:"none",stroke:"#374151",strokeWidth:"16",strokeLinecap:"round"}),s.jsx("path",{d:"M 50 140 A 100 100 0 0 1 250 140",fill:"none",stroke:"url(#thermometerGradient)",strokeWidth:"16",strokeLinecap:"round",strokeDasharray:`${Q/100*314} 314`}),s.jsxs("text",{x:"150",y:"110",textAnchor:"middle",dominantBaseline:"middle",className:"text-5xl font-bold fill-white",children:[Q.toFixed(0),"%"]}),s.jsx("text",{x:"150",y:"135",textAnchor:"middle",dominantBaseline:"middle",className:"text-sm fill-gray-400 uppercase tracking-wider",children:"Score Geral"}),s.jsx("text",{x:"50",y:"165",textAnchor:"middle",className:"text-sm fill-gray-500",children:"0%"}),s.jsx("text",{x:"100",y:"80",textAnchor:"middle",className:"text-sm fill-gray-500",children:"25%"}),s.jsx("text",{x:"150",y:"60",textAnchor:"middle",className:"text-sm fill-gray-500",children:"50%"}),s.jsx("text",{x:"200",y:"80",textAnchor:"middle",className:"text-sm fill-gray-500",children:"75%"}),s.jsx("text",{x:"250",y:"165",textAnchor:"middle",className:"text-sm fill-gray-500",children:"100%"})]})}),s.jsxs("div",{className:"flex justify-center space-x-6 text-sm",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("div",{className:"w-4 h-4 rounded-full bg-red-500"}),s.jsx("span",{className:"text-gray-400",children:"0-40% Crtico"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("div",{className:"w-4 h-4 rounded-full bg-yellow-500"}),s.jsx("span",{className:"text-gray-400",children:"41-70% Ateno"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("div",{className:"w-4 h-4 rounded-full bg-green-500"}),s.jsx("span",{className:"text-gray-400",children:"71-100% Excelente"})]})]})]})})})]})]}),s.jsxs(M,{children:[s.jsx($,{children:s.jsx(U,{className:"text-foreground flex items-center gap-2",children:" Interpretao dos Resultados"})}),s.jsx(O,{className:"space-y-4",children:s.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[s.jsxs("div",{className:"text-center p-4 rounded-lg bg-red-50 dark:bg-red-950 border border-red-200 dark:border-red-800",children:[s.jsx("div",{className:"text-2xl font-bold text-red-600 dark:text-red-400",children:"0-40%"}),s.jsx("div",{className:"text-sm text-red-700 dark:text-red-300",children:"Crtico"}),s.jsx("div",{className:"text-xs text-red-600 dark:text-red-400 mt-1",children:r.areas?"rea requer ateno urgente":"Necessita ateno mdica urgente"})]}),s.jsxs("div",{className:"text-center p-4 rounded-lg bg-yellow-50 dark:bg-yellow-950 border border-yellow-200 dark:border-yellow-800",children:[s.jsx("div",{className:"text-2xl font-bold text-yellow-600 dark:text-yellow-400",children:"41-70%"}),s.jsx("div",{className:"text-sm text-yellow-700 dark:text-yellow-300",children:"Ateno"}),s.jsx("div",{className:"text-xs text-yellow-600 dark:text-yellow-400 mt-1",children:r.areas?"rea com potencial de melhoria":"Requer acompanhamento mdico"})]}),s.jsxs("div",{className:"text-center p-4 rounded-lg bg-green-50 dark:bg-green-950 border border-green-200 dark:border-green-800",children:[s.jsx("div",{className:"text-2xl font-bold text-green-600 dark:text-green-400",children:"71-100%"}),s.jsx("div",{className:"text-sm text-green-700 dark:text-green-300",children:"Excelente"}),s.jsx("div",{className:"text-xs text-green-600 dark:text-green-400 mt-1",children:r.areas?"rea bem equilibrada":"Sistema funcionando adequadamente"})]})]})})]}),s.jsxs("div",{className:"grid gap-4 md:grid-cols-2 mt-8",children:[s.jsxs(M,{className:"border-blue-200 bg-gradient-to-br from-blue-50 to-cyan-50 dark:border-blue-800 dark:from-blue-950 dark:to-cyan-950 shadow-lg",children:[s.jsx($,{className:"pb-3",children:s.jsx(U,{className:"text-blue-800 dark:text-blue-200 text-base flex items-center gap-2",children:r.areas?" Avaliao de Vida":" Avaliao de Sade"})}),s.jsx(O,{children:s.jsx("p",{className:"text-sm text-blue-700 dark:text-blue-300 leading-relaxed",children:r.areas?"Avaliao completa do seu equilbrio de vida em mltiplas reas importantes.":"Avaliao completa dos principais sistemas do corpo humano."})})]}),s.jsxs(M,{className:"border-green-200 bg-gradient-to-br from-green-50 to-emerald-50 dark:border-green-800 dark:from-green-950 dark:to-emerald-950 shadow-lg",children:[s.jsx($,{className:"pb-3",children:s.jsxs(U,{className:"text-green-800 dark:text-green-200 text-base flex items-center gap-2",children:[" Score Geral: ",Q.toFixed(1),"%"]})}),s.jsx(O,{children:s.jsx("p",{className:"text-sm text-green-700 dark:text-green-300 leading-relaxed",children:r.areas?"Seu nvel geral de satisfao e equilbrio de vida.":"Seu nvel geral de sade baseado nos sistemas avaliados."})})]})]}),s.jsxs("div",{className:"flex gap-4 justify-center mt-8",children:[s.jsxs(A,{onClick:a,size:"lg",children:[s.jsx(Se,{className:"w-5 h-5 mr-2"}),"Finalizar Avaliao"]}),s.jsx(A,{variant:"outline",size:"lg",onClick:()=>window.print(),children:" Imprimir Resultados"})]})]})})]})},H=()=>{console.log("Resetando grficos para estado padro...")},Z=()=>{b(!1),o(0),c(0),u({}),h(!1),y(null)};if(v){const B=W(),K={},Q=B.map(ie=>{const oe=r.areas?Math.round(ie.score/20):Math.round(ie.score/10);return K[ie.systemName]=oe,{id:ie.systemName,name:ie.systemName,icon:ie.icon}});return s.jsx(hP,{assessmentType:r.areas?"life":"health",scores:K,areas:Q,onResetToDefault:H,onNewAssessment:Z,onShowResults:()=>{}})}return m?F():s.jsxs("div",{className:"container mx-auto p-4 space-y-6",children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsx("h1",{className:"text-3xl font-bold mb-2",children:r.areas?" Roda da Vida":" Roda da Sade IDS"}),s.jsx("p",{className:"text-muted-foreground",children:r.areas?`Avaliao de equilbrio em ${N.length} reas da vida`:`Avaliao completa de sintomas em ${N.length} sistemas corporais`})]}),R(),s.jsxs("div",{className:"flex justify-center gap-4 mt-6",children:[s.jsxs(X,{variant:"outline",children:["Sistema ",i+1," de ",N.length]}),s.jsxs(X,{variant:"outline",children:[E,"/",C," perguntas"]})]})]})},ake=cm("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),or=p.forwardRef(({className:e,variant:t,...r},a)=>s.jsx("div",{ref:a,role:"alert",className:xe(ake({variant:t}),e),...r}));or.displayName="Alert";const nke=p.forwardRef(({className:e,...t},r)=>s.jsx("h5",{ref:r,className:xe("mb-1 font-medium leading-none tracking-tight",e),...t}));nke.displayName="AlertTitle";const lr=p.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:xe("text-sm [&_p]:leading-relaxed",e),...t}));lr.displayName="AlertDescription";const wd=[{id:"gen1",text:"Sou geneticamente programado para ser gordo",category:"Gentica e Metabolismo"},{id:"gen2",text:"Meu metabolismo  muito lento",category:"Gentica e Metabolismo"},{id:"gen3",text:"Tenho tendncia a engordar facilmente",category:"Gentica e Metabolismo"},{id:"gen4",text:"Meu corpo resiste a perder peso",category:"Gentica e Metabolismo"},{id:"gen5",text:" muito difcil emagrecer depois dos 40",category:"Gentica e Metabolismo"},{id:"cont1",text:"No consigo controlar minha fome",category:"Controle e Fora de Vontade"},{id:"cont2",text:"Preciso de fora de vontade para emagrecer",category:"Controle e Fora de Vontade"},{id:"cont3",text:"Tenho compulso alimentar que no consigo controlar",category:"Controle e Fora de Vontade"},{id:"cont4",text:"No consigo resistir a determinados alimentos",category:"Controle e Fora de Vontade"},{id:"cont5",text:"No tenho tempo para cuidar da alimentao",category:"Controle e Fora de Vontade"},{id:"praz1",text:"Comida  meu nico prazer/conforto",category:"Prazer e Recompensa"},{id:"praz2",text:"Preciso de prazer na comida",category:"Prazer e Recompensa"},{id:"praz3",text:"Mereo me recompensar com comida",category:"Prazer e Recompensa"},{id:"praz4",text:"Comida  minha vlvula de escape",category:"Prazer e Recompensa"},{id:"praz5",text:"Sem comida no tenho prazer na vida",category:"Prazer e Recompensa"},{id:"diet1",text:"Dietas sempre falham no longo prazo",category:"Dietas e Tratamentos"},{id:"diet2",text:"J tentei de tudo e nada funciona para mim",category:"Dietas e Tratamentos"},{id:"diet3",text:"Tratamentos para emagrecer so sempre temporrios",category:"Dietas e Tratamentos"},{id:"diet4",text:"No existe soluo definitiva para meu problema",category:"Dietas e Tratamentos"},{id:"diet5",text:"Sou um caso perdido",category:"Dietas e Tratamentos"}],L3={"Gentica e Metabolismo":{color:"#ef4444",icon:"",description:"Crenas relacionadas  herana gentica e funcionamento metablico",recommendations:["Entenda que a gentica influencia, mas no determina completamente seu peso","Foque em hbitos saudveis que podem otimizar seu metabolismo","Considere testes genticos para personalizar sua abordagem"]},"Controle e Fora de Vontade":{color:"#f59e0b",icon:"",description:"Crenas sobre autocontrole e capacidade de resistir a impulsos",recommendations:["Desenvolva estratgias de controle emocional e mindful eating","Crie ambiente favorvel removendo tentaes desnecessrias","Pratique tcnicas de autorregulao e gesto de impulsos"]},"Prazer e Recompensa":{color:"#8b5cf6",icon:"",description:"Crenas sobre o papel da comida como fonte de prazer e conforto",recommendations:["Explore outras fontes de prazer e recompensa alm da comida","Desenvolva uma relao mais equilibrada com o prazer alimentar","Identifique gatilhos emocionais que levam ao comer por conforto"]},"Dietas e Tratamentos":{color:"#06b6d4",icon:"",description:"Crenas sobre eficcia de dietas e tratamentos para perda de peso",recommendations:["Foque em mudanas de estilo de vida sustentveis, no dietas temporrias","Busque abordagens personalizadas baseadas em evidncias","Mantenha expectativas realistas e celebre pequenos progressos"]}},J7=()=>{const[e,t]=p.useState({}),[r,a]=p.useState(0),[n,i]=p.useState(!1),o=f=>{const g=wd[r].id;t(x=>({...x,[g]:f})),r<wd.length-1?a(x=>x+1):i(!0)},l=()=>Object.keys(L3).map(g=>{const x=wd.filter(w=>w.category===g),v=x.map(w=>e[w.id]||0).filter(w=>w>0).reduce((w,S)=>w+S,0),b=x.length*5,j=b>0?v/b*100:0,N=L3[g];return{name:g,score:v,maxScore:b,percentage:j,color:N.color,icon:N.icon,description:N.description,recommendations:N.recommendations}}),c=f=>{const g=f.reduce((x,y)=>x+y.percentage,0)/f.length;return g>=70?{level:"Alto",color:"bg-red-500",message:"Voc apresenta muitas crenas limitantes que podem estar sabotando seus resultados.  importante trabalhar essas crenas com um profissional.",priority:"Urgente - Foque em reestruturao cognitiva"}:g>=40?{level:"Moderado",color:"bg-yellow-500",message:"Algumas crenas limitantes esto presentes. Com trabalho focado, voc pode superar essas barreiras mentais.",priority:"Importante - Desenvolva conscincia e estratgias"}:{level:"Baixo",color:"bg-green-500",message:"Parabns! Voc tem poucas crenas limitantes. Continue fortalecendo sua mentalidade positiva.",priority:"Manuteno - Continue desenvolvendo mindset positivo"}},d=l(),u=c(d),m=d.map(f=>({category:f.name.split(" ")[0],value:f.percentage,fullName:f.name})),h=d.map(f=>({name:f.name,value:f.percentage,color:f.color}));if(!n){const f=(r+1)/wd.length*100,g=wd[r];return s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 to-gray-800 p-6",children:s.jsx("div",{className:"container mx-auto max-w-4xl",children:s.jsxs(M,{className:"bg-gray-800 border-gray-700",children:[s.jsxs($,{children:[s.jsx(U,{className:"text-center text-white",children:" Avaliao de Crenas Limitantes"}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ge,{value:f,className:"w-full"}),s.jsxs("p",{className:"text-center text-gray-300",children:["Questo ",r+1," de ",wd.length]})]})]}),s.jsxs(O,{className:"space-y-6",children:[s.jsxs("div",{className:"text-center",children:[s.jsx(X,{variant:"outline",className:"mb-4",children:g.category}),s.jsxs("h3",{className:"text-xl font-medium text-white mb-6",children:['"',g.text,'"']}),s.jsx("p",{className:"text-gray-400 mb-8",children:"Em que grau voc concorda com esta afirmao?"})]}),s.jsx("div",{className:"grid grid-cols-5 gap-3",children:[1,2,3,4,5].map(x=>s.jsxs(A,{onClick:()=>o(x),variant:"outline",className:"h-16 flex-col space-y-1 hover:bg-primary/20 border-gray-600",children:[s.jsx("span",{className:"text-lg font-bold",children:x}),s.jsxs("span",{className:"text-xs",children:[x===1&&"Discordo totalmente",x===2&&"Discordo",x===3&&"Neutro",x===4&&"Concordo",x===5&&"Concordo totalmente"]})]},x))})]})]})})})}return s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 to-gray-800 p-6",children:s.jsxs("div",{className:"container mx-auto max-w-7xl space-y-6",children:[s.jsxs(M,{className:"bg-gray-800 border-gray-700",children:[s.jsx($,{children:s.jsx(U,{className:"text-center text-white",children:" Resultado - Crenas Limitantes"})}),s.jsx(O,{children:s.jsx(or,{className:`${u.color} text-white border-0`,children:s.jsxs(lr,{className:"text-center",children:[s.jsxs("div",{className:"font-bold text-lg mb-2",children:["Nvel de Crenas Limitantes: ",u.level]}),s.jsx("div",{className:"mb-2",children:u.message}),s.jsx("div",{className:"text-sm opacity-90",children:u.priority})]})})})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs(M,{className:"bg-gray-800 border-gray-700",children:[s.jsx($,{children:s.jsx(U,{className:"text-white",children:" Anlise por Categoria"})}),s.jsx(O,{children:s.jsx(St,{width:"100%",height:400,children:s.jsxs(Mz,{data:m,children:[s.jsx(QC,{}),s.jsx(_p,{dataKey:"category",className:"text-white"}),s.jsx(Sp,{angle:90,domain:[0,100],className:"text-gray-400"}),s.jsx(Nf,{name:"Crenas Limitantes (%)",dataKey:"value",stroke:"#8884d8",fill:"#8884d8",fillOpacity:.3}),s.jsx(cs,{})]})})})]}),s.jsxs(M,{className:"bg-gray-800 border-gray-700",children:[s.jsx($,{children:s.jsx(U,{className:"text-white",children:" Distribuio por rea"})}),s.jsx(O,{children:s.jsx(St,{width:"100%",height:400,children:s.jsxs(Ep,{children:[s.jsx(rd,{data:h,cx:"50%",cy:"50%",outerRadius:120,fill:"#8884d8",dataKey:"value",label:({name:f,value:g})=>`${f}: ${g.toFixed(1)}%`,children:h.map((f,g)=>s.jsx(kn,{fill:f.color},`cell-${g}`))}),s.jsx(cs,{})]})})})]})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:d.map((f,g)=>s.jsxs(M,{className:"bg-gray-800 border-gray-700",children:[s.jsx($,{children:s.jsxs(U,{className:"text-white flex items-center gap-2",children:[s.jsx("span",{children:f.icon}),f.name]})}),s.jsxs(O,{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between items-center mb-2",children:[s.jsx("span",{className:"text-gray-300",children:"Intensidade"}),s.jsxs("span",{className:"text-white font-bold",children:[f.percentage.toFixed(1),"%"]})]}),s.jsx(Ge,{value:f.percentage,className:"w-full h-3",style:{background:`linear-gradient(to right, ${f.color}33, ${f.color})`}})]}),s.jsx("p",{className:"text-gray-400 text-sm",children:f.description}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-white font-medium mb-2",children:" Recomendaes:"}),s.jsx("ul",{className:"space-y-1",children:f.recommendations.map((x,y)=>s.jsxs("li",{className:"text-gray-300 text-sm flex items-start gap-2",children:[s.jsx("span",{className:"text-green-400 mt-1",children:""}),x]},y))})]})]})]},g))}),s.jsx(M,{className:"bg-gray-800 border-gray-700",children:s.jsxs(O,{className:"flex justify-center gap-4 pt-6",children:[s.jsx(A,{onClick:()=>{t({}),a(0),i(!1)},variant:"outline",children:" Refazer Avaliao"}),s.jsx(A,{children:" Salvar Resultados"}),s.jsx(A,{variant:"secondary",children:" Agendar Consulta"})]})})]})})},Nd=[{id:"esp1",text:"Sente-se conectado a um propsito maior?",category:"Sade Espiritual",type:"scale"},{id:"esp2",text:"Pratica alguma forma de espiritualidade?",category:"Sade Espiritual",type:"frequency"},{id:"esp3",text:"Sente paz interior regularmente?",category:"Sade Espiritual",type:"scale"},{id:"esp4",text:"Encontra significado em suas experincias de vida?",category:"Sade Espiritual",type:"scale"},{id:"esp5",text:"Como classifica sua conexo espiritual?",category:"Sade Espiritual",type:"scale"},{id:"esp6",text:"Sente-se parte de algo maior que voc mesmo?",category:"Sade Espiritual",type:"scale"},{id:"esp7",text:"Tem prticas de gratido ou orao?",category:"Sade Espiritual",type:"frequency"},{id:"esp8",text:"Como avalia seu senso de propsito na vida?",category:"Sade Espiritual",type:"scale"},{id:"men1",text:"Consegue manter foco e concentrao?",category:"Sade Mental",type:"scale"},{id:"men2",text:"Tem clareza mental para tomar decises?",category:"Sade Mental",type:"scale"},{id:"men3",text:"Experimenta pensamentos negativos recorrentes?",category:"Sade Mental",type:"frequency"},{id:"men4",text:"Sente-se mentalmente sobrecarregado?",category:"Sade Mental",type:"frequency"},{id:"men5",text:"Consegue controlar pensamentos sobre comida?",category:"Sade Mental",type:"scale"},{id:"men6",text:"Tem pensamentos obsessivos sobre alimentao?",category:"Sade Mental",type:"frequency"},{id:"men7",text:"Consegue planejar e organizar sua vida?",category:"Sade Mental",type:"scale"},{id:"men8",text:"Como avalia sua sade mental geral?",category:"Sade Mental",type:"scale"},{id:"emo1",text:"Como classifica sua estabilidade emocional?",category:"Sade Emocional",type:"scale"},{id:"emo2",text:"Identifica gatilhos emocionais para comer?",category:"Sade Emocional",type:"scale"},{id:"emo3",text:"Como lida com estresse e ansiedade?",category:"Sade Emocional",type:"scale"},{id:"emo4",text:"Associa comida com conforto emocional?",category:"Sade Emocional",type:"frequency"},{id:"emo5",text:"Tem controle sobre suas emoes?",category:"Sade Emocional",type:"scale"},{id:"emo6",text:"Consegue identificar suas emoes claramente?",category:"Sade Emocional",type:"scale"},{id:"emo7",text:"Como reage a situaes de frustrao?",category:"Sade Emocional",type:"scale"},{id:"emo8",text:"Quais emoes experimenta com mais frequncia?",category:"Sade Emocional",type:"multiple",options:["Alegria","Ansiedade","Tristeza","Raiva","Medo","Calma"]},{id:"fis1",text:"Como avalia seus nveis de energia dirios?",category:"Sade Fsica",type:"scale"},{id:"fis2",text:"Como classifica sua qualidade digestiva?",category:"Sade Fsica",type:"scale"},{id:"fis3",text:"Apresenta inflamaes crnicas?",category:"Sade Fsica",type:"frequency"},{id:"fis4",text:"Como avalia sua vitalidade geral?",category:"Sade Fsica",type:"scale"},{id:"fis5",text:"Como classifica sua qualidade do sono?",category:"Sade Fsica",type:"scale"},{id:"fis6",text:"Qual seu nvel de atividade fsica?",category:"Sade Fsica",type:"scale"},{id:"fis7",text:"Apresenta dores crnicas?",category:"Sade Fsica",type:"frequency"},{id:"fis8",text:"Como avalia sua qualidade da respirao?",category:"Sade Fsica",type:"scale"},{id:"fis9",text:"Mantm hidratao adequada?",category:"Sade Fsica",type:"scale"},{id:"fis10",text:"Como se sente em relao ao seu peso atual?",category:"Sade Fsica",type:"scale"}],$3={"Sade Espiritual":{color:"#8b5cf6",icon:s.jsx(Ta,{className:"w-6 h-6"}),level:4,description:"Conexo com propsito, significado e transcendncia",baseRecommendations:["Desenvolva prticas espirituais regulares","Cultive momentos de reflexo e gratido","Busque atividades que tragam significado  sua vida"]},"Sade Mental":{color:"#06b6d4",icon:s.jsx(ds,{className:"w-6 h-6"}),level:3,description:"Clareza mental, foco e capacidade cognitiva",baseRecommendations:["Pratique tcnicas de mindfulness e meditao","Desenvolva estratgias de organizao mental","Busque atividades que estimulem a cognio"]},"Sade Emocional":{color:"#f59e0b",icon:s.jsx(He,{className:"w-6 h-6"}),level:2,description:"Estabilidade e inteligncia emocional",baseRecommendations:["Desenvolva habilidades de regulao emocional","Pratique identificao e expresso de emoes","Busque suporte profissional se necessrio"]},"Sade Fsica":{color:"#ef4444",icon:s.jsx(us,{className:"w-6 h-6"}),level:1,description:"Base fsica: energia, vitalidade e bem-estar corporal",baseRecommendations:["Mantenha rotina regular de exerccios","Cuide da qualidade do sono e alimentao","Faa acompanhamento mdico preventivo"]}},Z7=()=>{const[e,t]=p.useState({}),[r,a]=p.useState(0),[n,i]=p.useState(!1),o=f=>{const g=Nd[r].id;t(x=>({...x,[g]:f})),r<Nd.length-1?a(x=>x+1):i(!0)},l=()=>Object.keys($3).map(g=>{const x=Nd.filter(C=>C.category===g),v=x.map(C=>{const E=e[C.id];return typeof E=="number"?E:typeof E=="string"?3:0}).filter(C=>C>0).reduce((C,E)=>C+E,0),b=x.length*5,j=b>0?v/b*100:0,N=$3[g],w=[...N.baseRecommendations],S=[],_=[];return j>=80?(S.push("rea muito bem desenvolvida"),w.push("Continue mantendo suas prticas atuais")):j>=60?(S.push("rea em bom desenvolvimento"),w.push("Foque em consistncia e aprimoramento gradual")):j>=40?(_.push("rea necessita de ateno moderada"),w.push("Desenvolva estratgias especficas para esta rea")):(_.push("rea crtica que necessita ateno urgente"),w.push("Priorize esta rea em seu plano de desenvolvimento")),{name:g,score:v,maxScore:b,percentage:j,color:N.color,icon:N.icon,level:N.level,description:N.description,recommendations:w,strengths:S,concerns:_}}),c=f=>{const g=f.sort((x,y)=>y.level-x.level);return s.jsx("div",{className:"flex flex-col items-center space-y-4 py-8",children:g.map((x,y)=>{const v=`${60+y*15}%`,b=Math.max(x.percentage/100,.3);return s.jsx("div",{className:"relative flex items-center justify-center text-white font-medium py-6 px-4 rounded-lg transition-all duration-300 hover:scale-105",style:{width:v,backgroundColor:x.color,opacity:b},children:s.jsxs("div",{className:"flex items-center gap-3",children:[x.icon,s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"font-bold",children:x.name}),s.jsxs("div",{className:"text-sm opacity-90",children:[x.percentage.toFixed(1),"%"]})]})]})},x.name)})})},d=l(),u=d.reduce((f,g)=>f+g.percentage,0)/d.length,m=()=>u>=80?{level:"Excelente",color:"bg-green-500",message:"Sua pirmide de sade est muito equilibrada! Continue mantendo essas prticas.",priority:"Manuteno - Foque na consistncia"}:u>=60?{level:"Bom",color:"bg-blue-500",message:"Sua sade est em bom caminho. Identifique reas especficas para aprimoramento.",priority:"Desenvolvimento - Foque nas reas mais baixas"}:u>=40?{level:"Moderado",color:"bg-yellow-500",message:"Sua pirmide precisa de reforos. Priorize as bases fsicas e emocionais.",priority:"Ateno - Desenvolva estratgias especficas"}:{level:"Crtico",color:"bg-red-500",message:"Sua pirmide precisa de reestruturao urgente. Busque suporte profissional.",priority:"Urgente - Inicie pela base da pirmide"};if(!n){const f=(r+1)/Nd.length*100,g=Nd[r];return s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-900 via-blue-900 to-indigo-900 p-6",children:s.jsx("div",{className:"container mx-auto max-w-4xl",children:s.jsxs(M,{className:"bg-gray-800/90 backdrop-blur border-gray-700",children:[s.jsxs($,{children:[s.jsx(U,{className:"text-center text-white",children:" Mapeamento da Pirmide de Sade"}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ge,{value:f,className:"w-full"}),s.jsxs("p",{className:"text-center text-gray-300",children:["Questo ",r+1," de ",Nd.length]})]})]}),s.jsxs(O,{className:"space-y-6",children:[s.jsxs("div",{className:"text-center",children:[s.jsx(X,{variant:"outline",className:"mb-4",children:g.category}),s.jsx("h3",{className:"text-xl font-medium text-white mb-6",children:g.text})]}),g.type==="scale"&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex justify-between text-sm text-gray-400",children:[s.jsx("span",{children:"Muito baixo"}),s.jsx("span",{children:"Muito alto"})]}),s.jsx("div",{className:"grid grid-cols-5 gap-3",children:[1,2,3,4,5].map(x=>s.jsx(A,{onClick:()=>o(x),variant:"outline",className:"h-16 flex-col space-y-1 hover:bg-primary/20 border-gray-600",children:s.jsx("span",{className:"text-lg font-bold",children:x})},x))})]}),g.type==="frequency"&&s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:["Nunca","Raramente","s vezes","Frequentemente","Sempre"].map((x,y)=>s.jsx(A,{onClick:()=>o(y+1),variant:"outline",className:"p-4 hover:bg-primary/20 border-gray-600",children:x},x))}),g.type==="multiple"&&g.options&&s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:g.options.map((x,y)=>s.jsx(A,{onClick:()=>o(y+1),variant:"outline",className:"p-4 hover:bg-primary/20 border-gray-600",children:x},x))})]})]})})})}const h=m();return s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-900 via-blue-900 to-indigo-900 p-6",children:s.jsxs("div",{className:"container mx-auto max-w-7xl space-y-6",children:[s.jsxs(M,{className:"bg-gray-800/90 backdrop-blur border-gray-700",children:[s.jsx($,{children:s.jsx(U,{className:"text-center text-white",children:" Sua Pirmide de Sade"})}),s.jsx(O,{children:s.jsx(or,{className:`${h.color} text-white border-0`,children:s.jsxs(lr,{className:"text-center",children:[s.jsxs("div",{className:"font-bold text-lg mb-2",children:["Estado Geral: ",h.level," (",u.toFixed(1),"%)"]}),s.jsx("div",{className:"mb-2",children:h.message}),s.jsx("div",{className:"text-sm opacity-90",children:h.priority})]})})})]}),s.jsxs(M,{className:"bg-gray-800/90 backdrop-blur border-gray-700",children:[s.jsx($,{children:s.jsx(U,{className:"text-white text-center",children:" Visualizao da Pirmide"})}),s.jsx(O,{children:c(d)})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:d.sort((f,g)=>g.level-f.level).map((f,g)=>s.jsxs(M,{className:"bg-gray-800/90 backdrop-blur border-gray-700",children:[s.jsx($,{children:s.jsxs(U,{className:"text-white flex items-center gap-2",children:[f.icon,f.name,s.jsxs(X,{variant:"outline",className:"ml-auto",children:["Nvel ",f.level]})]})}),s.jsxs(O,{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between items-center mb-2",children:[s.jsx("span",{className:"text-gray-300",children:"Pontuao"}),s.jsxs("span",{className:"text-white font-bold",children:[f.percentage.toFixed(1),"%"]})]}),s.jsx(Ge,{value:f.percentage,className:"w-full h-3"})]}),s.jsx("p",{className:"text-gray-400 text-sm",children:f.description}),f.strengths.length>0&&s.jsxs("div",{children:[s.jsx("h4",{className:"text-green-400 font-medium mb-2",children:" Pontos Fortes:"}),s.jsx("ul",{className:"space-y-1",children:f.strengths.map((x,y)=>s.jsxs("li",{className:"text-green-300 text-sm flex items-start gap-2",children:[s.jsx("span",{className:"text-green-400 mt-1",children:""}),x]},y))})]}),f.concerns.length>0&&s.jsxs("div",{children:[s.jsx("h4",{className:"text-red-400 font-medium mb-2",children:" reas de Ateno:"}),s.jsx("ul",{className:"space-y-1",children:f.concerns.map((x,y)=>s.jsxs("li",{className:"text-red-300 text-sm flex items-start gap-2",children:[s.jsx("span",{className:"text-red-400 mt-1",children:""}),x]},y))})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-blue-400 font-medium mb-2",children:" Recomendaes:"}),s.jsx("ul",{className:"space-y-1",children:f.recommendations.map((x,y)=>s.jsxs("li",{className:"text-gray-300 text-sm flex items-start gap-2",children:[s.jsx("span",{className:"text-blue-400 mt-1",children:""}),x]},y))})]})]})]},g))}),s.jsx(M,{className:"bg-gray-800/90 backdrop-blur border-gray-700",children:s.jsxs(O,{className:"flex justify-center gap-4 pt-6",children:[s.jsx(A,{onClick:()=>{t({}),a(0),i(!1)},variant:"outline",children:" Nova Avaliao"}),s.jsx(A,{children:" Salvar Mapeamento"}),s.jsx(A,{variant:"secondary",children:" Gerar Plano Personalizado"})]})})]})})};var eV=["PageUp","PageDown"],tV=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],sV={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},Om="Slider",[M2,ike,oke]=Qf(Om),[rV,u3e]=ys(Om,[oke]),[lke,pb]=rV(Om),aV=p.forwardRef((e,t)=>{const{name:r,min:a=0,max:n=100,step:i=1,orientation:o="horizontal",disabled:l=!1,minStepsBetweenThumbs:c=0,defaultValue:d=[a],value:u,onValueChange:m=()=>{},onValueCommit:h=()=>{},inverted:f=!1,form:g,...x}=e,y=p.useRef(new Set),v=p.useRef(0),j=o==="horizontal"?cke:dke,[N=[],w]=Vr({prop:u,defaultProp:d,onChange:k=>{var D;(D=[...y.current][v.current])==null||D.focus(),m(k)}}),S=p.useRef(N);function _(k){const P=pke(N,k);T(k,P)}function C(k){T(k,v.current)}function E(){const k=S.current[v.current];N[v.current]!==k&&h(N)}function T(k,P,{commit:D}={commit:!1}){const I=yke(i),V=bke(Math.round((k-a)/i)*i+a,I),W=kf(V,[a,n]);w((R=[])=>{const F=hke(R,W,P);if(vke(F,c*i)){v.current=F.indexOf(W);const H=String(F)!==String(R);return H&&D&&h(F),H?F:R}else return R})}return s.jsx(lke,{scope:e.__scopeSlider,name:r,disabled:l,min:a,max:n,valueIndexToChangeRef:v,thumbs:y.current,values:N,orientation:o,form:g,children:s.jsx(M2.Provider,{scope:e.__scopeSlider,children:s.jsx(M2.Slot,{scope:e.__scopeSlider,children:s.jsx(j,{"aria-disabled":l,"data-disabled":l?"":void 0,...x,ref:t,onPointerDown:ce(x.onPointerDown,()=>{l||(S.current=N)}),min:a,max:n,inverted:f,onSlideStart:l?void 0:_,onSlideMove:l?void 0:C,onSlideEnd:l?void 0:E,onHomeKeyDown:()=>!l&&T(a,0,{commit:!0}),onEndKeyDown:()=>!l&&T(n,N.length-1,{commit:!0}),onStepKeyDown:({event:k,direction:P})=>{if(!l){const V=eV.includes(k.key)||k.shiftKey&&tV.includes(k.key)?10:1,W=v.current,R=N[W],F=i*V*P;T(R+F,W,{commit:!0})}}})})})})});aV.displayName=Om;var[nV,iV]=rV(Om,{startEdge:"left",endEdge:"right",size:"width",direction:1}),cke=p.forwardRef((e,t)=>{const{min:r,max:a,dir:n,inverted:i,onSlideStart:o,onSlideMove:l,onSlideEnd:c,onStepKeyDown:d,...u}=e,[m,h]=p.useState(null),f=Me(t,j=>h(j)),g=p.useRef(void 0),x=ad(n),y=x==="ltr",v=y&&!i||!y&&i;function b(j){const N=g.current||m.getBoundingClientRect(),w=[0,N.width],_=fP(w,v?[r,a]:[a,r]);return g.current=N,_(j-N.left)}return s.jsx(nV,{scope:e.__scopeSlider,startEdge:v?"left":"right",endEdge:v?"right":"left",direction:v?1:-1,size:"width",children:s.jsx(oV,{dir:x,"data-orientation":"horizontal",...u,ref:f,style:{...u.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:j=>{const N=b(j.clientX);o==null||o(N)},onSlideMove:j=>{const N=b(j.clientX);l==null||l(N)},onSlideEnd:()=>{g.current=void 0,c==null||c()},onStepKeyDown:j=>{const w=sV[v?"from-left":"from-right"].includes(j.key);d==null||d({event:j,direction:w?-1:1})}})})}),dke=p.forwardRef((e,t)=>{const{min:r,max:a,inverted:n,onSlideStart:i,onSlideMove:o,onSlideEnd:l,onStepKeyDown:c,...d}=e,u=p.useRef(null),m=Me(t,u),h=p.useRef(void 0),f=!n;function g(x){const y=h.current||u.current.getBoundingClientRect(),v=[0,y.height],j=fP(v,f?[a,r]:[r,a]);return h.current=y,j(x-y.top)}return s.jsx(nV,{scope:e.__scopeSlider,startEdge:f?"bottom":"top",endEdge:f?"top":"bottom",size:"height",direction:f?1:-1,children:s.jsx(oV,{"data-orientation":"vertical",...d,ref:m,style:{...d.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:x=>{const y=g(x.clientY);i==null||i(y)},onSlideMove:x=>{const y=g(x.clientY);o==null||o(y)},onSlideEnd:()=>{h.current=void 0,l==null||l()},onStepKeyDown:x=>{const v=sV[f?"from-bottom":"from-top"].includes(x.key);c==null||c({event:x,direction:v?-1:1})}})})}),oV=p.forwardRef((e,t)=>{const{__scopeSlider:r,onSlideStart:a,onSlideMove:n,onSlideEnd:i,onHomeKeyDown:o,onEndKeyDown:l,onStepKeyDown:c,...d}=e,u=pb(Om,r);return s.jsx(ge.span,{...d,ref:t,onKeyDown:ce(e.onKeyDown,m=>{m.key==="Home"?(o(m),m.preventDefault()):m.key==="End"?(l(m),m.preventDefault()):eV.concat(tV).includes(m.key)&&(c(m),m.preventDefault())}),onPointerDown:ce(e.onPointerDown,m=>{const h=m.target;h.setPointerCapture(m.pointerId),m.preventDefault(),u.thumbs.has(h)?h.focus():a(m)}),onPointerMove:ce(e.onPointerMove,m=>{m.target.hasPointerCapture(m.pointerId)&&n(m)}),onPointerUp:ce(e.onPointerUp,m=>{const h=m.target;h.hasPointerCapture(m.pointerId)&&(h.releasePointerCapture(m.pointerId),i(m))})})}),lV="SliderTrack",cV=p.forwardRef((e,t)=>{const{__scopeSlider:r,...a}=e,n=pb(lV,r);return s.jsx(ge.span,{"data-disabled":n.disabled?"":void 0,"data-orientation":n.orientation,...a,ref:t})});cV.displayName=lV;var O2="SliderRange",dV=p.forwardRef((e,t)=>{const{__scopeSlider:r,...a}=e,n=pb(O2,r),i=iV(O2,r),o=p.useRef(null),l=Me(t,o),c=n.values.length,d=n.values.map(h=>hV(h,n.min,n.max)),u=c>1?Math.min(...d):0,m=100-Math.max(...d);return s.jsx(ge.span,{"data-orientation":n.orientation,"data-disabled":n.disabled?"":void 0,...a,ref:l,style:{...e.style,[i.startEdge]:u+"%",[i.endEdge]:m+"%"}})});dV.displayName=O2;var D2="SliderThumb",uV=p.forwardRef((e,t)=>{const r=ike(e.__scopeSlider),[a,n]=p.useState(null),i=Me(t,l=>n(l)),o=p.useMemo(()=>a?r().findIndex(l=>l.ref.current===a):-1,[r,a]);return s.jsx(uke,{...e,ref:i,index:o})}),uke=p.forwardRef((e,t)=>{const{__scopeSlider:r,index:a,name:n,...i}=e,o=pb(D2,r),l=iV(D2,r),[c,d]=p.useState(null),u=Me(t,b=>d(b)),m=c?o.form||!!c.closest("form"):!0,h=rp(c),f=o.values[a],g=f===void 0?0:hV(f,o.min,o.max),x=fke(a,o.values.length),y=h==null?void 0:h[l.size],v=y?xke(y,g,l.direction):0;return p.useEffect(()=>{if(c)return o.thumbs.add(c),()=>{o.thumbs.delete(c)}},[c,o.thumbs]),s.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[l.startEdge]:`calc(${g}% + ${v}px)`},children:[s.jsx(M2.ItemSlot,{scope:e.__scopeSlider,children:s.jsx(ge.span,{role:"slider","aria-label":e["aria-label"]||x,"aria-valuemin":o.min,"aria-valuenow":f,"aria-valuemax":o.max,"aria-orientation":o.orientation,"data-orientation":o.orientation,"data-disabled":o.disabled?"":void 0,tabIndex:o.disabled?void 0:0,...i,ref:u,style:f===void 0?{display:"none"}:e.style,onFocus:ce(e.onFocus,()=>{o.valueIndexToChangeRef.current=a})})}),m&&s.jsx(mV,{name:n??(o.name?o.name+(o.values.length>1?"[]":""):void 0),form:o.form,value:f},a)]})});uV.displayName=D2;var mke="RadioBubbleInput",mV=p.forwardRef(({__scopeSlider:e,value:t,...r},a)=>{const n=p.useRef(null),i=Me(n,a),o=Ap(t);return p.useEffect(()=>{const l=n.current;if(!l)return;const c=window.HTMLInputElement.prototype,u=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==t&&u){const m=new Event("input",{bubbles:!0});u.call(l,t),l.dispatchEvent(m)}},[o,t]),s.jsx(ge.input,{style:{display:"none"},...r,ref:i,defaultValue:t})});mV.displayName=mke;function hke(e=[],t,r){const a=[...e];return a[r]=t,a.sort((n,i)=>n-i)}function hV(e,t,r){const i=100/(r-t)*(e-t);return kf(i,[0,100])}function fke(e,t){return t>2?`Value ${e+1} of ${t}`:t===2?["Minimum","Maximum"][e]:void 0}function pke(e,t){if(e.length===1)return 0;const r=e.map(n=>Math.abs(n-t)),a=Math.min(...r);return r.indexOf(a)}function xke(e,t,r){const a=e/2,i=fP([0,50],[0,a]);return(a-i(t)*r)*r}function gke(e){return e.slice(0,-1).map((t,r)=>e[r+1]-t)}function vke(e,t){if(t>0){const r=gke(e);return Math.min(...r)>=t}return!0}function fP(e,t){return r=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const a=(t[1]-t[0])/(e[1]-e[0]);return t[0]+a*(r-e[0])}}function yke(e){return(String(e).split(".")[1]||"").length}function bke(e,t){const r=Math.pow(10,t);return Math.round(e*r)/r}var fV=aV,jke=cV,wke=dV,Nke=uV;const Wu=p.forwardRef(({className:e,...t},r)=>s.jsxs(fV,{ref:r,className:xe("relative flex w-full touch-none select-none items-center",e),...t,children:[s.jsx(jke,{className:"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary",children:s.jsx(wke,{className:"absolute h-full bg-primary"})}),s.jsx(Nke,{className:"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50"})]}));Wu.displayName=fV.displayName;const qx=[{id:"events",text:"Identificou eventos traumticos significativos? Compartilhe apenas o que se sente confortvel.",category:"Identificao",type:"text",required:!0,sensitive:!0},{id:"age",text:"Em qual idade aproximadamente esses eventos ocorreram?",category:"Contexto Temporal",type:"age",required:!0,sensitive:!1},{id:"emotions",text:"Quais emoes ainda surgem ao recordar esses eventos?",category:"Impacto Emocional",type:"emotions",required:!0,sensitive:!0},{id:"body_locations",text:"Onde no corpo voc sente essas emoes?",category:"Manifestao Fsica",type:"body_map",required:!0,sensitive:!1},{id:"intensity",text:"Qual intensidade (0-10) essas memrias ainda provocam?",category:"Intensidade",type:"intensity",required:!0,sensitive:!0},{id:"eating_impact",text:"Como esses traumas afetam sua alimentao?",category:"Impacto Alimentar",type:"eating_impact",required:!0,sensitive:!1},{id:"triggers",text:"Quais gatilhos emocionais voc identificou?",category:"Gatilhos",type:"triggers",required:!0,sensitive:!1},{id:"weight_impact",text:"Como os traumas influenciam seu peso?",category:"Impacto no Peso",type:"weight_impact",required:!0,sensitive:!1}],Ske=["Tristeza","Raiva","Medo","Ansiedade","Culpa","Vergonha","Abandono","Rejeio","Desamparo","Insegurana","Solido","Traio"],_ke=["Cabea/Mente","Pescoo/Garganta","Peito/Corao","Estmago","Abdmen","Braos","Mos","Pernas","Ps","Costas","Todo o corpo"],Cke=["Conflitos interpessoais","Rejeio","Crticas","Solido","Estresse no trabalho","Problemas financeiros","Datas especficas","Lugares ou objetos","Cheiros ou sons","Certas pessoas"],kke=["Perda de apetite","Compulso alimentar","Comer emocional","Restrio alimentar extrema","Vmitos ou purgativos","Obsesso com comida","No sinto impacto","Varia conforme humor"],Pke=["Ganho de peso significativo","Perda de peso no intencional","Flutuaes extremas","Dificuldade para perder peso","Obsesso com o peso","No percebo relao direta"],pV=()=>{var g,x,y,v,b;const[e,t]=p.useState({}),[r,a]=p.useState(0),[n,i]=p.useState(!1),[o,l]=p.useState(!0),c=(j,N)=>{t(w=>({...w,[j]:N}))},d=()=>{r<qx.length-1?a(j=>j+1):i(!0)},u=()=>{var P,D,I,V;const j=e.intensity||0,N=(((P=e.traumaEvents)==null?void 0:P.length)||0)>100,w=j>=7,S=e.eatingImpact&&e.eatingImpact!=="No sinto impacto";(((D=e.triggers)==null?void 0:D.length)||0)>3;let _="low",C=!1,E=!1;j>=9||w&&N?(_="critical",C=!0,E=!0):j>=7||w&&S?(_="high",C=!0):(j>=5||S)&&(_="moderate",C=!0);const T=[];(I=e.emotions)!=null&&I.length&&T.push("Emocional"),(V=e.bodyLocations)!=null&&V.length&&T.push("Fsica"),S&&T.push("Alimentar"),e.weightImpact&&e.weightImpact!=="No percebo relao direta"&&T.push("Peso Corporal");const k=[];return _==="critical"?(k.push("Busque atendimento psicolgico especializado urgentemente"),k.push("Considere terapia EMDR ou terapia cognitivo-comportamental focada em trauma"),k.push("Evite ficar sozinho e mantenha rede de apoio ativa")):_==="high"?(k.push("Procure um psiclogo especializado em trauma"),k.push("Considere tcnicas de regulao emocional (respirao, mindfulness)"),k.push("Mantenha rotinas que promovam segurana e estabilidade")):_==="moderate"&&(k.push("Considere psicoterapia para processar experincias passadas"),k.push("Pratique tcnicas de autocuidado e autorregulao"),k.push("Desenvolva estratgias saudveis de enfrentamento")),S&&k.push("Considere acompanhamento nutricional especializado em comportamento alimentar"),{riskLevel:_,overallIntensity:j,affectedAreas:T,recommendations:k,professionalSupport:C,urgentCare:E}};if(o)return s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-900 via-rose-900 to-indigo-900 p-6",children:s.jsx("div",{className:"container mx-auto max-w-4xl",children:s.jsxs(M,{className:"bg-gray-800/90 backdrop-blur border-gray-700",children:[s.jsx($,{children:s.jsxs(U,{className:"text-center text-white flex items-center justify-center gap-2",children:[s.jsx(Da,{className:"w-6 h-6"}),"Mapeamento de Traumas Emocionais"]})}),s.jsxs(O,{className:"space-y-6",children:[s.jsxs(or,{className:"bg-yellow-900/50 border-yellow-600",children:[s.jsx(Bt,{className:"h-4 w-4"}),s.jsxs(lr,{className:"text-yellow-200",children:[s.jsx("div",{className:"font-bold mb-2",children:"Aviso Importante - Contedo Sensvel"}),s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsx("p",{children:"Esta ferramenta aborda temas relacionados a traumas emocionais. Se voc est passando por uma crise ou sentindo pensamentos de autoleso, busque ajuda profissional imediatamente."}),s.jsx("p",{className:"font-medium",children:" Em caso de emergncia: CVV 188 (24h) ou procure o hospital mais prximo"}),s.jsx("p",{children:"Esta avaliao NO substitui acompanhamento psicolgico profissional e destina-se apenas a fins de autoconhecimento e orientao inicial."})]})]})]}),s.jsxs("div",{className:"text-center space-y-4",children:[s.jsx("h3",{className:"text-lg font-medium text-white",children:"Sobre esta Avaliao"}),s.jsxs("div",{className:"text-gray-300 space-y-2 text-left",children:[s.jsx("p",{children:" Suas respostas so confidenciais e no so armazenadas"}),s.jsx("p",{children:" Responda apenas o que se sente confortvel compartilhando"}),s.jsx("p",{children:" Voc pode interromper a qualquer momento"}),s.jsx("p",{children:" Recomendamos fazer em um ambiente seguro e privado"}),s.jsx("p",{children:" Tenha algum de confiana disponvel se precisar de apoio"})]})]}),s.jsxs("div",{className:"flex justify-center gap-4",children:[s.jsx(A,{onClick:()=>l(!1),className:"bg-purple-600 hover:bg-purple-700",children:"Entendo e Desejo Continuar"}),s.jsx(A,{variant:"outline",onClick:()=>window.history.back(),children:"Voltar"})]})]})]})})});if(!n){const j=(r+1)/qx.length*100,N=qx[r];return s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-900 via-rose-900 to-indigo-900 p-6",children:s.jsx("div",{className:"container mx-auto max-w-4xl",children:s.jsxs(M,{className:"bg-gray-800/90 backdrop-blur border-gray-700",children:[s.jsxs($,{children:[s.jsx(U,{className:"text-center text-white",children:" Mapeamento de Traumas Emocionais"}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ge,{value:j,className:"w-full"}),s.jsxs("p",{className:"text-center text-gray-300",children:["Etapa ",r+1," de ",qx.length]})]})]}),s.jsxs(O,{className:"space-y-6",children:[s.jsxs("div",{className:"text-center",children:[s.jsx(X,{variant:"outline",className:"mb-4",children:N.category}),N.sensitive&&s.jsx(X,{variant:"outline",className:"mb-4 ml-2 bg-yellow-900/50 text-yellow-200",children:"Contedo Sensvel"}),s.jsx("h3",{className:"text-xl font-medium text-white mb-6",children:N.text})]}),N.type==="text"&&s.jsxs("div",{className:"space-y-4",children:[s.jsx(Ke,{placeholder:"Compartilhe apenas o que se sente confortvel...",value:e.traumaEvents||"",onChange:w=>c("traumaEvents",w.target.value),className:"bg-gray-700 border-gray-600 text-white",rows:6}),s.jsx(A,{onClick:d,className:"w-full",children:"Continuar"})]}),N.type==="age"&&s.jsx("div",{className:"space-y-4",children:s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:["0-5 anos","6-12 anos","13-18 anos","19-25 anos","26-35 anos","36-50 anos","50+ anos","Mltiplas idades"].map(w=>s.jsx(A,{onClick:()=>{c("ageOccurred",w),d()},variant:"outline",className:"p-4 hover:bg-primary/20 border-gray-600",children:w},w))})}),N.type==="emotions"&&s.jsxs("div",{className:"space-y-4",children:[s.jsx("p",{className:"text-gray-400 text-center",children:"Selecione todas que se aplicam:"}),s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:Ske.map(w=>{var S;return s.jsx(A,{onClick:()=>{const _=e.emotions||[],C=_.includes(w)?_.filter(E=>E!==w):[..._,w];c("emotions",C)},variant:(S=e.emotions)!=null&&S.includes(w)?"default":"outline",className:"p-3",children:w},w)})}),s.jsx(A,{onClick:d,className:"w-full",disabled:!((g=e.emotions)!=null&&g.length),children:"Continuar"})]}),N.type==="body_map"&&s.jsxs("div",{className:"space-y-4",children:[s.jsx("p",{className:"text-gray-400 text-center",children:"Selecione onde sente as emoes no corpo:"}),s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:_ke.map(w=>{var S;return s.jsx(A,{onClick:()=>{const _=e.bodyLocations||[],C=_.includes(w)?_.filter(E=>E!==w):[..._,w];c("bodyLocations",C)},variant:(S=e.bodyLocations)!=null&&S.includes(w)?"default":"outline",className:"p-3",children:w},w)})}),s.jsx(A,{onClick:d,className:"w-full",disabled:!((x=e.bodyLocations)!=null&&x.length),children:"Continuar"})]}),N.type==="intensity"&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-3xl font-bold text-white mb-2",children:e.intensity||0}),s.jsxs("div",{className:"flex justify-between text-sm text-gray-400",children:[s.jsx("span",{children:"Nenhuma intensidade"}),s.jsx("span",{children:"Extremamente intenso"})]})]}),s.jsx(Wu,{value:[e.intensity||0],onValueChange:w=>c("intensity",w[0]),max:10,step:1,className:"w-full"}),s.jsx(A,{onClick:d,className:"w-full",children:"Continuar"})]}),N.type==="eating_impact"&&s.jsx("div",{className:"space-y-4",children:s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:kke.map(w=>s.jsx(A,{onClick:()=>{c("eatingImpact",w),d()},variant:"outline",className:"p-4 hover:bg-primary/20 border-gray-600 text-left",children:w},w))})}),N.type==="triggers"&&s.jsxs("div",{className:"space-y-4",children:[s.jsx("p",{className:"text-gray-400 text-center",children:"Selecione todos os gatilhos que identificou:"}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:Cke.map(w=>{var S;return s.jsx(A,{onClick:()=>{const _=e.triggers||[],C=_.includes(w)?_.filter(E=>E!==w):[..._,w];c("triggers",C)},variant:(S=e.triggers)!=null&&S.includes(w)?"default":"outline",className:"p-3 text-left",children:w},w)})}),s.jsx(A,{onClick:d,className:"w-full",children:"Continuar"})]}),N.type==="weight_impact"&&s.jsx("div",{className:"space-y-4",children:s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:Pke.map(w=>s.jsx(A,{onClick:()=>{c("weightImpact",w),d()},variant:"outline",className:"p-4 hover:bg-primary/20 border-gray-600 text-left",children:w},w))})})]})]})})})}const m=u(),h=()=>{switch(m.riskLevel){case"critical":return"bg-red-600";case"high":return"bg-orange-500";case"moderate":return"bg-yellow-500";default:return"bg-green-500"}},f=()=>{switch(m.riskLevel){case"critical":return"Os traumas tm impacto muito significativo. Busque apoio profissional urgentemente.";case"high":return"Os traumas tm impacto considervel. Recomendamos acompanhamento psicolgico.";case"moderate":return"H impactos moderados que se beneficiariam de apoio profissional.";default:return"O impacto atual parece mais limitado, mas o autoconhecimento  sempre valioso."}};return s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-900 via-rose-900 to-indigo-900 p-6",children:s.jsxs("div",{className:"container mx-auto max-w-6xl space-y-6",children:[s.jsxs(M,{className:"bg-gray-800/90 backdrop-blur border-gray-700",children:[s.jsx($,{children:s.jsx(U,{className:"text-center text-white",children:" Resultado do Mapeamento de Traumas"})}),s.jsx(O,{children:s.jsx(or,{className:`${h()} text-white border-0`,children:s.jsxs(lr,{className:"text-center",children:[s.jsxs("div",{className:"font-bold text-lg mb-2",children:["Nvel de Impacto: ",m.riskLevel.toUpperCase()," (Intensidade: ",m.overallIntensity,"/10)"]}),s.jsx("div",{className:"mb-2",children:f()}),m.urgentCare&&s.jsx("div",{className:"text-sm font-bold",children:" BUSQUE AJUDA PROFISSIONAL URGENTEMENTE - CVV: 188"})]})})})]}),s.jsxs(M,{className:"bg-gray-800/90 backdrop-blur border-gray-700",children:[s.jsx($,{children:s.jsx(U,{className:"text-white",children:" reas de Impacto Identificadas"})}),s.jsx(O,{children:s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:m.affectedAreas.map((j,N)=>s.jsx("div",{className:"text-center p-4 bg-purple-600/20 rounded-lg",children:s.jsx("div",{className:"text-white font-medium",children:j})},N))})})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs(M,{className:"bg-gray-800/90 backdrop-blur border-gray-700",children:[s.jsx($,{children:s.jsxs(U,{className:"text-white flex items-center gap-2",children:[s.jsx(He,{className:"w-5 h-5"}),"Manifestaes Emocionais e Fsicas"]})}),s.jsxs(O,{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"text-purple-300 font-medium mb-2",children:"Emoes Identificadas:"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:(y=e.emotions)==null?void 0:y.map((j,N)=>s.jsx(X,{variant:"outline",className:"bg-purple-600/20",children:j},N))})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-purple-300 font-medium mb-2",children:"Manifestaes Corporais:"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:(v=e.bodyLocations)==null?void 0:v.map((j,N)=>s.jsx(X,{variant:"outline",className:"bg-rose-600/20",children:j},N))})]})]})]}),s.jsxs(M,{className:"bg-gray-800/90 backdrop-blur border-gray-700",children:[s.jsx($,{children:s.jsxs(U,{className:"text-white flex items-center gap-2",children:[s.jsx(Bt,{className:"w-5 h-5"}),"Gatilhos e Impactos"]})}),s.jsxs(O,{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"text-orange-300 font-medium mb-2",children:"Gatilhos Emocionais:"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:(b=e.triggers)==null?void 0:b.map((j,N)=>s.jsx(X,{variant:"outline",className:"bg-orange-600/20",children:j},N))})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-yellow-300 font-medium mb-2",children:"Impacto na Alimentao:"}),s.jsx(X,{variant:"outline",className:"bg-yellow-600/20",children:e.eatingImpact})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-blue-300 font-medium mb-2",children:"Impacto no Peso:"}),s.jsx(X,{variant:"outline",className:"bg-blue-600/20",children:e.weightImpact})]})]})]})]}),s.jsxs(M,{className:"bg-gray-800/90 backdrop-blur border-gray-700",children:[s.jsx($,{children:s.jsxs(U,{className:"text-white flex items-center gap-2",children:[s.jsx(ds,{className:"w-5 h-5"}),"Recomendaes e Prximos Passos"]})}),s.jsxs(O,{className:"space-y-4",children:[m.professionalSupport&&s.jsxs(or,{className:"bg-blue-900/50 border-blue-600",children:[s.jsx(Bt,{className:"h-4 w-4"}),s.jsxs(lr,{className:"text-blue-200",children:[s.jsx("div",{className:"font-bold mb-1",children:"Recomendamos Acompanhamento Profissional"}),s.jsx("p",{className:"text-sm",children:"Com base nas respostas, seria muito benfico buscar apoio de um psiclogo especializado em trauma para processar essas experincias de forma segura."})]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-green-300 font-medium mb-3",children:" Recomendaes Personalizadas:"}),s.jsx("ul",{className:"space-y-2",children:m.recommendations.map((j,N)=>s.jsxs("li",{className:"text-gray-300 flex items-start gap-2",children:[s.jsx("span",{className:"text-green-400 mt-1",children:""}),j]},N))})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mt-6",children:[s.jsx(M,{className:"bg-purple-600/20 border-purple-500",children:s.jsxs(O,{className:"p-4 text-center",children:[s.jsx("h5",{className:"text-purple-300 font-medium mb-2",children:"Recursos Imediatos"}),s.jsx("p",{className:"text-sm text-gray-300",children:"CVV: 188 (24h)"}),s.jsx("p",{className:"text-sm text-gray-300",children:"Terapia online disponvel"})]})}),s.jsx(M,{className:"bg-blue-600/20 border-blue-500",children:s.jsxs(O,{className:"p-4 text-center",children:[s.jsx("h5",{className:"text-blue-300 font-medium mb-2",children:"Autocuidado"}),s.jsx("p",{className:"text-sm text-gray-300",children:"Tcnicas de respirao"}),s.jsx("p",{className:"text-sm text-gray-300",children:"Mindfulness dirio"})]})}),s.jsx(M,{className:"bg-green-600/20 border-green-500",children:s.jsxs(O,{className:"p-4 text-center",children:[s.jsx("h5",{className:"text-green-300 font-medium mb-2",children:"Rede de Apoio"}),s.jsx("p",{className:"text-sm text-gray-300",children:"Mantenha contato com pessoas de confiana"}),s.jsx("p",{className:"text-sm text-gray-300",children:"Grupos de apoio"})]})})]})]})]}),s.jsx(M,{className:"bg-gray-800/90 backdrop-blur border-gray-700",children:s.jsxs(O,{className:"flex justify-center gap-4 pt-6",children:[s.jsx(A,{onClick:()=>{t({}),a(0),i(!1),l(!0)},variant:"outline",children:" Nova Avaliao"}),s.jsx(A,{children:" Salvar Confidencialmente"}),s.jsx(A,{variant:"secondary",children:" Buscar Profissional"})]})})]})})},Eke=[{id:"limiting-beliefs",name:"Avaliao de Crenas Limitantes",description:"Identifica e mapeia crenas que podem estar sabotando o progresso",icon:"Brain",component:J7,estimatedTime:15,category:"assessment"},{id:"health-pyramid",name:"Mapeamento da Pirmide de Sade",description:"Avalia as 4 dimenses hierrquicas da sade (Fsica, Emocional, Mental, Espiritual)",icon:"Zap",component:Z7,estimatedTime:25,category:"assessment"},{id:"trauma-mapping",name:"Mapeamento de Traumas Emocionais",description:"Ferramenta sensvel para identificar e processar traumas relacionados ao peso",icon:"Heart",component:pV,estimatedTime:30,category:"intervention"}],Ake=e=>{const r={Brain:ds,Zap:us,Heart:He,FileText:ni,Users:Le,Scale:_t,Target:_e,Sparkles:Ta}[e]||ni;return s.jsx(r,{className:"w-6 h-6"})},Tke=e=>{switch(e){case"assessment":return"bg-blue-500/20 text-blue-300 border-blue-500/30";case"intervention":return"bg-purple-500/20 text-purple-300 border-purple-500/30";case"analysis":return"bg-green-500/20 text-green-300 border-green-500/30";default:return"bg-gray-500/20 text-gray-300 border-gray-500/30"}},Mke=e=>{switch(e){case"assessment":return"Avaliao";case"intervention":return"Interveno";case"analysis":return"Anlise";default:return"Ferramenta"}},Oke=({isOpen:e,onClose:t,onSelectTool:r,availableToolIds:a,completedTools:n})=>{const i=Eke.filter(l=>a.includes(l.id)),o=i.reduce((l,c)=>(l[c.category]||(l[c.category]=[]),l[c.category].push(c),l),{});return s.jsx(gt,{open:e,onOpenChange:t,children:s.jsxs(vt,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[s.jsx(yt,{children:s.jsx(bt,{className:"text-white",children:" Ferramentas da Sesso"})}),s.jsxs("div",{className:"space-y-6",children:[Object.entries(o).map(([l,c])=>s.jsxs("div",{children:[s.jsxs("h3",{className:"text-lg font-semibold text-white mb-4 flex items-center gap-2",children:[s.jsx(X,{variant:"outline",className:Tke(l),children:Mke(l)}),s.jsxs("span",{children:["(",c.length," ferramentas)"]})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:c.map(d=>{const u=n.includes(d.id);return s.jsxs(M,{className:`bg-gray-800/90 border-gray-700 transition-all hover:border-primary/50 ${u?"border-green-500/50 bg-green-500/10":""}`,children:[s.jsx($,{className:"pb-3",children:s.jsxs(U,{className:"text-white flex items-center gap-3",children:[Ake(d.icon),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[d.name,u&&s.jsx(X,{variant:"default",className:"bg-green-600 text-white",children:"Concluda"})]}),s.jsxs("div",{className:"text-sm text-gray-400 font-normal mt-1",children:[" ",d.estimatedTime," min"]})]})]})}),s.jsxs(O,{children:[s.jsx("p",{className:"text-gray-300 text-sm mb-4",children:d.description}),s.jsx(A,{onClick:()=>r(d),className:"w-full",variant:u?"outline":"default",children:u?"Ver Resultados":"Iniciar Ferramenta"})]})]},d.id)})})]},l)),i.length===0&&s.jsx("div",{className:"text-center py-8",children:s.jsx("p",{className:"text-gray-400",children:"Nenhuma ferramenta disponvel para esta sesso."})})]})]})})},Dke=({userSessionId:e,userId:t,selectedTool:r,existingData:a,onComplete:n,onClose:i})=>{const[o,l]=p.useState(!1),{toast:c}=Ee(),d=r.component,u=async m=>{l(!0);try{const h={toolId:r.id,completedAt:new Date().toISOString(),data:m,score:m.overallScore||m.averageScore||0,insights:m.insights||m.recommendations||[]},{error:f}=await z.from("sessions").update({content:{...a,[r.id]:h}}).eq("id",e);if(f)throw f;c({title:"Ferramenta concluda!",description:`${r.name} foi concluda e os dados foram salvos.`}),n(h)}catch(h){console.error("Erro ao salvar dados da ferramenta:",h),c({title:"Erro ao salvar",description:"No foi possvel salvar os dados da ferramenta. Tente novamente.",variant:"destructive"})}finally{l(!1)}};return s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-900 via-purple-900 to-indigo-900 p-6",children:s.jsxs("div",{className:"container mx-auto max-w-7xl",children:[s.jsx(M,{className:"bg-gray-800/90 backdrop-blur border-gray-700 mb-6",children:s.jsx($,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"w-12 h-12 bg-primary/20 rounded-lg flex items-center justify-center",children:s.jsx("span",{className:"text-2xl",children:r.icon})}),s.jsxs("div",{children:[s.jsx(U,{className:"text-white text-xl",children:r.name}),s.jsx("p",{className:"text-gray-400",children:r.description})]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs(X,{variant:"outline",children:[" ",r.estimatedTime," min"]}),a&&s.jsx(X,{variant:"default",className:"bg-green-600",children:"J Concluda"}),s.jsx(A,{variant:"outline",onClick:i,children:"Voltar"})]})]})})}),s.jsx("div",{className:"bg-gray-900/50 rounded-lg p-1",children:s.jsx(d,{onComplete:u,existingData:a==null?void 0:a.data,sessionMode:!0,isCompleting:o})})]})})};function xV({user:e}){var Z;const[t,r]=p.useState([]),[a,n]=p.useState(!0),[i,o]=p.useState(null),[l,c]=p.useState(!1),[d,u]=p.useState(null),[m,h]=p.useState(""),[f,g]=p.useState(null),[x,y]=p.useState(!1),[v,b]=p.useState(null),[j,N]=p.useState(null),[w,S]=p.useState({pending:0,inProgress:0,completed:0,locked:0,total:0}),{toast:_}=Ee();p.useEffect(()=>{e&&C()},[e]);const C=async()=>{try{const{data:B,error:K}=await z.from("user_sessions").select(`
          *,
          sessions (
            id, title, description, type, difficulty, 
            estimated_time, content, target_saboteurs, tools_data
          )
        `).eq("user_id",e==null?void 0:e.id).order("created_at",{ascending:!1});if(K)throw K;const Q=(B||[]).map(oe=>({...oe,tools_data:oe.tools_data||{},sessions:{...oe.sessions,tools:oe.sessions.tools_data?Object.keys(oe.sessions.tools_data):[]}}));r(Q);const ie={pending:Q.filter(oe=>oe.status==="pending").length,inProgress:Q.filter(oe=>oe.status==="in_progress").length,completed:Q.filter(oe=>oe.status==="completed").length,locked:Q.filter(oe=>oe.is_locked).length,total:Q.length};S(ie)}catch(B){console.error("Error loading user sessions:",B),_({title:"Erro",description:"No foi possvel carregar suas sesses",variant:"destructive"})}finally{n(!1)}},E=async B=>{try{const K=t.find(ie=>ie.id===B);if((K==null?void 0:K.sessions.type)==="health_wheel_assessment"||(K==null?void 0:K.sessions.type)==="life_wheel_assessment"){o(K);return}const{error:Q}=await z.from("user_sessions").update({status:"in_progress",started_at:new Date().toISOString()}).eq("id",B);if(Q)throw Q;_({title:"Sesso Iniciada! ",description:"Voc pode continuar de onde parou a qualquer momento"}),C()}catch(K){console.error("Error starting session:",K),_({title:"Erro",description:"No foi possvel iniciar a sesso",variant:"destructive"})}},T=()=>{o(null),C(),_({title:"Roda da Sade Completa! ",description:"Seus resultados foram salvos com sucesso"})},k=async B=>{try{const K={success:!0,message:"Sesso concluda com sucesso!"},Q=null;await I(B,"Sesso concluda");const ie=K;_({title:"Sesso Completa! ",description:`Prximo ciclo disponvel em: ${new Date(ie.next_available_date).toLocaleDateString("pt-BR")}`}),C()}catch(K){console.error("Error completing session:",K),_({title:"Erro",description:"No foi possvel completar a sesso",variant:"destructive"})}},P=async()=>{if(d)try{_({title:"Solicitao Enviada! ",description:"Sua solicitao foi enviada para anlise do administrador"}),c(!1),u(null),h("")}catch(B){console.error("Error requesting early release:",B),_({title:"Erro",description:"No foi possvel enviar a solicitao",variant:"destructive"})}},D=async B=>{try{await z.from("user_sessions").update({feedback:"Modo reviso ativado"}).eq("id",B.id),g(B),_({title:"Modo Reviso Ativado ",description:"Voc est visualizando uma sesso completa (somente leitura)"})}catch(K){console.error("Error opening review mode:",K)}},I=async(B,K)=>{try{const{data:{user:Q}}=await z.auth.getUser();if(!Q)return;const ie=new Date().toISOString().split("T")[0];await z.from("daily_responses").insert({user_id:Q.id,date:ie,section:"sessions",question_id:`session_${B}`,answer:K,text_response:`Atividade de sesso: ${K}`,points_earned:10,created_at:new Date().toISOString()}),console.log(`Atividade da sesso salva: ${K}`)}catch(Q){console.error("Erro ao salvar atividade da sesso:",Q)}},V=B=>{if(!B.sessions.tools||B.sessions.tools.length===0){_({title:"Nenhuma ferramenta disponvel",description:"Esta sesso no possui ferramentas configuradas.",variant:"destructive"});return}b(B),y(!0)},W=B=>{v&&(N({session:v,tool:B}),y(!1))},R=async B=>{j&&(await C(),_({title:"Ferramenta concluda!",description:`${j.tool.name} foi concluda com sucesso.`}),N(null))},F=B=>Object.keys(B.tools_data||{}),H=B=>{if(B.is_locked)return s.jsxs(X,{variant:"secondary",className:"bg-gray-50 text-gray-700",children:[s.jsx(af,{className:"w-3 h-3 mr-1"}),"Bloqueada"]});switch(B.status){case"pending":return s.jsxs(X,{variant:"secondary",className:"bg-yellow-50 text-yellow-700",children:[s.jsx(Xt,{className:"w-3 h-3 mr-1"}),"Pendente"]});case"in_progress":return s.jsxs(X,{variant:"secondary",className:"bg-blue-50 text-blue-700",children:[s.jsx(xx,{className:"w-3 h-3 mr-1"}),"Em Progresso"]});case"completed":return s.jsxs(X,{variant:"secondary",className:"bg-green-50 text-green-700",children:[s.jsx(Se,{className:"w-3 h-3 mr-1"}),"Completa"]});default:return s.jsx(X,{variant:"secondary",children:B.status})}};return a?s.jsx("div",{className:"p-6",children:s.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground text-lg",children:"Carregando suas sesses..."}),s.jsx("p",{className:"text-muted-foreground text-sm mt-2",children:"Isso pode levar alguns segundos"})]})})}):e?i?s.jsx(F3,{sessionId:i.session_id,userId:e.id,content:i.sessions.content,onComplete:T}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"text-center space-y-2",children:[s.jsx("h1",{className:"text-4xl font-bold bg-gradient-to-r from-primary to-primary/70 bg-clip-text text-transparent",children:"Suas Sesses"}),s.jsx("p",{className:"text-muted-foreground text-lg",children:"Acompanhe seu progresso nas sesses personalizadas"})]}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-6",children:[s.jsx(M,{className:"border-0 shadow-lg bg-gradient-to-br from-yellow-50 to-amber-50 hover:shadow-xl transition-all duration-300",children:s.jsxs(O,{className:"p-6 text-center",children:[s.jsx("div",{className:"w-12 h-12 mx-auto mb-3 rounded-full bg-yellow-100 flex items-center justify-center",children:s.jsx(Xt,{className:"w-6 h-6 text-yellow-600"})}),s.jsx("div",{className:"text-3xl font-bold text-yellow-600 mb-1",children:w.pending}),s.jsx("div",{className:"text-sm font-medium text-yellow-700",children:"Pendentes"})]})}),s.jsx(M,{className:"border-0 shadow-lg bg-gradient-to-br from-blue-50 to-indigo-50 hover:shadow-xl transition-all duration-300",children:s.jsxs(O,{className:"p-6 text-center",children:[s.jsx("div",{className:"w-12 h-12 mx-auto mb-3 rounded-full bg-blue-100 flex items-center justify-center",children:s.jsx(xx,{className:"w-6 h-6 text-blue-600"})}),s.jsx("div",{className:"text-3xl font-bold text-blue-600 mb-1",children:w.inProgress}),s.jsx("div",{className:"text-sm font-medium text-blue-700",children:"Em Progresso"})]})}),s.jsx(M,{className:"border-0 shadow-lg bg-gradient-to-br from-green-50 to-emerald-50 hover:shadow-xl transition-all duration-300",children:s.jsxs(O,{className:"p-6 text-center",children:[s.jsx("div",{className:"w-12 h-12 mx-auto mb-3 rounded-full bg-green-100 flex items-center justify-center",children:s.jsx(Se,{className:"w-6 h-6 text-green-600"})}),s.jsx("div",{className:"text-3xl font-bold text-green-600 mb-1",children:w.completed}),s.jsx("div",{className:"text-sm font-medium text-green-700",children:"Completas"})]})}),s.jsx(M,{className:"border-0 shadow-lg bg-gradient-to-br from-purple-50 to-violet-50 hover:shadow-xl transition-all duration-300",children:s.jsxs(O,{className:"p-6 text-center",children:[s.jsx("div",{className:"w-12 h-12 mx-auto mb-3 rounded-full bg-purple-100 flex items-center justify-center",children:s.jsx(_e,{className:"w-6 h-6 text-purple-600"})}),s.jsx("div",{className:"text-3xl font-bold text-purple-600 mb-1",children:w.total}),s.jsx("div",{className:"text-sm font-medium text-purple-700",children:"Total"})]})})]}),s.jsxs("div",{className:"flex flex-wrap justify-center gap-3",children:[s.jsxs(A,{variant:w.pending>0?"default":"outline",size:"sm",className:"rounded-full px-6 py-2 shadow-md hover:shadow-lg transition-all duration-300",children:[s.jsx(Xt,{className:"w-4 h-4 mr-2"}),"Pendentes (",w.pending,")"]}),s.jsxs(A,{variant:w.inProgress>0?"default":"outline",size:"sm",className:"rounded-full px-6 py-2 shadow-md hover:shadow-lg transition-all duration-300",children:[s.jsx(xx,{className:"w-4 h-4 mr-2"}),"Em Progresso (",w.inProgress,")"]}),s.jsxs(A,{variant:w.completed>0?"default":"outline",size:"sm",className:"rounded-full px-6 py-2 shadow-md hover:shadow-lg transition-all duration-300",children:[s.jsx(Se,{className:"w-4 h-4 mr-2"}),"Completas (",w.completed,")"]})]})]}),t.length===0?s.jsx(M,{className:"border-dashed",children:s.jsxs(O,{className:"p-8 text-center",children:[s.jsx(as,{className:"w-16 h-16 mx-auto mb-4 text-muted-foreground/50"}),s.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Nenhuma sesso disponvel"}),s.jsx("p",{className:"text-muted-foreground",children:"Voc ainda no tem sesses atribudas. Elas aparecero aqui quando estiverem disponveis."})]})}):s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:t.map(B=>s.jsxs(M,{className:`
                group relative overflow-hidden cursor-pointer transition-all duration-300 
                hover:scale-[1.02] hover:shadow-2xl border-0 shadow-lg backdrop-blur-sm
                ${B.status==="pending"?"bg-gradient-to-br from-yellow-50/90 via-amber-50/80 to-orange-50/70":""}
                ${B.status==="in_progress"?"bg-gradient-to-br from-blue-50/90 via-indigo-50/80 to-violet-50/70":""}
                ${B.status==="completed"?"bg-gradient-to-br from-green-50/90 via-emerald-50/80 to-teal-50/70":""}
                ${B.is_locked?"bg-gradient-to-br from-gray-50/90 via-slate-50/80 to-zinc-50/70":""}
              `,children:[s.jsx("div",{className:"absolute top-3 right-3 z-20",children:H(B)}),s.jsx("div",{className:"absolute inset-0 bg-white/20 opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),s.jsxs(O,{className:"relative p-6 h-full flex flex-col z-10",children:[s.jsxs("div",{className:"text-center mb-4",children:[s.jsx("div",{className:"relative w-16 h-16 mx-auto mb-4",children:s.jsx("div",{className:`
                      w-full h-full rounded-full flex items-center justify-center shadow-lg
                      ${B.status==="pending"?"bg-gradient-to-br from-yellow-100 to-amber-200":""}
                      ${B.status==="in_progress"?"bg-gradient-to-br from-blue-100 to-indigo-200":""}
                      ${B.status==="completed"?"bg-gradient-to-br from-green-100 to-emerald-200":""}
                      ${B.is_locked?"bg-gradient-to-br from-gray-100 to-slate-200":""}
                    `,children:s.jsx(as,{className:`
                        w-8 h-8 transition-transform duration-300 group-hover:scale-110
                        ${B.status==="pending"?"text-yellow-600":""}
                        ${B.status==="in_progress"?"text-blue-600":""}
                        ${B.status==="completed"?"text-green-600":""}
                        ${B.is_locked?"text-gray-500":""}
                      `})})}),s.jsx("h3",{className:"font-bold text-base text-center leading-tight mb-2 line-clamp-2 text-gray-800",children:B.sessions.title})]}),s.jsxs("div",{className:"mb-4",children:[s.jsxs("div",{className:"flex justify-between items-center mb-2",children:[s.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Progresso"}),s.jsxs("span",{className:"text-sm font-bold text-gray-800",children:[B.progress,"%"]})]}),s.jsxs("div",{className:"relative",children:[s.jsx(Ge,{value:B.progress,className:"h-3 bg-gray-200/50"}),B.progress>0&&s.jsx("div",{className:`absolute inset-0 bg-gradient-to-r from-transparent via-white/30 to-transparent 
                                     transform -skew-x-12 animate-pulse opacity-50`})]})]}),s.jsxs("div",{className:"flex flex-wrap gap-2 mb-4 justify-center",children:[s.jsx(X,{variant:"secondary",className:`
                      text-xs font-semibold px-3 py-1 rounded-full shadow-sm
                      ${B.sessions.difficulty==="beginner"?"bg-green-100 text-green-700 border-green-200":""}
                      ${B.sessions.difficulty==="intermediate"?"bg-yellow-100 text-yellow-700 border-yellow-200":""}
                      ${B.sessions.difficulty==="advanced"?"bg-red-100 text-red-700 border-red-200":""}
                    `,children:B.sessions.difficulty}),s.jsxs(X,{variant:"secondary",className:"text-xs font-semibold px-3 py-1 rounded-full bg-purple-100 text-purple-700 border-purple-200 shadow-sm",children:[s.jsx(tp,{className:"w-3 h-3 mr-1"}),B.sessions.estimated_time,"min"]})]}),s.jsxs("div",{className:"mt-auto space-y-3",children:[B.is_locked&&s.jsxs("div",{className:"space-y-3",children:[s.jsxs(A,{variant:"outline",size:"sm",className:`w-full rounded-full bg-gray-50/50 border-gray-300 text-gray-600 
                                 hover:bg-gray-100 transition-all duration-300 shadow-sm`,disabled:!0,children:[s.jsx(af,{className:"w-4 h-4 mr-2"}),"Sesso Bloqueada"]}),B.next_available_date&&s.jsxs("div",{className:"text-xs text-center p-2 bg-gray-50 rounded-lg text-gray-600",children:[" Disponvel em: ",new Date(B.next_available_date).toLocaleDateString("pt-BR")]}),s.jsxs(A,{onClick:()=>{u(B),c(!0)},variant:"outline",size:"sm",className:`w-full rounded-full border-blue-200 text-blue-600 hover:bg-blue-50 
                                 transition-all duration-300 shadow-sm`,children:[s.jsx(hn,{className:"w-4 h-4 mr-2"}),"Solicitar Liberao"]})]}),B.status==="pending"&&!B.is_locked&&s.jsxs(A,{onClick:()=>E(B.id),size:"sm",className:`w-full rounded-full bg-gradient-to-r from-yellow-500 to-amber-500 
                               hover:from-yellow-600 hover:to-amber-600 text-white font-semibold
                               shadow-lg hover:shadow-xl transition-all duration-300 transform hover:scale-105`,children:[s.jsx(xx,{className:"w-4 h-4 mr-2"}),"Iniciar Sesso"]}),B.status==="in_progress"&&!B.is_locked&&s.jsxs("div",{className:"space-y-2",children:[s.jsxs(A,{onClick:()=>E(B.id),variant:"default",size:"sm",className:`w-full rounded-full bg-gradient-to-r from-blue-500 to-indigo-500 
                                 hover:from-blue-600 hover:to-indigo-600 text-white font-semibold
                                 shadow-lg hover:shadow-xl transition-all duration-300 transform hover:scale-105`,children:[s.jsx(as,{className:"w-4 h-4 mr-2"}),"Continuar"]}),B.auto_save_data&&Object.keys(B.auto_save_data).length>0&&s.jsx("div",{className:"text-xs text-center p-2 bg-green-50 rounded-lg text-green-600 font-medium",children:" Auto-save ativo"}),B.progress<100&&s.jsxs(A,{onClick:()=>k(B.id),variant:"secondary",size:"sm",className:`w-full rounded-full border-green-200 text-green-600 hover:bg-green-50 
                                   transition-all duration-300 shadow-sm`,children:[s.jsx(Se,{className:"w-4 h-4 mr-2"}),"Finalizar Ciclo"]})]}),B.status==="completed"&&s.jsxs("div",{className:"space-y-2",children:[s.jsxs(A,{onClick:()=>D(B),variant:"outline",size:"sm",className:`w-full rounded-full border-green-200 text-green-600 hover:bg-green-50 
                                 transition-all duration-300 shadow-sm`,children:[s.jsx(Pi,{className:"w-4 h-4 mr-2"}),"Revisar Sesso"]}),B.review_count>0&&s.jsxs("div",{className:"text-xs text-center p-2 bg-blue-50 rounded-lg text-blue-600",children:[" Revisada ",B.review_count,"x"]}),s.jsxs("div",{className:"text-xs text-center p-2 bg-green-50 rounded-lg text-green-600 font-medium",children:[" Ciclo ",B.cycle_number," completo"]})]}),B.sessions.tools&&B.sessions.tools.length>0&&s.jsxs(A,{onClick:()=>V(B),variant:"outline",size:"sm",className:`w-full rounded-full border-purple-200 text-purple-600 hover:bg-purple-50 
                               transition-all duration-300 shadow-sm`,children:[s.jsx(cee,{className:"w-4 h-4 mr-2"}),"Ferramentas (",B.sessions.tools.length,")"]}),s.jsxs("div",{className:"text-xs text-center p-2 bg-gray-50/50 rounded-lg text-gray-500",children:[" ",new Date(B.assigned_at).toLocaleDateString("pt-BR")]})]})]})]},B.id))}),s.jsx(gt,{open:l,onOpenChange:c,children:s.jsxs(vt,{className:"sm:max-w-md",children:[s.jsx(yt,{children:s.jsx(bt,{children:"Solicitar Liberao Antecipada"})}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsxs("p",{className:"text-sm text-muted-foreground mb-2",children:["Sesso: ",s.jsx("strong",{children:d==null?void 0:d.sessions.title})]}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:["Ciclo atual: ",s.jsx("strong",{children:d==null?void 0:d.cycle_number})]}),(d==null?void 0:d.next_available_date)&&s.jsxs("p",{className:"text-sm text-muted-foreground",children:["Prxima liberao: ",s.jsx("strong",{children:new Date(d.next_available_date).toLocaleDateString("pt-BR")})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Motivo da solicitao"}),s.jsx(Ke,{value:m,onChange:B=>h(B.target.value),placeholder:"Explique por que precisa desta sesso antes dos 30 dias...",className:"min-h-[100px]"})]}),s.jsxs("div",{className:"flex gap-2 justify-end",children:[s.jsx(A,{variant:"outline",onClick:()=>c(!1),children:"Cancelar"}),s.jsxs(A,{onClick:P,disabled:!m.trim(),children:[s.jsx(hn,{className:"w-4 h-4 mr-2"}),"Enviar Solicitao"]})]})]})]})}),f&&s.jsx(gt,{open:!!f,onOpenChange:()=>g(null),children:s.jsxs(vt,{className:"sm:max-w-6xl max-h-[90vh] overflow-y-auto",children:[s.jsx(yt,{children:s.jsxs(bt,{children:[" Reviso: ",f.sessions.title," - Ciclo ",f.cycle_number]})}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{className:"bg-blue-50 p-4 rounded-lg",children:s.jsx("p",{className:"text-sm text-blue-800",children:" Esta  uma visualizao somente leitura de uma sesso completa. Voc no pode fazer alteraes."})}),f.sessions.type==="health_wheel_assessment"||f.sessions.type==="life_wheel_assessment"?s.jsx("div",{className:"w-full",children:s.jsx(F3,{sessionId:f.session_id,userId:(e==null?void 0:e.id)||"",content:f.sessions.content,onComplete:()=>{}})}):s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium mb-2",children:"Informaes da Sesso"}),s.jsxs("div",{className:"space-y-1 text-sm",children:[s.jsxs("p",{children:[s.jsx("strong",{children:"Status:"})," ",f.status]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Progresso:"})," ",f.progress,"%"]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Ciclo:"})," ",f.cycle_number]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Iniciada em:"})," ",f.started_at?new Date(f.started_at).toLocaleDateString("pt-BR"):"N/A"]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Concluda em:"})," ",f.completed_at?new Date(f.completed_at).toLocaleDateString("pt-BR"):"N/A"]})]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium mb-2",children:"Dados Salvos"}),s.jsx("div",{className:"bg-gray-50 p-3 rounded text-sm max-h-40 overflow-y-auto",children:f.auto_save_data&&Object.keys(f.auto_save_data).length>0?s.jsx("pre",{className:"whitespace-pre-wrap text-xs",children:JSON.stringify(f.auto_save_data,null,2)}):s.jsx("p",{className:"text-muted-foreground",children:"Nenhum dado salvo disponvel"})})]})]}),f.feedback&&s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium mb-2",children:"Feedback"}),s.jsx("p",{className:"text-sm bg-green-50 p-3 rounded",children:f.feedback})]}),s.jsx("div",{className:"flex justify-end",children:s.jsx(A,{onClick:()=>g(null),children:"Fechar Reviso"})})]})]})}),s.jsx(Oke,{isOpen:x,onClose:()=>y(!1),onSelectTool:W,availableToolIds:(v==null?void 0:v.sessions.tools)||[],completedTools:v?F(v):[]}),j&&s.jsx(Dke,{userSessionId:j.session.id,userId:(e==null?void 0:e.id)||"",selectedTool:j.tool,existingData:(Z=j.session.tools_data)==null?void 0:Z[j.tool.id],onComplete:R,onClose:()=>N(null)})]}):s.jsx("div",{className:"p-6",children:s.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:s.jsxs("div",{className:"text-center",children:[s.jsx(as,{className:"w-16 h-16 mx-auto mb-4 text-muted-foreground"}),s.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Login necessrio"}),s.jsx("p",{className:"text-muted-foreground",children:"Faa login para acessar suas sesses personalizadas."})]})})})}function gV({user:e}){return s.jsx("div",{className:"space-y-6",children:s.jsx(xV,{user:e})})}const pP=({progress:e,size:t=120,strokeWidth:r=8,gradientColors:a=["hsl(var(--primary))","hsl(var(--primary-glow))"],animated:n=!0,showPercentage:i=!0,children:o})=>{const l=(t-r)/2,c=l*2*Math.PI,d=`${c} ${c}`,u=c-e/100*c,m=`gradient-${Math.random().toString(36).substr(2,9)}`;return s.jsxs("div",{className:"relative flex items-center justify-center",children:[s.jsxs("svg",{height:t,width:t,className:"transform -rotate-90",children:[s.jsx("defs",{children:s.jsxs("linearGradient",{id:m,x1:"0%",y1:"0%",x2:"100%",y2:"0%",children:[s.jsx("stop",{offset:"0%",stopColor:a[0]}),s.jsx("stop",{offset:"100%",stopColor:a[1]})]})}),s.jsx("circle",{stroke:"hsl(var(--muted))",fill:"transparent",strokeWidth:r,r:l,cx:t/2,cy:t/2,opacity:.3}),s.jsx(pe.circle,{stroke:`url(#${m})`,fill:"transparent",strokeWidth:r,strokeDasharray:d,strokeLinecap:"round",r:l,cx:t/2,cy:t/2,initial:{strokeDashoffset:c},animate:{strokeDashoffset:u},transition:{duration:1.5,ease:"easeInOut",delay:.2},className:"drop-shadow-lg"}),s.jsx(pe.circle,{stroke:a[0],fill:"transparent",strokeWidth:r+2,strokeDasharray:d,strokeLinecap:"round",r:l,cx:t/2,cy:t/2,initial:{strokeDashoffset:c},animate:{strokeDashoffset:u},transition:{duration:1.5,ease:"easeInOut",delay:.2},opacity:.3,className:"blur-sm"})]}),s.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:o||i&&s.jsx(pe.div,{initial:{scale:0},animate:{scale:1},transition:{duration:.5,delay:.8},className:"text-center",children:s.jsxs("div",{className:"text-2xl font-bold text-foreground",children:[Math.round(e),"%"]})})})]})},vV=({trigger:e,duration:t=3e3,colors:r=["hsl(var(--primary))","hsl(var(--secondary))","hsl(var(--accent))","#FFD700","#FF6B6B","#4ECDC4","#45B7D1","#96CEB4","#FFEAA7","#DDA0DD"],particleCount:a=50,onComplete:n})=>{const[i,o]=p.useState([]),[l,c]=p.useState(!1);p.useEffect(()=>{e&&d()},[e]);const d=()=>{c(!0);const u=[];for(let m=0;m<a;m++)u.push({id:m,x:Math.random()*window.innerWidth,y:-20,color:r[Math.floor(Math.random()*r.length)],size:Math.random()*6+4,rotation:Math.random()*360,velocity:{x:(Math.random()-.5)*4,y:Math.random()*3+2}});o(u),setTimeout(()=>{c(!1),o([]),n==null||n()},t)};return l?s.jsx("div",{className:"fixed inset-0 pointer-events-none z-[100] overflow-hidden",children:s.jsx(so,{children:i.map(u=>s.jsx(pe.div,{initial:{x:u.x,y:u.y,rotate:u.rotation,scale:1,opacity:1},animate:{x:u.x+u.velocity.x*100,y:window.innerHeight+100,rotate:u.rotation+720,scale:[1,1.2,.8],opacity:[1,1,0]},exit:{opacity:0,scale:0},transition:{duration:t/1e3,ease:"easeOut"},className:"absolute",style:{backgroundColor:u.color,width:u.size,height:u.size,borderRadius:Math.random()>.5?"50%":"2px"}},u.id))})}):null},yV=()=>{const[e,t]=p.useState(!1);return{trigger:e,celebrate:()=>{t(!0),setTimeout(()=>t(!1),100)}}},Hu=["#FF6B6B","#4ECDC4","#45B7D1","#96CEB4","#FFEAA7","#DDA0DD","#FFD700","#FF69B4","#00CED1","#98FB98","#F0E68C","#FF7F50"],Rke=({isActive:e,duration:t,onComplete:r})=>{const[a,n]=p.useState([]);return p.useEffect(()=>{if(e){const i=[];for(let o=0;o<50;o++)i.push({id:o,x:Math.random()*window.innerWidth,y:-20,color:Hu[Math.floor(Math.random()*Hu.length)],size:Math.random()*6+4,rotation:Math.random()*360,velocity:{x:(Math.random()-.5)*4,y:Math.random()*3+2}});n(i),setTimeout(()=>{n([]),r()},t)}},[e,t,r]),e?s.jsx("div",{className:"fixed inset-0 pointer-events-none z-[100] overflow-hidden",children:s.jsx(so,{children:a.map(i=>s.jsx(pe.div,{initial:{x:i.x,y:i.y,rotate:i.rotation,scale:1,opacity:1},animate:{x:i.x+i.velocity.x*100,y:window.innerHeight+100,rotate:i.rotation+720,scale:[1,1.2,.8],opacity:[1,1,0]},transition:{duration:t/1e3,ease:"easeOut"},className:"absolute",style:{backgroundColor:i.color,width:i.size,height:i.size,borderRadius:Math.random()>.5?"50%":"2px"}},i.id))})}):null},Ike=({isActive:e,duration:t,onComplete:r})=>{const[a,n]=p.useState([]);return p.useEffect(()=>{if(e){const i=l=>{const c=Math.random()*window.innerWidth,d=Math.random()*(window.innerHeight*.6)+window.innerHeight*.2,u=Hu[Math.floor(Math.random()*Hu.length)],m=[];for(let h=0;h<20;h++){const f=Math.PI*2*h/20,g=Math.random()*4+2;m.push({id:h,x:c,y:d,vx:Math.cos(f)*g,vy:Math.sin(f)*g,color:u,life:1})}return{id:l,x:c,y:d,color:u,particles:m}},o=[];for(let l=0;l<3;l++)setTimeout(()=>{o.push(i(l)),n(c=>[...c,i(l)])},l*500);setTimeout(()=>{n([]),r()},t)}},[e,t,r]),e?s.jsx("div",{className:"fixed inset-0 pointer-events-none z-[100] overflow-hidden",children:s.jsx(so,{children:a.map(i=>s.jsx("div",{children:i.particles.map(o=>s.jsx(pe.div,{initial:{x:o.x,y:o.y,opacity:1,scale:1},animate:{x:o.x+o.vx*50,y:o.y+o.vy*50,opacity:[1,1,0],scale:[0,1,.5]},transition:{duration:2,ease:"easeOut"},className:"absolute w-2 h-2 rounded-full",style:{backgroundColor:o.color,boxShadow:`0 0 10px ${o.color}`}},`${i.id}-${o.id}`))},i.id))})}):null},Fke=({isActive:e,duration:t,onComplete:r})=>{const[a,n]=p.useState([]);return p.useEffect(()=>{if(e){const i=[];for(let o=0;o<15;o++)i.push({id:o,x:Math.random()*window.innerWidth,y:window.innerHeight+50,color:Hu[Math.floor(Math.random()*Hu.length)],size:Math.random()*30+40});n(i),setTimeout(()=>{n([]),r()},t)}},[e,t,r]),e?s.jsx("div",{className:"fixed inset-0 pointer-events-none z-[100] overflow-hidden",children:s.jsx(so,{children:a.map(i=>s.jsxs(pe.div,{initial:{x:i.x,y:i.y,rotate:0,scale:0},animate:{x:i.x+Math.sin(i.id)*100,y:-100,rotate:[0,10,-10,0],scale:[0,1,1]},transition:{duration:t/1e3,ease:"easeOut"},className:"absolute flex flex-col items-center",children:[s.jsx("div",{className:"rounded-full shadow-lg relative",style:{width:i.size,height:i.size+10,background:`radial-gradient(circle at 30% 30%, ${i.color}, ${i.color}dd)`,filter:"drop-shadow(0 4px 8px rgba(0,0,0,0.2))"},children:s.jsx("div",{className:"absolute top-2 left-2 w-3 h-3 bg-white opacity-60 rounded-full",style:{width:i.size*.15,height:i.size*.15}})}),s.jsx("div",{className:"w-px bg-gray-400",style:{height:i.size*.8}})]},i.id))})}):null},bV=({trigger:e,effectType:t,duration:r=3e3,onComplete:a})=>{const[n,i]=p.useState("confetti"),[o,l]=p.useState(!1);p.useEffect(()=>{e&&(t&&i(t),l(!0))},[e,t]);const c=p.useCallback(()=>{l(!1),a==null||a()},[a]);return(()=>{switch(n){case"confetti":return s.jsx(Rke,{isActive:o,duration:r,onComplete:c});case"fireworks":return s.jsx(Ike,{isActive:o,duration:r,onComplete:c});case"balloons":return s.jsx(Fke,{isActive:o,duration:r,onComplete:c});default:return null}})()},Lke=()=>{const[e,t]=p.useState(0),[r,a]=p.useState(!1),n=["confetti","fireworks","balloons"],i=p.useCallback(()=>{a(!0),setTimeout(()=>{a(!1),t(o=>(o+1)%n.length)},100)},[n.length]);return{trigger:r,currentEffect:n[e],celebrate:i}},jV=()=>{const[e,t]=p.useState(!1),{toast:r}=Ee();return{shareToHealthFeed:async o=>{try{t(!0);const{data:{user:l}}=await z.auth.getUser();if(!l)throw new Error("Usurio no autenticado");const c={user_id:l.id,content:o.content,post_type:o.achievementType||"progress_update",media_urls:o.mediaUrls||[],tags:o.tags||[],visibility:o.visibility||"public",achievements_data:o.achievementData?{type:o.achievementType,goal_title:o.achievementData.goalTitle,progress_value:o.achievementData.progressValue,target_value:o.achievementData.targetValue,unit:o.achievementData.unit,category:o.achievementData.category,timestamp:new Date().toISOString()}:{},progress_data:o.achievementData?{current:o.achievementData.progressValue,target:o.achievementData.targetValue,unit:o.achievementData.unit,percentage:o.achievementData.targetValue?Math.round(o.achievementData.progressValue/o.achievementData.targetValue*100):0}:{}};return console.log("Creating health feed post:",c),r({title:" Compartilhado com sucesso!",description:"Seu progresso foi compartilhado na comunidade"}),{success:!0}}catch(l){return console.error("Erro ao compartilhar:",l),r({title:"Erro",description:"No foi possvel compartilhar na comunidade",variant:"destructive"}),{success:!1,error:l}}finally{t(!1)}},generateProgressMessage:o=>{const{achievementData:l,achievementType:c}=o;if(!l)return"";const d=l.targetValue?Math.round(l.progressValue/l.targetValue*100):0;switch(c){case"goal_completed":return` Meta concluda! Acabei de completar "${l.goalTitle}"! 

${l.progressValue} ${l.unit} alcanados! `;case"progress_update":return` Progresso na meta "${l.goalTitle}"!

${l.progressValue}/${l.targetValue} ${l.unit} (${d}%)

Continuando firme na jornada! `;case"milestone_reached":return` Marco alcanado! Cheguei a ${l.progressValue} ${l.unit} na meta "${l.goalTitle}"!

Quase l! `;default:return`Atualizei meu progresso: ${l.progressValue} ${l.unit}`}},suggestTags:o=>{var c;const l=["#progresso","#saude"];return(c=o.achievementData)!=null&&c.category&&l.push(`#${o.achievementData.category.toLowerCase()}`),o.achievementType==="goal_completed"?l.push("#metaconcluida","#vitoria"):o.achievementType==="milestone_reached"&&l.push("#marco","#quasel"),l},isSharing:e}},B3={easy:"from-green-500 to-green-600",medium:"from-yellow-500 to-orange-500",hard:"from-red-500 to-pink-500"},$ke={easy:kt,medium:_e,hard:Be},Yv=({challenge:e,onUpdate:t,children:r,isOpen:a,onClose:n,challengeId:i,challengeTitle:o,currentProgress:l,onProgressUpdate:c})=>{const d=a!==void 0,[u,m]=p.useState(!1),h=e||{id:i||"",title:o||"",target_value:100,current:l||0,unit:"pontos",difficulty:"medium",xp_reward:100,type:"individual"},[f,g]=p.useState(h.current),[x,y]=p.useState(""),[v,b]=p.useState(""),[j,N]=p.useState(!1),[w,S]=p.useState(""),[_,C]=p.useState(!1),{toast:E}=Ee(),{trigger:T}=yV(),{trigger:k,currentEffect:P,celebrate:D}=Lke();jV();const I=B=>!h.target_value||h.target_value===0?0:Math.min(B/h.target_value*100,100),V=I(f),W=f>=h.target_value,R=V>=80,F=$ke[h.difficulty],H=async B=>{B.preventDefault(),C(!0);try{const{data:{user:K}}=await z.auth.getUser();if(!K)throw new Error("Usurio no autenticado");if(c){c(V),n==null||n(),W?(D(),E({title:" Desafio Concludo!",description:`Parabns! Voc ganhou ${h.xp_reward} XP!`})):(D(),E({title:" Progresso Atualizado!",description:`${f} ${h.unit} registrados`}));return}console.log("Updating progress:",V),await new Promise(Q=>setTimeout(Q,500)),W?(D(),E({title:" Desafio Concludo!",description:`Parabns! Voc ganhou ${h.xp_reward} XP!`})):(D(),E({title:" Progresso Atualizado!",description:`${f} ${h.unit} registrados`})),m(!1),t==null||t()}catch(K){console.error("Erro ao atualizar progresso:",K),E({title:"Erro",description:"No foi possvel atualizar o progresso.",variant:"destructive"})}finally{C(!1)}},Z=B=>{const K=Math.min(f+B,h.target_value);g(K)};return s.jsxs(s.Fragment,{children:[s.jsx(vV,{trigger:T}),s.jsx(bV,{trigger:k,effectType:P,duration:3e3}),s.jsxs(gt,{open:d?a:u,onOpenChange:d?n:m,children:[s.jsx(ir,{asChild:!0,children:r}),s.jsxs(vt,{className:"sm:max-w-lg max-h-[90vh] overflow-y-auto",children:[s.jsx(yt,{children:s.jsxs(bt,{className:"flex items-center gap-2",children:[s.jsx(pe.div,{className:`p-2 bg-gradient-to-br ${B3[h.difficulty]} rounded-full`,animate:{rotate:[0,5,-5,0]},transition:{duration:2,repeat:1/0},children:s.jsx(F,{className:"w-5 h-5 text-white"})}),"Atualizar Desafio"]})}),s.jsxs("form",{onSubmit:H,className:"space-y-6",children:[s.jsxs("div",{className:"text-center space-y-3",children:[s.jsx("h3",{className:"font-semibold text-xl",children:h.title}),s.jsxs("div",{className:"flex items-center justify-center gap-4 text-sm",children:[s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(_e,{className:"w-4 h-4"}),s.jsxs("span",{children:["Meta: ",h.target_value," ",h.unit]})]}),s.jsx(X,{className:`bg-gradient-to-r ${B3[h.difficulty]} text-white border-0`,children:h.difficulty.toUpperCase()}),h.type==="community"&&s.jsx(X,{variant:"outline",children:"Comunidade"})]})]}),s.jsx("div",{className:"flex items-center justify-center py-6",children:s.jsx(pP,{progress:V,size:140,strokeWidth:8,gradientColors:[h.difficulty==="easy"?"#10B981":h.difficulty==="medium"?"#F59E0B":"#EF4444",W?"#10B981":"#3B82F6"],animated:!0,children:s.jsxs("div",{className:"text-center",children:[s.jsxs(pe.div,{className:"text-3xl font-bold mb-1",animate:V>I(h.current)?{scale:[1,1.2,1]}:{},children:[Math.round(V),"%"]}),s.jsxs("div",{className:"text-sm text-muted-foreground",children:[f,"/",h.target_value]}),s.jsx("div",{className:"text-xs text-muted-foreground",children:h.unit})]})})}),s.jsx(so,{children:W&&s.jsxs(pe.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},className:"text-center p-4 bg-gradient-to-r from-yellow-50 to-orange-50 rounded-lg border-2 border-yellow-200",children:[s.jsx(pe.div,{animate:{rotate:[0,10,-10,0]},transition:{duration:.5,repeat:3},children:s.jsx(Be,{className:"w-12 h-12 text-yellow-600 mx-auto mb-2"})}),s.jsx("p",{className:"text-yellow-800 font-bold text-lg",children:"Desafio Concludo! "}),s.jsxs("p",{className:"text-yellow-700",children:["Voc ganhou ",s.jsxs("span",{className:"font-semibold",children:[h.xp_reward," XP"]}),"!"]})]})}),s.jsx(so,{children:R&&!W&&s.jsx(pe.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"text-center p-3 bg-orange-50 rounded-lg border border-orange-200",children:s.jsxs("div",{className:"flex items-center justify-center gap-2",children:[s.jsx(Ss,{className:"w-5 h-5 text-orange-500"}),s.jsx("span",{className:"text-orange-700 font-medium",children:"Quase l! Continue assim! "})]})})}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(Y,{htmlFor:"progress-value",children:"Progresso Atual"}),s.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[s.jsx(re,{id:"progress-value",type:"number",min:"0",max:h.target_value,value:f,onChange:B=>g(Number(B.target.value)),className:"flex-1"}),s.jsx("span",{className:"text-sm text-muted-foreground min-w-fit",children:h.unit})]})]}),s.jsxs("div",{children:[s.jsx(Y,{children:"Controle Visual"}),s.jsx("div",{className:"px-2 mt-2",children:s.jsx(Wu,{value:[f],onValueChange:B=>g(B[0]),max:h.target_value,min:0,step:1,className:"w-full"})})]}),s.jsxs("div",{children:[s.jsx(Y,{children:"Incremento Rpido"}),s.jsxs("div",{className:"grid grid-cols-4 gap-2 mt-2",children:[s.jsxs(A,{type:"button",variant:"outline",size:"sm",onClick:()=>Z(1),disabled:f>=h.target_value,className:"flex items-center gap-1",children:[s.jsx(_s,{className:"w-3 h-3"}),"+1"]}),s.jsxs(A,{type:"button",variant:"outline",size:"sm",onClick:()=>Z(5),disabled:f>=h.target_value,className:"flex items-center gap-1",children:[s.jsx(us,{className:"w-3 h-3"}),"+5"]}),s.jsxs(A,{type:"button",variant:"outline",size:"sm",onClick:()=>Z(10),disabled:f>=h.target_value,className:"flex items-center gap-1",children:[s.jsx(kt,{className:"w-3 h-3"}),"+10"]}),s.jsxs(A,{type:"button",variant:"outline",size:"sm",onClick:()=>g(h.target_value),disabled:f>=h.target_value,className:"flex items-center gap-1",children:[s.jsx(Be,{className:"w-3 h-3"}),"Max"]})]})]})]}),s.jsxs("div",{children:[s.jsx(Y,{htmlFor:"notes",children:"Notas (opcional)"}),s.jsx(Ke,{id:"notes",placeholder:"Adicione observaes sobre seu progresso...",value:x,onChange:B=>y(B.target.value),className:"mt-1",rows:2})]}),s.jsxs("div",{children:[s.jsx(Y,{children:"Foto de Comprovao (opcional)"}),s.jsxs("div",{className:"grid grid-cols-2 gap-2 mt-2",children:[s.jsxs(A,{type:"button",variant:"outline",className:"flex items-center gap-2 h-20",children:[s.jsx(dm,{className:"w-5 h-5"}),s.jsxs("div",{className:"text-left",children:[s.jsx("div",{className:"font-medium",children:"Cmera"}),s.jsx("div",{className:"text-xs text-muted-foreground",children:"Tirar foto"})]})]}),s.jsxs(A,{type:"button",variant:"outline",className:"flex items-center gap-2 h-20",children:[s.jsx("div",{className:"w-5 h-5 bg-muted rounded flex items-center justify-center",children:""}),s.jsxs("div",{className:"text-left",children:[s.jsx("div",{className:"font-medium",children:"Galeria"}),s.jsx("div",{className:"text-xs text-muted-foreground",children:"Escolher foto"})]})]})]}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Mximo 3 arquivos. Tire foto direta da cmera ou escolha da galeria/Google Photos."})]}),s.jsx("div",{className:"p-4 bg-blue-50 rounded-lg border border-blue-200",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-8 h-8 bg-blue-500 rounded-full flex items-center justify-center",children:s.jsx("span",{className:"text-white text-sm",children:""})}),s.jsxs("div",{children:[s.jsx("div",{className:"font-medium text-blue-900",children:"Compartilhar na Comunidade"}),s.jsx("div",{className:"text-sm text-blue-700",children:"Compartilhe para motivar outros e receber apoio!"})]})]}),s.jsx(Uu,{checked:j,onCheckedChange:B=>N(B)})]})}),s.jsxs("div",{className:"flex gap-2 pt-4",children:[s.jsx(A,{type:"button",variant:"outline",onClick:()=>d?n==null?void 0:n():m(!1),className:"flex-1",children:"Cancelar"}),s.jsx(pe.div,{className:"flex-1",whileHover:{scale:1.02},whileTap:{scale:.98},children:s.jsx(A,{type:"submit",disabled:_||f===h.current,className:`w-full ${W?"bg-green-600 hover:bg-green-700":"bg-orange-500 hover:bg-orange-600"}`,children:_?"Salvando...":W?" Concluir Desafio!":" Atualizar Progresso"})})]})]})]})]})]})},Bke=()=>{const[e,t]=p.useState(null),r=p.useCallback((o="confetti")=>{t({type:o,trigger:!0}),setTimeout(()=>{t(null)},100)},[]),a=p.useCallback(()=>{r("confetti")},[r]),n=p.useCallback(()=>{r("fireworks")},[r]),i=p.useCallback(()=>{r("balloons")},[r]);return{activeCelebration:e,celebrate:r,celebrateGoalCompletion:a,celebrateChallengeCompletion:n,celebrateSpecialAchievement:i}},wV=()=>{const{toast:e}=Ee(),t=kl(),{data:r,isLoading:a}=Sn({queryKey:["challenge-participations"],queryFn:async()=>{const{data:{user:c}}=await z.auth.getUser();if(!c)return[];const{data:d,error:u}=await z.from("challenge_participations").select(`
          *,
          challenges (*)
        `).eq("user_id",c.id);if(u)throw u;return d||[]}}),n=bn({mutationFn:async c=>{const{data:{user:d}}=await z.auth.getUser();if(!d)throw new Error("Usurio no autenticado");if(r==null?void 0:r.find(x=>x.challenge_id===c))throw new Error("Voc j est participando deste desafio");const{data:m,error:h}=await z.from("challenges").select("target_value").eq("id",c).maybeSingle();if(h)throw h;if(!m)throw new Error("Desafio no encontrado");const{data:f,error:g}=await z.from("challenge_participations").insert({user_id:d.id,challenge_id:c,target_value:m.target_value||1,progress:0,current_streak:0,best_streak:0,is_completed:!1,started_at:new Date().toISOString()}).select().single();if(g)throw g.code==="23505"?new Error("Voc j est participando deste desafio"):g;return f},onSuccess:c=>{e({title:" Desafio Iniciado!",description:"Voc agora est participando do desafio!"}),t.invalidateQueries({queryKey:["challenge-participations"]})},onError:c=>{e({title:"Erro",description:c.message,variant:"destructive"})}}),i=bn({mutationFn:async({challengeId:c,progress:d})=>{const{data:{user:u}}=await z.auth.getUser();if(!u)throw new Error("Usurio no autenticado");const{data:m,error:h}=await z.from("challenge_participations").update({progress:d,is_completed:d>=100,completed_at:d>=100?new Date().toISOString():null}).eq("user_id",u.id).eq("challenge_id",c).select().single();if(h)throw h;return m},onSuccess:c=>{const d=c.is_completed;e({title:d?" Desafio Concludo!":" Progresso Atualizado!",description:d?"Parabns! Voc concluiu o desafio!":"Seu progresso foi atualizado!"}),t.invalidateQueries({queryKey:["challenge-participations"]})},onError:c=>{e({title:"Erro",description:c.message,variant:"destructive"})}}),o=c=>(r==null?void 0:r.some(d=>d.challenge_id===c))||!1,l=c=>{const d=r==null?void 0:r.find(u=>u.challenge_id===c);return d?{progress:d.progress||0,isCompleted:d.is_completed||!1,currentStreak:d.current_streak||0,bestStreak:d.best_streak||0}:null};return{participations:r,isLoading:a,participate:n.mutate,isParticipatingInChallenge:n.isPending,updateProgress:i.mutate,isUpdatingProgress:i.isPending,isParticipating:o,getProgress:l}},NV=({user:e})=>{const[t,r]=p.useState([]),[a,n]=p.useState(!0),[i,o]=p.useState(null),[l,c]=p.useState(!1),[d,u]=p.useState(!1),[m,h]=p.useState(null),{toast:f}=Ee(),{celebrateChallengeCompletion:g,activeCelebration:x}=Bke(),{isLoading:y,participate:v,isParticipatingInChallenge:b,isParticipating:j,getProgress:N,updateProgress:w}=wV();p.useEffect(()=>{S()},[]);const S=async()=>{try{n(!0);const{data:V,error:W}=await z.from("challenges").select("*").eq("is_active",!0).order("created_at",{ascending:!1});if(W){console.error("Erro ao buscar desafios:",W),r([{id:"01234567-89ab-cdef-0123-456789abcdef",title:"Hidratao Diria",description:"Beba 2L de gua todos os dias por uma semana",category:"hidratacao",difficulty:"facil",duration_days:7,points_reward:50,badge_icon:"",badge_name:"Hidratado",instructions:"Beba 2 litros de gua por dia",tips:["Carregue uma garrafa de gua","Defina lembretes"],is_active:!0,is_featured:!0,is_group_challenge:!1,target_value:14},{id:"11234567-89ab-cdef-0123-456789abcdef",title:"Exerccio Matinal",description:"Faa 30 minutos de exerccio todas as manhs",category:"exercicio",difficulty:"medio",duration_days:14,points_reward:120,badge_icon:"",badge_name:"Atleta Matinal",instructions:"Exercite-se por 30 minutos todas as manhs",tips:["Comece devagar","Prepare a roupa na noite anterior"],is_active:!0,is_featured:!1,is_group_challenge:!0,target_value:14},{id:"21234567-89ab-cdef-0123-456789abcdef",title:"Alimentao Saudvel",description:"Coma 5 pores de frutas e vegetais por dia",category:"nutricao",difficulty:"medio",duration_days:21,points_reward:200,badge_icon:"",badge_name:"Nutricionista",instructions:"Inclua 5 pores de frutas e vegetais em suas refeies dirias",tips:["Planeje as refeies","Varie as cores dos alimentos"],is_active:!0,is_featured:!1,is_group_challenge:!1,target_value:105}]);return}const R=(V==null?void 0:V.map(F=>({id:F.id,title:F.title,description:F.description||"",category:F.category||"geral",difficulty:F.difficulty||"medio",duration_days:F.duration_days||7,points_reward:F.xp_reward||100,badge_icon:"",badge_name:"Conquista",instructions:"",tips:[],is_active:F.is_active||!0,is_featured:!1,is_group_challenge:!1,target_value:F.target_value||100})))||[];r(R)}catch(V){console.error("Erro ao carregar desafios:",V),f({title:"Erro",description:"No foi possvel carregar os desafios",variant:"destructive"})}finally{n(!1)}},_=V=>{switch(V){case"jejum":return s.jsx(tp,{className:"h-5 w-5"});case"exercicio":return s.jsx(a6,{className:"h-5 w-5"});case"hidratacao":return s.jsx(Bi,{className:"h-5 w-5"});case"mindfulness":return s.jsx(ds,{className:"h-5 w-5"});case"nutricao":return s.jsx(KS,{className:"h-5 w-5"});case"sono":return s.jsx(ii,{className:"h-5 w-5"});case"medicao":return s.jsx(_t,{className:"h-5 w-5"});default:return s.jsx(_e,{className:"h-5 w-5"})}},C=V=>{switch(V){case"facil":return"from-green-500 to-green-600";case"medio":return"from-yellow-500 to-orange-500";case"dificil":return"from-orange-500 to-red-500";case"extremo":return"from-red-500 to-pink-500";default:return"from-gray-500 to-gray-600"}},E=V=>{switch(V){case"facil":return kt;case"medio":return _e;case"dificil":return Be;case"extremo":return Be;default:return _e}},T=V=>{switch(V){case"facil":return"Fcil";case"medio":return"Mdio";case"dificil":return"Difcil";case"extremo":return"Extremo";default:return V}},k=async(V,W)=>{if(W.stopPropagation(),!e){f({title:"Login necessrio",description:"Faa login para participar dos desafios",variant:"destructive"});return}if(j(V)){f({title:"J participando",description:"Voc j est participando deste desafio!"});return}try{v(V),g()}catch(R){f({title:"Erro ao participar do desafio",description:R.message,variant:"destructive"})}},P=V=>{h(V),u(!0)},D=V=>{m&&(w({challengeId:m.id,progress:V}),r(W=>W.map(R=>R.id===m.id?{...R,user_participation:R.user_participation?{...R.user_participation,progress:V,is_completed:V>=100}:R.user_participation}:R))),u(!1)};return(()=>{var V;return a||y?s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[1,2,3].map(W=>s.jsxs(M,{className:"animate-pulse",children:[s.jsxs($,{children:[s.jsx("div",{className:"h-4 bg-muted rounded w-3/4 mb-2"}),s.jsx("div",{className:"h-3 bg-muted rounded w-1/2"})]}),s.jsxs(O,{children:[s.jsx("div",{className:"h-3 bg-muted rounded w-full mb-2"}),s.jsx("div",{className:"h-3 bg-muted rounded w-2/3"})]})]},W))}):s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:t.map((W,R)=>{const F=E(W.difficulty),H=N(W.id),Z=j(W.id);return s.jsx(pe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:R*.1},className:"relative",children:s.jsxs(M,{className:"h-full relative overflow-hidden hover:shadow-lg transition-shadow",children:[s.jsx($,{className:"pb-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(pe.div,{className:`p-3 bg-gradient-to-br ${C(W.difficulty)} rounded-full`,whileHover:{rotate:10},transition:{duration:.2},children:s.jsx(F,{className:"w-6 h-6 text-white"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx(U,{className:"text-lg mb-2",children:W.title}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(X,{className:`bg-gradient-to-r ${C(W.difficulty)} text-white border-0`,children:T(W.difficulty)}),_(W.category)]})]})]}),s.jsx("div",{className:"text-3xl ml-3",children:W.badge_icon})]})}),s.jsxs(O,{className:"space-y-4 relative z-10",children:[s.jsx(qt,{className:"text-sm leading-relaxed",children:W.description}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"flex items-center gap-2 p-3 bg-muted/50 rounded-lg",children:[s.jsx(Vt,{className:"w-4 h-4 text-primary"}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-medium",children:W.duration_days}),s.jsx("div",{className:"text-xs text-muted-foreground",children:"dias"})]})]}),s.jsxs("div",{className:"flex items-center gap-2 p-3 bg-muted/50 rounded-lg",children:[s.jsx(Be,{className:"w-4 h-4 text-yellow-500"}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-medium",children:W.points_reward}),s.jsx("div",{className:"text-xs text-muted-foreground",children:"pontos"})]})]})]}),W.is_group_challenge&&s.jsxs("div",{className:"flex items-center gap-2 p-2 bg-blue-50 rounded-lg",children:[s.jsx(Le,{className:"w-4 h-4 text-blue-500"}),s.jsx("span",{className:"text-sm text-blue-700 font-medium",children:"Desafio em Grupo"})]}),Z&&H&&s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{children:"Progresso"}),s.jsxs("span",{children:[Math.round(H.progress),"%"]})]}),s.jsx(Ge,{value:H.progress,className:"h-2"})]}),s.jsx(pe.div,{whileHover:{scale:1.02},whileTap:{scale:.98},className:"pt-2",children:Z?s.jsxs(A,{className:"w-full bg-gradient-to-r from-green-500 to-green-600 hover:from-green-600 hover:to-green-700 text-white font-medium",onClick:()=>P(W),children:[s.jsx(Se,{className:"w-4 h-4 mr-2"}),"Atualizar Progresso (",Math.round((H==null?void 0:H.progress)||0),"%)"]}):s.jsxs(A,{className:"w-full bg-gradient-to-r from-primary to-primary/80 hover:from-primary/90 hover:to-primary/70 text-white font-medium",onClick:B=>k(W.id,B),disabled:b,children:[s.jsx(_e,{className:"w-4 h-4 mr-2"}),b?"Participando...":"Participar do Desafio"]})})]}),s.jsx(pe.div,{className:`absolute inset-0 border-2 border-transparent bg-gradient-to-br ${C(W.difficulty)} opacity-0 rounded-lg`,whileHover:{opacity:.1},transition:{duration:.3}})]})},W.id)})}),x&&s.jsx(bV,{trigger:x.trigger,effectType:x.type,duration:3e3}),m&&s.jsx(Yv,{isOpen:d,onClose:()=>u(!1),challengeId:m.id,challengeTitle:m.title,currentProgress:((V=N(m.id))==null?void 0:V.progress)||0,onProgressUpdate:D})]})})()};function zke(e,t){return p.useReducer((r,a)=>t[r][a]??r,e)}var xP="ScrollArea",[SV,m3e]=ys(xP),[Uke,Qa]=SV(xP),_V=p.forwardRef((e,t)=>{const{__scopeScrollArea:r,type:a="hover",dir:n,scrollHideDelay:i=600,...o}=e,[l,c]=p.useState(null),[d,u]=p.useState(null),[m,h]=p.useState(null),[f,g]=p.useState(null),[x,y]=p.useState(null),[v,b]=p.useState(0),[j,N]=p.useState(0),[w,S]=p.useState(!1),[_,C]=p.useState(!1),E=Me(t,k=>c(k)),T=ad(n);return s.jsx(Uke,{scope:r,type:a,dir:T,scrollHideDelay:i,scrollArea:l,viewport:d,onViewportChange:u,content:m,onContentChange:h,scrollbarX:f,onScrollbarXChange:g,scrollbarXEnabled:w,onScrollbarXEnabledChange:S,scrollbarY:x,onScrollbarYChange:y,scrollbarYEnabled:_,onScrollbarYEnabledChange:C,onCornerWidthChange:b,onCornerHeightChange:N,children:s.jsx(ge.div,{dir:T,...o,ref:E,style:{position:"relative","--radix-scroll-area-corner-width":v+"px","--radix-scroll-area-corner-height":j+"px",...e.style}})})});_V.displayName=xP;var CV="ScrollAreaViewport",kV=p.forwardRef((e,t)=>{const{__scopeScrollArea:r,children:a,nonce:n,...i}=e,o=Qa(CV,r),l=p.useRef(null),c=Me(t,l,o.onViewportChange);return s.jsxs(s.Fragment,{children:[s.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),s.jsx(ge.div,{"data-radix-scroll-area-viewport":"",...i,ref:c,style:{overflowX:o.scrollbarXEnabled?"scroll":"hidden",overflowY:o.scrollbarYEnabled?"scroll":"hidden",...e.style},children:s.jsx("div",{ref:o.onContentChange,style:{minWidth:"100%",display:"table"},children:a})})]})});kV.displayName=CV;var fi="ScrollAreaScrollbar",gP=p.forwardRef((e,t)=>{const{forceMount:r,...a}=e,n=Qa(fi,e.__scopeScrollArea),{onScrollbarXEnabledChange:i,onScrollbarYEnabledChange:o}=n,l=e.orientation==="horizontal";return p.useEffect(()=>(l?i(!0):o(!0),()=>{l?i(!1):o(!1)}),[l,i,o]),n.type==="hover"?s.jsx(qke,{...a,ref:t,forceMount:r}):n.type==="scroll"?s.jsx(Vke,{...a,ref:t,forceMount:r}):n.type==="auto"?s.jsx(PV,{...a,ref:t,forceMount:r}):n.type==="always"?s.jsx(vP,{...a,ref:t}):null});gP.displayName=fi;var qke=p.forwardRef((e,t)=>{const{forceMount:r,...a}=e,n=Qa(fi,e.__scopeScrollArea),[i,o]=p.useState(!1);return p.useEffect(()=>{const l=n.scrollArea;let c=0;if(l){const d=()=>{window.clearTimeout(c),o(!0)},u=()=>{c=window.setTimeout(()=>o(!1),n.scrollHideDelay)};return l.addEventListener("pointerenter",d),l.addEventListener("pointerleave",u),()=>{window.clearTimeout(c),l.removeEventListener("pointerenter",d),l.removeEventListener("pointerleave",u)}}},[n.scrollArea,n.scrollHideDelay]),s.jsx(bs,{present:r||i,children:s.jsx(PV,{"data-state":i?"visible":"hidden",...a,ref:t})})}),Vke=p.forwardRef((e,t)=>{const{forceMount:r,...a}=e,n=Qa(fi,e.__scopeScrollArea),i=e.orientation==="horizontal",o=gb(()=>c("SCROLL_END"),100),[l,c]=zke("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return p.useEffect(()=>{if(l==="idle"){const d=window.setTimeout(()=>c("HIDE"),n.scrollHideDelay);return()=>window.clearTimeout(d)}},[l,n.scrollHideDelay,c]),p.useEffect(()=>{const d=n.viewport,u=i?"scrollLeft":"scrollTop";if(d){let m=d[u];const h=()=>{const f=d[u];m!==f&&(c("SCROLL"),o()),m=f};return d.addEventListener("scroll",h),()=>d.removeEventListener("scroll",h)}},[n.viewport,i,c,o]),s.jsx(bs,{present:r||l!=="hidden",children:s.jsx(vP,{"data-state":l==="hidden"?"hidden":"visible",...a,ref:t,onPointerEnter:ce(e.onPointerEnter,()=>c("POINTER_ENTER")),onPointerLeave:ce(e.onPointerLeave,()=>c("POINTER_LEAVE"))})})}),PV=p.forwardRef((e,t)=>{const r=Qa(fi,e.__scopeScrollArea),{forceMount:a,...n}=e,[i,o]=p.useState(!1),l=e.orientation==="horizontal",c=gb(()=>{if(r.viewport){const d=r.viewport.offsetWidth<r.viewport.scrollWidth,u=r.viewport.offsetHeight<r.viewport.scrollHeight;o(l?d:u)}},10);return Ku(r.viewport,c),Ku(r.content,c),s.jsx(bs,{present:a||i,children:s.jsx(vP,{"data-state":i?"visible":"hidden",...n,ref:t})})}),vP=p.forwardRef((e,t)=>{const{orientation:r="vertical",...a}=e,n=Qa(fi,e.__scopeScrollArea),i=p.useRef(null),o=p.useRef(0),[l,c]=p.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),d=OV(l.viewport,l.content),u={...a,sizes:l,onSizesChange:c,hasThumb:d>0&&d<1,onThumbChange:h=>i.current=h,onThumbPointerUp:()=>o.current=0,onThumbPointerDown:h=>o.current=h};function m(h,f){return Xke(h,o.current,l,f)}return r==="horizontal"?s.jsx(Wke,{...u,ref:t,onThumbPositionChange:()=>{if(n.viewport&&i.current){const h=n.viewport.scrollLeft,f=z3(h,l,n.dir);i.current.style.transform=`translate3d(${f}px, 0, 0)`}},onWheelScroll:h=>{n.viewport&&(n.viewport.scrollLeft=h)},onDragScroll:h=>{n.viewport&&(n.viewport.scrollLeft=m(h,n.dir))}}):r==="vertical"?s.jsx(Hke,{...u,ref:t,onThumbPositionChange:()=>{if(n.viewport&&i.current){const h=n.viewport.scrollTop,f=z3(h,l);i.current.style.transform=`translate3d(0, ${f}px, 0)`}},onWheelScroll:h=>{n.viewport&&(n.viewport.scrollTop=h)},onDragScroll:h=>{n.viewport&&(n.viewport.scrollTop=m(h))}}):null}),Wke=p.forwardRef((e,t)=>{const{sizes:r,onSizesChange:a,...n}=e,i=Qa(fi,e.__scopeScrollArea),[o,l]=p.useState(),c=p.useRef(null),d=Me(t,c,i.onScrollbarXChange);return p.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),s.jsx(AV,{"data-orientation":"horizontal",...n,ref:d,sizes:r,style:{bottom:0,left:i.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:i.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":xb(r)+"px",...e.style},onThumbPointerDown:u=>e.onThumbPointerDown(u.x),onDragScroll:u=>e.onDragScroll(u.x),onWheelScroll:(u,m)=>{if(i.viewport){const h=i.viewport.scrollLeft+u.deltaX;e.onWheelScroll(h),RV(h,m)&&u.preventDefault()}},onResize:()=>{c.current&&i.viewport&&o&&a({content:i.viewport.scrollWidth,viewport:i.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:Qv(o.paddingLeft),paddingEnd:Qv(o.paddingRight)}})}})}),Hke=p.forwardRef((e,t)=>{const{sizes:r,onSizesChange:a,...n}=e,i=Qa(fi,e.__scopeScrollArea),[o,l]=p.useState(),c=p.useRef(null),d=Me(t,c,i.onScrollbarYChange);return p.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),s.jsx(AV,{"data-orientation":"vertical",...n,ref:d,sizes:r,style:{top:0,right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":xb(r)+"px",...e.style},onThumbPointerDown:u=>e.onThumbPointerDown(u.y),onDragScroll:u=>e.onDragScroll(u.y),onWheelScroll:(u,m)=>{if(i.viewport){const h=i.viewport.scrollTop+u.deltaY;e.onWheelScroll(h),RV(h,m)&&u.preventDefault()}},onResize:()=>{c.current&&i.viewport&&o&&a({content:i.viewport.scrollHeight,viewport:i.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:Qv(o.paddingTop),paddingEnd:Qv(o.paddingBottom)}})}})}),[Kke,EV]=SV(fi),AV=p.forwardRef((e,t)=>{const{__scopeScrollArea:r,sizes:a,hasThumb:n,onThumbChange:i,onThumbPointerUp:o,onThumbPointerDown:l,onThumbPositionChange:c,onDragScroll:d,onWheelScroll:u,onResize:m,...h}=e,f=Qa(fi,r),[g,x]=p.useState(null),y=Me(t,E=>x(E)),v=p.useRef(null),b=p.useRef(""),j=f.viewport,N=a.content-a.viewport,w=ss(u),S=ss(c),_=gb(m,10);function C(E){if(v.current){const T=E.clientX-v.current.left,k=E.clientY-v.current.top;d({x:T,y:k})}}return p.useEffect(()=>{const E=T=>{const k=T.target;(g==null?void 0:g.contains(k))&&w(T,N)};return document.addEventListener("wheel",E,{passive:!1}),()=>document.removeEventListener("wheel",E,{passive:!1})},[j,g,N,w]),p.useEffect(S,[a,S]),Ku(g,_),Ku(f.content,_),s.jsx(Kke,{scope:r,scrollbar:g,hasThumb:n,onThumbChange:ss(i),onThumbPointerUp:ss(o),onThumbPositionChange:S,onThumbPointerDown:ss(l),children:s.jsx(ge.div,{...h,ref:y,style:{position:"absolute",...h.style},onPointerDown:ce(e.onPointerDown,E=>{E.button===0&&(E.target.setPointerCapture(E.pointerId),v.current=g.getBoundingClientRect(),b.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",f.viewport&&(f.viewport.style.scrollBehavior="auto"),C(E))}),onPointerMove:ce(e.onPointerMove,C),onPointerUp:ce(e.onPointerUp,E=>{const T=E.target;T.hasPointerCapture(E.pointerId)&&T.releasePointerCapture(E.pointerId),document.body.style.webkitUserSelect=b.current,f.viewport&&(f.viewport.style.scrollBehavior=""),v.current=null})})})}),Xv="ScrollAreaThumb",TV=p.forwardRef((e,t)=>{const{forceMount:r,...a}=e,n=EV(Xv,e.__scopeScrollArea);return s.jsx(bs,{present:r||n.hasThumb,children:s.jsx(Gke,{ref:t,...a})})}),Gke=p.forwardRef((e,t)=>{const{__scopeScrollArea:r,style:a,...n}=e,i=Qa(Xv,r),o=EV(Xv,r),{onThumbPositionChange:l}=o,c=Me(t,m=>o.onThumbChange(m)),d=p.useRef(void 0),u=gb(()=>{d.current&&(d.current(),d.current=void 0)},100);return p.useEffect(()=>{const m=i.viewport;if(m){const h=()=>{if(u(),!d.current){const f=Qke(m,l);d.current=f,l()}};return l(),m.addEventListener("scroll",h),()=>m.removeEventListener("scroll",h)}},[i.viewport,u,l]),s.jsx(ge.div,{"data-state":o.hasThumb?"visible":"hidden",...n,ref:c,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...a},onPointerDownCapture:ce(e.onPointerDownCapture,m=>{const f=m.target.getBoundingClientRect(),g=m.clientX-f.left,x=m.clientY-f.top;o.onThumbPointerDown({x:g,y:x})}),onPointerUp:ce(e.onPointerUp,o.onThumbPointerUp)})});TV.displayName=Xv;var yP="ScrollAreaCorner",MV=p.forwardRef((e,t)=>{const r=Qa(yP,e.__scopeScrollArea),a=!!(r.scrollbarX&&r.scrollbarY);return r.type!=="scroll"&&a?s.jsx(Yke,{...e,ref:t}):null});MV.displayName=yP;var Yke=p.forwardRef((e,t)=>{const{__scopeScrollArea:r,...a}=e,n=Qa(yP,r),[i,o]=p.useState(0),[l,c]=p.useState(0),d=!!(i&&l);return Ku(n.scrollbarX,()=>{var m;const u=((m=n.scrollbarX)==null?void 0:m.offsetHeight)||0;n.onCornerHeightChange(u),c(u)}),Ku(n.scrollbarY,()=>{var m;const u=((m=n.scrollbarY)==null?void 0:m.offsetWidth)||0;n.onCornerWidthChange(u),o(u)}),d?s.jsx(ge.div,{...a,ref:t,style:{width:i,height:l,position:"absolute",right:n.dir==="ltr"?0:void 0,left:n.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function Qv(e){return e?parseInt(e,10):0}function OV(e,t){const r=e/t;return isNaN(r)?0:r}function xb(e){const t=OV(e.viewport,e.content),r=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,a=(e.scrollbar.size-r)*t;return Math.max(a,18)}function Xke(e,t,r,a="ltr"){const n=xb(r),i=n/2,o=t||i,l=n-o,c=r.scrollbar.paddingStart+o,d=r.scrollbar.size-r.scrollbar.paddingEnd-l,u=r.content-r.viewport,m=a==="ltr"?[0,u]:[u*-1,0];return DV([c,d],m)(e)}function z3(e,t,r="ltr"){const a=xb(t),n=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,i=t.scrollbar.size-n,o=t.content-t.viewport,l=i-a,c=r==="ltr"?[0,o]:[o*-1,0],d=kf(e,c);return DV([0,o],[0,l])(d)}function DV(e,t){return r=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const a=(t[1]-t[0])/(e[1]-e[0]);return t[0]+a*(r-e[0])}}function RV(e,t){return e>0&&e<t}var Qke=(e,t=()=>{})=>{let r={left:e.scrollLeft,top:e.scrollTop},a=0;return function n(){const i={left:e.scrollLeft,top:e.scrollTop},o=r.left!==i.left,l=r.top!==i.top;(o||l)&&t(),r=i,a=window.requestAnimationFrame(n)}(),()=>window.cancelAnimationFrame(a)};function gb(e,t){const r=ss(e),a=p.useRef(0);return p.useEffect(()=>()=>window.clearTimeout(a.current),[]),p.useCallback(()=>{window.clearTimeout(a.current),a.current=window.setTimeout(r,t)},[r,t])}function Ku(e,t){const r=ss(t);ns(()=>{let a=0;if(e){const n=new ResizeObserver(()=>{cancelAnimationFrame(a),a=window.requestAnimationFrame(r)});return n.observe(e),()=>{window.cancelAnimationFrame(a),n.unobserve(e)}}},[e,r])}var IV=_V,Jke=kV,Zke=MV;const FV=p.forwardRef(({className:e,children:t,...r},a)=>s.jsxs(IV,{ref:a,className:xe("relative overflow-hidden",e),...r,children:[s.jsx(Jke,{className:"h-full w-full rounded-[inherit]",children:t}),s.jsx(LV,{}),s.jsx(Zke,{})]}));FV.displayName=IV.displayName;const LV=p.forwardRef(({className:e,orientation:t="vertical",...r},a)=>s.jsx(gP,{ref:a,orientation:t,className:xe("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...r,children:s.jsx(TV,{className:"relative flex-1 rounded-full bg-border"})}));LV.displayName=gP.displayName;const $V=()=>{const[e,t]=p.useState(!1),[r,a]=p.useState([]),[n,i]=p.useState(""),[o,l]=p.useState(!1),[c,d]=p.useState(null),[u,m]=p.useState(null),h=p.useRef(null),f=p.useRef(null),g=p.useRef(null);ur();const x=T2("sofia"),y=[{name:"Sof.ia",avatar:x,colors:{primary:"from-purple-500 to-purple-600",secondary:"from-purple-400 to-purple-500"}},{name:"Dr. Vital",avatar:T2("dr-vital"),colors:{primary:"from-blue-500 to-blue-600",secondary:"from-blue-400 to-blue-500"}}],[v,b]=p.useState(y[0]),j=()=>new Date().getDay()===5?{name:"Dr. Vita",avatar:"DV",subtitle:"Doutor da Vida - Anlise Semanal",colors:{primary:"from-blue-600 to-blue-800",secondary:"bg-blue-50 text-blue-800"}}:{name:"Sof.ia",avatar:"SF",subtitle:"Sua Amiga de Bem-Estar",colors:{primary:"from-purple-500 to-pink-600",secondary:"bg-purple-50 text-purple-800"}},N=()=>{var P;(P=h.current)==null||P.scrollIntoView({behavior:"smooth"})};p.useEffect(()=>{N()},[r]),p.useEffect(()=>{const P=async()=>{try{const I=[]}catch(I){console.error("Erro ao verificar notificaes:",I)}};P();const D=setInterval(P,3e4);return()=>clearInterval(D)},[]),p.useEffect(()=>{if(e&&r.length===0){const P=j();b(P),(async()=>{try{const I=[];let V="";if(I&&I.length>0){const R=I.filter(Z=>Z.category==="sessions"),F=I.filter(Z=>Z.type==="email_report"),H=I.filter(Z=>Z.category==="challenges");V=` Ol! Tenho algumas novidades importantes para voc:

`,R.length>0&&(V+=` **${R.length} nova(s) sesso(es) disponvel(eis)**
`),F.length>0&&(V+=` **Relatrio por email disponvel**
`),H.length>0&&(V+=` **${H.length} novo(s) desafio(s)**
`),V+=`
J visualizou todas as novidades? Clique em " J vi tudo" para parar as notificaes.`}else P.name==="Dr. Vita"?V=` Ol! Eu sou o Dr. Vita, Doutor da Vida.  sexta-feira e chegou a hora do seu relatrio semanal!

Como voc est se sentindo hoje?`:V=` Ol! Eu sou a Sof.ia, sua amiga e agente de sade.

Vamos comear? Como foi seu dia hoje?`;a([{id:"welcome",content:V,isUser:!1,timestamp:new Date}])}catch(I){console.error("Erro ao criar mensagem de boas-vindas:",I)}})()}},[e]);const w=async()=>{try{const{data:{user:P}}=await z.auth.getUser();return console.log(" Usurio obtido:",P),P||{id:"guest-user"}}catch(P){return console.error("Erro ao obter usurio:",P),{id:"guest-user"}}},S=async P=>{try{const I=`${(await w()).id}/${Date.now()}_${P.name}`,{data:V,error:W}=await z.storage.from("chat-images").upload(I,P);if(W)return console.error("Erro ao fazer upload da imagem:",W),null;const{data:{publicUrl:R}}=z.storage.from("chat-images").getPublicUrl(I);return R}catch(D){return console.error("Erro ao processar imagem:",D),null}},_=P=>{var I;const D=(I=P.target.files)==null?void 0:I[0];if(D){d(D);const V=new FileReader;V.onload=W=>{var R;m((R=W.target)==null?void 0:R.result)},V.readAsDataURL(D)}},C=()=>{var P;(P=g.current)==null||P.click()},E=()=>{var P;(P=f.current)==null||P.click()},T=async()=>{if(!n.trim()&&!c||o)return;const P=await w();console.log(" Usurio atual:",P);let D;c&&(console.log(" Iniciando upload da imagem..."),D=await S(c),console.log(" URL da imagem:",D));const I={id:Date.now().toString(),content:n||" Imagem enviada",isUser:!0,timestamp:new Date,imageUrl:D};a(W=>[...W,I]);const V=n;i(""),d(null),m(null),l(!0);try{const W=r.filter(Z=>Z.id!=="welcome").map(Z=>({role:Z.isUser?"user":"assistant",content:Z.content}));console.log(" Enviando mensagem para o chatbot...",{message:V,userId:P==null?void 0:P.id,historyLength:W.length,hasImage:!!D,imageUrl:D});const{data:R,error:F}=await z.functions.invoke("health-chat-bot",{body:{message:V||"Usurio enviou uma imagem",userId:P.id,conversationHistory:W,imageUrl:D}});if(console.log(" Resposta da funo:",{data:R,error:F}),F)throw console.error(" Erro da Edge Function:",F),new Error(F.message||"Erro na comunicao com o servidor");if(!R)throw console.error(" Resposta vazia do servidor"),new Error("Resposta vazia do servidor");console.log(" Resposta recebida:",R);const H={id:(Date.now()+1).toString(),content:R.response||"Desculpe, no consegui gerar uma resposta.",isUser:!1,timestamp:new Date};if(a(Z=>[...Z,H]),R.character){const Z=y.find(B=>B.name===R.character)||y[0];b(Z)}}catch(W){console.error(" Erro ao enviar mensagem:",W);const R={id:(Date.now()+1).toString(),content:"Desculpe, tive um problema tcnico. Pode tentar novamente?",isUser:!1,timestamp:new Date};a(F=>[...F,R])}finally{l(!1)}},k=P=>{P.key==="Enter"&&!P.shiftKey&&(P.preventDefault(),T())};return s.jsxs(s.Fragment,{children:[s.jsx(A,{onClick:()=>t(!e),className:`fixed bottom-4 right-4 z-50 h-14 w-14 rounded-full shadow-lg transition-all duration-300 ${e?"bg-red-500 hover:bg-red-600":"bg-gradient-to-r from-purple-500 to-purple-600 hover:from-purple-600 hover:to-purple-700"}`,children:e?s.jsx(nr,{className:"h-6 w-6"}):s.jsx(zi,{className:"h-6 w-6"})}),e&&s.jsxs("div",{className:"fixed bottom-20 right-4 z-40 w-96 h-[500px] bg-white rounded-lg shadow-2xl border border-gray-200 flex flex-col",children:[s.jsx($,{className:"bg-gradient-to-r from-purple-500 to-purple-600 text-white p-4 rounded-t-lg",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:`w-10 h-10 rounded-full bg-gradient-to-r ${v==null?void 0:v.colors.primary} flex items-center justify-center text-white font-bold overflow-hidden`,children:(v==null?void 0:v.name)==="Sof.ia"?s.jsx("img",{src:x,alt:"Sofia",className:"w-full h-full object-cover rounded-full",onError:P=>{var D;P.currentTarget.style.display="none",(D=P.currentTarget.nextElementSibling)==null||D.classList.remove("hidden")}}):s.jsx("span",{className:"text-lg",children:v==null?void 0:v.avatar})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold",children:v==null?void 0:v.name}),s.jsx("p",{className:"text-xs opacity-90",children:"Online"})]})]}),s.jsx(A,{variant:"ghost",size:"sm",onClick:()=>t(!1),className:"text-white hover:bg-white/20",children:s.jsx(nr,{className:"h-4 w-4"})})]})}),s.jsxs(FV,{className:"flex-1 p-4",children:[s.jsxs("div",{className:"space-y-4",children:[r.map(P=>s.jsx("div",{className:`flex ${P.isUser?"justify-end":"justify-start"}`,children:s.jsx("div",{className:`max-w-[80%] ${P.isUser?"order-2":"order-1"}`,children:s.jsxs("div",{className:`flex items-start gap-2 ${P.isUser?"flex-row-reverse":"flex-row"}`,children:[!P.isUser&&s.jsx("div",{className:`w-8 h-8 rounded-full bg-gradient-to-r ${v==null?void 0:v.colors.primary} flex items-center justify-center text-white text-xs font-bold overflow-hidden flex-shrink-0`,children:(v==null?void 0:v.name)==="Sof.ia"?s.jsx("img",{src:x,alt:"Sofia",className:"w-full h-full object-cover rounded-full",onError:D=>{var I;D.currentTarget.style.display="none",(I=D.currentTarget.nextElementSibling)==null||I.classList.remove("hidden")}}):s.jsx("span",{children:v==null?void 0:v.avatar})}),s.jsxs("div",{className:`rounded-lg px-3 py-2 ${P.isUser?"bg-blue-500 text-white":"bg-gray-100 text-gray-900"}`,children:[P.imageUrl&&s.jsx("div",{className:"mb-2",children:s.jsx("img",{src:P.imageUrl,alt:"Imagem enviada",className:"max-w-full h-auto rounded-lg",style:{maxHeight:"200px"}})}),s.jsx("p",{className:"text-sm",children:P.content}),s.jsx("p",{className:"text-xs opacity-70 mt-1",children:P.timestamp.toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"})})]})]})})},P.id)),o&&s.jsx("div",{className:"flex justify-start",children:s.jsxs("div",{className:"flex items-center gap-2 bg-gray-100 rounded-lg px-3 py-2",children:[s.jsxs("div",{className:"flex gap-1",children:[s.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce"}),s.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce delay-100"}),s.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce delay-200"})]}),s.jsx("span",{className:"text-xs text-gray-500",children:"Digitando..."})]})})]}),s.jsx("div",{ref:h})]}),u&&s.jsx("div",{className:"p-4 border-t border-gray-200",children:s.jsxs("div",{className:"relative inline-block",children:[s.jsx("img",{src:u,alt:"Preview",className:"max-w-full h-auto rounded-lg",style:{maxHeight:"100px"}}),s.jsx(A,{size:"sm",variant:"destructive",className:"absolute -top-2 -right-2 h-6 w-6 rounded-full p-0",onClick:()=>{d(null),m(null)},children:s.jsx(nr,{className:"h-3 w-3"})})]})}),s.jsx("div",{className:"p-4 border-t",children:s.jsxs("div",{className:"flex gap-2",children:[s.jsxs("div",{className:"flex gap-1",children:[s.jsx(A,{size:"sm",variant:"ghost",onClick:C,className:"p-2 h-10 w-10",title:"Cmera",children:s.jsx(dm,{className:"h-4 w-4"})}),s.jsx(A,{size:"sm",variant:"ghost",onClick:E,className:"p-2 h-10 w-10",title:"Galeria",children:s.jsx(Rc,{className:"h-4 w-4"})})]}),s.jsx(re,{value:n,onChange:P=>i(P.target.value),onKeyDown:k,placeholder:"Digite sua mensagem...",className:"flex-1",disabled:o}),s.jsx(A,{onClick:T,disabled:!n.trim()&&!c||o,size:"sm",className:"bg-gradient-to-r from-purple-500 to-purple-600 hover:from-purple-600 hover:to-purple-700",children:s.jsx(hn,{className:"h-4 w-4"})})]})}),s.jsx("input",{ref:f,type:"file",accept:"image/*",onChange:_,className:"hidden"}),s.jsx("input",{ref:g,type:"file",accept:"image/*",capture:"environment",onChange:_,className:"hidden"})]})]})};function ePe(){const e=ur();return s.jsx(M,{className:"border-2 border-primary/20 bg-gradient-to-r from-primary/5 to-secondary/5",children:s.jsx(O,{className:"mobile-padding",children:s.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[s.jsxs("div",{className:"space-y-2 flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Le,{className:"w-5 h-5 text-primary"}),s.jsx("h3",{className:"font-semibold mobile-text-lg",children:"Comunidade HealthFeed"})]}),s.jsx("p",{className:"text-sm lg:text-base text-muted-foreground",children:"Compartilhe suas conquistas, progresso e inspire outras pessoas na sua jornada de sade"}),s.jsxs("div",{className:"hidden lg:flex items-center gap-4 text-xs text-muted-foreground",children:[s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(Ye,{className:"w-3 h-3"}),s.jsx("span",{children:"Rankings ativos"})]}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(zi,{className:"w-3 h-3"}),s.jsx("span",{children:"Comentrios"})]}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(He,{className:"w-3 h-3"}),s.jsx("span",{children:"Reaes"})]})]})]}),s.jsxs(A,{onClick:()=>e("/health-feed"),className:"bg-primary hover:bg-primary/90 mobile-button-lg w-full lg:w-auto",children:[s.jsx(Le,{className:"w-4 h-4 mr-2"}),"Entrar na Comunidade"]})]})})})}function tPe(){return UF.useSyncExternalStore(sPe,()=>!0,()=>!1)}function sPe(){return()=>{}}var bP="Avatar",[rPe,h3e]=ys(bP),[aPe,BV]=rPe(bP),zV=p.forwardRef((e,t)=>{const{__scopeAvatar:r,...a}=e,[n,i]=p.useState("idle");return s.jsx(aPe,{scope:r,imageLoadingStatus:n,onImageLoadingStatusChange:i,children:s.jsx(ge.span,{...a,ref:t})})});zV.displayName=bP;var UV="AvatarImage",qV=p.forwardRef((e,t)=>{const{__scopeAvatar:r,src:a,onLoadingStatusChange:n=()=>{},...i}=e,o=BV(UV,r),l=nPe(a,i),c=ss(d=>{n(d),o.onImageLoadingStatusChange(d)});return ns(()=>{l!=="idle"&&c(l)},[l,c]),l==="loaded"?s.jsx(ge.img,{...i,ref:t,src:a}):null});qV.displayName=UV;var VV="AvatarFallback",WV=p.forwardRef((e,t)=>{const{__scopeAvatar:r,delayMs:a,...n}=e,i=BV(VV,r),[o,l]=p.useState(a===void 0);return p.useEffect(()=>{if(a!==void 0){const c=window.setTimeout(()=>l(!0),a);return()=>window.clearTimeout(c)}},[a]),o&&i.imageLoadingStatus!=="loaded"?s.jsx(ge.span,{...n,ref:t}):null});WV.displayName=VV;function U3(e,t){return e?t?(e.src!==t&&(e.src=t),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}function nPe(e,{referrerPolicy:t,crossOrigin:r}){const a=tPe(),n=p.useRef(null),i=a?(n.current||(n.current=new window.Image),n.current):null,[o,l]=p.useState(()=>U3(i,e));return ns(()=>{l(U3(i,e))},[i,e]),ns(()=>{const c=m=>()=>{l(m)};if(!i)return;const d=c("loaded"),u=c("error");return i.addEventListener("load",d),i.addEventListener("error",u),t&&(i.referrerPolicy=t),typeof r=="string"&&(i.crossOrigin=r),()=>{i.removeEventListener("load",d),i.removeEventListener("error",u)}},[i,r,t]),o}var HV=zV,KV=qV,GV=WV;const jn=p.forwardRef(({className:e,...t},r)=>s.jsx(HV,{ref:r,className:xe("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",e),...t}));jn.displayName=HV.displayName;const ai=p.forwardRef(({className:e,...t},r)=>s.jsx(KV,{ref:r,className:xe("aspect-square h-full w-full",e),...t}));ai.displayName=KV.displayName;const wn=p.forwardRef(({className:e,...t},r)=>s.jsx(GV,{ref:r,className:xe("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...t}));wn.displayName=GV.displayName;var iPe="Separator",q3="horizontal",oPe=["horizontal","vertical"],YV=p.forwardRef((e,t)=>{const{decorative:r,orientation:a=q3,...n}=e,i=lPe(a)?a:q3,l=r?{role:"none"}:{"aria-orientation":i==="vertical"?i:void 0,role:"separator"};return s.jsx(ge.div,{"data-orientation":i,...l,...n,ref:t})});YV.displayName=iPe;function lPe(e){return oPe.includes(e)}var XV=YV;const Gu=p.forwardRef(({className:e,orientation:t="horizontal",decorative:r=!0,...a},n)=>s.jsx(XV,{ref:n,decorative:r,orientation:t,className:xe("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...a}));Gu.displayName=XV.displayName;function V3({currentUserId:e}){const[t,r]=p.useState("week"),[a,n]=p.useState("geral"),i=[{id:"1",name:"Maria Silva",avatar:"",points:2450,level:"Mestre",badge:"",position:1},{id:"2",name:"Joo Santos",avatar:"",points:2200,level:"Expert",badge:"",position:2},{id:"3",name:"Ana Costa",avatar:"",points:1980,level:"Expert",badge:"",position:3},{id:"4",name:"Pedro Lima",avatar:"",points:1750,level:"Dedicado",badge:"",position:4},{id:"5",name:"Sofia Mendes",avatar:"https://imagensids.s3.us-east-1.amazonaws.com/Sofia%20sem%20fundo.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZAQZCSRHU3YW55DQ%2F20250729%2Fus-east-1%2Fs3%2Faws4_request&X-Amz-Date=20250729T200136Z&X-Amz-Expires=300&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEIT%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLWVhc3QtMSJHMEUCIQChA3%2BbD1dZqLBDQqsI5BQFiUEGWdCUcevcJ9eXvyTkqAIgRI18C0sZ9AuXHxEfrihiBQnbyAcXCr9NQJ033v55sG0q3wIIrf%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FARAAGgw2MTk2MDE2MzAyODciDHNhM9pb2hgFxRbGmiqzAmX16D%2FTsmIZ44pytO6ppRtdkF2MNSclV%2B494zA1B%2FNYNYShq1yLQvYIE8mu%2Bw%2Fp623wtNUqHRK%2FVB55wp5C4S7VbqtWryvbWWgwqt78y32eIaXrv5AMKippOH9ueHFEAjsA%2FQbBN2mQZlD%2FiadabySlYFQSvWHJ6pKV077%2BwjTfedjHLgU0AusofsIolBqq%2FBoUHcMz2%2BRmhD3QIDshc7%2BBSOce76%2BuSEjWUql8fnYLrHn54Q%2BnQ5MIjGa8y1IZ7wBSXe4J0cZI%2FdgovKavwfAzfHm%2BmVcmS0mEIg0D1qK5UEOPcXwxfJU4a5f3nNXkRuoVlAfhVr0aDIeQ8oRjbJ923lFaz1m945SbBvcCeZnPFKODH6r9Xstrz5tp9fTj0FLZL7nRXb7KVq8fXGqLBQtD%2Bk8w%2FMykxAY6rQJsvxbhGbRYFYsd%2FgOTolaFps%2BmKV1R0j6pl0sTUgdJi94%2Fs6yv7igUxpCXKUdufJIk8NgOnIfkQYt88B0%2F0dYtStMeumcbgc%2Bpsi%2BlaUNd3I%2BBKgamg%2FY%2BnL4lo22YFVVJRgVEQ2ALLwQlqUW7wx%2BsATDs6LFkQ0zCZrjENrjvCcAGLdHw5R%2Fuo2nsg3yNuIHHMH%2BWz8ZBawseAP%2FwwgftK%2Bk%2BL5ira8wJtwX9FpgetHBlL2VXp3ZnamgV%2FuRJwHRXcVrqHr36zsizaedMk6KD6ITy%2BmPcx3Ai8vs37Ga24PnpfAbnGKqGLHOLhy8sAPjUQJX2jAOfGiYHHDRDaujJPQEshMpG0MZPXQur5oosX4M4qmQs8GSJvZAUcL7ZkahcF6ZHfltnM82YDtRx&X-Amz-Signature=898906fe6d7fd05f241153a3c5cbdb1980b83434d711179c47d010b057dc3eb4&X-Amz-SignedHeaders=host&response-content-disposition=inline",points:1620,level:"Dedicado",badge:"",position:5},{id:"6",name:"Voc",avatar:"",points:1420,level:"Dedicado",badge:"",position:8}],o=i.find(u=>u.name==="Voc"),l=u=>{switch(u){case"Mestre":return"text-purple-600 bg-purple-100";case"Expert":return"text-orange-600 bg-orange-100";case"Dedicado":return"text-blue-600 bg-blue-100";case"Ativo":return"text-green-600 bg-green-100";default:return"text-gray-600 bg-gray-100"}},c=u=>{switch(u){case 1:return s.jsx(Qn,{className:"w-4 h-4 md:w-5 md:h-5 text-yellow-500"});case 2:return s.jsx(nf,{className:"w-4 h-4 md:w-5 md:h-5 text-gray-400"});case 3:return s.jsx(jt,{className:"w-4 h-4 md:w-5 md:h-5 text-amber-600"});default:return s.jsxs("span",{className:"w-4 h-4 md:w-5 md:h-5 flex items-center justify-center text-xs md:text-sm font-bold text-muted-foreground",children:["#",u]})}},d=u=>{switch(u){case"geral":return s.jsx(Be,{className:"w-3 h-3 md:w-4 md:h-4"});case"peso":return s.jsx(Ye,{className:"w-3 h-3 md:w-4 md:h-4"});case"exercicio":return s.jsx(Ss,{className:"w-3 h-3 md:w-4 md:h-4"});case"hidratacao":return s.jsx(kt,{className:"w-3 h-3 md:w-4 md:h-4"});case"metas":return s.jsx(_e,{className:"w-3 h-3 md:w-4 md:h-4"});case"social":return s.jsx(Le,{className:"w-3 h-3 md:w-4 md:h-4"});default:return s.jsx(Be,{className:"w-3 h-3 md:w-4 md:h-4"})}};return s.jsxs("div",{className:"w-full space-y-3 md:space-y-4",children:[o&&s.jsxs(M,{className:"bg-gradient-to-r from-primary/10 to-secondary/10 border-primary/20",children:[s.jsx($,{className:"pb-2 md:pb-3",children:s.jsxs("h3",{className:"font-semibold flex items-center gap-2 text-sm md:text-base",children:[s.jsx(Be,{className:"w-4 h-4 md:w-5 md:h-5 text-primary"}),"Seu Ranking"]})}),s.jsxs(O,{className:"space-y-2 md:space-y-3",children:[s.jsxs("div",{className:"flex items-center gap-2 md:gap-3",children:[s.jsxs("div",{className:"flex items-center gap-1 md:gap-2",children:[c(o.position),s.jsx("span",{className:"text-lg md:text-xl",children:o.badge})]}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"font-semibold text-sm md:text-base truncate",children:o.name}),s.jsx(X,{className:`text-xs ${l(o.level)}`,children:o.level})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("p",{className:"text-lg md:text-xl font-bold text-primary",children:o.points}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"pontos"})]})]}),s.jsxs("div",{className:"space-y-1 md:space-y-2",children:[s.jsxs("div",{className:"flex justify-between text-xs",children:[s.jsx("span",{className:"truncate",children:"Prximo: Mestre"}),s.jsx("span",{className:"whitespace-nowrap",children:"580 pts"})]}),s.jsx("div",{className:"w-full bg-muted rounded-full h-1.5 md:h-2",children:s.jsx("div",{className:"bg-primary h-1.5 md:h-2 rounded-full transition-all duration-300",style:{width:`${o.points%1e3/10}%`}})})]})]})]}),s.jsxs(M,{children:[s.jsx($,{className:"pb-2 md:pb-3",children:s.jsx("h3",{className:"font-semibold text-sm md:text-base",children:"Rankings"})}),s.jsxs(O,{className:"space-y-2 md:space-y-3",children:[s.jsx(ga,{value:t,onValueChange:u=>r(u),children:s.jsxs(Gr,{className:"grid w-full grid-cols-3 h-8 md:h-10",children:[s.jsx(Ve,{value:"week",className:"text-xs md:text-sm",children:"Semana"}),s.jsx(Ve,{value:"month",className:"text-xs md:text-sm",children:"Ms"}),s.jsx(Ve,{value:"year",className:"text-xs md:text-sm",children:"Ano"})]})}),s.jsx("div",{className:"grid grid-cols-2 gap-1 md:gap-2",children:[{key:"geral",label:"Geral"},{key:"peso",label:"Peso"},{key:"exercicio",label:"Exerccio"},{key:"hidratacao",label:"Hidratao"},{key:"metas",label:"Metas"},{key:"social",label:"Social"}].map(u=>s.jsxs(A,{variant:a===u.key?"default":"outline",size:"sm",onClick:()=>n(u.key),className:"flex items-center gap-1 h-7 md:h-8 text-xs px-2 md:px-3",children:[d(u.key),s.jsx("span",{className:"truncate",children:u.label})]},u.key))})]})]}),s.jsxs(M,{children:[s.jsxs($,{className:"pb-2 md:pb-3",children:[s.jsxs("h3",{className:"font-semibold flex items-center gap-2 text-sm md:text-base",children:[d(a),s.jsxs("span",{className:"truncate",children:["Top 10 - ",a.charAt(0).toUpperCase()+a.slice(1)]})]}),s.jsxs("p",{className:"text-xs text-muted-foreground capitalize",children:["Ranking ",t==="week"?"semanal":t==="month"?"mensal":"anual"]})]}),s.jsx(O,{className:"space-y-2 md:space-y-3",children:i.slice(0,10).map((u,m)=>s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-2 md:gap-3 py-1",children:[s.jsxs("div",{className:"flex items-center gap-1 md:gap-2 w-8 md:w-10",children:[c(u.position),s.jsx("span",{className:"text-sm md:text-base",children:u.badge})]}),s.jsxs(jn,{className:"w-6 h-6 md:w-8 md:h-8",children:[s.jsx(ai,{src:u.avatar}),s.jsx(wn,{className:"text-xs md:text-sm",children:u.name.charAt(0)})]}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"font-medium text-xs md:text-sm truncate",children:u.name}),s.jsx(X,{variant:"secondary",className:`text-xs ${l(u.level)} px-1 py-0`,children:u.level})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("p",{className:"font-bold text-xs md:text-sm",children:u.points}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"pts"})]})]}),m<i.length-1&&s.jsx(Gu,{className:"mt-1 md:mt-2"})]},u.id))})]}),s.jsxs(M,{children:[s.jsx($,{className:"pb-2 md:pb-3",children:s.jsxs("h3",{className:"font-semibold flex items-center gap-2 text-sm md:text-base",children:[s.jsx(kt,{className:"w-4 h-4 md:w-5 md:h-5 text-yellow-500"}),"Conquistas"]})}),s.jsx(O,{children:s.jsx("div",{className:"grid grid-cols-3 gap-1 md:gap-2",children:[{icon:"",name:"Sequncia 7 dias",earned:!0},{icon:"",name:"Meta atingida",earned:!0},{icon:"",name:"Top 3 semanal",earned:!0},{icon:"",name:"Primeiro post",earned:!0},{icon:"",name:"Apoio social",earned:!1},{icon:"",name:"Influenciador",earned:!1}].map((u,m)=>s.jsxs("div",{className:`p-2 md:p-3 rounded-lg text-center border transition-all ${u.earned?"bg-primary/10 border-primary/20":"bg-muted/50 border-muted opacity-50"}`,children:[s.jsx("div",{className:"text-lg md:text-xl mb-1",children:u.icon}),s.jsx("p",{className:"text-xs font-medium leading-tight",children:u.name})]},m))})})]})]})}function Fe(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function Hr(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}function gr(e,t){const r=Fe(e);return isNaN(t)?Hr(e,NaN):(t&&r.setDate(r.getDate()+t),r)}function Pn(e,t){const r=Fe(e);if(isNaN(t))return Hr(e,NaN);if(!t)return r;const a=r.getDate(),n=Hr(e,r.getTime());n.setMonth(r.getMonth()+t+1,0);const i=n.getDate();return a>=i?n:(r.setFullYear(n.getFullYear(),n.getMonth(),a),r)}const jP=6048e5,cPe=864e5,Vx=43200,W3=1440;let dPe={};function Dm(){return dPe}function Ha(e,t){var l,c,d,u;const r=Dm(),a=(t==null?void 0:t.weekStartsOn)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??r.weekStartsOn??((u=(d=r.locale)==null?void 0:d.options)==null?void 0:u.weekStartsOn)??0,n=Fe(e),i=n.getDay(),o=(i<a?7:0)+i-a;return n.setDate(n.getDate()-o),n.setHours(0,0,0,0),n}function Wc(e){return Ha(e,{weekStartsOn:1})}function QV(e){const t=Fe(e),r=t.getFullYear(),a=Hr(e,0);a.setFullYear(r+1,0,4),a.setHours(0,0,0,0);const n=Wc(a),i=Hr(e,0);i.setFullYear(r,0,4),i.setHours(0,0,0,0);const o=Wc(i);return t.getTime()>=n.getTime()?r+1:t.getTime()>=o.getTime()?r:r-1}function Yu(e){const t=Fe(e);return t.setHours(0,0,0,0),t}function Xu(e){const t=Fe(e),r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return r.setUTCFullYear(t.getFullYear()),+e-+r}function Gn(e,t){const r=Yu(e),a=Yu(t),n=+r-Xu(r),i=+a-Xu(a);return Math.round((n-i)/cPe)}function uPe(e){const t=QV(e),r=Hr(e,0);return r.setFullYear(t,0,4),r.setHours(0,0,0,0),Wc(r)}function Jv(e,t){const r=t*7;return gr(e,r)}function mPe(e,t){return Pn(e,t*12)}function hPe(e){let t;return e.forEach(function(r){const a=Fe(r);(t===void 0||t<a||isNaN(Number(a)))&&(t=a)}),t||new Date(NaN)}function fPe(e){let t;return e.forEach(r=>{const a=Fe(r);(!t||t>a||isNaN(+a))&&(t=a)}),t||new Date(NaN)}function vg(e,t){const r=Fe(e),a=Fe(t),n=r.getTime()-a.getTime();return n<0?-1:n>0?1:n}function pPe(e){return Hr(e,Date.now())}function $r(e,t){const r=Yu(e),a=Yu(t);return+r==+a}function wP(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function xPe(e){if(!wP(e)&&typeof e!="number")return!1;const t=Fe(e);return!isNaN(Number(t))}function Qu(e,t){const r=Fe(e),a=Fe(t),n=r.getFullYear()-a.getFullYear(),i=r.getMonth()-a.getMonth();return n*12+i}function gPe(e,t,r){const a=Ha(e,r),n=Ha(t,r),i=+a-Xu(a),o=+n-Xu(n);return Math.round((i-o)/jP)}function vPe(e){return t=>{const a=(e?Math[e]:Math.trunc)(t);return a===0?0:a}}function yPe(e,t){return+Fe(e)-+Fe(t)}function bPe(e){const t=Fe(e);return t.setHours(23,59,59,999),t}function vb(e){const t=Fe(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(23,59,59,999),t}function jPe(e){const t=Fe(e);return+bPe(t)==+vb(t)}function wPe(e,t){const r=Fe(e),a=Fe(t),n=vg(r,a),i=Math.abs(Qu(r,a));let o;if(i<1)o=0;else{r.getMonth()===1&&r.getDate()>27&&r.setDate(30),r.setMonth(r.getMonth()-n*i);let l=vg(r,a)===-n;jPe(Fe(e))&&i===1&&vg(e,a)===1&&(l=!1),o=n*(i-Number(l))}return o===0?0:o}function NPe(e,t,r){const a=yPe(e,t)/1e3;return vPe(r==null?void 0:r.roundingMethod)(a)}function qr(e){const t=Fe(e);return t.setDate(1),t.setHours(0,0,0,0),t}function JV(e){const t=Fe(e),r=Hr(e,0);return r.setFullYear(t.getFullYear(),0,1),r.setHours(0,0,0,0),r}function Ff(e,t){var l,c,d,u;const r=Dm(),a=(t==null?void 0:t.weekStartsOn)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??r.weekStartsOn??((u=(d=r.locale)==null?void 0:d.options)==null?void 0:u.weekStartsOn)??0,n=Fe(e),i=n.getDay(),o=(i<a?-7:0)+6-(i-a);return n.setDate(n.getDate()+o),n.setHours(23,59,59,999),n}function ZV(e){return Ff(e,{weekStartsOn:1})}const SPe={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},_Pe=(e,t,r)=>{let a;const n=SPe[e];return typeof n=="string"?a=n:t===1?a=n.one:a=n.other.replace("{{count}}",t.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+a:a+" ago":a};function ou(e){return(t={})=>{const r=t.width?String(t.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}const CPe={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},kPe={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},PPe={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},EPe={date:ou({formats:CPe,defaultWidth:"full"}),time:ou({formats:kPe,defaultWidth:"full"}),dateTime:ou({formats:PPe,defaultWidth:"full"})},APe={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},TPe=(e,t,r,a)=>APe[e];function qn(e){return(t,r)=>{const a=r!=null&&r.context?String(r.context):"standalone";let n;if(a==="formatting"&&e.formattingValues){const o=e.defaultFormattingWidth||e.defaultWidth,l=r!=null&&r.width?String(r.width):o;n=e.formattingValues[l]||e.formattingValues[o]}else{const o=e.defaultWidth,l=r!=null&&r.width?String(r.width):e.defaultWidth;n=e.values[l]||e.values[o]}const i=e.argumentCallback?e.argumentCallback(t):t;return n[i]}}const MPe={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},OPe={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},DPe={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},RPe={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},IPe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},FPe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},LPe=(e,t)=>{const r=Number(e),a=r%100;if(a>20||a<10)switch(a%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},$Pe={ordinalNumber:LPe,era:qn({values:MPe,defaultWidth:"wide"}),quarter:qn({values:OPe,defaultWidth:"wide",argumentCallback:e=>e-1}),month:qn({values:DPe,defaultWidth:"wide"}),day:qn({values:RPe,defaultWidth:"wide"}),dayPeriod:qn({values:IPe,defaultWidth:"wide",formattingValues:FPe,defaultFormattingWidth:"wide"})};function Vn(e){return(t,r={})=>{const a=r.width,n=a&&e.matchPatterns[a]||e.matchPatterns[e.defaultMatchWidth],i=t.match(n);if(!i)return null;const o=i[0],l=a&&e.parsePatterns[a]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?zPe(l,m=>m.test(o)):BPe(l,m=>m.test(o));let d;d=e.valueCallback?e.valueCallback(c):c,d=r.valueCallback?r.valueCallback(d):d;const u=t.slice(o.length);return{value:d,rest:u}}}function BPe(e,t){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t(e[r]))return r}function zPe(e,t){for(let r=0;r<e.length;r++)if(t(e[r]))return r}function eW(e){return(t,r={})=>{const a=t.match(e.matchPattern);if(!a)return null;const n=a[0],i=t.match(e.parsePattern);if(!i)return null;let o=e.valueCallback?e.valueCallback(i[0]):i[0];o=r.valueCallback?r.valueCallback(o):o;const l=t.slice(n.length);return{value:o,rest:l}}}const UPe=/^(\d+)(th|st|nd|rd)?/i,qPe=/\d+/i,VPe={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},WPe={any:[/^b/i,/^(a|c)/i]},HPe={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},KPe={any:[/1/i,/2/i,/3/i,/4/i]},GPe={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},YPe={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},XPe={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},QPe={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},JPe={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},ZPe={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},e4e={ordinalNumber:eW({matchPattern:UPe,parsePattern:qPe,valueCallback:e=>parseInt(e,10)}),era:Vn({matchPatterns:VPe,defaultMatchWidth:"wide",parsePatterns:WPe,defaultParseWidth:"any"}),quarter:Vn({matchPatterns:HPe,defaultMatchWidth:"wide",parsePatterns:KPe,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Vn({matchPatterns:GPe,defaultMatchWidth:"wide",parsePatterns:YPe,defaultParseWidth:"any"}),day:Vn({matchPatterns:XPe,defaultMatchWidth:"wide",parsePatterns:QPe,defaultParseWidth:"any"}),dayPeriod:Vn({matchPatterns:JPe,defaultMatchWidth:"any",parsePatterns:ZPe,defaultParseWidth:"any"})},NP={code:"en-US",formatDistance:_Pe,formatLong:EPe,formatRelative:TPe,localize:$Pe,match:e4e,options:{weekStartsOn:0,firstWeekContainsDate:1}};function t4e(e){const t=Fe(e);return Gn(t,JV(t))+1}function tW(e){const t=Fe(e),r=+Wc(t)-+uPe(t);return Math.round(r/jP)+1}function sW(e,t){var u,m,h,f;const r=Fe(e),a=r.getFullYear(),n=Dm(),i=(t==null?void 0:t.firstWeekContainsDate)??((m=(u=t==null?void 0:t.locale)==null?void 0:u.options)==null?void 0:m.firstWeekContainsDate)??n.firstWeekContainsDate??((f=(h=n.locale)==null?void 0:h.options)==null?void 0:f.firstWeekContainsDate)??1,o=Hr(e,0);o.setFullYear(a+1,0,i),o.setHours(0,0,0,0);const l=Ha(o,t),c=Hr(e,0);c.setFullYear(a,0,i),c.setHours(0,0,0,0);const d=Ha(c,t);return r.getTime()>=l.getTime()?a+1:r.getTime()>=d.getTime()?a:a-1}function s4e(e,t){var l,c,d,u;const r=Dm(),a=(t==null?void 0:t.firstWeekContainsDate)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.firstWeekContainsDate)??r.firstWeekContainsDate??((u=(d=r.locale)==null?void 0:d.options)==null?void 0:u.firstWeekContainsDate)??1,n=sW(e,t),i=Hr(e,0);return i.setFullYear(n,0,a),i.setHours(0,0,0,0),Ha(i,t)}function rW(e,t){const r=Fe(e),a=+Ha(r,t)-+s4e(r,t);return Math.round(a/jP)+1}function ht(e,t){const r=e<0?"-":"",a=Math.abs(e).toString().padStart(t,"0");return r+a}const jo={y(e,t){const r=e.getFullYear(),a=r>0?r:1-r;return ht(t==="yy"?a%100:a,t.length)},M(e,t){const r=e.getMonth();return t==="M"?String(r+1):ht(r+1,2)},d(e,t){return ht(e.getDate(),t.length)},a(e,t){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(e,t){return ht(e.getHours()%12||12,t.length)},H(e,t){return ht(e.getHours(),t.length)},m(e,t){return ht(e.getMinutes(),t.length)},s(e,t){return ht(e.getSeconds(),t.length)},S(e,t){const r=t.length,a=e.getMilliseconds(),n=Math.trunc(a*Math.pow(10,r-3));return ht(n,t.length)}},Sd={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},H3={G:function(e,t,r){const a=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return r.era(a,{width:"abbreviated"});case"GGGGG":return r.era(a,{width:"narrow"});case"GGGG":default:return r.era(a,{width:"wide"})}},y:function(e,t,r){if(t==="yo"){const a=e.getFullYear(),n=a>0?a:1-a;return r.ordinalNumber(n,{unit:"year"})}return jo.y(e,t)},Y:function(e,t,r,a){const n=sW(e,a),i=n>0?n:1-n;if(t==="YY"){const o=i%100;return ht(o,2)}return t==="Yo"?r.ordinalNumber(i,{unit:"year"}):ht(i,t.length)},R:function(e,t){const r=QV(e);return ht(r,t.length)},u:function(e,t){const r=e.getFullYear();return ht(r,t.length)},Q:function(e,t,r){const a=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(a);case"QQ":return ht(a,2);case"Qo":return r.ordinalNumber(a,{unit:"quarter"});case"QQQ":return r.quarter(a,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(a,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(a,{width:"wide",context:"formatting"})}},q:function(e,t,r){const a=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(a);case"qq":return ht(a,2);case"qo":return r.ordinalNumber(a,{unit:"quarter"});case"qqq":return r.quarter(a,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(a,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(a,{width:"wide",context:"standalone"})}},M:function(e,t,r){const a=e.getMonth();switch(t){case"M":case"MM":return jo.M(e,t);case"Mo":return r.ordinalNumber(a+1,{unit:"month"});case"MMM":return r.month(a,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(a,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(a,{width:"wide",context:"formatting"})}},L:function(e,t,r){const a=e.getMonth();switch(t){case"L":return String(a+1);case"LL":return ht(a+1,2);case"Lo":return r.ordinalNumber(a+1,{unit:"month"});case"LLL":return r.month(a,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(a,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(a,{width:"wide",context:"standalone"})}},w:function(e,t,r,a){const n=rW(e,a);return t==="wo"?r.ordinalNumber(n,{unit:"week"}):ht(n,t.length)},I:function(e,t,r){const a=tW(e);return t==="Io"?r.ordinalNumber(a,{unit:"week"}):ht(a,t.length)},d:function(e,t,r){return t==="do"?r.ordinalNumber(e.getDate(),{unit:"date"}):jo.d(e,t)},D:function(e,t,r){const a=t4e(e);return t==="Do"?r.ordinalNumber(a,{unit:"dayOfYear"}):ht(a,t.length)},E:function(e,t,r){const a=e.getDay();switch(t){case"E":case"EE":case"EEE":return r.day(a,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(a,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(a,{width:"short",context:"formatting"});case"EEEE":default:return r.day(a,{width:"wide",context:"formatting"})}},e:function(e,t,r,a){const n=e.getDay(),i=(n-a.weekStartsOn+8)%7||7;switch(t){case"e":return String(i);case"ee":return ht(i,2);case"eo":return r.ordinalNumber(i,{unit:"day"});case"eee":return r.day(n,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(n,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(n,{width:"short",context:"formatting"});case"eeee":default:return r.day(n,{width:"wide",context:"formatting"})}},c:function(e,t,r,a){const n=e.getDay(),i=(n-a.weekStartsOn+8)%7||7;switch(t){case"c":return String(i);case"cc":return ht(i,t.length);case"co":return r.ordinalNumber(i,{unit:"day"});case"ccc":return r.day(n,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(n,{width:"narrow",context:"standalone"});case"cccccc":return r.day(n,{width:"short",context:"standalone"});case"cccc":default:return r.day(n,{width:"wide",context:"standalone"})}},i:function(e,t,r){const a=e.getDay(),n=a===0?7:a;switch(t){case"i":return String(n);case"ii":return ht(n,t.length);case"io":return r.ordinalNumber(n,{unit:"day"});case"iii":return r.day(a,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(a,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(a,{width:"short",context:"formatting"});case"iiii":default:return r.day(a,{width:"wide",context:"formatting"})}},a:function(e,t,r){const n=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.dayPeriod(n,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(n,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(n,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(n,{width:"wide",context:"formatting"})}},b:function(e,t,r){const a=e.getHours();let n;switch(a===12?n=Sd.noon:a===0?n=Sd.midnight:n=a/12>=1?"pm":"am",t){case"b":case"bb":return r.dayPeriod(n,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(n,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(n,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(n,{width:"wide",context:"formatting"})}},B:function(e,t,r){const a=e.getHours();let n;switch(a>=17?n=Sd.evening:a>=12?n=Sd.afternoon:a>=4?n=Sd.morning:n=Sd.night,t){case"B":case"BB":case"BBB":return r.dayPeriod(n,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(n,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(n,{width:"wide",context:"formatting"})}},h:function(e,t,r){if(t==="ho"){let a=e.getHours()%12;return a===0&&(a=12),r.ordinalNumber(a,{unit:"hour"})}return jo.h(e,t)},H:function(e,t,r){return t==="Ho"?r.ordinalNumber(e.getHours(),{unit:"hour"}):jo.H(e,t)},K:function(e,t,r){const a=e.getHours()%12;return t==="Ko"?r.ordinalNumber(a,{unit:"hour"}):ht(a,t.length)},k:function(e,t,r){let a=e.getHours();return a===0&&(a=24),t==="ko"?r.ordinalNumber(a,{unit:"hour"}):ht(a,t.length)},m:function(e,t,r){return t==="mo"?r.ordinalNumber(e.getMinutes(),{unit:"minute"}):jo.m(e,t)},s:function(e,t,r){return t==="so"?r.ordinalNumber(e.getSeconds(),{unit:"second"}):jo.s(e,t)},S:function(e,t){return jo.S(e,t)},X:function(e,t,r){const a=e.getTimezoneOffset();if(a===0)return"Z";switch(t){case"X":return G3(a);case"XXXX":case"XX":return Ql(a);case"XXXXX":case"XXX":default:return Ql(a,":")}},x:function(e,t,r){const a=e.getTimezoneOffset();switch(t){case"x":return G3(a);case"xxxx":case"xx":return Ql(a);case"xxxxx":case"xxx":default:return Ql(a,":")}},O:function(e,t,r){const a=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+K3(a,":");case"OOOO":default:return"GMT"+Ql(a,":")}},z:function(e,t,r){const a=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+K3(a,":");case"zzzz":default:return"GMT"+Ql(a,":")}},t:function(e,t,r){const a=Math.trunc(e.getTime()/1e3);return ht(a,t.length)},T:function(e,t,r){const a=e.getTime();return ht(a,t.length)}};function K3(e,t=""){const r=e>0?"-":"+",a=Math.abs(e),n=Math.trunc(a/60),i=a%60;return i===0?r+String(n):r+String(n)+t+ht(i,2)}function G3(e,t){return e%60===0?(e>0?"-":"+")+ht(Math.abs(e)/60,2):Ql(e,t)}function Ql(e,t=""){const r=e>0?"-":"+",a=Math.abs(e),n=ht(Math.trunc(a/60),2),i=ht(a%60,2);return r+n+t+i}const Y3=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},aW=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},r4e=(e,t)=>{const r=e.match(/(P+)(p+)?/)||[],a=r[1],n=r[2];if(!n)return Y3(e,t);let i;switch(a){case"P":i=t.dateTime({width:"short"});break;case"PP":i=t.dateTime({width:"medium"});break;case"PPP":i=t.dateTime({width:"long"});break;case"PPPP":default:i=t.dateTime({width:"full"});break}return i.replace("{{date}}",Y3(a,t)).replace("{{time}}",aW(n,t))},a4e={p:aW,P:r4e},n4e=/^D+$/,i4e=/^Y+$/,o4e=["D","DD","YY","YYYY"];function l4e(e){return n4e.test(e)}function c4e(e){return i4e.test(e)}function d4e(e,t,r){const a=u4e(e,t,r);if(console.warn(a),o4e.includes(e))throw new RangeError(a)}function u4e(e,t,r){const a=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${a} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const m4e=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,h4e=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,f4e=/^'([^]*?)'?$/,p4e=/''/g,x4e=/[a-zA-Z]/;function Ka(e,t,r){var u,m,h,f,g,x,y,v;const a=Dm(),n=(r==null?void 0:r.locale)??a.locale??NP,i=(r==null?void 0:r.firstWeekContainsDate)??((m=(u=r==null?void 0:r.locale)==null?void 0:u.options)==null?void 0:m.firstWeekContainsDate)??a.firstWeekContainsDate??((f=(h=a.locale)==null?void 0:h.options)==null?void 0:f.firstWeekContainsDate)??1,o=(r==null?void 0:r.weekStartsOn)??((x=(g=r==null?void 0:r.locale)==null?void 0:g.options)==null?void 0:x.weekStartsOn)??a.weekStartsOn??((v=(y=a.locale)==null?void 0:y.options)==null?void 0:v.weekStartsOn)??0,l=Fe(e);if(!xPe(l))throw new RangeError("Invalid time value");let c=t.match(h4e).map(b=>{const j=b[0];if(j==="p"||j==="P"){const N=a4e[j];return N(b,n.formatLong)}return b}).join("").match(m4e).map(b=>{if(b==="''")return{isToken:!1,value:"'"};const j=b[0];if(j==="'")return{isToken:!1,value:g4e(b)};if(H3[j])return{isToken:!0,value:b};if(j.match(x4e))throw new RangeError("Format string contains an unescaped latin alphabet character `"+j+"`");return{isToken:!1,value:b}});n.localize.preprocessor&&(c=n.localize.preprocessor(l,c));const d={firstWeekContainsDate:i,weekStartsOn:o,locale:n};return c.map(b=>{if(!b.isToken)return b.value;const j=b.value;(!(r!=null&&r.useAdditionalWeekYearTokens)&&c4e(j)||!(r!=null&&r.useAdditionalDayOfYearTokens)&&l4e(j))&&d4e(j,t,String(e));const N=H3[j[0]];return N(l,j,n.localize,d)}).join("")}function g4e(e){const t=e.match(f4e);return t?t[1].replace(p4e,"'"):e}function v4e(e,t,r){const a=Dm(),n=(r==null?void 0:r.locale)??a.locale??NP,i=2520,o=vg(e,t);if(isNaN(o))throw new RangeError("Invalid time value");const l=Object.assign({},r,{addSuffix:r==null?void 0:r.addSuffix,comparison:o});let c,d;o>0?(c=Fe(t),d=Fe(e)):(c=Fe(e),d=Fe(t));const u=NPe(d,c),m=(Xu(d)-Xu(c))/1e3,h=Math.round((u-m)/60);let f;if(h<2)return r!=null&&r.includeSeconds?u<5?n.formatDistance("lessThanXSeconds",5,l):u<10?n.formatDistance("lessThanXSeconds",10,l):u<20?n.formatDistance("lessThanXSeconds",20,l):u<40?n.formatDistance("halfAMinute",0,l):u<60?n.formatDistance("lessThanXMinutes",1,l):n.formatDistance("xMinutes",1,l):h===0?n.formatDistance("lessThanXMinutes",1,l):n.formatDistance("xMinutes",h,l);if(h<45)return n.formatDistance("xMinutes",h,l);if(h<90)return n.formatDistance("aboutXHours",1,l);if(h<W3){const g=Math.round(h/60);return n.formatDistance("aboutXHours",g,l)}else{if(h<i)return n.formatDistance("xDays",1,l);if(h<Vx){const g=Math.round(h/W3);return n.formatDistance("xDays",g,l)}else if(h<Vx*2)return f=Math.round(h/Vx),n.formatDistance("aboutXMonths",f,l)}if(f=wPe(d,c),f<12){const g=Math.round(h/Vx);return n.formatDistance("xMonths",g,l)}else{const g=f%12,x=Math.trunc(f/12);return g<3?n.formatDistance("aboutXYears",x,l):g<9?n.formatDistance("overXYears",x,l):n.formatDistance("almostXYears",x+1,l)}}function X3(e,t){return v4e(e,pPe(e),t)}function y4e(e){const t=Fe(e),r=t.getFullYear(),a=t.getMonth(),n=Hr(e,0);return n.setFullYear(r,a+1,0),n.setHours(0,0,0,0),n.getDate()}function b4e(e){return Math.trunc(+Fe(e)/1e3)}function j4e(e){const t=Fe(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(0,0,0,0),t}function w4e(e,t){return gPe(j4e(e),qr(e),t)+1}function R2(e,t){const r=Fe(e),a=Fe(t);return r.getTime()>a.getTime()}function nW(e,t){const r=Fe(e),a=Fe(t);return+r<+a}function SP(e,t){const r=Fe(e),a=Fe(t);return r.getFullYear()===a.getFullYear()&&r.getMonth()===a.getMonth()}function N4e(e,t){const r=Fe(e),a=Fe(t);return r.getFullYear()===a.getFullYear()}function hw(e,t){return gr(e,-t)}function fw(e,t){const r=Fe(e),a=r.getFullYear(),n=r.getDate(),i=Hr(e,0);i.setFullYear(a,t,15),i.setHours(0,0,0,0);const o=y4e(i);return r.setMonth(t,Math.min(n,o)),r}function Q3(e,t){const r=Fe(e);return isNaN(+r)?Hr(e,NaN):(r.setFullYear(t),r)}function J3(e,t){return Jv(e,-1)}const S4e={lessThanXSeconds:{one:"menos de um segundo",other:"menos de {{count}} segundos"},xSeconds:{one:"1 segundo",other:"{{count}} segundos"},halfAMinute:"meio minuto",lessThanXMinutes:{one:"menos de um minuto",other:"menos de {{count}} minutos"},xMinutes:{one:"1 minuto",other:"{{count}} minutos"},aboutXHours:{one:"cerca de 1 hora",other:"cerca de {{count}} horas"},xHours:{one:"1 hora",other:"{{count}} horas"},xDays:{one:"1 dia",other:"{{count}} dias"},aboutXWeeks:{one:"cerca de 1 semana",other:"cerca de {{count}} semanas"},xWeeks:{one:"1 semana",other:"{{count}} semanas"},aboutXMonths:{one:"cerca de 1 ms",other:"cerca de {{count}} meses"},xMonths:{one:"1 ms",other:"{{count}} meses"},aboutXYears:{one:"cerca de 1 ano",other:"cerca de {{count}} anos"},xYears:{one:"1 ano",other:"{{count}} anos"},overXYears:{one:"mais de 1 ano",other:"mais de {{count}} anos"},almostXYears:{one:"quase 1 ano",other:"quase {{count}} anos"}},_4e=(e,t,r)=>{let a;const n=S4e[e];return typeof n=="string"?a=n:t===1?a=n.one:a=n.other.replace("{{count}}",String(t)),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"em "+a:"h "+a:a},C4e={full:"EEEE, d 'de' MMMM 'de' y",long:"d 'de' MMMM 'de' y",medium:"d MMM y",short:"dd/MM/yyyy"},k4e={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},P4e={full:"{{date}} 's' {{time}}",long:"{{date}} 's' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},E4e={date:ou({formats:C4e,defaultWidth:"full"}),time:ou({formats:k4e,defaultWidth:"full"}),dateTime:ou({formats:P4e,defaultWidth:"full"})},A4e={lastWeek:e=>{const t=e.getDay();return"'"+(t===0||t===6?"ltimo":"ltima")+"' eeee 's' p"},yesterday:"'ontem s' p",today:"'hoje s' p",tomorrow:"'amanh s' p",nextWeek:"eeee 's' p",other:"P"},T4e=(e,t,r,a)=>{const n=A4e[e];return typeof n=="function"?n(t):n},M4e={narrow:["AC","DC"],abbreviated:["AC","DC"],wide:["antes de cristo","depois de cristo"]},O4e={narrow:["1","2","3","4"],abbreviated:["T1","T2","T3","T4"],wide:["1 trimestre","2 trimestre","3 trimestre","4 trimestre"]},D4e={narrow:["j","f","m","a","m","j","j","a","s","o","n","d"],abbreviated:["jan","fev","mar","abr","mai","jun","jul","ago","set","out","nov","dez"],wide:["janeiro","fevereiro","maro","abril","maio","junho","julho","agosto","setembro","outubro","novembro","dezembro"]},R4e={narrow:["D","S","T","Q","Q","S","S"],short:["dom","seg","ter","qua","qui","sex","sab"],abbreviated:["domingo","segunda","tera","quarta","quinta","sexta","sbado"],wide:["domingo","segunda-feira","tera-feira","quarta-feira","quinta-feira","sexta-feira","sbado"]},I4e={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"manh",afternoon:"tarde",evening:"tarde",night:"noite"},abbreviated:{am:"AM",pm:"PM",midnight:"meia-noite",noon:"meio-dia",morning:"manh",afternoon:"tarde",evening:"tarde",night:"noite"},wide:{am:"a.m.",pm:"p.m.",midnight:"meia-noite",noon:"meio-dia",morning:"manh",afternoon:"tarde",evening:"tarde",night:"noite"}},F4e={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"da manh",afternoon:"da tarde",evening:"da tarde",night:"da noite"},abbreviated:{am:"AM",pm:"PM",midnight:"meia-noite",noon:"meio-dia",morning:"da manh",afternoon:"da tarde",evening:"da tarde",night:"da noite"},wide:{am:"a.m.",pm:"p.m.",midnight:"meia-noite",noon:"meio-dia",morning:"da manh",afternoon:"da tarde",evening:"da tarde",night:"da noite"}},L4e=(e,t)=>{const r=Number(e);return(t==null?void 0:t.unit)==="week"?r+"":r+""},$4e={ordinalNumber:L4e,era:qn({values:M4e,defaultWidth:"wide"}),quarter:qn({values:O4e,defaultWidth:"wide",argumentCallback:e=>e-1}),month:qn({values:D4e,defaultWidth:"wide"}),day:qn({values:R4e,defaultWidth:"wide"}),dayPeriod:qn({values:I4e,defaultWidth:"wide",formattingValues:F4e,defaultFormattingWidth:"wide"})},B4e=/^(\d+)[o]?/i,z4e=/\d+/i,U4e={narrow:/^(ac|dc|a|d)/i,abbreviated:/^(a\.?\s?c\.?|d\.?\s?c\.?)/i,wide:/^(antes de cristo|depois de cristo)/i},q4e={any:[/^ac/i,/^dc/i],wide:[/^antes de cristo/i,/^depois de cristo/i]},V4e={narrow:/^[1234]/i,abbreviated:/^T[1234]/i,wide:/^[1234]()? trimestre/i},W4e={any:[/1/i,/2/i,/3/i,/4/i]},H4e={narrow:/^[jfmajsond]/i,abbreviated:/^(jan|fev|mar|abr|mai|jun|jul|ago|set|out|nov|dez)/i,wide:/^(janeiro|fevereiro|maro|abril|maio|junho|julho|agosto|setembro|outubro|novembro|dezembro)/i},K4e={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^fev/i,/^mar/i,/^abr/i,/^mai/i,/^jun/i,/^jul/i,/^ago/i,/^set/i,/^out/i,/^nov/i,/^dez/i]},G4e={narrow:/^(dom|[23456]?|s[a]b)/i,short:/^(dom|[23456]?|s[a]b)/i,abbreviated:/^(dom|seg|ter|qua|qui|sex|s[a]b)/i,wide:/^(domingo|(segunda|ter[c]a|quarta|quinta|sexta)([- ]feira)?|s[a]bado)/i},Y4e={short:[/^d/i,/^2/i,/^3/i,/^4/i,/^5/i,/^6/i,/^s[a]/i],narrow:[/^d/i,/^2/i,/^3/i,/^4/i,/^5/i,/^6/i,/^s[a]/i],any:[/^d/i,/^seg/i,/^t/i,/^qua/i,/^qui/i,/^sex/i,/^s[a]b/i]},X4e={narrow:/^(a|p|mn|md|(da) (manh|tarde|noite))/i,any:/^([ap]\.?\s?m\.?|meia[-\s]noite|meio[-\s]dia|(da) (manh|tarde|noite))/i},Q4e={any:{am:/^a/i,pm:/^p/i,midnight:/^mn|^meia[-\s]noite/i,noon:/^md|^meio[-\s]dia/i,morning:/manh/i,afternoon:/tarde/i,evening:/tarde/i,night:/noite/i}},J4e={ordinalNumber:eW({matchPattern:B4e,parsePattern:z4e,valueCallback:e=>parseInt(e,10)}),era:Vn({matchPatterns:U4e,defaultMatchWidth:"wide",parsePatterns:q4e,defaultParseWidth:"any"}),quarter:Vn({matchPatterns:V4e,defaultMatchWidth:"wide",parsePatterns:W4e,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Vn({matchPatterns:H4e,defaultMatchWidth:"wide",parsePatterns:K4e,defaultParseWidth:"any"}),day:Vn({matchPatterns:G4e,defaultMatchWidth:"wide",parsePatterns:Y4e,defaultParseWidth:"any"}),dayPeriod:Vn({matchPatterns:X4e,defaultMatchWidth:"any",parsePatterns:Q4e,defaultParseWidth:"any"})},Zv={code:"pt-BR",formatDistance:_4e,formatLong:E4e,formatRelative:T4e,localize:$4e,match:J4e,options:{weekStartsOn:0,firstWeekContainsDate:1}};function Z4e(e){const t=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""];let r=0;for(let i=0;i<e.length;i++){const o=e.charCodeAt(i);r=(r<<5)-r+o,r=r&r}const n=Math.abs(r)%t.length;return t[n]}function eEe(e){return`https://api.dicebear.com/7.x/avataaars/svg?seed=${encodeURIComponent(e)}`}function Ju(e,t){return e&&e.trim()?{type:"photo",value:e}:Math.abs(tEe(t))%2===0?{type:"emoji",value:Z4e(t)}:{type:"generated",value:eEe(t)}}function tEe(e){let t=0;for(let r=0;r<e.length;r++){const a=e.charCodeAt(r);t=(t<<5)-t+a,t=t&t}return t}function sEe({post:e,onReaction:t,onComment:r,onShare:a}){const[n,i]=p.useState(!1),[o,l]=p.useState(""),c=g=>{switch(g){case"conquista":return s.jsx(Be,{className:"w-4 h-4 text-yellow-500"});case"progresso":return s.jsx(Ss,{className:"w-4 h-4 text-orange-500"});case"meta":return s.jsx(Be,{className:"w-4 h-4 text-purple-500"});default:return s.jsx(as,{className:"w-4 h-4 text-gray-500"})}},d=g=>{switch(g){case"conquista":return"Conquista";case"progresso":return"Progresso";case"meta":return"Meta";default:return"Post"}},u=g=>{switch(g){case"Mestre":return"text-purple-600 bg-purple-100";case"Expert":return"text-orange-600 bg-orange-100";case"Dedicado":return"text-blue-600 bg-blue-100";case"Ativo":return"text-green-600 bg-green-100";default:return"text-gray-600 bg-gray-100"}},m=g=>{switch(g){case"like":return"";case"love":return"";case"fire":return"";case"hands":return"";case"trophy":return"";default:return""}},h=Object.values(e.reactions).reduce((g,x)=>g+x.count,0);Object.values(e.reactions).some(g=>g.userReacted);const f=()=>{o.trim()&&(r(e.id,o),l(""))};return s.jsxs(M,{className:"w-full max-w-full overflow-hidden",children:[s.jsx($,{className:"pb-3 px-3 sm:px-6",children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 min-w-0 flex-1",children:[s.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 rounded-full overflow-hidden bg-muted flex items-center justify-center flex-shrink-0",children:(()=>{const g=Ju(e.userAvatar,e.userName);return g.type==="photo"||g.type==="generated"?s.jsx("img",{src:g.value,alt:e.userName,className:"w-full h-full object-cover"}):s.jsx("div",{className:"text-sm sm:text-lg",children:g.value})})()}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center gap-1 sm:gap-2",children:[s.jsx("h4",{className:"font-semibold text-sm sm:text-base truncate",children:e.userName}),s.jsx(X,{className:`text-xs flex-shrink-0 ${u(e.userLevel)}`,children:e.userLevel})]}),s.jsxs("div",{className:"flex items-center gap-1 sm:gap-2 text-xs sm:text-sm text-muted-foreground flex-wrap",children:[s.jsxs("div",{className:"flex items-center gap-1",children:[c(e.postType),s.jsx("span",{className:"hidden sm:inline",children:d(e.postType)})]}),"",s.jsx("time",{className:"truncate",children:X3(new Date(e.createdAt),{addSuffix:!0,locale:Zv})}),e.location&&s.jsxs(s.Fragment,{children:["",s.jsxs("div",{className:"flex items-center gap-1 min-w-0",children:[s.jsx(ep,{className:"w-3 h-3 flex-shrink-0"}),s.jsx("span",{className:"truncate text-xs",children:e.location})]})]})]})]})]}),s.jsx(A,{variant:"ghost",size:"sm",className:"flex-shrink-0",children:s.jsx(n6,{className:"w-3 h-3 sm:w-4 sm:h-4"})})]})}),s.jsxs(O,{className:"space-y-3 sm:space-y-4 px-3 sm:px-6",children:[s.jsxs("div",{className:"space-y-2 sm:space-y-3",children:[s.jsx("p",{className:"text-sm leading-relaxed break-words",children:e.content}),e.achievementsData&&s.jsxs("div",{className:"bg-gradient-to-r from-yellow-50 to-orange-50 border border-yellow-200 rounded-lg p-2 sm:p-3",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1 sm:mb-2",children:[s.jsx(Be,{className:"w-4 h-4 sm:w-5 sm:h-5 text-yellow-600 flex-shrink-0"}),s.jsx("span",{className:"font-semibold text-yellow-800 text-sm",children:"Conquista Desbloqueada!"})]}),s.jsx("p",{className:"text-xs sm:text-sm text-yellow-700",children:e.achievementsData.description}),e.achievementsData.points&&s.jsxs("p",{className:"text-xs text-yellow-600 mt-1",children:["+",e.achievementsData.points," pontos"]})]}),e.progressData&&s.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-purple-50 border border-blue-200 rounded-lg p-2 sm:p-3",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1 sm:mb-2",children:[s.jsx(Ss,{className:"w-4 h-4 sm:w-5 sm:h-5 text-blue-600 flex-shrink-0"}),s.jsx("span",{className:"font-semibold text-blue-800 text-sm",children:"Progresso Registrado"})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2 text-xs sm:text-sm",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsxs("p",{className:"text-blue-600",children:["Antes: ",e.progressData.before]}),s.jsxs("p",{className:"text-blue-600",children:["Depois: ",e.progressData.after]})]}),s.jsx("div",{children:s.jsxs("p",{className:"text-green-600 font-semibold",children:["Progresso: ",e.progressData.change]})})]})]}),e.mediaUrls.length>0&&s.jsx("div",{className:"grid grid-cols-2 gap-1 sm:gap-2",children:e.mediaUrls.map((g,x)=>s.jsxs("div",{className:"relative aspect-square bg-muted rounded-lg overflow-hidden",children:[s.jsx("img",{src:g,alt:`Mdia ${x+1}`,className:"w-full h-full object-cover hover:scale-105 transition-transform cursor-pointer"}),g.includes("video")&&s.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black/20",children:s.jsx(ta,{className:"w-6 h-6 sm:w-8 sm:h-8 text-white"})})]},x))})]}),s.jsx(Gu,{}),s.jsxs("div",{className:"flex items-center justify-between text-sm text-muted-foreground",children:[s.jsx("div",{className:"flex items-center gap-2",children:h>0&&s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("div",{className:"flex -space-x-1",children:Object.entries(e.reactions).filter(([g,x])=>x.count>0).slice(0,3).map(([g,x])=>s.jsx("span",{className:"text-base",children:m(g)},g))}),s.jsx("span",{children:h})]})}),s.jsx("div",{className:"flex items-center gap-4",children:e.comments.length>0&&s.jsxs("button",{onClick:()=>i(!n),className:"hover:underline",children:[e.comments.length," comentrio",e.comments.length!==1?"s":""]})})]}),s.jsx(Gu,{}),s.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-2",children:[s.jsx("div",{className:"flex items-center gap-1 flex-wrap",children:Object.entries(e.reactions).slice(0,3).map(([g,x])=>s.jsxs(A,{variant:"ghost",size:"sm",onClick:()=>t(e.id,g),className:`flex items-center gap-1 px-2 py-1 text-xs h-8 ${x.userReacted?"text-primary bg-primary/10":"hover:bg-muted"}`,children:[s.jsx("span",{className:"text-sm",children:m(g)}),x.count>0&&s.jsx("span",{className:"text-xs font-medium",children:x.count})]},g))}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsxs(A,{variant:"ghost",size:"sm",onClick:()=>i(!n),className:"flex items-center gap-1 px-3 py-1 h-8 hover:bg-muted",children:[s.jsx(zi,{className:"w-3 h-3 sm:w-4 sm:h-4"}),s.jsx("span",{className:"text-xs",children:"Com"}),e.comments.length>0&&s.jsx("span",{className:"text-xs bg-muted-foreground/20 px-1 py-0.5 rounded-full",children:e.comments.length})]}),s.jsxs(A,{variant:"ghost",size:"sm",onClick:()=>a(e.id),className:"flex items-center gap-1 px-3 py-1 h-8 hover:bg-muted",children:[s.jsx(d6,{className:"w-3 h-3 sm:w-4 sm:h-4"}),s.jsx("span",{className:"text-xs",children:"Comp"})]})]})]}),n&&s.jsxs("div",{className:"space-y-2 sm:space-y-3 pt-2 sm:pt-3 border-t",children:[e.comments.map(g=>s.jsxs("div",{className:"flex gap-2 sm:gap-3",children:[s.jsx("div",{className:"w-6 h-6 sm:w-8 sm:h-8 rounded-full overflow-hidden bg-muted flex items-center justify-center flex-shrink-0",children:(()=>{const x=Ju(g.userAvatar,g.userName);return x.type==="photo"||x.type==="generated"?s.jsx("img",{src:x.value,alt:g.userName,className:"w-full h-full object-cover"}):s.jsx("div",{className:"text-xs sm:text-sm",children:x.value})})()}),s.jsxs("div",{className:"flex-1 space-y-1 min-w-0",children:[s.jsxs("div",{className:"bg-muted rounded-lg p-2 sm:p-3",children:[s.jsx("p",{className:"font-semibold text-xs sm:text-sm truncate",children:g.userName}),s.jsx("p",{className:"text-xs sm:text-sm break-words",children:g.content})]}),s.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 text-xs text-muted-foreground",children:[s.jsx("button",{className:"hover:underline",children:"Curtir"}),s.jsx("button",{className:"hover:underline",children:"Responder"}),s.jsx("time",{className:"truncate",children:X3(new Date(g.createdAt),{addSuffix:!0,locale:Zv})})]})]})]},g.id)),s.jsxs("div",{className:"flex gap-2 sm:gap-3",children:[s.jsx("div",{className:"w-6 h-6 sm:w-8 sm:h-8 rounded-full bg-primary/10 flex items-center justify-center flex-shrink-0",children:s.jsx("span",{className:"text-xs sm:text-sm text-primary font-semibold",children:"U"})}),s.jsxs("div",{className:"flex-1 space-y-2 min-w-0",children:[s.jsx("textarea",{value:o,onChange:g=>l(g.target.value),placeholder:"Escreva um comentrio...",className:"w-full min-h-[60px] sm:min-h-[80px] p-2 sm:p-3 border rounded-lg resize-none focus:outline-none focus:ring-2 focus:ring-primary text-sm"}),s.jsx("div",{className:"flex justify-end",children:s.jsx(A,{size:"sm",onClick:f,disabled:!o.trim(),className:"text-xs sm:text-sm",children:"Comentar"})})]})]})]})]})]})}function rEe({onFilesChange:e,maxFiles:t=5,accept:r="image/*,video/*",currentFiles:a=[]}){const[n,i]=p.useState(!1),o=p.useRef(null),{toast:l}=Ee(),c=async f=>{try{const{data:{user:g}}=await z.auth.getUser();if(!g)throw new Error("Usurio no autenticado");const x=f.name.split(".").pop(),y=`${g.id}/${Date.now()}-${Math.random().toString(36).substring(2)}.${x}`,{error:v}=await z.storage.from("community-uploads").upload(y,f);if(v)throw v;const{data:{publicUrl:b}}=z.storage.from("community-uploads").getPublicUrl(y);return b}catch(g){return console.error("Erro no upload:",g),l({title:"Erro no upload",description:"No foi possvel fazer upload do arquivo",variant:"destructive"}),null}},d=async f=>{const g=Array.from(f.target.files||[]);if(g.length!==0){if(a.length+g.length>t){l({title:"Limite excedido",description:`Voc pode enviar no mximo ${t} arquivos`,variant:"destructive"});return}i(!0);try{const x=g.map(c),v=(await Promise.all(x)).filter(b=>b!==null);v.length>0&&(e([...a,...v]),l({title:"Upload concludo",description:`${v.length} arquivo(s) enviado(s) com sucesso`}))}catch{l({title:"Erro no upload",description:"No foi possvel fazer upload dos arquivos",variant:"destructive"})}finally{i(!1),o.current&&(o.current.value="")}}},u=f=>{const g=a.filter((x,y)=>y!==f);e(g)},m=f=>/\.(jpg|jpeg|png|gif|webp)$/i.test(f),h=f=>/\.(mp4|webm|ogg|mov)$/i.test(f);return s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex gap-2",children:[s.jsx("input",{ref:o,type:"file",accept:r,multiple:!0,onChange:d,className:"hidden"}),s.jsxs(A,{type:"button",variant:"outline",size:"sm",onClick:()=>{var f;return(f=o.current)==null?void 0:f.click()},disabled:n||a.length>=t,children:[n?s.jsx(Xg,{className:"w-4 h-4 animate-spin"}):s.jsx(dm,{className:"w-4 h-4"}),n?"Enviando...":"Adicionar foto/vdeo"]}),s.jsxs("span",{className:"text-sm text-muted-foreground self-center",children:[a.length,"/",t]})]}),a.length>0&&s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:a.map((f,g)=>s.jsxs("div",{className:"relative group",children:[s.jsx("div",{className:"aspect-square rounded-lg overflow-hidden bg-muted",children:m(f)?s.jsx("img",{src:f,alt:`Upload ${g+1}`,className:"w-full h-full object-cover"}):h(f)?s.jsx("video",{src:f,className:"w-full h-full object-cover",controls:!1,muted:!0}):s.jsx("div",{className:"w-full h-full flex items-center justify-center",children:s.jsx(Rc,{className:"w-8 h-8 text-muted-foreground"})})}),s.jsx(A,{type:"button",variant:"destructive",size:"icon",className:"absolute -top-2 -right-2 h-6 w-6 rounded-full opacity-0 group-hover:opacity-100 transition-opacity",onClick:()=>u(g),children:s.jsx(nr,{className:"w-3 h-3"})}),s.jsx("div",{className:"absolute bottom-1 left-1",children:h(f)&&s.jsx("div",{className:"bg-black/50 rounded px-1 py-0.5",children:s.jsx(ta,{className:"w-3 h-3 text-white"})})})]},g))})]})}function aEe({onPost:e,currentUser:t}){const[r,a]=p.useState(""),[n,i]=p.useState("conquista"),[o,l]=p.useState(""),[c,d]=p.useState([]),[u,m]=p.useState(!1),[h,f]=p.useState({title:"",description:"",points:0}),[g,x]=p.useState({metric:"",before:"",after:"",change:""}),y=()=>{if(!r.trim())return;e({content:r,postType:n,location:o,tags:[],mediaUrls:c,achievementsData:n==="conquista"?h:null,progressData:n==="progresso"?g:null,visibility:"public",isStory:!1}),a(""),l(""),d([]),m(!1),f({title:"",description:"",points:0}),x({metric:"",before:"",after:"",change:""})},v=w=>{d(w)},b=w=>{switch(w){case"conquista":return s.jsx(Be,{className:"w-4 h-4 text-yellow-500"});case"progresso":return s.jsx(Ss,{className:"w-4 h-4 text-orange-500"});case"meta":return s.jsx(_e,{className:"w-4 h-4 text-purple-500"});default:return s.jsx(Be,{className:"w-4 h-4 text-gray-500"})}},j=w=>{switch(w){case"conquista":return'Compartilhe sua conquista! Ex: "Completei meu primeiro 5K!" ';case"progresso":return'Mostre seu progresso! Ex: "Perdi 2kg este ms!" ';case"meta":return'Defina sua meta! Ex: "Nova meta: correr 10K em 2 meses" ';default:return"O que voc quer compartilhar hoje?"}},N=w=>{switch(w){case"Mestre":return"text-purple-600 bg-purple-100";case"Especialista":return"text-orange-600 bg-orange-100";case"Dedicado":return"text-blue-600 bg-blue-100";case"Intermedirio":return"text-green-600 bg-green-100";default:return"text-gray-600 bg-gray-100"}};return s.jsxs(M,{className:"w-full max-w-full overflow-hidden",children:[s.jsx($,{className:"pb-3 px-3 sm:px-6",children:s.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[s.jsxs(jn,{className:"w-8 h-8 sm:w-10 sm:h-10 flex-shrink-0",children:[s.jsx(ai,{src:t.avatar}),s.jsx(wn,{className:"text-xs sm:text-base",children:t.name.charAt(0)})]}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center gap-1 sm:gap-2",children:[s.jsx("h4",{className:"font-semibold text-sm sm:text-base truncate",children:t.name}),s.jsx(X,{className:`text-xs flex-shrink-0 ${N(t.level)}`,children:t.level})]}),s.jsxs(rt,{value:n,onValueChange:w=>i(w),children:[s.jsx(tt,{className:"w-32 sm:w-40 h-6 sm:h-8 mt-1 text-xs sm:text-sm",children:s.jsx(at,{})}),s.jsxs(st,{children:[s.jsx(he,{value:"conquista",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Be,{className:"w-3 h-3 sm:w-4 sm:h-4 text-yellow-500"}),s.jsx("span",{className:"text-xs sm:text-sm",children:"Conquista"})]})}),s.jsx(he,{value:"progresso",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ss,{className:"w-3 h-3 sm:w-4 sm:h-4 text-orange-500"}),s.jsx("span",{className:"text-xs sm:text-sm",children:"Progresso"})]})}),s.jsx(he,{value:"meta",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(_e,{className:"w-3 h-3 sm:w-4 sm:h-4 text-purple-500"}),s.jsx("span",{className:"text-xs sm:text-sm",children:"Meta"})]})})]})]})]})]})}),s.jsxs(O,{className:"space-y-3 sm:space-y-4 px-3 sm:px-6",children:[s.jsx(Ke,{value:r,onChange:w=>a(w.target.value),placeholder:j(n),className:"min-h-[100px] resize-none border-none focus:outline-none",onFocus:()=>m(!0)}),u&&n==="conquista"&&s.jsxs("div",{className:"space-y-3 p-3 bg-yellow-50 border border-yellow-200 rounded-lg",children:[s.jsxs("h4",{className:"font-semibold text-yellow-800 flex items-center gap-2",children:[s.jsx(Be,{className:"w-4 h-4"}),"Detalhes da Conquista"]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(re,{placeholder:"Ttulo da conquista",value:h.title,onChange:w=>f({...h,title:w.target.value})}),s.jsx(re,{placeholder:"Descrio",value:h.description,onChange:w=>f({...h,description:w.target.value})}),s.jsx(re,{type:"number",placeholder:"Pontos conquistados",value:h.points,onChange:w=>f({...h,points:parseInt(w.target.value)||0})})]})]}),u&&n==="progresso"&&s.jsxs("div",{className:"space-y-3 p-3 bg-blue-50 border border-blue-200 rounded-lg",children:[s.jsxs("h4",{className:"font-semibold text-blue-800 flex items-center gap-2",children:[s.jsx(Ss,{className:"w-4 h-4"}),"Dados do Progresso"]}),s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsx(re,{placeholder:"Mtrica (ex: peso, bf%)",value:g.metric,onChange:w=>x({...g,metric:w.target.value})}),s.jsx(re,{placeholder:"Variao (ex: -2kg)",value:g.change,onChange:w=>x({...g,change:w.target.value})}),s.jsx(re,{placeholder:"Valor anterior",value:g.before,onChange:w=>x({...g,before:w.target.value})}),s.jsx(re,{placeholder:"Valor atual",value:g.after,onChange:w=>x({...g,after:w.target.value})})]})]}),u&&s.jsx(rEe,{onFilesChange:v,currentFiles:c,maxFiles:5,accept:"image/*,video/*"}),u&&s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ep,{className:"w-4 h-4 text-muted-foreground"}),s.jsx(re,{placeholder:"Adicionar localizao",value:o,onChange:w=>l(w.target.value),className:"flex-1"})]}),s.jsx(Gu,{}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{className:"flex gap-1 sm:gap-2",children:[s.jsxs(A,{type:"button",variant:"ghost",size:"sm",onClick:()=>{window.open("/health-feed","_blank")},className:"flex items-center gap-1 px-2 sm:px-3 py-1 sm:py-2",children:[s.jsx(i6,{className:"w-3 h-3 sm:w-4 sm:h-4"}),s.jsx("span",{className:"text-xs sm:text-sm",children:"Comunidade"})]}),s.jsxs(A,{type:"button",variant:"ghost",size:"sm",className:"flex items-center gap-1 px-2 sm:px-3 py-1 sm:py-2",children:[s.jsx(XN,{className:"w-3 h-3 sm:w-4 sm:h-4"}),s.jsx("span",{className:"text-xs sm:text-sm",children:"Emoji"})]})]}),s.jsxs(A,{onClick:y,disabled:!r.trim(),className:"bg-primary hover:bg-primary/90 flex items-center gap-1 sm:gap-2 px-3 sm:px-4 py-2",size:"sm",children:[b(n),s.jsx("span",{className:"text-xs sm:text-sm",children:"Publicar"})]})]})]})]})}const nEe=[{user_id:"demo-1",user_name:"Usurio Demo",total_points:0,streak_days:0,missions_completed:0,last_activity:null,position:1}],pw=[{id:"demo-post-1",userId:"demo-1",userName:"Usurio Demo",userAvatar:"",userLevel:"Iniciante",content:"Bem-vindo  comunidade! Compartilhe sua jornada de sade aqui.",postType:"story",mediaUrls:[],achievementsData:null,progressData:null,location:null,tags:["bem-vindo"],createdAt:new Date().toISOString(),reactions:{like:{count:0,userReacted:!1},love:{count:0,userReacted:!1},fire:{count:0,userReacted:!1},hands:{count:0,userReacted:!1},trophy:{count:0,userReacted:!1}},comments:[],isStory:!1}];function _P(){const[e,t]=p.useState("todos"),[r,a]=p.useState("todos"),[n,i]=p.useState(""),{toast:o}=Ee(),l=kl(),{data:c}=Sn({queryKey:["current-user-profile"],queryFn:async()=>{const{data:{user:j}}=await z.auth.getUser();if(!j)throw new Error("No autenticado");const{data:N}=await z.from("profiles").select("full_name, avatar_url").eq("id",j.id).single();return N?{id:j.id,name:N.full_name||"Usurio",avatar:N.avatar_url||"",level:"Iniciante",points:0,badges:[]}:{id:j.id,name:"Usurio",avatar:"",level:"Iniciante",points:0,badges:[]}}}),{data:d,isLoading:u,refetch:m}=Sn({queryKey:["health-feed-posts",e,r,n],queryFn:async()=>{const{data:j,error:N}=await z.from("health_feed_posts").select(`
          *,
          profiles(full_name, avatar_url)
        `).eq("is_public",!0).order("created_at",{ascending:!1}).limit(20);if(N)throw N;return j||[]},enabled:!!c}),h=bn({mutationFn:async j=>{const{data:{user:N}}=await z.auth.getUser();if(!N)throw new Error("No autenticado");const{error:w}=await z.from("health_feed_posts").insert({user_id:N.id,content:j.content,post_type:j.postType,media_urls:j.mediaUrls,achievements_data:j.achievementsData,progress_data:j.progressData,visibility:j.visibility,location:j.location,tags:j.tags,is_story:j.isStory});if(w)throw w},onSuccess:()=>{o({title:"Post publicado!",description:"Seu post foi compartilhado com sucesso."}),l.invalidateQueries({queryKey:["health-feed-posts"]})},onError:j=>{o({title:"Erro ao publicar",description:j.message,variant:"destructive"})}}),f=bn({mutationFn:async({postId:j,reactionType:N})=>{const{data:{user:w}}=await z.auth.getUser();if(!w)throw new Error("No autenticado");return console.log("Reao:",{postId:j,reactionType:N,userId:w.id}),{success:!0}},onSuccess:()=>{l.invalidateQueries({queryKey:["health-feed-posts"]})}}),g=bn({mutationFn:async({postId:j,content:N})=>{const{data:{user:w}}=await z.auth.getUser();if(!w)throw new Error("No autenticado");return console.log("Comentrio:",{postId:j,content:N,userId:w.id}),{success:!0}},onSuccess:()=>{l.invalidateQueries({queryKey:["health-feed-posts"]})}}),x=(j,N)=>{f.mutate({postId:j,reactionType:N})},y=(j,N)=>{g.mutate({postId:j,content:N})},v=j=>{o({title:"Em breve!",description:"Funcionalidade de compartilhamento ser implementada em breve."})},b=j=>{h.mutate(j)};return c?s.jsx("div",{className:"min-h-screen bg-background",children:s.jsxs("div",{className:"container mx-auto px-3 md:px-4 py-4 md:py-6",children:[s.jsxs("div",{className:"relative mb-4 md:mb-6 rounded-lg md:rounded-xl overflow-hidden bg-gradient-to-r from-blue-600 via-purple-600 to-pink-600 p-4 md:p-6 text-white",children:[s.jsx("div",{className:"absolute inset-0 bg-black/20"}),s.jsxs("div",{className:"relative flex items-center justify-between",children:[s.jsx("div",{className:"space-y-2 md:space-y-3",children:s.jsxs("div",{className:"flex items-center gap-2 md:gap-3",children:[s.jsx("div",{className:"p-1.5 md:p-2 bg-white/20 rounded-lg backdrop-blur-sm",children:s.jsx(Le,{className:"w-4 h-4 md:w-6 md:h-6"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-xl md:text-2xl font-bold",children:"Comunidade dos Sonhos"}),s.jsx("p",{className:"text-blue-100 text-xs md:text-sm",children:"Compartilhe sua jornada e realize seus sonhos"})]})]})}),s.jsxs("div",{className:"flex items-center gap-2 md:gap-3",children:[s.jsxs("div",{className:"text-center hidden md:block",children:[s.jsx("p",{className:"font-semibold text-sm",children:c==null?void 0:c.name}),s.jsxs("div",{className:"flex items-center gap-1 text-xs text-blue-100",children:[s.jsx("span",{children:c==null?void 0:c.level}),s.jsx("span",{children:""}),s.jsxs("span",{children:[c==null?void 0:c.points," pts"]})]})]}),s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"w-10 h-10 md:w-12 md:h-12 rounded-full overflow-hidden border-2 border-white/30 bg-white/10 backdrop-blur-sm flex items-center justify-center",children:(()=>{const j=Ju((c==null?void 0:c.avatar)||null,(c==null?void 0:c.name)||"User");return j.type==="photo"?s.jsx("img",{src:j.value,alt:c.name,className:"w-full h-full object-cover"}):j.type==="emoji"?s.jsx("div",{className:"text-sm md:text-lg",children:j.value}):s.jsx("img",{src:j.value,alt:c.name,className:"w-full h-full object-cover"})})()}),s.jsx("div",{className:"absolute -bottom-1 -right-1 w-3 h-3 md:w-4 md:h-4 bg-success rounded-full border-2 border-white flex items-center justify-center",children:s.jsx("div",{className:"w-1 h-1 md:w-1.5 md:h-1.5 bg-white rounded-full"})})]})]})]}),s.jsx("div",{className:"md:hidden mt-3 pt-3 border-t border-white/20",children:s.jsxs("div",{className:"flex items-center justify-between text-xs",children:[s.jsxs("span",{className:"text-blue-100",children:["Nvel: ",c==null?void 0:c.level]}),s.jsxs("span",{className:"text-blue-100",children:[c==null?void 0:c.points," pontos"]})]})})]}),s.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-4 gap-4 md:gap-6",children:[s.jsxs("div",{className:"xl:col-span-3 space-y-4 md:space-y-6",children:[s.jsx(M,{children:s.jsx($,{className:"pb-3 md:pb-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs(U,{className:"flex items-center gap-2 text-lg md:text-xl",children:[s.jsx(Ta,{className:"w-5 h-5 md:w-6 md:h-6 text-primary"}),"HealthFeed"]}),s.jsx("p",{className:"text-muted-foreground text-sm md:text-base",children:"Compartilhe sua jornada de sade"})]}),s.jsx(A,{variant:"outline",size:"sm",onClick:()=>m(),disabled:u,children:s.jsx(gn,{className:`w-4 h-4 ${u?"animate-spin":""}`})})]})})}),s.jsx(M,{children:s.jsx(O,{className:"p-4 md:p-6",children:s.jsxs("div",{className:"space-y-3 md:space-y-4",children:[s.jsxs("div",{className:"flex gap-2 md:gap-3",children:[s.jsx("div",{className:"flex-1",children:s.jsx(re,{placeholder:"Buscar posts...",value:n,onChange:j=>i(j.target.value),className:"w-full"})}),s.jsx(A,{variant:"outline",size:"icon",className:"shrink-0",children:s.jsx(um,{className:"w-4 h-4"})})]}),s.jsxs("div",{className:"flex flex-col md:flex-row gap-2 md:gap-3",children:[s.jsxs(rt,{value:e,onValueChange:j=>t(j),children:[s.jsx(tt,{className:"w-full md:w-40",children:s.jsx(at,{})}),s.jsxs(st,{children:[s.jsx(he,{value:"todos",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ye,{className:"w-4 h-4"}),"Todos"]})}),s.jsx(he,{value:"seguindo",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Le,{className:"w-4 h-4"}),"Seguindo"]})}),s.jsx(he,{value:"populares",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ta,{className:"w-4 h-4"}),"Populares"]})})]})]}),s.jsxs(rt,{value:r,onValueChange:a,children:[s.jsx(tt,{className:"w-full md:w-48",children:s.jsx(at,{})}),s.jsxs(st,{children:[s.jsx(he,{value:"todos",children:"Todos os tipos"}),s.jsx(he,{value:"conquista",children:"Conquistas"}),s.jsx(he,{value:"progresso",children:"Progresso"}),s.jsx(he,{value:"meta",children:"Metas"})]})]})]})]})})}),s.jsx(aEe,{onPost:b,currentUser:c}),(!d||d.length===0)&&pw.length>0&&s.jsx(M,{className:"border-amber-200 bg-amber-50 dark:bg-amber-950/20 dark:border-amber-800",children:s.jsx(O,{className:"py-4",children:s.jsxs("div",{className:"flex items-center gap-2 text-amber-700 dark:text-amber-300",children:[s.jsx(Ta,{className:"w-5 h-5"}),s.jsx("p",{className:"text-sm font-medium",children:"Mostrando posts de demonstrao. Crie seu primeiro post para comear!"})]})})}),s.jsx("div",{className:"space-y-4 md:space-y-6",children:u?s.jsx("div",{className:"space-y-4 md:space-y-6",children:[1,2,3].map(j=>s.jsx(M,{children:s.jsx(O,{className:"p-4 md:p-6",children:s.jsxs("div",{className:"animate-pulse space-y-4",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-8 h-8 md:w-10 md:h-10 bg-muted rounded-full"}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("div",{className:"w-24 md:w-32 h-3 md:h-4 bg-muted rounded"}),s.jsx("div",{className:"w-20 md:w-24 h-2 md:h-3 bg-muted rounded"})]})]}),s.jsx("div",{className:"w-full h-16 md:h-20 bg-muted rounded"}),s.jsx("div",{className:"w-full h-32 md:h-40 bg-muted rounded"})]})})},j))}):d&&d.length>0||pw.length>0?(d&&d.length>0?d:pw).map(j=>s.jsx(sEe,{post:j,onReaction:x,onComment:y,onShare:v},j.id)):s.jsx(M,{children:s.jsxs(O,{className:"py-8 md:py-12 text-center",children:[s.jsx(Ta,{className:"w-10 h-10 md:w-12 md:h-12 text-muted-foreground mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Nenhum post encontrado"}),s.jsx("p",{className:"text-muted-foreground mb-4",children:"Seja o primeiro a compartilhar sua jornada de sade!"}),s.jsx(A,{onClick:()=>window.scrollTo({top:0,behavior:"smooth"}),children:"Criar primeiro post"})]})})})]}),s.jsx("div",{className:"hidden xl:block xl:col-span-1",children:s.jsx("div",{className:"sticky top-4",children:s.jsx(V3,{currentUserId:c.id})})})]}),s.jsx("div",{className:"xl:hidden mt-6 md:mt-8",children:s.jsxs("div",{className:"bg-gradient-to-r from-primary/10 to-secondary/10 rounded-lg p-4 md:p-6",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[s.jsx("div",{className:"p-2 bg-primary/20 rounded-lg",children:s.jsx(Le,{className:"w-5 h-5 text-primary"})}),s.jsx("h2",{className:"text-xl font-bold",children:"Comunidade"})]}),s.jsx(V3,{currentUserId:c.id})]})})]})}):s.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:s.jsx(M,{className:"p-8 max-w-md mx-auto",children:s.jsxs(O,{className:"text-center space-y-4",children:[s.jsx(Le,{className:"w-16 h-16 mx-auto text-muted-foreground"}),s.jsx("h3",{className:"text-xl font-semibold",children:"Login necessrio"}),s.jsx("p",{className:"text-muted-foreground",children:"Faa login para acessar a comunidade de sade e compartilhar sua jornada."}),s.jsx(A,{onClick:()=>window.location.href="/auth",children:"Fazer Login"})]})})})}const iW=()=>{const[e,t]=p.useState([]),[r,a]=p.useState(!0),[n,i]=p.useState(null),o=async()=>{try{a(!0),i(null);const{data:c,error:d}=await z.from("daily_mission_sessions").select("user_id, total_points, streak_days, date").order("date",{ascending:!1});d&&console.warn("Erro ao buscar misses:",d);const{data:u,error:m}=await z.from("profiles").select("id, full_name").order("full_name");if(m)throw m;const h=new Map;c&&c.length>0&&c.forEach(g=>{const x=g.user_id;h.has(x)||h.set(x,{user_id:x,total_points:0,missions_completed:0,streak_days:0,last_activity:null});const y=h.get(x);y.total_points+=g.total_points||0,y.missions_completed+=1,y.streak_days=Math.max(y.streak_days,g.streak_days||0),(!y.last_activity||g.date>y.last_activity)&&(y.last_activity=g.date)});const f=[];u==null||u.forEach((g,x)=>{const y=h.get(g.id);f.push({user_id:g.id,user_name:g.full_name||"Usurio",total_points:(y==null?void 0:y.total_points)||Math.floor(Math.random()*1e3),streak_days:(y==null?void 0:y.streak_days)||Math.floor(Math.random()*30),missions_completed:(y==null?void 0:y.missions_completed)||Math.floor(Math.random()*10),last_activity:y==null?void 0:y.last_activity,position:0})}),f.sort((g,x)=>x.total_points!==g.total_points?x.total_points-g.total_points:x.missions_completed!==g.missions_completed?x.missions_completed-g.missions_completed:x.streak_days-g.streak_days),f.forEach((g,x)=>{g.position=x+1}),f.length===0?t(nEe):t(f),i(null)}catch(c){console.error("Erro ao buscar ranking:",c),i(c instanceof Error?c.message:"Erro ao carregar ranking")}finally{a(!1)}},l=()=>{o()};return p.useEffect(()=>{o()},[]),{ranking:e,loading:r,error:n,refetch:l}};function iEe(){const{ranking:e,loading:t}=iW(),r=n=>n===1?s.jsx(Qn,{className:"h-4 w-4 text-yellow-500"}):n===2?s.jsx(nf,{className:"h-4 w-4 text-gray-400"}):n===3?s.jsx(nf,{className:"h-4 w-4 text-amber-600"}):s.jsx(kt,{className:"h-3 w-3 text-muted-foreground"}),a=e.slice(0,10);return s.jsxs("div",{className:"w-full md:w-80 space-y-4 px-2 md:px-0",children:[s.jsxs(M,{className:"health-card",children:[s.jsx($,{className:"pb-3",children:s.jsxs(U,{className:"flex items-center gap-2 text-lg",children:[s.jsx(Be,{className:"h-5 w-5 text-primary"}),"Top 10 Ranking"]})}),s.jsx(O,{className:"space-y-3 p-3 md:p-6",children:t?s.jsx("div",{className:"space-y-2",children:[...Array(5)].map((n,i)=>s.jsxs("div",{className:"flex items-center gap-2 animate-pulse",children:[s.jsx("div",{className:"w-6 h-6 md:w-8 md:h-8 bg-muted rounded-full"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:"h-2 md:h-3 bg-muted rounded mb-1"}),s.jsx("div",{className:"h-1 md:h-2 bg-muted rounded w-12 md:w-16"})]})]},i))}):a.map(n=>s.jsxs("div",{className:"flex items-center gap-2 md:gap-3 p-1 md:p-2 rounded-lg hover:bg-muted/30 transition-colors",children:[s.jsxs("div",{className:"flex items-center gap-1 md:gap-2 min-w-[1.5rem] md:min-w-[2rem]",children:[s.jsxs("span",{className:"text-xs md:text-sm font-medium text-muted-foreground",children:["#",n.position]}),r(n.position)]}),s.jsx("div",{className:"h-6 w-6 md:h-8 md:w-8 rounded-full overflow-hidden bg-muted flex items-center justify-center",children:(()=>{const i=Ju(null,n.user_name);return i.type==="photo"||i.type==="generated"?s.jsx("img",{src:i.value,alt:n.user_name,className:"w-full h-full object-cover"}):s.jsx("div",{className:"text-sm",children:i.value})})()}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-xs md:text-sm font-medium truncate",children:n.user_name}),s.jsxs("div",{className:"flex items-center gap-1 md:gap-2 flex-wrap",children:[s.jsxs(X,{variant:"secondary",className:"text-xs px-1 py-0",children:[n.total_points," pts"]}),n.streak_days>0&&s.jsxs(X,{variant:"outline",className:"text-xs px-1 py-0",children:[" ",n.streak_days]})]})]})]},n.user_id))})]}),s.jsxs(M,{className:"health-card",children:[s.jsx($,{className:"pb-3",children:s.jsx(U,{className:"text-lg",children:" Conquistas Recentes"})}),s.jsx(O,{className:"space-y-3",children:s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center gap-2 p-2 rounded-lg bg-muted/30",children:[s.jsx("span",{className:"text-lg",children:""}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-sm font-medium",children:"Primeira Misso"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Concluda por 15 pessoas hoje"})]})]}),s.jsxs("div",{className:"flex items-center gap-2 p-2 rounded-lg bg-muted/30",children:[s.jsx("span",{className:"text-lg",children:""}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-sm font-medium",children:"Sequncia de 7 dias"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Alcanada por 8 pessoas"})]})]}),s.jsxs("div",{className:"flex items-center gap-2 p-2 rounded-lg bg-muted/30",children:[s.jsx("span",{className:"text-lg",children:""}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-sm font-medium",children:"100 Pontos"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Conquistado por 12 pessoas"})]})]})]})})]}),s.jsxs(M,{className:"health-card",children:[s.jsx($,{className:"pb-3",children:s.jsx(U,{className:"text-lg",children:" Comunidade"})}),s.jsx(O,{children:s.jsxs("div",{className:"grid grid-cols-2 gap-2 md:gap-4",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-lg md:text-2xl font-bold text-primary",children:e.length}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Membros Ativos"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-lg md:text-2xl font-bold text-primary",children:e.reduce((n,i)=>n+i.missions_completed,0)}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Misses Concludas"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-lg md:text-2xl font-bold text-primary",children:e.reduce((n,i)=>n+i.total_points,0).toLocaleString()}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Pontos Totais"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-lg md:text-2xl font-bold text-primary",children:Math.round(e.reduce((n,i)=>n+i.streak_days,0)/e.length)||0}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Mdia Sequncia"})]})]})})]})]})}const oEe=()=>{var o,l;const[e,t]=p.useState(null),[r,a]=p.useState(!0);Ee();const n=ur();p.useEffect(()=>{z.auth.getSession().then(({data:{session:d}})=>{t((d==null?void 0:d.user)??null),a(!1),d||n("/auth")});const{data:{subscription:c}}=z.auth.onAuthStateChange((d,u)=>{t((u==null?void 0:u.user)??null),u||n("/auth")});return()=>c.unsubscribe()},[n]);const i=async()=>{await z.auth.signOut(),n("/")};return r?s.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx(He,{className:"h-12 w-12 text-primary mx-auto mb-4 animate-pulse"}),s.jsx("p",{className:"text-muted-foreground",children:"Carregando..."})]})}):e?((o=e.user_metadata)!=null&&o.full_name||(l=e.email)!=null&&l.split("@")[0],s.jsxs("div",{className:"min-h-screen bg-background",children:[s.jsx("header",{className:"border-b border-border/20 bg-card/50 backdrop-blur-sm sticky top-0 z-40",children:s.jsxs("div",{className:"container mx-auto px-3 sm:px-4 py-3 sm:py-4 flex justify-between items-center",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(He,{className:"h-6 w-6 sm:h-8 sm:w-8 text-primary"}),s.jsx("h1",{className:"text-lg sm:text-xl md:text-2xl font-bold text-foreground",children:"Instituto dos Sonhos"})]}),s.jsxs("div",{className:"flex items-center gap-2 sm:gap-4",children:[s.jsx(ZU,{}),s.jsxs(A,{onClick:i,variant:"outline",size:"sm",className:"text-xs sm:text-sm",children:[s.jsx(A0,{className:"h-3 w-3 sm:h-4 sm:w-4 mr-1 sm:mr-2"}),s.jsx("span",{className:"hidden sm:inline",children:"Sair"})]})]})]})}),s.jsxs("main",{className:"container mx-auto px-3 sm:px-4 py-4 sm:py-6 md:py-8",children:[s.jsxs("div",{className:"mb-6 sm:mb-8",children:[s.jsx("h1",{className:"text-2xl sm:text-3xl md:text-4xl font-bold mb-2",children:"Dashboard"}),s.jsx("p",{className:"text-muted-foreground text-sm sm:text-base",children:"Bem-vindo  sua jornada de transformao!"})]}),s.jsx(ePe,{}),s.jsx(M,{className:"health-card mb-6 sm:mb-8",children:s.jsx(O,{className:"pt-4 sm:pt-6 p-4 sm:p-6",children:s.jsxs("div",{className:"text-center",children:[s.jsx("h2",{className:"text-xl sm:text-2xl font-bold mb-3 sm:mb-4",children:" Bem-vindo ao Instituto dos Sonhos!"}),s.jsx("p",{className:"text-muted-foreground mb-4 sm:mb-6 text-sm sm:text-base",children:"Sua jornada de transformao comea agora. Estamos aqui para apoi-lo em cada passo do caminho."}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 sm:gap-4 justify-center",children:[s.jsx(A,{className:"bg-primary hover:bg-primary/90 text-sm sm:text-base",children:"Comear Primeira Misso"}),s.jsx(A,{variant:"outline",className:"text-sm sm:text-base",children:"Ver Meu Progresso"})]})]})})}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4 sm:gap-6 mb-6 sm:mb-8",children:[s.jsxs(M,{className:"stat-card",children:[s.jsxs($,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(U,{className:"text-xs sm:text-sm font-medium",children:"Dias no Instituto"}),s.jsx(Vt,{className:"h-3 w-3 sm:h-4 sm:w-4 text-muted-foreground"})]}),s.jsxs(O,{children:[s.jsx("div",{className:"text-xl sm:text-2xl font-bold",children:"1"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"+1 desde ontem"})]})]}),s.jsxs(M,{className:"stat-card",children:[s.jsxs($,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(U,{className:"text-xs sm:text-sm font-medium",children:"Misses Concludas"}),s.jsx(_e,{className:"h-3 w-3 sm:h-4 sm:w-4 text-muted-foreground"})]}),s.jsxs(O,{children:[s.jsx("div",{className:"text-xl sm:text-2xl font-bold",children:"0"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Primeira misso aguardando"})]})]}),s.jsxs(M,{className:"stat-card sm:col-span-2 md:col-span-1",children:[s.jsxs($,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(U,{className:"text-xs sm:text-sm font-medium",children:"Posio no Ranking"}),s.jsx(Be,{className:"h-3 w-3 sm:h-4 sm:w-4 text-muted-foreground"})]}),s.jsxs(O,{children:[s.jsx("div",{className:"text-xl sm:text-2xl font-bold",children:"--"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Complete misses para ranquear"})]})]})]}),s.jsxs("div",{className:"space-y-6 sm:space-y-8",children:[s.jsx(NV,{user:e}),s.jsxs(M,{className:"health-card",children:[s.jsx($,{children:s.jsx(U,{className:"text-lg sm:text-xl",children:"Aes Rpidas"})}),s.jsx(O,{children:s.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-2 md:grid-cols-4 gap-3 sm:gap-4",children:[s.jsxs(A,{variant:"outline",className:"h-16 sm:h-20 flex flex-col gap-1 sm:gap-2 text-xs sm:text-sm",children:[s.jsx(_e,{className:"h-4 w-4 sm:h-6 sm:w-6"}),s.jsx("span",{children:"Misses"})]}),s.jsxs(A,{variant:"outline",className:"h-16 sm:h-20 flex flex-col gap-1 sm:gap-2 text-xs sm:text-sm",onClick:()=>n("/google-fit-test"),children:[s.jsx(oee,{className:"h-4 w-4 sm:h-6 sm:w-6"}),s.jsx("span",{children:"Teste Google Fit"})]}),s.jsxs(A,{variant:"outline",className:"h-16 sm:h-20 flex flex-col gap-1 sm:gap-2 text-xs sm:text-sm",onClick:()=>n("/ranking"),children:[s.jsx(Be,{className:"h-4 w-4 sm:h-6 sm:w-6"}),s.jsx("span",{children:"Ranking"})]}),s.jsxs(A,{variant:"outline",className:"h-16 sm:h-20 flex flex-col gap-1 sm:gap-2 text-xs sm:text-sm",children:[s.jsx(Vt,{className:"h-4 w-4 sm:h-6 sm:w-6"}),s.jsx("span",{children:"Progresso"})]}),s.jsxs(A,{variant:"outline",className:"h-16 sm:h-20 flex flex-col gap-1 sm:gap-2 text-xs sm:text-sm",onClick:()=>n("/app/courses"),children:[s.jsx(as,{className:"h-4 w-4 sm:h-6 sm:w-6"}),s.jsx("span",{children:"Cursos"})]})]})})]}),s.jsxs(M,{className:"health-card",children:[s.jsx($,{children:s.jsxs(U,{className:"text-lg sm:text-xl flex items-center gap-2",children:[s.jsx(as,{className:"h-5 w-5"})," Plataforma dos Sonhos"]})}),s.jsx(O,{children:s.jsxs("div",{className:"relative group cursor-pointer",onClick:()=>n("/app/courses"),children:[s.jsxs("div",{className:"relative h-48 w-full overflow-hidden rounded-lg",children:[s.jsx("img",{src:"https://institutodossonhos.com.br/wp-content/uploads/2025/07/imgi_17_img_0_7-CHAVES-CAPA_247f4babde0e42c996d2506c79facbf6.jpg",alt:"Plataforma dos Sonhos",className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300"}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 to-transparent"}),s.jsxs("div",{className:"absolute bottom-4 left-4 text-white",children:[s.jsx("h3",{className:"text-xl font-bold mb-2",children:"Plataforma dos Sonhos"}),s.jsx("p",{className:"text-sm opacity-90",children:"Desenvolvimento pessoal e bem-estar atravs de prticas transformadoras"})]}),s.jsx(X,{className:"absolute top-3 right-3 bg-yellow-500 text-black",children:"Premium"})]}),s.jsxs(A,{className:"w-full mt-4 bg-purple-600 hover:bg-purple-700",children:[s.jsx(as,{className:"h-4 w-4 mr-2"}),"Acessar Cursos"]})]})})]}),s.jsxs(M,{className:"health-card",children:[s.jsx($,{children:s.jsxs(U,{className:"text-lg sm:text-xl flex items-center gap-2",children:[s.jsx(as,{className:"h-5 w-5"}),"Suas Sesses"]})}),s.jsx(O,{children:s.jsx(gV,{user:e})})]}),s.jsxs(M,{className:"health-card",children:[s.jsx($,{children:s.jsxs(U,{className:"text-lg sm:text-xl flex items-center gap-2",children:[s.jsx(Le,{className:"h-5 w-5"}),"Comunidade"]})}),s.jsx(O,{children:s.jsxs("div",{className:"flex gap-6",children:[s.jsx("div",{className:"flex-1",children:s.jsx(_P,{})}),s.jsx("div",{className:"hidden xl:block",children:s.jsx(iEe,{})})]})})]})]})]}),s.jsx($V,{}),s.jsx(Os,{to:"/whatsapp-chat",children:s.jsx(A,{className:"fixed bottom-20 right-4 lg:bottom-24 lg:right-6 h-12 w-12 lg:h-14 lg:w-14 rounded-full shadow-lg bg-green-500 hover:bg-green-600 z-40",size:"icon",children:s.jsx(zi,{className:"h-6 w-6 text-white"})})})]})):null},Z3=xq,e5=gq,lEe=vq,oW=p.forwardRef(({className:e,...t},r)=>s.jsx(ib,{className:xe("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:r}));oW.displayName=ib.displayName;const cEe=cm("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),I2=p.forwardRef(({side:e="right",className:t,children:r,...a},n)=>s.jsxs(lEe,{children:[s.jsx(oW,{}),s.jsxs(ob,{ref:n,className:xe(cEe({side:e}),t),...a,children:[r,s.jsxs(yq,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[s.jsx(nr,{className:"h-4 w-4"}),s.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));I2.displayName=ob.displayName;const dEe=p.forwardRef(({className:e,...t},r)=>s.jsx(lb,{ref:r,className:xe("text-lg font-semibold text-foreground",e),...t}));dEe.displayName=lb.displayName;const uEe=p.forwardRef(({className:e,...t},r)=>s.jsx(cb,{ref:r,className:xe("text-sm text-muted-foreground",e),...t}));uEe.displayName=cb.displayName;const lW=()=>{const[e,t]=p.useState(!1),[r,a]=p.useState("initial"),[n,i]=p.useState(5),[o,l]=p.useState([]),[c,d]=p.useState(null),[u,m]=p.useState(null),[h,f]=p.useState(""),[g,x]=p.useState(""),[y,v]=p.useState(!1),[b,j]=p.useState(""),[N,w]=p.useState(null),[S,_]=p.useState(!1),[C,E]=p.useState(!1),[T,k]=p.useState(null),[P,D]=p.useState(null),[I,V]=p.useState(null),[W,R]=p.useState(null),[F,H]=p.useState(!1),{toast:Z}=Ee(),B=()=>"bluetooth"in navigator,K=()=>({weight:0,bmi:0,bodyFat:0,muscleMass:0,waterPercentage:0,boneMass:0,visceralFat:0,metabolicAge:0,timestamp:new Date}),Q=async()=>{try{if(E(!0),a("searching"),j(""),console.log("Iniciando busca por balana Xiaomi..."),!navigator.bluetooth)throw new Error("Bluetooth no est disponvel neste navegador");Z({title:" Procurando balana...",description:"Certifique-se que a balana est ligada e prxima"});const L=await navigator.bluetooth.requestDevice({filters:[{name:"MI_SCALE"},{namePrefix:"MIBFS"},{namePrefix:"MI"}],optionalServices:["0000181d-0000-1000-8000-00805f9b34fb","0000180f-0000-1000-8000-00805f9b34fb","0000181b-0000-1000-8000-00805f9b34fb","0000ffe0-0000-1000-8000-00805f9b34fb","0000fff0-0000-1000-8000-00805f9b34fb","00001530-0000-3512-2118-0009af100700"]});if(console.log("Dispositivo selecionado:",L.name||"Dispositivo sem nome"),a("connecting"),L&&L.gatt){console.log("Conectando ao GATT...");const q=await L.gatt.connect();if(q){console.log("Conectado ao GATT server"),k(L),D(q),_(!0),Z({title:"Balana conectada!",description:`Conectado com ${L.name||"Balana"}`});try{await ie(q)}catch(te){console.log("Erro ao configurar notificaes:",te)}try{await le(q)}catch(te){console.log("Erro ao verificar bateria:",te)}Z({title:" Balana pareada!",description:"Agora pise na balana para fazer a pesagem"}),a("measuring"),H(!0),setTimeout(()=>{F&&(console.log("Timeout de 30s - dados no recebidos, indo para pesagem manual"),a("manual"),H(!1),Z({title:" Tempo esgotado",description:"Pise na balana ou use a pesagem manual.",variant:"default"}))},3e4)}}}catch(L){console.error("Erro ao conectar:",L),L.name==="NotFoundError"||L.message.includes("User cancelled")?(j("Nenhum dispositivo selecionado ou conexo cancelada."),Z({title:"Conexo cancelada",description:"Nenhum dispositivo foi selecionado. Tente novamente.",variant:"destructive"})):L.name==="NotSupportedError"?(j("Bluetooth no  suportado ou no est habilitado."),Z({title:"Bluetooth no suportado",description:"Verifique se o Bluetooth est habilitado no seu dispositivo.",variant:"destructive"})):(j(`Erro de conexo: ${L.message}`),Z({title:"Erro de conexo",description:L.message,variant:"destructive"})),a("error")}finally{E(!1)}},ie=async L=>{try{const te=await(await L.getPrimaryService("0000181d-0000-1000-8000-00805f9b34fb")).getCharacteristic("00002a98-0000-1000-8000-00805f9b34fb");await te.startNotifications(),te.addEventListener("characteristicvaluechanged",oe)}catch(q){console.log("Erro ao configurar notificaes:",q)}},oe=L=>{var ye;const q=L.target.value,te=je(q);console.log("Dados recebidos da balana:",te),te.weight>0&&(m(te),R(te),H(!1),Z({title:"Peso registrado da balana!",description:`${te.weight}kg - IMC: ${(ye=te.bmi)==null?void 0:ye.toFixed(1)}`}),a("confirming"))},je=L=>{const q=new Uint8Array(L.buffer);console.log("Dados recebidos da balana:",Array.from(q).map(Yr=>Yr.toString(16)).join(" "));let te=0,ye=0,Pe=0,J=0,se=0,ke=0,$e=0;q.length>=13?(te=(q[12]<<8|q[11])/200,q.length>=20&&(ye=(q[18]<<8|q[17])/100,J=(q[20]<<8|q[19])/100,Pe=(q[14]<<8|q[13])/200,se=q[16]/10,ke=q[15],$e=q[21])):q.length>=10&&(te=(q[2]<<8|q[1])/200);const ut=1.7,On=te>0?Math.round(te/(ut*ut)*10)/10:0,Ll={weight:Math.round(te*10)/10,bodyFat:Math.round(ye*10)/10,muscleMass:Math.round(Pe*10)/10,waterPercentage:Math.round(J*10)/10,boneMass:Math.round(se*10)/10,bmi:On,visceralFat:ke,metabolicAge:$e,timestamp:new Date};return console.log("Dados decodificados:",Ll),Ll},le=async L=>{try{const Pe=(await(await(await L.getPrimaryService("0000180f-0000-1000-8000-00805f9b34fb")).getCharacteristic("00002a19-0000-1000-8000-00805f9b34fb")).readValue()).getUint8(0);V(Pe)}catch(q){console.log("Erro ao verificar bateria:",q)}},Oe=async()=>{if(u&&!y){a("saving"),v(!0);try{const{data:{user:L}}=await z.auth.getUser();if(!L)throw new Error("Usurio no autenticado");const{data:q}=await z.from("user_physical_data").select("*").eq("user_id",L.id).single();q||await z.from("user_physical_data").upsert({user_id:L.id,altura_cm:170,idade:30,sexo:"masculino",nivel_atividade:"moderado"});const{data:te,error:ye}=await z.from("weight_measurements").insert({user_id:L.id,peso_kg:u.weight,gordura_corporal_percent:u.bodyFat,massa_muscular_kg:u.muscleMass,agua_corporal_percent:u.waterPercentage,osso_kg:u.boneMass,gordura_visceral:u.visceralFat,idade_metabolica:u.metabolicAge,circunferencia_abdominal_cm:h?parseFloat(h):void 0,imc:u.bmi,risco_metabolico:u.bmi<18.5?"baixo_peso":u.bmi>=25&&u.bmi<30?"sobrepeso":u.bmi>=30?"obesidade":"normal",device_type:"xiaomi_scale",notes:`Pesagem automtica - Gordura: ${u.bodyFat}%, Msculo: ${u.muscleMass}kg, gua: ${u.waterPercentage}%`,measurement_date:u.timestamp.toISOString()}).select("id, user_id, peso_kg, imc, measurement_date").single();if(ye)throw ye;Z({title:"Pesagem salva com sucesso!",description:`Peso: ${u.weight}kg | IMC: ${u.bmi.toFixed(1)}. A pgina ser atualizada em 10 segundos.`}),setTimeout(()=>{window.location.reload()},1e4)}catch(L){console.error("Erro ao salvar:",L),Z({title:"Erro ao salvar pesagem",description:L.message||"Erro desconhecido ao salvar dados",variant:"destructive"}),a("error")}finally{v(!1)}}},ae=()=>{a("initial"),i(5),l([]),d(null),m(null),f(""),x(""),v(!1),j(""),w(null),_(!1),E(!1),k(null),D(null),V(null),R(null),H(!1)},ue=()=>{switch(r){case"initial":return s.jsxs("div",{className:"text-center space-y-6",children:[s.jsx("div",{className:"text-6xl mb-4",children:""}),s.jsx("h2",{className:"text-2xl font-bold",children:"Faa Sua Pesagem"}),s.jsx("p",{className:"text-muted-foreground",children:"Escolha como deseja fazer sua pesagem"}),!B()&&s.jsxs("div",{className:"p-4 bg-yellow-50 border border-yellow-200 rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-2 text-yellow-800 mb-2",children:[s.jsx(ls,{className:"h-5 w-5"}),s.jsx("span",{className:"font-medium",children:"Bluetooth no suportado"})]}),s.jsx("p",{className:"text-sm text-yellow-700",children:"Use Chrome ou Edge para conectar com sua balana Bluetooth"})]}),s.jsxs("div",{className:"grid grid-cols-1 gap-4 max-w-md mx-auto",children:[s.jsx(A,{onClick:Q,size:"lg",className:"w-full bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700 text-white font-bold py-4 px-8 text-lg shadow-lg",disabled:!B()||C,children:C?s.jsxs(s.Fragment,{children:[s.jsx(Te,{className:"mr-2 h-5 w-5 animate-spin"}),"Conectando..."]}):s.jsxs(s.Fragment,{children:[s.jsx(rf,{className:"mr-2 h-5 w-5"}),s.jsx("span",{children:"PESAGEM AUTOMTICA"})]})}),s.jsxs(A,{onClick:()=>a("manual"),size:"lg",variant:"outline",className:"w-full border-2 border-primary/20 hover:bg-primary/5 font-semibold py-4 px-8 text-lg",children:[s.jsx(Ch,{className:"mr-2 h-5 w-5"}),s.jsx("span",{children:"PESAGEM MANUAL"})]}),s.jsxs(A,{onClick:()=>window.location.href="/google-fit-oauth",size:"lg",variant:"outline",className:"w-full border-2 border-green-500/20 hover:bg-green-500/5 font-semibold py-4 px-8 text-lg text-green-600 hover:text-green-700",children:[s.jsx(Te,{className:"mr-2 h-5 w-5"}),s.jsx("span",{children:"CONECTAR GOOGLE FIT"})]})]})]});case"manual":return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-6xl mb-4",children:""}),s.jsx("h2",{className:"text-2xl font-bold",children:"Pesagem Manual"}),s.jsx("p",{className:"text-muted-foreground",children:"Digite seus dados de pesagem"})]}),s.jsxs(M,{children:[s.jsx($,{children:s.jsxs(U,{className:"flex items-center gap-2",children:[s.jsx(Ch,{className:"h-5 w-5"}),"Dados de Pesagem"]})}),s.jsxs(O,{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Y,{htmlFor:"weight",children:"Peso (kg):"}),s.jsx(re,{id:"weight",type:"number",placeholder:"Ex: 70.5",step:"0.1",min:"0",max:"500",value:g||"",onChange:L=>{const q=parseFloat(L.target.value);x(L.target.value),q>0&&m(te=>te?{...te,weight:q}:K())}})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Y,{htmlFor:"abdominal",children:"Permetro Abdominal (cm):"}),s.jsx(re,{id:"abdominal",type:"number",placeholder:"Ex: 85",step:"0.1",min:"0",max:"200",value:h,onChange:L=>f(L.target.value)})]})]}),s.jsxs(A,{onClick:()=>{if(g&&h){const L=parseFloat(g),te=170/100,ye=L/(te*te),Pe={weight:L,bmi:ye,bodyFat:20,muscleMass:L*.4,waterPercentage:60,boneMass:L*.15,visceralFat:10,metabolicAge:30,timestamp:new Date};m(Pe),Oe()}else{const L=K();m(L),a("confirming")}},className:"w-full",size:"lg",disabled:!g||!h,children:[s.jsx(ia,{className:"mr-2 h-4 w-4"})," SALVAR PESAGEM"]})]})]})]});case"searching":return s.jsxs("div",{className:"text-center space-y-6",children:[s.jsx("div",{className:"text-6xl mb-4",children:""}),s.jsx("h2",{className:"text-2xl font-bold",children:"Procurando Balana"}),s.jsx("p",{className:"text-muted-foreground",children:" Procurando balana..."}),s.jsx(M,{children:s.jsx(O,{className:"p-6",children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-center gap-2",children:[s.jsx(um,{className:"h-6 w-6 animate-pulse"}),s.jsx("span",{className:"text-lg font-medium",children:"PROCURANDO..."})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-2xl font-bold mb-2",children:" BALANA"}),s.jsx("div",{className:"text-6xl mb-4",children:""}),s.jsx("div",{className:"text-sm text-muted-foreground",children:"[CLICAR AQUI]"})]})]})})}),s.jsx("p",{className:"text-center text-sm text-muted-foreground",children:' "Procurando balana..."'})]});case"devices":return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-6xl mb-4",children:""}),s.jsx("h2",{className:"text-2xl font-bold",children:"Conexo Bluetooth"}),s.jsx("p",{className:"text-muted-foreground",children:" Tempo total: 10 segundos"})]}),s.jsxs(M,{children:[s.jsx($,{children:s.jsxs(U,{className:"flex items-center gap-2",children:[s.jsx(m6,{className:"h-5 w-5"}),"Dispositivos Encontrados"]})}),s.jsx(O,{children:s.jsx("div",{className:"space-y-3",children:o.map(L=>s.jsxs("div",{className:`flex items-center justify-between p-3 rounded-lg border-2 cursor-pointer transition-colors ${(c==null?void 0:c.id)===L.id?"border-primary bg-primary/10":"border-border hover:border-primary/50"}`,onClick:()=>Q(),children:[s.jsxs("div",{className:"flex items-center gap-3",children:[L.isXiaomi?s.jsx(Se,{className:"h-5 w-5 text-green-500"}):s.jsx("div",{className:"h-5 w-5 rounded-full border-2 border-gray-300"}),s.jsx("span",{className:"font-medium",children:L.name}),L.isConnected&&s.jsx(X,{variant:"secondary",className:"ml-2",children:"Conectado"})]}),(c==null?void 0:c.id)===L.id&&s.jsx(X,{variant:"secondary",children:"Selecionado"})]},L.id))})})]}),s.jsx("p",{className:"text-center text-sm text-muted-foreground",children:' "Selecione sua balana"'})]});case"connecting":return s.jsxs("div",{className:"text-center space-y-6",children:[s.jsx("div",{className:"text-6xl mb-4",children:""}),s.jsx("h2",{className:"text-2xl font-bold",children:"Conectando..."}),s.jsxs("div",{className:"flex items-center justify-center gap-2",children:[s.jsx(Te,{className:"h-5 w-5 animate-spin"}),s.jsx("span",{children:"Estabelecendo conexo com balana"})]}),s.jsx(Ge,{value:66,className:"w-full"})]});case"calibrating":return s.jsxs("div",{className:"text-center space-y-6",children:[s.jsx("div",{className:"text-6xl mb-4",children:""}),s.jsx("h2",{className:"text-2xl font-bold",children:"Calibrao da Balana"}),s.jsx("p",{className:"text-muted-foreground",children:" Tempo: 5 segundos"}),s.jsx(M,{children:s.jsx(O,{className:"p-6",children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-center gap-2",children:[s.jsx(gn,{className:"h-6 w-6 animate-spin"}),s.jsx("span",{className:"text-lg font-medium",children:"CALIBRANDO..."})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-4xl font-bold text-primary mb-2",children:n}),s.jsx("div",{className:"text-sm text-muted-foreground",children:n>0?`${n}... ${n-1>0?n-1:""} ${n-2>0?n-2:""} ${n-3>0?n-3:""} ${n-4>0?n-4:""}`:" CALIBRAO CONCLUDA!"})]})]})})}),s.jsx("p",{className:"text-center text-sm text-muted-foreground",children:' "Suba na balana agora!"'})]});case"measuring":return s.jsxs("div",{className:"text-center space-y-6",children:[s.jsx("div",{className:"text-6xl mb-4",children:""}),s.jsx("h2",{className:"text-2xl font-bold",children:"Aguardando Dados da Balana"}),s.jsx("p",{className:"text-muted-foreground",children:" Timeout em 10 segundos"}),s.jsx(M,{children:s.jsx(O,{className:"p-6",children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-2xl font-bold mb-2",children:" BALANA CONECTADA"}),s.jsx("div",{className:"text-6xl mb-4",children:""}),s.jsx("div",{className:"text-sm text-muted-foreground",children:"[AGUARDANDO DADOS...]"})]}),s.jsxs("div",{className:"flex items-center justify-center gap-2",children:[s.jsx(Te,{className:"h-5 w-5 animate-spin"}),s.jsx("span",{className:"text-lg font-medium",children:"RECEBENDO DADOS..."})]}),s.jsx("div",{className:"text-center",children:s.jsx("div",{className:"text-sm text-muted-foreground mb-2",children:"Suba na balana para registrar seu peso"})})]})})}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(A,{onClick:()=>a("manual"),variant:"outline",className:"flex-1",children:[s.jsx(Ch,{className:"mr-2 h-4 w-4"}),"Ir para Manual"]}),s.jsxs(A,{onClick:ae,variant:"outline",className:"flex-1",children:[s.jsx(gn,{className:"mr-2 h-4 w-4"}),"Reconectar"]})]}),s.jsx("p",{className:"text-center text-sm text-muted-foreground",children:' "Aguardando dados da balana... (mx 10s)"'})]});case"confirming":return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-6xl mb-4",children:""}),s.jsx("h2",{className:"text-2xl font-bold",children:"Confirmao Manual"})]}),s.jsxs(M,{children:[s.jsx($,{children:s.jsxs(U,{className:"flex items-center gap-2",children:[s.jsx(ar,{className:"h-5 w-5"}),"Dados Disponveis"]})}),s.jsx(O,{className:"space-y-4",children:u&&s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"text-center",children:s.jsxs("div",{className:"text-3xl font-bold text-primary",children:[" ",u.weight," kg"]})}),s.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"IMC:"}),s.jsx("span",{className:"font-medium",children:u.bmi})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Gordura:"}),s.jsxs("span",{className:"font-medium",children:[u.bodyFat,"%"]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Msculo:"}),s.jsxs("span",{className:"font-medium",children:[u.muscleMass," kg"]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"gua:"}),s.jsxs("span",{className:"font-medium",children:[u.waterPercentage,"%"]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Metabolismo:"}),s.jsxs("span",{className:"font-medium",children:[1650," kcal"]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Visceral:"}),s.jsx("span",{className:"font-medium",children:u.visceralFat})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Idade Corporal:"}),s.jsxs("span",{className:"font-medium",children:[u.metabolicAge," anos"]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Massa ssea:"}),s.jsxs("span",{className:"font-medium",children:[u.boneMass," kg"]})]})]}),s.jsxs(A,{onClick:Oe,className:"w-full",size:"lg",children:[s.jsx(ia,{className:"mr-2 h-4 w-4"})," SALVAR PESAGEM"]})]})})]}),s.jsx("p",{className:"text-center text-sm text-muted-foreground",children:' "Clique para confirmar"'})]});case"saving":return s.jsxs("div",{className:"text-center space-y-6",children:[s.jsx("div",{className:"text-6xl mb-4",children:""}),s.jsx("h2",{className:"text-2xl font-bold",children:"Salvando Dados"}),s.jsx("p",{className:"text-muted-foreground",children:" PROCESSANDO..."}),s.jsxs(M,{children:[s.jsx($,{children:s.jsxs(U,{className:"flex items-center gap-2",children:[s.jsx(ar,{className:"h-5 w-5"}),"Tabela Pesagens"]})}),s.jsx(O,{children:u&&s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Se,{className:"h-4 w-4 text-green-500"}),s.jsxs("span",{children:["Peso: ",u.weight," kg"]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Se,{className:"h-4 w-4 text-green-500"}),s.jsxs("span",{children:["IMC: ",u.bmi]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Se,{className:"h-4 w-4 text-green-500"}),s.jsxs("span",{children:["Gordura: ",u.bodyFat,"%"]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Se,{className:"h-4 w-4 text-green-500"}),s.jsxs("span",{children:["Msculo: ",u.muscleMass," kg"]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Se,{className:"h-4 w-4 text-green-500"}),s.jsxs("span",{children:["gua: ",u.waterPercentage,"%"]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Se,{className:"h-4 w-4 text-green-500"}),s.jsx("span",{children:"Metabolismo: 1650 kcal"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Se,{className:"h-4 w-4 text-green-500"}),s.jsxs("span",{children:["Visceral: ",u.visceralFat]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Se,{className:"h-4 w-4 text-green-500"}),s.jsxs("span",{children:["Idade Corporal: ",u.metabolicAge," anos"]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Se,{className:"h-4 w-4 text-green-500"}),s.jsxs("span",{children:["Massa ssea: ",u.boneMass," kg"]})]})]})})]}),s.jsx("p",{className:"text-center text-sm text-muted-foreground",children:' "Dados salvos com sucesso!"'})]});case"error":return s.jsxs("div",{className:"text-center space-y-6",children:[s.jsx("div",{className:"text-6xl mb-4",children:""}),s.jsx("h2",{className:"text-2xl font-bold text-red-600",children:"Erro de Conexo"}),s.jsx(M,{className:"border-red-200 bg-red-50",children:s.jsxs(O,{className:"p-6",children:[s.jsxs("div",{className:"flex items-center gap-2 text-red-800 mb-4",children:[s.jsx(ls,{className:"h-5 w-5"}),s.jsx("span",{className:"font-medium",children:"Problema Detectado"})]}),s.jsx("p",{className:"text-red-700 mb-4",children:b}),s.jsxs("div",{className:"space-y-2 text-sm text-red-600",children:[s.jsx("p",{children:" Verifique se sua balana est ligada"}),s.jsx("p",{children:" Certifique-se de que est prxima ao computador"}),s.jsx("p",{children:" Use Chrome ou Edge para melhor compatibilidade"}),s.jsx("p",{children:" Permita o acesso ao Bluetooth quando solicitado"})]})]})}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(A,{variant:"outline",onClick:ae,className:"flex-1",children:[s.jsx(gn,{className:"mr-2 h-4 w-4"}),"Tentar Novamente"]}),s.jsxs(A,{onClick:()=>t(!1),className:"flex-1",children:[s.jsx(nr,{className:"mr-2 h-4 w-4"}),"Fechar"]})]})]});default:return null}};return s.jsxs(gt,{open:e,onOpenChange:t,children:[s.jsx(ir,{asChild:!0,children:s.jsxs(A,{variant:"outline",className:"w-full h-9 text-sm border-primary/20 hover:bg-primary/5 mt-auto font-semibold",children:[s.jsx(_t,{className:"h-4 w-4 text-primary mr-2"}),s.jsx("span",{className:"font-semibold",children:"FAA SUA PESAGEM"})]})}),s.jsxs(vt,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[s.jsxs(yt,{children:[s.jsxs(bt,{className:"flex items-center gap-2",children:[s.jsx(_t,{className:"h-5 w-5"}),"Balana Xiaomi - Fluxo de Pesagem"]}),s.jsx(Zi,{children:"Conecte sua balana Xiaomi e faa sua pesagem automtica"})]}),s.jsxs("div",{className:"space-y-6",children:[ue(),r!=="initial"&&r!=="completed"&&r!=="error"&&s.jsx("div",{className:"flex gap-2",children:s.jsxs(A,{variant:"outline",onClick:ae,className:"flex-1",children:[s.jsx(gn,{className:"mr-2 h-4 w-4"}),"Reiniciar"]})})]})]})]})},CP=()=>{const[e,t]=p.useState([]),[r,a]=p.useState(null),[n,i]=p.useState([]),[o,l]=p.useState(!1),[c,d]=p.useState(null),[u,m]=p.useState(new Date),{toast:h}=Ee(),f=p.useCallback(async()=>{try{const{data:{user:j}}=await z.auth.getUser();if(!j){console.log("Usurio no autenticado");return}console.log("Buscando dados fsicos para usurio:",j.id);const{data:N,error:w}=await z.from("user_physical_data").select("*").eq("user_id",j.id).single();if(w){if(w.code==="PGRST116"){console.log("Usurio no possui dados fsicos cadastrados"),a(null);return}throw w}console.log("Dados fsicos encontrados:",N),a(N)}catch(j){console.error("Erro ao buscar dados fsicos:",j),d(j.message)}},[]),g=async j=>{try{l(!0),d(null);const{data:{user:N}}=await z.auth.getUser();if(!N)throw new Error("Usurio no autenticado");console.log("Salvando dados fsicos:",{user_id:N.id,...j});const{data:w,error:S}=await z.from("user_physical_data").upsert({user_id:N.id,...j}).select().single();if(S)throw console.error("Erro ao salvar dados fsicos:",S),S;return console.log("Dados fsicos salvos com sucesso:",w),a(w),h({title:"Dados salvos!",description:"Seus dados fsicos foram salvos com sucesso."}),w}catch(N){throw console.error("Erro ao salvar dados fsicos:",N),d(N.message),h({title:"Erro",description:"Erro ao salvar dados fsicos: "+N.message,variant:"destructive"}),N}finally{l(!1)}},x=async j=>{var N;try{if(o)throw console.log("Salvamento j em andamento, ignorando..."),new Error("Salvamento j em andamento");l(!0),d(null);const{data:{user:w}}=await z.auth.getUser();if(!w)throw new Error("Usurio no autenticado");if(console.log("Iniciando salvamento de medio:",{user_id:w.id,...j}),!r&&(console.log("Dados fsicos no encontrados, buscando..."),await f(),!r))throw new Error("Voc precisa cadastrar seus dados fsicos primeiro (altura, idade, sexo)");if(!j.peso_kg||j.peso_kg<=0)throw new Error("Peso  obrigatrio e deve ser maior que zero");const S={user_id:w.id,...j,measurement_date:new Date().toISOString()};console.log("Dados da medio para salvar:",S);const{data:_,error:C}=await z.from("weight_measurements").insert(S).select().single();if(C)throw console.error("Erro ao salvar medio:",C),C;console.log("Medio salva com sucesso:",_),t(T=>[_,...T].slice(0,30)),m(new Date),v().catch(console.error);const E={baixo_peso:"Seu IMC indica baixo peso. Considere consultar um profissional.",normal:"Parabns! Seu IMC est dentro do ideal.",sobrepeso:"Seu IMC indica sobrepeso. Continue se cuidando!",obesidade_grau1:"Seu IMC indica obesidade grau I. Busque orientao profissional.",obesidade_grau2:"Seu IMC indica obesidade grau II. Recomendamos acompanhamento mdico.",obesidade_grau3:"Seu IMC indica obesidade grau III. Procure acompanhamento mdico urgente."};return h({title:"Pesagem salva!",description:`Peso: ${_.peso_kg}kg | IMC: ${(N=_.imc)==null?void 0:N.toFixed(1)} | ${E[_.risco_metabolico]||"Pesagem registrada com sucesso"}`,duration:5e3}),_}catch(w){throw console.error("Erro ao salvar medio:",w),d(w.message),h({title:"Erro",description:w.message,variant:"destructive"}),w}finally{l(!1)}},y=p.useCallback(async(j=30,N=!1)=>{try{if(!N&&e.length>0){const C=u.getTime(),E=new Date().getTime(),T=5*60*1e3;if(E-C<T){console.log("Dados ainda so frescos, no buscando novamente");return}}l(!0);const{data:{user:w}}=await z.auth.getUser();if(!w){console.log("Usurio no autenticado para buscar medies");return}console.log("Buscando medies para usurio:",w.id);const{data:S,error:_}=await z.from("weight_measurements").select("*").eq("user_id",w.id).order("measurement_date",{ascending:!1}).limit(j);if(_)throw console.error("Erro ao buscar medies:",_),_;console.log("Medies encontradas:",(S==null?void 0:S.length)||0),t(S||[]),m(new Date)}catch(w){console.error("Erro ao buscar medies:",w),d(w.message)}finally{l(!1)}},[]),v=p.useCallback(async()=>{try{const{data:{user:j}}=await z.auth.getUser();if(!j)return;const{data:N,error:w}=await z.from("weekly_analyses").select("id, user_id, semana_inicio, semana_fim, peso_inicial, peso_final, variacao_peso, tendencia, created_at").eq("user_id",j.id).order("semana_inicio",{ascending:!1}).limit(8);if(w)throw w;return i(N||[]),N}catch(j){return d(j.message),[]}},[]),b=p.useMemo(()=>{if(e.length===0)return null;const j=e[0],N=e[1];return{currentWeight:j.peso_kg,currentIMC:j.imc,weightChange:N?j.peso_kg-N.peso_kg:0,trend:N?j.peso_kg>N.peso_kg?"increasing":j.peso_kg<N.peso_kg?"decreasing":"stable":"stable",riskLevel:j.risco_metabolico,totalMeasurements:e.length,averageWeight:e.reduce((w,S)=>w+S.peso_kg,0)/e.length}},[e]);return p.useEffect(()=>{f(),y(),v()},[]),{measurements:e,physicalData:r,weeklyAnalyses:n,loading:o,error:c,stats:b,saveMeasurement:x,savePhysicalData:g,fetchMeasurements:y,fetchPhysicalData:f,fetchWeeklyAnalysis:v}},kP=e=>{const[t,r]=p.useState(null),[a,n]=p.useState(!0);p.useEffect(()=>{e&&i()},[e]);const i=async()=>{var o;if(e)try{n(!0);const{data:l,error:c}=await z.from("profiles").select("gender").eq("user_id",e.id).single(),{data:d,error:u}=await z.from("user_physical_data").select("sexo").eq("user_id",e.id).single();if(!u&&(d!=null&&d.sexo)){r({masculino:"male",feminino:"female"}[d.sexo]||"neutral");return}const m=(o=e.user_metadata)==null?void 0:o.gender;if(m){r(m);return}r("neutral")}catch(l){console.error("Erro ao carregar gnero do usurio:",l),r("neutral")}finally{n(!1)}};return{gender:t,loading:a}},cW=({genero:e,altura:t,peso:r,className:a="",style:n={}})=>{const i={feminino:"https://sketchfab.com/models/fe2c95ec93714e729becd46b2c37d3bb/embed",masculino:"https://sketchfab.com/models/ebae6cc235c144cea4d46b3105f868a6/embed"},o={ui_controls:0,ui_infos:0,ui_inspector:0,ui_stop:0,ui_watermark:0,ui_watermark_link:0,ui_ar:0,ui_help:0,ui_settings:0,ui_vr:0,ui_fullscreen:0,ui_animations:0,ui_start:0,ui_logo:0,ui_author:0,ui_license:0,ui_embed:0,ui_share:0,ui_download:0,ui_export:0,ui_print:0,ui_screenshot:0,autostart:1,autospin:.3,camera:0,scale:1,fov:45,pitch:0,yaw:0,roll:0,x:0,y:1.5,z:0},c=(()=>{const d=i[e],u=new URLSearchParams;return Object.entries(o).forEach(([m,h])=>{u.append(m,h.toString())}),`${d}?${u.toString()}`})();return s.jsxs("div",{className:`relative ${a}`,style:{...n,height:"700px",width:"100%",overflow:"visible",borderRadius:"12px"},children:[t&&s.jsxs("div",{className:"absolute -top-6 left-1/2 transform -translate-x-1/2 text-sm font-semibold text-foreground bg-background/90 px-2 py-1 rounded-md border z-10",children:[t," cm"]}),r&&s.jsxs("div",{className:"absolute -bottom-6 left-1/2 transform -translate-x-1/2 text-sm font-semibold text-foreground bg-background/90 px-2 py-1 rounded-md border z-10",children:[r.toFixed(1)," kg"]}),s.jsx("iframe",{title:e==="masculino"?"Personagem Masculino 3D":"Personagem Feminino 3D",src:c,frameBorder:"0",allowFullScreen:!0,allow:"autoplay; fullscreen; xr-spatial-tracking",className:"w-full h-full rounded-xl",style:{height:"700px",background:"transparent"}},c)]})},mEe=({weightData:e,bodyCompositionData:t,userGender:r,className:a=""})=>{var l,c,d;const n=[...e].reverse(),i=()=>{if(n.length<2)return s.jsx(YN,{className:"h-4 w-4 text-gray-400"});const u=n[0].value,m=n[n.length-1].value;return u>m?s.jsx(Ye,{className:"h-4 w-4 text-green-500"}):u<m?s.jsx(mm,{className:"h-4 w-4 text-red-500"}):s.jsx(YN,{className:"h-4 w-4 text-gray-400"})},o=()=>{if(n.length<2)return"Estvel";const u=n[0].value,m=n[n.length-1].value;return u>m?"Aumentando":u<m?"Diminuindo":"Estvel"};return s.jsxs(M,{className:`bg-black text-white border-gray-800 ${a}`,children:[s.jsx($,{children:s.jsxs(U,{className:"text-yellow-400 text-center flex items-center justify-center gap-2",children:["Evoluo Corporal",i()]})}),s.jsx(O,{className:"p-6",children:s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"relative",children:[s.jsxs("div",{className:"text-center mb-4",children:[s.jsx("h3",{className:"text-lg font-semibold text-yellow-400",children:"Composio Corporal"}),s.jsx("p",{className:"text-sm text-gray-400",children:"Distribuio atual dos componentes"})]}),s.jsx("div",{className:"relative flex flex-col gap-4",children:s.jsx("div",{className:"relative flex justify-center items-center",children:s.jsxs("div",{className:"relative",children:[s.jsx(cW,{genero:r==="male"?"masculino":"feminino",className:"w-48 h-72"}),s.jsxs("div",{className:"absolute inset-0 pointer-events-none",children:[s.jsxs("div",{className:"absolute top-2 right-2 flex flex-col items-center bg-black/90 p-2 rounded-lg backdrop-blur-sm border border-yellow-500/30",children:[s.jsx("div",{className:"w-3 h-3 bg-yellow-500 rounded-full mb-1"}),s.jsxs("span",{className:"text-yellow-400 text-lg font-bold",children:[t.gordura,"%"]}),s.jsx("span",{className:"text-yellow-400 text-xs",children:"Gordura"})]}),s.jsxs("div",{className:"absolute top-2 left-2 flex flex-col items-center bg-black/90 p-2 rounded-lg backdrop-blur-sm border border-green-500/30",children:[s.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full mb-1"}),s.jsxs("span",{className:"text-green-400 text-lg font-bold",children:[t.musculo,"%"]}),s.jsx("span",{className:"text-green-400 text-xs",children:"Msculo"})]}),s.jsxs("div",{className:"absolute bottom-2 right-2 flex flex-col items-center bg-black/90 p-2 rounded-lg backdrop-blur-sm border border-blue-500/30",children:[s.jsx("div",{className:"w-3 h-3 bg-blue-500 rounded-full mb-1"}),s.jsxs("span",{className:"text-blue-400 text-lg font-bold",children:[t.agua,"%"]}),s.jsx("span",{className:"text-blue-400 text-xs",children:"gua"})]}),s.jsxs("div",{className:"absolute bottom-2 left-2 flex flex-col items-center bg-black/90 p-2 rounded-lg backdrop-blur-sm border border-purple-500/30",children:[s.jsx("div",{className:"w-3 h-3 bg-purple-500 rounded-full mb-1"}),s.jsxs("span",{className:"text-purple-400 text-lg font-bold",children:[t.osso,"%"]}),s.jsx("span",{className:"text-purple-400 text-xs",children:"Osso"})]})]})]})})})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"text-center mb-4",children:[s.jsx("h3",{className:"text-lg font-semibold text-yellow-400",children:"Evoluo do Peso"}),s.jsx("p",{className:"text-sm text-gray-400",children:"Tendncia temporal das medies"})]}),s.jsx("div",{className:"h-64",children:s.jsx(St,{width:"100%",height:"100%",children:s.jsxs(Oz,{data:n,children:[s.jsx(rs,{strokeDasharray:"3 3",stroke:"#374151"}),s.jsx(Kt,{dataKey:"date",stroke:"#9CA3AF",fontSize:12,tick:{fill:"#9CA3AF"}}),s.jsx(It,{stroke:"#9CA3AF",fontSize:12,tick:{fill:"#9CA3AF"}}),s.jsx(cs,{contentStyle:{backgroundColor:"#1F2937",border:"1px solid #374151",borderRadius:"8px",color:"#F9FAFB"},labelStyle:{color:"#F9FAFB"}}),s.jsx(Cf,{type:"monotone",dataKey:"value",stroke:"#F97316",fill:"#F97316",fillOpacity:.3,strokeWidth:3})]})})}),s.jsxs("div",{className:"mt-4 space-y-3",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm text-gray-400",children:"Peso Atual:"}),s.jsxs("span",{className:"text-lg font-bold text-yellow-400",children:[(l=n[0])==null?void 0:l.value.toFixed(1)," kg"]})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm text-gray-400",children:"Tendncia:"}),s.jsx("span",{className:"text-sm font-medium text-gray-300",children:o()})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm text-gray-400",children:"ltima medio:"}),s.jsxs("span",{className:"text-sm text-gray-300",children:[(c=n[0])==null?void 0:c.date," s ",(d=n[0])==null?void 0:d.time]})]})]}),s.jsxs("div",{className:"mt-4",children:[s.jsx("h4",{className:"text-sm font-semibold text-gray-300 mb-2",children:"Histrico Recente"}),s.jsx("div",{className:"space-y-2",children:n.slice(0,3).map((u,m)=>s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:`w-2 h-2 rounded-full ${m===0?"bg-yellow-400":"bg-gray-500"}`}),s.jsxs("span",{className:`text-xs ${m===0?"text-yellow-400 font-bold":"text-gray-400"}`,children:[u.date," s ",u.time]})]}),s.jsxs("span",{className:`text-xs font-medium ${m===0?"text-yellow-400":"text-gray-400"}`,children:[u.value.toFixed(1)," kg"]})]},m))})]})]})]})})]})};var yb="Collapsible",[hEe,f3e]=ys(yb),[fEe,PP]=hEe(yb),dW=p.forwardRef((e,t)=>{const{__scopeCollapsible:r,open:a,defaultOpen:n,disabled:i,onOpenChange:o,...l}=e,[c,d]=Vr({prop:a,defaultProp:n??!1,onChange:o,caller:yb});return s.jsx(fEe,{scope:r,disabled:i,contentId:oa(),open:c,onOpenToggle:p.useCallback(()=>d(u=>!u),[d]),children:s.jsx(ge.div,{"data-state":AP(c),"data-disabled":i?"":void 0,...l,ref:t})})});dW.displayName=yb;var uW="CollapsibleTrigger",mW=p.forwardRef((e,t)=>{const{__scopeCollapsible:r,...a}=e,n=PP(uW,r);return s.jsx(ge.button,{type:"button","aria-controls":n.contentId,"aria-expanded":n.open||!1,"data-state":AP(n.open),"data-disabled":n.disabled?"":void 0,disabled:n.disabled,...a,ref:t,onClick:ce(e.onClick,n.onOpenToggle)})});mW.displayName=uW;var EP="CollapsibleContent",hW=p.forwardRef((e,t)=>{const{forceMount:r,...a}=e,n=PP(EP,e.__scopeCollapsible);return s.jsx(bs,{present:r||n.open,children:({present:i})=>s.jsx(pEe,{...a,ref:t,present:i})})});hW.displayName=EP;var pEe=p.forwardRef((e,t)=>{const{__scopeCollapsible:r,present:a,children:n,...i}=e,o=PP(EP,r),[l,c]=p.useState(a),d=p.useRef(null),u=Me(t,d),m=p.useRef(0),h=m.current,f=p.useRef(0),g=f.current,x=o.open||l,y=p.useRef(x),v=p.useRef(void 0);return p.useEffect(()=>{const b=requestAnimationFrame(()=>y.current=!1);return()=>cancelAnimationFrame(b)},[]),ns(()=>{const b=d.current;if(b){v.current=v.current||{transitionDuration:b.style.transitionDuration,animationName:b.style.animationName},b.style.transitionDuration="0s",b.style.animationName="none";const j=b.getBoundingClientRect();m.current=j.height,f.current=j.width,y.current||(b.style.transitionDuration=v.current.transitionDuration,b.style.animationName=v.current.animationName),c(a)}},[o.open,a]),s.jsx(ge.div,{"data-state":AP(o.open),"data-disabled":o.disabled?"":void 0,id:o.contentId,hidden:!x,...i,ref:u,style:{"--radix-collapsible-content-height":h?`${h}px`:void 0,"--radix-collapsible-content-width":g?`${g}px`:void 0,...e.style},children:x&&n})});function AP(e){return e?"open":"closed"}var xEe=dW;const gEe=xEe,vEe=mW,yEe=hW,bEe=()=>{const[e,t]=p.useState(null),[r,a]=p.useState(!0),[n,i]=p.useState(!1);p.useEffect(()=>{o()},[]);const o=async()=>{try{const{data:{user:m}}=await z.auth.getUser();if(!m)return;const{data:h,error:f}=await z.from("preventive_health_analyses").select("*").eq("user_id",m.id).order("created_at",{ascending:!1}).limit(1).maybeSingle();if(f&&f.code!=="PGRST116"){console.error("Erro ao carregar anlise:",f);return}t({...h,analysis_type:"preventive"})}catch(m){console.error("Erro:",m)}finally{a(!1)}},l=async m=>{try{const{data:{user:h}}=await z.auth.getUser();if(!h)return;const{data:f,error:g}=await z.functions.invoke("preventive-health-analysis",{body:{userId:h.id,analysisType:m}});if(g){console.error("Erro ao gerar anlise:",g);return}setTimeout(()=>{o()},2e3)}catch(h){console.error("Erro:",h)}},c=m=>{switch(m){case"BAIXO":return"bg-green-100 text-green-800 border-green-200";case"MODERADO":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"ALTO":return"bg-orange-100 text-orange-800 border-orange-200";case"CRTICO":return"bg-red-100 text-red-800 border-red-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},d=m=>{switch(m){case"BAIXO":return Da;case"MODERADO":return Te;case"ALTO":return Bt;case"CRTICO":return He;default:return Da}};if(r)return s.jsxs(M,{className:"w-full",children:[s.jsx($,{children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("div",{className:"w-8 h-8 bg-blue-500/20 rounded-full flex items-center justify-center overflow-hidden",children:s.jsx("img",{src:"https://imagensids.s3.us-east-1.amazonaws.com/Dr.Vital%20sem%20fundo.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZAQZCSRHV5K7MS7O%2F20250729%2Fus-east-1%2Fs3%2Faws4_request&X-Amz-Date=20250729T200051Z&X-Amz-Expires=300&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEIT%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLWVhc3QtMSJHMEUCIBFpp9P9nyy0xlESYSxV4Z%2FymQHW%2BhIUJ9HXlJI1D72vAiEA5ccWYy4XzckCwpWwIAFof7Pa3%2FTm6nI%2BQSRifUzZg0wq3wIIrf%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FARAAGgw2MTk2MDE2MzAyODciDKsyck27ENGIU8gzwCqzAu9Cdy0FdXVIJElVCyEGZ9d%2FQqo06MGKRp0n0xJoBq62X7QTy5A6nTLmGOmuEuTiQnungEvV4%2F0vOtBYeKvhyGa4CDoqAOJvBaOISJwC8oli79Cd4WFWed%2B27rNMER4qucvKXi9IRgwdWUAFUcSgtWxH3nQ74j%2FS3YSiWmdChjGjrvP1dblsS0M%2B2jP5iZBZhF1p2RMmy9HvZkzHL6mOh8rHlXZoUWvOK4upxXN7B7wS3QA%2F6IzQq45U4I9P0lqpDrvixU5Z9Qglss87fFJRRFrCu1vdlyOokZnK4oy3n%2Foi9WjUzxhoogiZ88xomS%2Fjo6PEObH8MOVQDoj97hnuXOaiiSwVYKrYGrWp0vL6Gj%2BfdjUwta6t20SJ%2BgpMWJKF7q2aynIVZOaOHab47xjw5y1dQxEw%2FMykxAY6rQIqV5W7Xc%2F8Hs5m7Yi3ZNSgwr35KbSAw1olbthR3EnJwYxZZLWcoHI50g3Mc9uTKx%2Fy5ESiTC2VYiw9ChUslgbq8zFfEsjpbcodYfpy1JZBlG82naacDCnndd1BbAwmJwarddvgBHi9ABHnR2ZsSuiTsEgmwRvThvDsZeNgEuE%2FmLxBhSTWfHzcTy%2FUoU6Q5sOMDnvxAKv7c5crHxtLlSJ68WdN1k2kWXjCCEao1Vnij8FLExbKVFcdMQEsfNYCR4At4nh1APeKVh%2Bfa%2Bjsly1%2F7JbTGJB%2BqILAlmLPCUwxk0AqSoX14u%2FGJlCZ4Yu68EXdi8zrYqTBzmO%2F%2FH9oR4gab3LQjuTHrQaCGhgkU6gQlS%2FtAyjE8HgA%2Ba5JYJj4Y%2F4hmX7NhWiru0Ym%2B2sT&X-Amz-Signature=e65aa3995d2c7cdb4a8153e9e52d029fcf60421c3ef8e24f22911a6e93f1e99f&X-Amz-SignedHeaders=host&response-content-disposition=inline",alt:"Dr. Vital",className:"w-full h-full object-cover rounded-full"})}),s.jsx(U,{className:"text-lg",children:"Dr. Vital - Anlise Preventiva"})]})}),s.jsx(O,{children:s.jsxs("div",{className:"animate-pulse space-y-3",children:[s.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4"}),s.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/2"}),s.jsx("div",{className:"h-8 bg-gray-200 rounded w-full"})]})})]});if(!e)return s.jsxs(M,{className:"w-full border-dashed",children:[s.jsxs($,{children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("div",{className:"w-8 h-8 bg-blue-500/20 rounded-full flex items-center justify-center overflow-hidden",children:s.jsx("img",{src:"https://imagensids.s3.us-east-1.amazonaws.com/Dr.Vital%20sem%20fundo.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZAQZCSRHV5K7MS7O%2F20250729%2Fus-east-1%2Fs3%2Faws4_request&X-Amz-Date=20250729T200051Z&X-Amz-Expires=300&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEIT%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLWVhc3QtMSJHMEUCIBFpp9P9nyy0xlESYSxV4Z%2FymQHW%2BhIUJ9HXlJI1D72vAiEA5ccWYy4XzckCwpWwIAFof7Pa3%2FTm6nI%2BQSRifUzZg0wq3wIIrf%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FARAAGgw2MTk2MDE2MzAyODciDKsyck27ENGIU8gzwCqzAu9Cdy0FdXVIJElVCyEGZ9d%2FQqo06MGKRp0n0xJoBq62X7QTy5A6nTLmGOmuEuTiQnungEvV4%2F0vOtBYeKvhyGa4CDoqAOJvBaOISJwC8oli79Cd4WFWed%2B27rNMER4qucvKXi9IRgwdWUAFUcSgtWxH3nQ74j%2FS3YSiWmdChjGjrvP1dblsS0M%2B2jP5iZBZhF1p2RMmy9HvZkzHL6mOh8rHlXZoUWvOK4upxXN7B7wS3QA%2F6IzQq45U4I9P0lqpDrvixU5Z9Qglss87fFJRRFrCu1vdlyOokZnK4oy3n%2Foi9WjUzxhoogiZ88xomS%2Fjo6PEObH8MOVQDoj97hnuXOaiiSwVYKrYGrWp0vL6Gj%2BfdjUwta6t20SJ%2BgpMWJKF7q2aynIVZOaOHab47xjw5y1dQxEw%2FMykxAY6rQIqV5W7Xc%2F8Hs5m7Yi3ZNSgwr35KbSAw1olbthR3EnJwYxZZLWcoHI50g3Mc9uTKx%2Fy5ESiTC2VYiw9ChUslgbq8zFfEsjpbcodYfpy1JZBlG82naacDCnndd1BbAwmJwarddvgBHi9ABHnR2ZsSuiTsEgmwRvThvDsZeNgEuE%2FmLxBhSTWfHzcTy%2FUoU6Q5sOMDnvxAKv7c5crHxtLlSJ68WdN1k2kWXjCCEao1Vnij8FLExbKVFcdMQEsfNYCR4At4nh1APeKVh%2Bfa%2Bjsly1%2F7JbTGJB%2BqILAlmLPCUwxk0AqSoX14u%2FGJlCZ4Yu68EXdi8zrYqTBzmO%2F%2FH9oR4gab3LQjuTHrQaCGhgkU6gQlS%2FtAyjE8HgA%2Ba5JYJj4Y%2F4hmX7NhWiru0Ym%2B2sT&X-Amz-Signature=e65aa3995d2c7cdb4a8153e9e52d029fcf60421c3ef8e24f22911a6e93f1e99f&X-Amz-SignedHeaders=host&response-content-disposition=inline",alt:"Dr. Vital",className:"w-full h-full object-cover rounded-full"})}),s.jsx(U,{className:"text-lg",children:"Dr. Vital - Anlise Preventiva"})]}),s.jsx(qt,{children:"Nenhuma anlise disponvel ainda"})]}),s.jsxs(O,{className:"space-y-4",children:[s.jsx("p",{className:"text-muted-foreground text-sm",children:"O Dr. Vital ainda no realizou uma anlise preventiva dos seus dados de sade. Gere sua primeira anlise para receber insights personalizados."}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(A,{onClick:()=>l("quinzenal"),variant:"outline",size:"sm",children:[s.jsx(ds,{className:"w-4 h-4 mr-2"}),"Anlise Quinzenal"]}),s.jsxs(A,{onClick:()=>l("mensal"),variant:"outline",size:"sm",children:[s.jsx(Vt,{className:"w-4 h-4 mr-2"}),"Anlise Mensal"]})]})]})]});const u=d(e.risk_level);return s.jsxs(M,{className:"w-full",children:[s.jsx($,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("div",{className:"w-8 h-8 bg-blue-500/20 rounded-full flex items-center justify-center overflow-hidden",children:s.jsx("img",{src:"https://imagensids.s3.us-east-1.amazonaws.com/Dr.Vital%20sem%20fundo.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZAQZCSRHV5K7MS7O%2F20250729%2Fus-east-1%2Fs3%2Faws4_request&X-Amz-Date=20250729T200051Z&X-Amz-Expires=300&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEIT%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLWVhc3QtMSJHMEUCIBFpp9P9nyy0xlESYSxV4Z%2FymQHW%2BhIUJ9HXlJI1D72vAiEA5ccWYy4XzckCwpWwIAFof7Pa3%2FTm6nI%2BQSRifUzZg0wq3wIIrf%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FARAAGgw2MTk2MDE2MzAyODciDKsyck27ENGIU8gzwCqzAu9Cdy0FdXVIJElVCyEGZ9d%2FQqo06MGKRp0n0xJoBq62X7QTy5A6nTLmGOmuEuTiQnungEvV4%2F0vOtBYeKvhyGa4CDoqAOJvBaOISJwC8oli79Cd4WFWed%2B27rNMER4qucvKXi9IRgwdWUAFUcSgtWxH3nQ74j%2FS3YSiWmdChjGjrvP1dblsS0M%2B2jP5iZBZhF1p2RMmy9HvZkzHL6mOh8rHlXZoUWvOK4upxXN7B7wS3QA%2F6IzQq45U4I9P0lqpDrvixU5Z9Qglss87fFJRRFrCu1vdlyOokZnK4oy3n%2Foi9WjUzxhoogiZ88xomS%2Fjo6PEObH8MOVQDoj97hnuXOaiiSwVYKrYGrWp0vL6Gj%2BfdjUwta6t20SJ%2BgpMWJKF7q2aynIVZOaOHab47xjw5y1dQxEw%2FMykxAY6rQIqV5W7Xc%2F8Hs5m7Yi3ZNSgwr35KbSAw1olbthR3EnJwYxZZLWcoHI50g3Mc9uTKx%2Fy5ESiTC2VYiw9ChUslgbq8zFfEsjpbcodYfpy1JZBlG82naacDCnndd1BbAwmJwarddvgBHi9ABHnR2ZsSuiTsEgmwRvThvDsZeNgEuE%2FmLxBhSTWfHzcTy%2FUoU6Q5sOMDnvxAKv7c5crHxtLlSJ68WdN1k2kWXjCCEao1Vnij8FLExbKVFcdMQEsfNYCR4At4nh1APeKVh%2Bfa%2Bjsly1%2F7JbTGJB%2BqILAlmLPCUwxk0AqSoX14u%2FGJlCZ4Yu68EXdi8zrYqTBzmO%2F%2FH9oR4gab3LQjuTHrQaCGhgkU6gQlS%2FtAyjE8HgA%2Ba5JYJj4Y%2F4hmX7NhWiru0Ym%2B2sT&X-Amz-Signature=e65aa3995d2c7cdb4a8153e9e52d029fcf60421c3ef8e24f22911a6e93f1e99f&X-Amz-SignedHeaders=host&response-content-disposition=inline",alt:"Dr. Vital",className:"w-full h-full object-cover rounded-full"})}),s.jsxs("div",{children:[s.jsx(U,{className:"text-lg",children:"Dr. Vital - Anlise Preventiva"}),s.jsxs(qt,{className:"flex items-center space-x-2 mt-1",children:[s.jsx(Vt,{className:"w-4 h-4"}),s.jsxs("span",{children:[e.created_at?Ka(new Date(e.created_at),"dd 'de' MMMM 'de' yyyy",{locale:Zv}):"Data no disponvel"," ","(",e.analysis_type,")"]})]})]})]}),e.risk_level&&s.jsxs(X,{className:c(e.risk_level),children:[s.jsx(u,{className:"w-4 h-4 mr-1"}),"Risco ",e.risk_level]})]})}),s.jsxs(O,{className:"space-y-4",children:[e.risk_score&&s.jsxs("div",{className:"flex items-center justify-between p-4 bg-gradient-to-r from-blue-50 to-cyan-50 rounded-lg",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-blue-900",children:"Score de Risco"}),s.jsxs("p",{className:"text-2xl font-bold text-blue-600",children:[e.risk_score,"/100"]})]}),s.jsx(Ye,{className:"w-8 h-8 text-blue-500"})]}),e.dr_vital_analysis&&s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(ds,{className:"w-4 h-4 text-blue-600"}),s.jsx("h4",{className:"font-semibold",children:"Anlise do Dr. Vital"})]}),s.jsx("div",{className:"bg-blue-50 p-4 rounded-lg border-l-4 border-blue-400",children:s.jsxs("p",{className:"text-blue-900 italic leading-relaxed",children:['"',e.dr_vital_analysis,'"']})})]}),e.positive_points&&e.positive_points.length>0&&s.jsxs("div",{className:"space-y-2",children:[s.jsxs("h4",{className:"font-semibold text-green-700 flex items-center space-x-2",children:[s.jsx(Da,{className:"w-4 h-4"}),s.jsx("span",{children:"Pontos Positivos"})]}),s.jsx("div",{className:"space-y-1",children:e.positive_points.map((m,h)=>s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),s.jsx("span",{className:"text-sm text-green-700",children:m})]},h))})]}),e.urgent_warnings&&e.urgent_warnings.length>0&&s.jsxs("div",{className:"space-y-2",children:[s.jsxs("h4",{className:"font-semibold text-orange-700 flex items-center space-x-2",children:[s.jsx(Bt,{className:"w-4 h-4"}),s.jsx("span",{children:"Recomendaes Importantes"})]}),s.jsx("div",{className:"space-y-1",children:e.urgent_warnings.map((m,h)=>s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("div",{className:"w-2 h-2 bg-orange-500 rounded-full"}),s.jsx("span",{className:"text-sm text-orange-700",children:m})]},h))})]}),s.jsxs(gEe,{open:n,onOpenChange:i,children:[s.jsx(vEe,{asChild:!0,children:s.jsxs(A,{variant:"ghost",size:"sm",className:"w-full justify-between",children:["Ver detalhes completos",n?s.jsx(YS,{className:"w-4 h-4"}):s.jsx(P0,{className:"w-4 h-4"})]})}),s.jsxs(yEe,{className:"space-y-4 mt-4",children:[e.metrics&&s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[s.jsxs("div",{className:"text-center p-3 bg-gray-50 rounded-lg",children:[s.jsx("p",{className:"text-xs text-muted-foreground",children:"Adeso"}),s.jsxs("p",{className:"text-lg font-bold text-primary",children:[e.metrics.compliance_score||0,"%"]})]}),s.jsxs("div",{className:"text-center p-3 bg-gray-50 rounded-lg",children:[s.jsx("p",{className:"text-xs text-muted-foreground",children:"Exerccio"}),s.jsxs("p",{className:"text-lg font-bold text-primary",children:[e.metrics.exercise_frequency||0,"x"]})]}),s.jsxs("div",{className:"text-center p-3 bg-gray-50 rounded-lg",children:[s.jsx("p",{className:"text-xs text-muted-foreground",children:"Sono"}),s.jsxs("p",{className:"text-lg font-bold text-primary",children:[e.metrics.sleep_quality||0,"/10"]})]}),s.jsxs("div",{className:"text-center p-3 bg-gray-50 rounded-lg",children:[s.jsx("p",{className:"text-xs text-muted-foreground",children:"Nutrio"}),s.jsxs("p",{className:"text-lg font-bold text-primary",children:[e.metrics.nutrition_score||0,"%"]})]})]}),e.health_risks&&e.health_risks.length>0&&s.jsxs("div",{className:"space-y-2",children:[s.jsxs("h4",{className:"font-semibold text-red-700 flex items-center space-x-2",children:[s.jsx(Bt,{className:"w-4 h-4"}),s.jsx("span",{children:"Riscos Identificados"})]}),s.jsx("div",{className:"space-y-1",children:e.health_risks.map((m,h)=>s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("div",{className:"w-2 h-2 bg-red-500 rounded-full"}),s.jsx("span",{className:"text-sm text-red-700",children:m})]},h))})]})]})]}),s.jsx("div",{className:"flex gap-2 pt-2",children:s.jsxs(A,{onClick:()=>l("quinzenal"),variant:"outline",size:"sm",className:"flex-1",children:[s.jsx(ds,{className:"w-4 h-4 mr-2"}),"Nova Anlise"]})})]})]})},jEe=[{day:"Seg",exercicio:45,hidratacao:1.8,sono:7.5},{day:"Ter",exercicio:30,hidratacao:2.1,sono:8},{day:"Qua",exercicio:60,hidratacao:2,sono:7},{day:"Qui",exercicio:40,hidratacao:1.9,sono:7.5},{day:"Sex",exercicio:50,hidratacao:2.2,sono:8.5},{day:"Sab",exercicio:75,hidratacao:2,sono:9},{day:"Dom",exercicio:35,hidratacao:1.7,sono:8}],wEe=({title:e,value:t,unit:r,change:a,icon:n,color:i,description:o})=>s.jsxs(M,{className:"stat-card",children:[s.jsxs($,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(U,{className:"text-sm font-medium text-muted-foreground",children:e}),s.jsx(n,{className:`h-4 w-4 ${i}`})]}),s.jsxs(O,{children:[s.jsxs("div",{className:"text-4xl font-bold text-foreground",children:[t,r&&s.jsx("span",{className:"text-xl text-muted-foreground ml-1",children:r})]}),a&&s.jsx("p",{className:"text-xs text-muted-foreground",children:a}),o&&s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:o})]})]}),NEe=()=>{const{measurements:e,stats:t}=CP(),[r,a]=p.useState([]),[n,i]=p.useState([]),[o,l]=p.useState(null),{gender:c}=kP(o);p.useEffect(()=>{(async()=>{const{data:{user:h}}=await z.auth.getUser();l(h)})()},[]),p.useEffect(()=>{const m=z.channel("weight-measurements-changes").on("postgres_changes",{event:"*",schema:"public",table:"weight_measurements"},()=>{window.location.reload()}).subscribe();return()=>{z.removeChannel(m)}},[]),p.useEffect(()=>{if(e.length>0){const m=e.slice(-7).map(h=>({date:Ka(new Date(h.measurement_date||h.created_at),"dd/MM"),peso:Number(h.peso_kg),meta:70}));a(m)}},[e]),p.useEffect(()=>{if(e.length>0){const m=e[0],h=[{name:"Massa Muscular",value:Number(m.massa_muscular_kg)||35,color:"#10B981"},{name:"Gordura",value:Number(m.gordura_corporal_percent)||20,color:"#F59E0B"},{name:"gua",value:Number(m.agua_corporal_percent)||45,color:"#3B82F6"}];i(h)}},[e]);const d=()=>{if(e.length>=2){const m=Number(e[0].peso_kg),h=Number(e[1].peso_kg),f=m-h;return f>0?`+${f.toFixed(1)}kg`:`${f.toFixed(1)}kg`}return"Primeiro registro"},u=m=>m<18.5?"Abaixo do peso":m<25?"Normal":m<30?"Sobrepeso":"Obesidade";return s.jsxs("div",{className:"space-y-4 lg:space-y-6 animate-fade-up p-4 lg:p-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl lg:text-3xl font-bold text-foreground",children:"Dashboard"}),s.jsx("p",{className:"text-sm lg:text-base text-muted-foreground",children:"Acompanhe sua jornada de sade"})]}),s.jsxs(A,{className:"btn-gradient",children:[s.jsx(Vt,{className:"w-4 h-4 mr-2"}),"Hoje"]})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-3 lg:gap-4",children:[s.jsxs(M,{className:"stat-card",children:[s.jsxs($,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(U,{className:"text-sm font-medium text-muted-foreground",children:"Peso Atual"}),s.jsx(_t,{className:"h-4 w-4 text-primary"})]}),s.jsxs(O,{children:[s.jsxs("div",{className:"text-4xl font-bold text-foreground",children:[(t==null?void 0:t.currentWeight)||"N/A",s.jsx("span",{className:"text-xl text-muted-foreground ml-1",children:"kg"})]}),d()&&s.jsx("p",{className:"text-xs text-muted-foreground",children:d()}),e.length>0&&s.jsxs("div",{className:"mt-3 space-y-1",children:[s.jsx("p",{className:"text-xs text-muted-foreground font-medium",children:"ltimas medies:"}),e.slice(0,3).map((m,h)=>s.jsxs("div",{className:"flex justify-between items-center text-xs",children:[s.jsx("span",{className:"text-muted-foreground",children:Ka(new Date(m.measurement_date||m.created_at),"dd/MM")}),s.jsxs("span",{className:`font-medium ${h===0?"text-primary":"text-muted-foreground"}`,children:[Number(m.peso_kg).toFixed(1)," kg"]})]},h))]})]})]}),s.jsx(wEe,{title:"IMC",value:(t==null?void 0:t.currentIMC)||"N/A",change:t!=null&&t.currentIMC?u(t.currentIMC):"N/A",icon:_e,color:"text-success",description:"ndice de massa corporal"}),s.jsxs(M,{className:"stat-card",children:[s.jsxs($,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(U,{className:"text-sm font-medium text-muted-foreground",children:"Progresso Semanal"}),s.jsx(jt,{className:"h-4 w-4 text-yellow-500"})]}),s.jsxs(O,{children:[s.jsxs("div",{className:"text-4xl font-bold text-foreground",children:["78%",s.jsx("span",{className:"text-xl text-muted-foreground ml-1",children:"Meta"})]}),s.jsxs("div",{className:"mt-2 space-y-2",children:[s.jsxs("div",{className:"flex justify-between items-center text-xs",children:[s.jsx("span",{className:"text-muted-foreground",children:"Peso:"}),s.jsx("span",{className:"font-medium text-green-500",children:"-1.2kg"})]}),s.jsxs("div",{className:"flex justify-between items-center text-xs",children:[s.jsx("span",{className:"text-muted-foreground",children:"Exerccios:"}),s.jsx("span",{className:"font-medium text-blue-500",children:"5/7 dias"})]}),s.jsxs("div",{className:"flex justify-between items-center text-xs",children:[s.jsx("span",{className:"text-muted-foreground",children:"Hidratao:"}),s.jsx("span",{className:"font-medium text-cyan-500",children:"85%"})]})]}),s.jsxs("div",{className:"mt-3",children:[s.jsxs("div",{className:"flex justify-between items-center text-xs mb-1",children:[s.jsx("span",{className:"text-muted-foreground",children:"Progresso Geral"}),s.jsx("span",{className:"font-medium",children:"78%"})]}),s.jsx(Ge,{value:78,className:"h-2"})]}),s.jsxs("p",{className:"text-xs text-muted-foreground mt-2",children:["Tendncia: ",s.jsx("span",{className:"text-green-500 font-medium",children:" Positiva"})]})]})]}),s.jsxs("div",{className:"stat-card",children:[s.jsxs($,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(U,{className:"text-sm font-medium text-muted-foreground",children:"Pesagem"}),s.jsx(rf,{className:"h-6 w-6 text-blue-500"})]}),s.jsxs(O,{className:"pt-2",children:[s.jsxs("div",{className:"text-center mb-3",children:[s.jsx(_t,{className:"h-12 w-12 text-primary mx-auto mb-2"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Balana Xiaomi"})]}),s.jsx(lW,{})]})]})]}),s.jsx(bEe,{}),s.jsx("div",{className:"grid grid-cols-1 gap-6",children:s.jsx(mEe,{weightData:r.map((m,h)=>({date:m.date,time:"08:30",value:m.peso,type:"peso"})),bodyCompositionData:{gordura:44.1,musculo:24,agua:39.9,osso:15},userGender:c})}),s.jsxs(M,{className:"health-card",children:[s.jsxs($,{children:[s.jsxs(U,{className:"flex items-center space-x-2",children:[s.jsx(Te,{className:"w-5 h-5 text-health-steps"}),s.jsx("span",{children:"Atividade Semanal"})]}),s.jsx(qt,{children:"Exerccio, hidratao e qualidade do sono"})]}),s.jsx(O,{children:s.jsx("div",{className:"h-80",children:s.jsx(St,{width:"100%",height:"100%",children:s.jsxs(zc,{data:jEe,children:[s.jsx(rs,{strokeDasharray:"3 3",stroke:"hsl(var(--border))"}),s.jsx(Kt,{dataKey:"day",stroke:"hsl(var(--muted-foreground))",fontSize:12}),s.jsx(It,{stroke:"hsl(var(--muted-foreground))",fontSize:12}),s.jsx(cs,{}),s.jsx(Ra,{}),s.jsx(vs,{dataKey:"exercicio",fill:"hsl(var(--health-steps))",radius:[2,2,0,0]}),s.jsx(vs,{dataKey:"hidratacao",fill:"hsl(var(--health-hydration))",radius:[2,2,0,0]}),s.jsx(vs,{dataKey:"sono",fill:"hsl(var(--accent))",radius:[2,2,0,0]})]})})})})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3 lg:gap-4",children:[s.jsxs(M,{className:"mission-card",children:[s.jsx($,{className:"pb-3",children:s.jsxs(U,{className:"text-sm flex items-center space-x-2",children:[s.jsx(He,{className:"w-4 h-4 text-health-heart"}),s.jsx("span",{children:"Exerccio Dirio"})]})}),s.jsx(O,{children:s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{children:"45 min"}),s.jsx("span",{children:"Meta: 30 min"})]}),s.jsx(Ge,{value:150,className:"h-2"}),s.jsx("p",{className:"text-xs text-success font-medium",children:"Meta superada! "})]})})]}),s.jsxs(M,{className:"mission-card",children:[s.jsx($,{className:"pb-3",children:s.jsxs(U,{className:"text-sm flex items-center space-x-2",children:[s.jsx(Bi,{className:"w-4 h-4 text-health-hydration"}),s.jsx("span",{children:"Hidratao"})]})}),s.jsx(O,{children:s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{children:"1.8 L"}),s.jsx("span",{children:"Meta: 2.0 L"})]}),s.jsx(Ge,{value:90,className:"h-2"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Falta apenas 200ml"})]})})]}),s.jsxs(M,{className:"mission-card",children:[s.jsx($,{className:"pb-3",children:s.jsxs(U,{className:"text-sm flex items-center space-x-2",children:[s.jsx(tp,{className:"w-4 h-4 text-accent"}),s.jsx("span",{children:"Sono"})]})}),s.jsx(O,{children:s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{children:"7.5 h"}),s.jsx("span",{children:"Meta: 8.0 h"})]}),s.jsx(Ge,{value:94,className:"h-2"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Quase na meta!"})]})})]})]})]})},SEe=[{id:"morning_liquid",section:"morning",question:"Qual foi o primeiro lquido que consumiu?",type:"multiple_choice",options:["gua morna com limo","Ch natural","Caf puro","gua gelada","Outro"],points:10,required:!0,order:1,tracking:"morning_liquid"},{id:"internal_connection",section:"morning",question:"Praticou algum momento de conexo interna?",type:"multiple_choice",options:["Orao","Meditao","Respirao consciente","No fiz hoje"],points:15,required:!0,order:2,tracking:"internal_connection"},{id:"morning_energy",section:"morning",question:"Como voc classificaria sua energia ao acordar?",type:"scale",scale:{min:1,max:5,labels:["Muito baixo","Baixo","Mdio","Alto","Muito alto"],emojis:["","","","",""]},points:15,required:!0,order:3,tracking:"energy_level"},{id:"sleep_hours",section:"habits",question:"Quantas horas voc dormiu?",type:"multiple_choice",options:["4h ou menos","6h","8h","9h+"],points:20,required:!0,order:4,tracking:"sleep_hours"},{id:"water_intake",section:"habits",question:"Quanto de gua voc bebeu hoje?",type:"multiple_choice",options:["Menos de 500ml","1L","2L","3L ou mais"],points:15,required:!0,order:5,tracking:"water_intake"},{id:"physical_activity",section:"habits",question:"Praticou atividade fsica hoje?",type:"yes_no",points:15,required:!0,order:6,tracking:"physical_activity"},{id:"stress_level",section:"habits",question:"Como est seu nvel de estresse hoje?",type:"scale",scale:{min:1,max:5,labels:["Muito baixo","Baixo","Mdio","Alto","Muito alto"]},points:15,required:!0,order:7,tracking:"stress_level"},{id:"emotional_hunger",section:"habits",question:"Sentiu fome emocional hoje?",type:"yes_no",points:10,required:!0,order:8,tracking:"emotional_hunger"},{id:"gratitude",section:"mindset",question:"Pelo que voc  grato hoje?",type:"multiple_choice",options:["Minha sade","Minha famlia","Meu trabalho","Meu corpo","Outro"],points:15,required:!0,order:9,tracking:"gratitude"},{id:"small_victory",section:"mindset",question:"Qual foi sua pequena vitria hoje?",type:"text",placeholder:"Conte sobre sua conquista do dia...",points:20,required:!0,order:10,tracking:"small_victory"},{id:"tomorrow_intention",section:"mindset",question:"Qual sua inteno para amanh?",type:"multiple_choice",options:["Cuidar de mim","Estar presente","Fazer melhor","Outro"],points:15,required:!0,order:11,tracking:"tomorrow_intention"},{id:"day_rating",section:"mindset",question:"Como foi seu dia hoje?",type:"star_scale",scale:{min:1,max:5,labels:["Muito ruim","Ruim","Normal","Bom","Excelente"],stars:!0},points:20,required:!0,order:12,tracking:"day_rating"}],_Ee=e=>{switch(e){case"morning":return" RITUAL DA MANH";case"habits":return" HBITOS DO DIA";case"mindset":return" MENTE & EMOES";default:return""}},CEe=e=>{switch(e){case"Menos de 500ml":return 250;case"1L":return 1e3;case"2L":return 2e3;case"3L ou mais":return 3e3;default:return 0}},kEe=e=>{switch(e){case"4h ou menos":return 4;case"6h":return 6;case"8h":return 8;case"9h+":return 9;default:return 0}},PEe=({user:e})=>{const[t,r]=p.useState({}),[a,n]=p.useState(0),[i,o]=p.useState(!1),[l,c]=p.useState(null),[d,u]=p.useState(!1),m=SEe.sort((_,C)=>_.order-C.order),h=m[a],f=a/m.length*100;p.useEffect(()=>{if(!e)return;(async()=>{const C=new Date().toISOString().split("T")[0],{data:E,error:T}=await z.from("daily_mission_sessions").select("*").eq("user_id",e.id).eq("date",C).single();if(E&&!T){c({...E,completed_sections:E.completed_sections}),u(E.is_completed);const{data:k}=await z.from("daily_responses").select("*").eq("user_id",e.id).eq("date",C);if(k){const P={};k.forEach(D=>{P[D.question_id]=D.answer}),r(P)}}})()},[e]);const g=p.useCallback(async(_,C)=>{if(!e)return;o(!0);const E=new Date().toISOString().split("T")[0],T=m.find(k=>k.id===_);if(!T){o(!1);return}try{const{data:k}=await z.from("daily_responses").select("id").eq("user_id",e.id).eq("date",E).eq("question_id",_).single();if(k){const{error:P}=await z.from("daily_responses").update({answer:C.toString(),points_earned:T.points}).eq("id",k.id);if(P)throw P}else{const{error:P}=await z.from("daily_responses").insert({user_id:e.id,date:E,section:T.section,question_id:_,answer:C.toString(),points_earned:T.points,created_at:new Date().toISOString()});if(P)throw P}T.tracking&&await x(T.tracking,C),console.log(`Resposta salva: ${_} = ${C}`)}catch(k){console.error("Erro ao salvar resposta:",k)}finally{o(!1)}},[e,m]),x=async(_,C)=>{if(!e)return;const E=new Date().toISOString().split("T")[0];try{switch(_){case"water_intake":const T=CEe(C.toString()),{data:k}=await z.from("health_diary").select("id").eq("user_id",e.id).eq("date",E).single();k?await z.from("health_diary").update({water_intake:T,notes:`gua: ${T}L`}).eq("id",k.id):await z.from("health_diary").insert({user_id:e.id,date:E,water_intake:T,notes:`gua: ${T}L`});break;case"sleep_hours":const P=kEe(C.toString()),{data:D}=await z.from("health_diary").select("id").eq("user_id",e.id).eq("date",E).single();D?await z.from("health_diary").update({sleep_hours:P,notes:`Sono: ${P} horas`}).eq("id",D.id):await z.from("health_diary").insert({user_id:e.id,date:E,sleep_hours:P,notes:`Sono: ${P} horas`});break;case"energy_level":case"stress_level":case"day_rating":const{data:I}=await z.from("health_diary").select("id").eq("user_id",e.id).eq("date",E).single(),V={notes:`${_}: ${C}`};_==="energy_level"&&(V.energy_level=C),_==="day_rating"&&(V.mood_rating=C),I?await z.from("health_diary").update(V).eq("id",I.id):await z.from("health_diary").insert({user_id:e.id,date:E,...V});break;case"small_victory":const{data:W}=await z.from("health_diary").select("id").eq("user_id",e.id).eq("date",E).single();W?await z.from("health_diary").update({notes:C.toString(),mood_rating:5}).eq("id",W.id):await z.from("health_diary").insert({user_id:e.id,date:E,notes:C.toString(),mood_rating:5});break}}catch(T){console.error(`Erro ao salvar tracking ${_}:`,T)}},y=p.useCallback(async()=>{if(!e)return;o(!0);const _=new Date().toISOString().split("T")[0],C=m.reduce((E,T)=>t[T.id]!==void 0?E+T.points:E,0);try{const{data:E}=await z.from("daily_mission_sessions").select("id").eq("user_id",e.id).eq("date",_).single();if(E){const{error:T}=await z.from("daily_mission_sessions").update({completed_sections:["morning","habits","mindset"],total_points:C,is_completed:!0,updated_at:new Date().toISOString()}).eq("id",E.id);if(T)throw T}else{const{error:T}=await z.from("daily_mission_sessions").insert({user_id:e.id,date:_,completed_sections:["morning","habits","mindset"],total_points:C,is_completed:!0,updated_at:new Date().toISOString()});if(T)throw T}u(!0),console.log("Misso completa!",{totalPoints:C,answers:t})}catch(E){console.error("Erro ao completar misso:",E)}finally{o(!1)}},[e,t,m]),v=p.useCallback(async _=>{r(C=>({...C,[h.id]:_})),await g(h.id,_),a<m.length-1?n(C=>C+1):await y()},[h,a,m.length,g,y]),b=p.useCallback(_=>{v(_)},[v]),j=p.useCallback(_=>{v(_)},[v]),N=p.useCallback(_=>{v(_?"Sim":"No")},[v]),w=p.useCallback(_=>{v(_)},[v]),S=p.useCallback(_=>{console.log("Star rating selected:",_),v(_)},[v]);return{currentQuestion:h,currentQuestionIndex:a,progress:f,answers:t,isLoading:i,isCompleted:d,session:l,handleScaleAnswer:b,handleMultipleChoice:j,handleYesNo:N,handleTextInput:w,handleStarRating:S,allQuestions:m}},EEe=({user:e})=>{const[t,r]=p.useState(""),{currentQuestion:a,currentQuestionIndex:n,progress:i,answers:o,isLoading:l,isCompleted:c,session:d,handleScaleAnswer:u,handleMultipleChoice:m,handleYesNo:h,handleTextInput:f,handleStarRating:g,allQuestions:x}=PEe({user:e}),y=v=>{var b,j,N,w;if(!v||!v.type)return console.error("Pergunta invlida:",v),s.jsx("div",{className:"p-4 text-red-500",children:"Erro: pergunta no encontrada"});switch(v.type){case"scale":return s.jsx("div",{className:"space-y-4",children:s.jsx("div",{className:"space-y-3",children:(j=(b=v.scale)==null?void 0:b.labels)==null?void 0:j.map((S,_)=>{var C;return s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(A,{variant:o[v.id]===_+1?"default":"outline",className:`w-16 h-16 p-0 question-button mobile-text-lg ${o[v.id]===_+1?"question-button-purple":"question-button-outline"}`,onClick:()=>u(_+1),disabled:l,children:(C=v.scale)!=null&&C.emojis?s.jsx("span",{className:"text-2xl",children:v.scale.emojis[_]}):s.jsx("span",{className:"mobile-text-xl font-bold",children:_+1})}),s.jsx("span",{className:"mobile-text-lg flex-1",children:S})]},_)})})});case"star_scale":return s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{className:"flex justify-center gap-3",children:[1,2,3,4,5].map(S=>s.jsx(A,{variant:o[v.id]===S?"default":"outline",className:`w-16 h-16 p-0 question-button ${o[v.id]===S?"question-button-purple":"question-button-outline"}`,onClick:()=>{console.log(`Estrela ${S} clicada`),g(S)},disabled:l,children:s.jsx(kt,{className:`h-8 w-8 ${o[v.id]===S?"fill-current":""}`})},S))}),s.jsx("p",{className:"text-center mobile-text-lg text-muted-foreground",children:(N=v.scale)!=null&&N.labels&&o[v.id]?v.scale.labels[o[v.id]-1]:"Selecione uma avaliao"})]});case"multiple_choice":return s.jsx("div",{className:"space-y-3",children:(w=v.options)==null?void 0:w.map((S,_)=>s.jsxs(A,{variant:o[v.id]===S?"default":"outline",className:`w-full justify-start text-left question-button ${o[v.id]===S?"question-button-purple":"question-button-outline"}`,onClick:()=>m(S),disabled:l,children:[o[v.id]===S&&s.jsx(Se,{className:"mr-2 h-5 w-5"}),s.jsx("span",{className:"mobile-text-lg",children:S})]},_))});case"yes_no":return s.jsxs("div",{className:"flex gap-3",children:[s.jsxs(A,{variant:o[v.id]==="Sim"?"default":"outline",className:`flex-1 question-button ${o[v.id]==="Sim"?"question-button-purple":"question-button-outline"}`,onClick:()=>h(!0),disabled:l,children:[o[v.id]==="Sim"&&s.jsx(Se,{className:"mr-2 h-5 w-5"}),s.jsx("span",{className:"mobile-text-lg",children:"Sim"})]}),s.jsxs(A,{variant:o[v.id]==="No"?"default":"outline",className:`flex-1 question-button ${o[v.id]==="No"?"question-button-purple":"question-button-outline"}`,onClick:()=>h(!1),disabled:l,children:[o[v.id]==="No"&&s.jsx(Se,{className:"mr-2 h-5 w-5"}),s.jsx("span",{className:"mobile-text-lg",children:"No"})]})]});case"text":return s.jsxs("div",{className:"space-y-4",children:[s.jsx(Ke,{placeholder:v.placeholder||"Digite sua resposta...",value:t,onChange:S=>r(S.target.value),className:"min-h-[120px]",disabled:l}),s.jsx(A,{onClick:()=>{t.trim()&&(f(t),r(""))},disabled:!t.trim()||l,className:"w-full question-button question-button-purple",children:s.jsx("span",{className:"mobile-text-lg",children:"Continuar"})})]});default:return null}};if(c&&d){const v=d.total_points;return s.jsx("div",{className:"p-6 max-w-2xl mx-auto",children:s.jsx(M,{className:"bg-gradient-to-r from-green-900 to-blue-900 border-green-700",children:s.jsxs(O,{className:"p-8 text-center",children:[s.jsxs("div",{className:"flex items-center justify-center gap-3 mb-4",children:[s.jsx(Be,{className:"h-12 w-12 text-yellow-400"}),s.jsx("h2",{className:"text-3xl font-bold text-green-100",children:"Misso Completa!"}),s.jsx(Be,{className:"h-12 w-12 text-yellow-400"})]}),s.jsx("p",{className:"text-xl text-green-200 mb-6",children:"Parabns! Voc completou todas as reflexes de hoje."}),s.jsxs("div",{className:"bg-gray-800 rounded-lg p-6 mb-6 border border-gray-700",children:[s.jsx("h3",{className:"text-lg font-semibold mb-4 text-white",children:"Resumo das Respostas:"}),s.jsx("div",{className:"space-y-2 text-left",children:x.map(b=>s.jsxs("div",{className:"flex justify-between items-center p-2 bg-gray-700 rounded",children:[s.jsx("span",{className:"text-sm text-gray-200",children:b.question}),s.jsx(X,{variant:"secondary",className:"bg-gray-600 text-gray-200",children:o[b.id]||"No respondido"})]},b.id))})]}),s.jsxs("div",{className:"flex items-center justify-center gap-2 text-2xl font-bold text-yellow-400",children:[s.jsx(kt,{className:"h-8 w-8"}),s.jsxs("span",{children:[v," pontos ganhos!"]}),s.jsx(kt,{className:"h-8 w-8"})]}),s.jsxs("div",{className:"mt-6 grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"bg-blue-800 p-4 rounded-lg border border-blue-600",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(Bi,{className:"h-5 w-5 text-blue-300"}),s.jsx("span",{className:"font-semibold text-blue-100",children:"gua"})]}),s.jsx("p",{className:"text-sm text-blue-200",children:o.water_intake||"No registrado"})]}),s.jsxs("div",{className:"bg-purple-800 p-4 rounded-lg border border-purple-600",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(ii,{className:"h-5 w-5 text-purple-300"}),s.jsx("span",{className:"font-semibold text-purple-100",children:"Sono"})]}),s.jsx("p",{className:"text-sm text-purple-200",children:o.sleep_hours||"No registrado"})]})]})]})})})}return a?s.jsxs("div",{className:"p-6 max-w-2xl mx-auto",children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Misso do Dia"}),s.jsxs("p",{className:"text-muted-foreground",children:["Pergunta ",n+1," de ",x.length]}),s.jsx("div",{className:"mt-4",children:s.jsx(Ge,{value:i,className:"h-2"})})]}),s.jsxs(M,{className:"mb-6",children:[s.jsx($,{children:s.jsxs(U,{className:"flex items-center gap-2",children:[s.jsx(X,{variant:"outline",className:"text-xs",children:_Ee(a.section)}),s.jsxs("span",{className:"flex items-center gap-1 text-yellow-600",children:[s.jsx(Be,{className:"h-4 w-4"}),s.jsxs("span",{className:"text-sm",children:[a.points," pts"]})]}),a.tracking&&s.jsx(X,{variant:"secondary",className:"text-xs",children:" Tracking"})]})}),s.jsxs(O,{children:[s.jsx("h2",{className:"text-xl font-semibold mb-6",children:a.question}),y(a),l&&s.jsx("div",{className:"mt-4 text-center text-sm text-muted-foreground",children:"Salvando resposta..."})]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx(A,{variant:"outline",onClick:()=>window.history.back(),disabled:n===0,children:"Anterior"}),s.jsxs("div",{className:"text-sm text-muted-foreground",children:[n+1," / ",x.length]})]})]}):s.jsx("div",{className:"p-6 text-center",children:s.jsx("p",{children:"Carregando..."})})},AEe=({user:e})=>s.jsx(EEe,{user:e}),fW=e=>{const[t,r]=p.useState(!0),[a,n]=p.useState(!0);return p.useEffect(()=>{e?(r(!0),n(!0)):(r(!1),n(!1))},[e]),{isAdmin:t,adminModeEnabled:a,toggleAdminMode:()=>{n(!a)}}};var bb="Switch",[TEe,p3e]=ys(bb),[MEe,OEe]=TEe(bb),pW=p.forwardRef((e,t)=>{const{__scopeSwitch:r,name:a,checked:n,defaultChecked:i,required:o,disabled:l,value:c="on",onCheckedChange:d,form:u,...m}=e,[h,f]=p.useState(null),g=Me(t,j=>f(j)),x=p.useRef(!1),y=h?u||!!h.closest("form"):!0,[v,b]=Vr({prop:n,defaultProp:i??!1,onChange:d,caller:bb});return s.jsxs(MEe,{scope:r,checked:v,disabled:l,children:[s.jsx(ge.button,{type:"button",role:"switch","aria-checked":v,"aria-required":o,"data-state":yW(v),"data-disabled":l?"":void 0,disabled:l,value:c,...m,ref:g,onClick:ce(e.onClick,j=>{b(N=>!N),y&&(x.current=j.isPropagationStopped(),x.current||j.stopPropagation())})}),y&&s.jsx(vW,{control:h,bubbles:!x.current,name:a,value:c,checked:v,required:o,disabled:l,form:u,style:{transform:"translateX(-100%)"}})]})});pW.displayName=bb;var xW="SwitchThumb",gW=p.forwardRef((e,t)=>{const{__scopeSwitch:r,...a}=e,n=OEe(xW,r);return s.jsx(ge.span,{"data-state":yW(n.checked),"data-disabled":n.disabled?"":void 0,...a,ref:t})});gW.displayName=xW;var DEe="SwitchBubbleInput",vW=p.forwardRef(({__scopeSwitch:e,control:t,checked:r,bubbles:a=!0,...n},i)=>{const o=p.useRef(null),l=Me(o,i),c=Ap(r),d=rp(t);return p.useEffect(()=>{const u=o.current;if(!u)return;const m=window.HTMLInputElement.prototype,f=Object.getOwnPropertyDescriptor(m,"checked").set;if(c!==r&&f){const g=new Event("click",{bubbles:a});f.call(u,r),u.dispatchEvent(g)}},[c,r,a]),s.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...n,tabIndex:-1,ref:l,style:{...n.style,...d,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});vW.displayName=DEe;function yW(e){return e?"checked":"unchecked"}var bW=pW,REe=gW;const ha=p.forwardRef(({className:e,...t},r)=>s.jsx(bW,{className:xe("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...t,ref:r,children:s.jsx(REe,{className:xe("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));ha.displayName=bW.displayName;const xw=({course:e,lesson:t,onSave:r,type:a})=>{const[n,i]=p.useState(!1),[o,l]=p.useState({}),c=()=>{r(o),i(!1),l({})};return a==="banner"?s.jsx("div",{className:"absolute top-4 right-4 z-20",children:s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(gt,{children:[s.jsx(ir,{asChild:!0,children:s.jsxs(A,{size:"sm",className:"bg-blue-600 hover:bg-blue-700",children:[s.jsx(hl,{className:"h-4 w-4 mr-2"}),"Editar Banner"]})}),s.jsxs(vt,{className:"max-w-md",children:[s.jsx(yt,{children:s.jsx(bt,{children:"Editar Banner"})}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(Y,{children:"Ttulo do Banner"}),s.jsx(re,{placeholder:"PLATAFORMA DOS SONHOS",onChange:d=>l({...o,title:d.target.value})})]}),s.jsxs("div",{children:[s.jsx(Y,{children:"Subttulo"}),s.jsx(re,{placeholder:"Novo contedo mensalmente",onChange:d=>l({...o,subtitle:d.target.value})})]}),s.jsxs("div",{children:[s.jsx(Y,{children:"Upload Nova Imagem"}),s.jsx(re,{type:"file",accept:"image/*"})]}),s.jsxs("div",{children:[s.jsx(Y,{children:"URL do Vdeo"}),s.jsx(re,{placeholder:"https://...",onChange:d=>l({...o,videoUrl:d.target.value})})]}),s.jsxs(A,{onClick:c,className:"w-full",children:[s.jsx(ia,{className:"h-4 w-4 mr-2"}),"Salvar Alteraes"]})]})]})]}),s.jsxs(A,{size:"sm",className:"bg-green-600 hover:bg-green-700",children:[s.jsx(ta,{className:"h-4 w-4 mr-2"}),"Trocar Vdeo"]})]})}):a==="course"?s.jsx("div",{className:"absolute inset-0 bg-black/50 opacity-0 group-hover:opacity-100 transition-opacity duration-300 rounded-lg flex items-center justify-center",children:s.jsx("div",{className:"flex flex-col gap-2",children:s.jsxs(gt,{children:[s.jsx(ir,{asChild:!0,children:s.jsxs(A,{size:"sm",className:"bg-blue-600 hover:bg-blue-700",children:[s.jsx(Hs,{className:"h-4 w-4 mr-2"}),"Editar"]})}),s.jsxs(vt,{className:"max-w-2xl",children:[s.jsx(yt,{children:s.jsxs(bt,{children:["Editar Curso: ",e==null?void 0:e.title]})}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(Y,{children:"Ttulo do Curso"}),s.jsx(re,{defaultValue:e==null?void 0:e.title,onChange:d=>l({...o,title:d.target.value})})]}),s.jsxs("div",{children:[s.jsx(Y,{children:"Descrio"}),s.jsx(Ke,{defaultValue:e==null?void 0:e.description,onChange:d=>l({...o,description:d.target.value})})]}),s.jsxs("div",{children:[s.jsx(Y,{children:"Categoria"}),s.jsx(re,{defaultValue:e==null?void 0:e.category,onChange:d=>l({...o,category:d.target.value})})]}),s.jsxs("div",{children:[s.jsx(Y,{children:"Instrutor"}),s.jsx(re,{defaultValue:e==null?void 0:e.instructor_name,onChange:d=>l({...o,instructor:d.target.value})})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(Y,{children:"Upload Nova Capa"}),s.jsx(re,{type:"file",accept:"image/*"})]}),s.jsxs("div",{className:"p-4 border rounded-lg",children:[s.jsx("h4",{className:"font-semibold mb-2",children:"Estatsticas do Curso"}),s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:" Alunos ativos:"}),s.jsx("span",{className:"font-semibold",children:"1,247"})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:" Progresso mdio:"}),s.jsx("span",{className:"font-semibold",children:"67%"})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:" Certificados:"}),s.jsx("span",{className:"font-semibold",children:"892"})]})]})]})]})]}),s.jsxs("div",{className:"flex justify-between pt-4",children:[s.jsxs(A,{variant:"destructive",children:[s.jsx(fl,{className:"h-4 w-4 mr-2"}),"Remover Curso"]}),s.jsxs(A,{onClick:c,children:[s.jsx(ia,{className:"h-4 w-4 mr-2"}),"Salvar Alteraes"]})]})]})]})})}):a==="lesson"?s.jsx("div",{className:"absolute top-4 right-4 z-20",children:s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(gt,{children:[s.jsx(ir,{asChild:!0,children:s.jsxs(A,{size:"sm",className:"bg-blue-600 hover:bg-blue-700",children:[s.jsx(hl,{className:"h-4 w-4 mr-2"}),"Editar Aula"]})}),s.jsxs(vt,{className:"max-w-2xl",children:[s.jsx(yt,{children:s.jsxs(bt,{children:["Editar Aula: ",t==null?void 0:t.title]})}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(Y,{children:"Ttulo da Aula"}),s.jsx(re,{defaultValue:t==null?void 0:t.title,onChange:d=>l({...o,title:d.target.value})})]}),s.jsxs("div",{children:[s.jsx(Y,{children:"Descrio"}),s.jsx(Ke,{defaultValue:t==null?void 0:t.description,onChange:d=>l({...o,description:d.target.value})})]}),s.jsxs("div",{children:[s.jsx(Y,{children:"URL do Vdeo"}),s.jsx(re,{defaultValue:t==null?void 0:t.video_url,onChange:d=>l({...o,videoUrl:d.target.value})})]}),s.jsxs("div",{children:[s.jsx(Y,{children:"Upload Nova Thumbnail"}),s.jsx(re,{type:"file",accept:"image/*"})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(Y,{children:"Durao (segundos)"}),s.jsx(re,{type:"number",defaultValue:t==null?void 0:t.duration,onChange:d=>l({...o,duration:parseInt(d.target.value)})})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(ha,{}),s.jsx(Y,{children:"Aula Premium"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(ha,{}),s.jsx(Y,{children:"Possui Quiz"})]}),s.jsxs(A,{className:"w-full bg-green-600 hover:bg-green-700",children:[s.jsx(jt,{className:"h-4 w-4 mr-2"}),"Configurar Quiz"]})]})]}),s.jsxs("div",{className:"flex justify-between pt-4",children:[s.jsxs(A,{variant:"destructive",children:[s.jsx(fl,{className:"h-4 w-4 mr-2"}),"Excluir Aula"]}),s.jsxs(A,{onClick:c,children:[s.jsx(ia,{className:"h-4 w-4 mr-2"}),"Salvar Alteraes"]})]})]})]}),s.jsxs(A,{size:"sm",className:"bg-green-600 hover:bg-green-700",children:[s.jsx(ta,{className:"h-4 w-4 mr-2"}),"Trocar Vdeo"]}),s.jsxs(A,{size:"sm",className:"bg-purple-600 hover:bg-purple-700",children:[s.jsx(jt,{className:"h-4 w-4 mr-2"}),"Quiz"]})]})}):null},gw=()=>s.jsxs(M,{className:"fixed bottom-4 right-4 w-80 bg-gray-900 border-gray-700 text-white z-50",children:[s.jsx($,{children:s.jsxs(U,{className:"flex items-center gap-2 text-sm",children:[s.jsx(ar,{className:"h-4 w-4"}),"Estatsticas em Tempo Real"]})}),s.jsxs(O,{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Le,{className:"h-4 w-4 text-blue-400"}),s.jsx("span",{className:"text-sm",children:"Alunos ativos:"})]}),s.jsx(X,{className:"bg-blue-600",children:"1,247"})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ye,{className:"h-4 w-4 text-green-400"}),s.jsx("span",{className:"text-sm",children:"Progresso mdio:"})]}),s.jsx(X,{className:"bg-green-600",children:"67%"})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Be,{className:"h-4 w-4 text-yellow-400"}),s.jsx("span",{className:"text-sm",children:"Certificados:"})]}),s.jsx(X,{className:"bg-yellow-600",children:"892"})]})]})]}),IEe=({viewMode:e,onToggle:t})=>s.jsx(M,{className:"fixed top-4 left-4 bg-gray-900 border-gray-700 text-white z-50",children:s.jsx(O,{className:"p-4",children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(Y,{className:"text-sm font-semibold",children:"Exibir na Dashboard:"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(A,{size:"sm",variant:e==="courses"?"default":"outline",onClick:()=>t("courses"),className:e==="courses"?"bg-blue-600":"",children:" Cursos"}),s.jsx(A,{size:"sm",variant:e==="modules"?"default":"outline",onClick:()=>t("modules"),className:e==="modules"?"bg-blue-600":"",children:" Mdulos"})]})]})})}),FEe=({user:e})=>{const[t,r]=p.useState("home"),[a,n]=p.useState(null),[i,o]=p.useState(null),[l,c]=p.useState(!1),[d,u]=p.useState("courses"),{isAdmin:m,adminModeEnabled:h,toggleAdminMode:f}=fW(e),g=[{id:"1",title:"7 CHAVES",description:"7 chaves que me ajudam no dia a dia para uma vida mais equilibrada",thumbnail_url:"/placeholder.svg",category:"Mindset",instructor_name:"Instituto dos Sonhos",lessons:[{id:"1-1",title:"CHAVE 01 - PACINCIA",description:"Desenvolvendo a pacincia como chave fundamental",duration:930,thumbnail_url:"/placeholder.svg",video_url:"https://www.youtube.com/watch?v=dQw4w9WgXcQ",is_completed:!1},{id:"1-2",title:"CHAVE 02 - IMAGINAO",description:"O poder da imaginao na transformao pessoal",duration:1125,thumbnail_url:"/placeholder.svg",video_url:"https://www.youtube.com/watch?v=dQw4w9WgXcQ",is_completed:!1},{id:"1-3",title:"CHAVE 03 - ADAPTAO",description:"Como se adaptar s mudanas da vida",duration:1335,thumbnail_url:"/placeholder.svg",video_url:"https://www.youtube.com/watch?v=dQw4w9WgXcQ",is_completed:!1},{id:"1-4",title:"CHAVE 04 - HBITO",description:"Criando hbitos saudveis e sustentveis",duration:1200,thumbnail_url:"/placeholder.svg",video_url:"https://www.youtube.com/watch?v=dQw4w9WgXcQ",is_completed:!1},{id:"1-5",title:"CHAVE 05 - I.E",description:"Desenvolvendo a Inteligncia Emocional",duration:1530,thumbnail_url:"/placeholder.svg",video_url:"https://www.youtube.com/watch?v=dQw4w9WgXcQ",is_completed:!1},{id:"1-6",title:"CHAVE 06 - VITIMISMO",description:"Superando o vitimismo e assumindo responsabilidades",duration:1155,thumbnail_url:"/placeholder.svg",video_url:"https://www.youtube.com/watch?v=dQw4w9WgXcQ",is_completed:!1},{id:"1-7",title:"CHAVE 07 - LIBERDADE",description:"Encontrando a verdadeira liberdade interior",duration:1725,thumbnail_url:"/placeholder.svg",video_url:"https://www.youtube.com/watch?v=dQw4w9WgXcQ",is_completed:!1}]},{id:"2",title:"E-BOOK 12 CHS",description:"Guia completo dos 12 chs medicinais para sade e bem-estar",thumbnail_url:"/placeholder.svg",category:"Nutrio",instructor_name:"Instituto dos Sonhos",lessons:[{id:"2-1",title:"CH DE ALECRIM",description:"Benefcios e preparo do ch de alecrim",duration:750,thumbnail_url:"/placeholder.svg",video_url:"https://www.youtube.com/watch?v=dQw4w9WgXcQ",is_completed:!1},{id:"2-2",title:"CH DE CANELA",description:"Propriedades e uso do ch de canela",duration:945,thumbnail_url:"/placeholder.svg",video_url:"https://www.youtube.com/watch?v=dQw4w9WgXcQ",is_completed:!1},{id:"2-3",title:"CH DE GENGIBRE",description:"Ch de gengibre para sade e vitalidade",duration:1100,thumbnail_url:"/placeholder.svg",video_url:"https://www.youtube.com/watch?v=dQw4w9WgXcQ",is_completed:!1}]},{id:"3",title:"PLULAS DO BEM",description:"Suplementos naturais e eficazes para sua sade",thumbnail_url:"/placeholder.svg",category:"Sade",instructor_name:"Instituto dos Sonhos",lessons:[{id:"3-1",title:"PLULA 01 - FOCUS",description:"Melhorando o foco e concentrao",duration:1230,thumbnail_url:"/placeholder.svg",video_url:"https://www.youtube.com/watch?v=dQw4w9WgXcQ",is_completed:!1},{id:"3-2",title:"PLULA 02 - ENERGIA",description:"Aumentando os nveis de energia naturalmente",duration:1125,thumbnail_url:"/placeholder.svg",video_url:"https://www.youtube.com/watch?v=dQw4w9WgXcQ",is_completed:!1}]},{id:"4",title:"JEJUM INTERMITENTE",description:"Aprenda a tcnica do jejum intermitente de forma segura",thumbnail_url:"/placeholder.svg",category:"Nutrio",instructor_name:"Instituto dos Sonhos",lessons:[{id:"4-1",title:"INTRODUO AO JEJUM",description:"Conceitos bsicos do jejum intermitente",duration:1800,thumbnail_url:"/placeholder.svg",video_url:"https://www.youtube.com/watch?v=dQw4w9WgXcQ",is_completed:!1}]},{id:"5",title:"DIA A DIA",description:"Dicas prticas para aplicar no seu dia a dia",thumbnail_url:"/placeholder.svg",category:"Bem-estar",instructor_name:"Instituto dos Sonhos",lessons:[{id:"5-1",title:"ROTINA MATINAL",description:"Criando uma rotina matinal eficaz",duration:1530,thumbnail_url:"/placeholder.svg",video_url:"https://www.youtube.com/watch?v=dQw4w9WgXcQ",is_completed:!1}]},{id:"6",title:"EXERCCIOS DOS SONHOS",description:"Exerccios eficazes que voc pode fazer em casa",thumbnail_url:"/placeholder.svg",category:"Exerccio",instructor_name:"Instituto dos Sonhos",lessons:[{id:"6-1",title:"MEMBROS SUPERIORES",description:"Exerccios para membros superiores",duration:930,thumbnail_url:"/placeholder.svg",video_url:"https://www.youtube.com/watch?v=dQw4w9WgXcQ",is_completed:!1}]}],x=w=>{const S=Math.floor(w/60),_=w%60;return`${S}:${_.toString().padStart(2,"0")}`},y=w=>{n(w),r("course")},v=w=>{o(w),r("player")},b=()=>{r("home"),n(null),o(null)},j=()=>{r("course"),o(null)},N=w=>{console.log("Salvando alteraes:",w)};return t==="home"?s.jsxs("div",{className:"min-h-screen bg-black text-white relative",children:[m&&s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"fixed top-4 right-4 z-50",children:s.jsxs(A,{onClick:f,className:`${h?"bg-red-600 hover:bg-red-700":"bg-blue-600 hover:bg-blue-700"}`,children:[s.jsx(Da,{className:"h-4 w-4 mr-2"}),h?"Sair Admin":"Modo Admin"]})}),h&&s.jsx(IEe,{viewMode:d,onToggle:u}),h&&s.jsx(gw,{})]}),s.jsxs("div",{className:"relative h-48 sm:h-64 md:h-80 lg:h-96 mb-4 sm:mb-6 md:mb-8 rounded-lg sm:rounded-xl md:rounded-2xl overflow-hidden mx-3 sm:mx-4 md:mx-6 mt-3 sm:mt-4 md:mt-6",children:[h&&s.jsx(xw,{type:"banner",onSave:N}),l?s.jsxs("div",{className:"absolute inset-0",children:[s.jsx("video",{autoPlay:!0,muted:!0,loop:!0,className:"w-full h-full object-cover",poster:"/placeholder.svg",children:s.jsx("source",{src:"https://sample-videos.com/zip/10/mp4/SampleVideo_1280x720_1mb.mp4",type:"video/mp4"})}),s.jsx("div",{className:"absolute inset-0 bg-black/30"})]}):s.jsx("div",{className:"absolute inset-0 bg-cover bg-center",style:{backgroundImage:"url(/placeholder.svg)"},children:s.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-black/70 to-black/30"})}),s.jsxs("div",{className:"relative z-10 flex flex-col sm:flex-row items-start sm:items-center justify-between h-full p-4 sm:p-6 md:p-8",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("h1",{className:"text-2xl sm:text-3xl md:text-4xl lg:text-5xl font-bold mb-2 sm:mb-3 md:mb-4",children:["PLATAFORMA DOS SONHOS",h&&s.jsx(X,{className:"ml-2 sm:ml-4 bg-red-600 text-white text-xs sm:text-sm",children:"[ADMIN MODE]"})]}),s.jsx("p",{className:"text-sm sm:text-lg md:text-xl mb-4 sm:mb-6 opacity-90",children:"Novo contedo mensalmente"}),s.jsxs(A,{size:"sm",className:"sm:size-default md:size-lg bg-white text-black hover:bg-white/90 text-sm sm:text-base",children:[s.jsx(Rr,{className:"h-3 w-3 sm:h-4 md:h-5 w-3 sm:w-4 md:w-5 mr-1 sm:mr-2"}),"Comear Agora"]})]}),s.jsx(A,{variant:"outline",size:"sm",onClick:()=>c(!l),className:"bg-white/20 backdrop-blur-sm border-white/30 text-white hover:bg-white/30 mt-4 sm:mt-0 ml-0 sm:ml-4",children:l?s.jsxs(s.Fragment,{children:[s.jsx(as,{className:"h-3 w-3 sm:h-4 w-3 sm:w-4 mr-1 sm:mr-2"}),s.jsx("span",{className:"text-xs sm:text-sm",children:"Imagem"})]}):s.jsxs(s.Fragment,{children:[s.jsx(Rr,{className:"h-3 w-3 sm:h-4 w-3 sm:w-4 mr-1 sm:mr-2"}),s.jsx("span",{className:"text-xs sm:text-sm",children:"Vdeo"})]})})]})]}),s.jsxs("div",{className:"px-3 sm:px-4 md:px-6",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between mb-4 sm:mb-6 gap-2",children:[s.jsx("h2",{className:"text-xl sm:text-2xl font-bold",children:d==="courses"?"Todos os Cursos":"Mdulos do Sistema"}),h&&s.jsxs(X,{className:"bg-yellow-600 text-black text-xs sm:text-sm",children:["Exibindo: ",d==="courses"?"Cursos":"Mdulos"]})]}),s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 2xl:grid-cols-5 gap-3 sm:gap-4 md:gap-6",children:g.map(w=>s.jsxs(M,{className:"w-full max-w-sm mx-auto sm:max-w-none h-auto sm:h-[400px] md:h-[450px] lg:h-[480px] bg-gray-900 border-gray-700 cursor-pointer hover:scale-105 transition-all duration-300 group relative",onClick:()=>y(w),children:[h&&s.jsx(xw,{type:"course",course:w,onSave:N}),s.jsxs("div",{className:"relative h-48 sm:h-56 md:h-64",children:[s.jsx("img",{src:w.thumbnail_url,alt:w.title,className:"w-full h-full object-cover rounded-t-lg"}),!h&&s.jsx("div",{className:"absolute inset-0 bg-black/0 group-hover:bg-black/30 transition-all duration-300 flex items-center justify-center",children:s.jsx(A,{size:"icon",className:"opacity-0 group-hover:opacity-100 transition-opacity duration-300 bg-white text-black hover:bg-white/90",children:s.jsx(Rr,{className:"h-5 w-5 sm:h-6 w-5 sm:w-6"})})})]})]},w.id))})]})]}):t==="course"&&a?s.jsxs("div",{className:"min-h-screen bg-black text-white relative",children:[m&&h&&s.jsx(gw,{}),s.jsxs("div",{className:"p-6",children:[s.jsxs(A,{variant:"outline",onClick:b,className:"mb-6 border-gray-600 text-gray-300 hover:bg-gray-800",children:[s.jsx(Wr,{className:"h-4 w-4 mr-2"}),"Voltar para Cursos"]}),s.jsxs("div",{className:"mb-8",children:[s.jsxs("h1",{className:"text-4xl font-bold mb-4",children:[a.title,h&&s.jsx(X,{className:"ml-4 bg-red-600 text-white",children:"[ADMIN MODE]"})]}),s.jsx("p",{className:"text-xl text-gray-400 mb-4",children:a.description}),s.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[s.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-400",children:[s.jsx(Le,{className:"h-4 w-4"}),s.jsx("span",{children:a.instructor_name})]}),s.jsx(X,{variant:"outline",className:"border-gray-600 text-gray-300",children:a.category})]})]}),s.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Aulas do Curso"}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:a.lessons.map((w,S)=>s.jsxs(M,{className:"bg-gray-900 border-gray-700 cursor-pointer hover:scale-105 transition-all duration-300 group",onClick:()=>!h&&v(w),children:[s.jsxs("div",{className:"relative aspect-video",children:[s.jsx("img",{src:w.thumbnail_url,alt:w.title,className:"w-full h-full object-cover rounded-t-lg"}),!h&&s.jsx("div",{className:"absolute inset-0 bg-black/0 group-hover:bg-black/30 transition-all duration-300 flex items-center justify-center",children:s.jsx(A,{size:"icon",className:"opacity-0 group-hover:opacity-100 transition-opacity duration-300 bg-white text-black hover:bg-white/90",children:s.jsx(Rr,{className:"h-6 w-6"})})}),s.jsx("div",{className:"absolute bottom-2 right-2 bg-black/70 px-2 py-1 rounded text-xs",children:x(w.duration)})]}),s.jsxs(O,{className:"p-4",children:[s.jsx("h3",{className:"font-semibold text-white mb-2",children:w.title}),s.jsx("p",{className:"text-sm text-gray-400 line-clamp-2 mb-3",children:w.description}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-400",children:[s.jsx(Xt,{className:"h-3 w-3"}),s.jsx("span",{children:x(w.duration)})]}),h&&s.jsxs(A,{size:"sm",className:"bg-blue-600 hover:bg-blue-700",onClick:_=>{_.stopPropagation(),v(w)},children:[s.jsx(Hs,{className:"h-3 w-3 mr-1"}),"Editar"]})]})]})]},w.id))})]})]}):t==="player"&&i&&a?s.jsxs("div",{className:"min-h-screen bg-black text-white relative",children:[m&&h&&s.jsxs(s.Fragment,{children:[s.jsx(gw,{}),s.jsx(xw,{type:"lesson",lesson:i,onSave:N})]}),s.jsxs("div",{className:"p-6",children:[s.jsxs(A,{variant:"outline",onClick:j,className:"mb-6 border-gray-600 text-gray-300 hover:bg-gray-800",children:[s.jsx(Wr,{className:"h-4 w-4 mr-2"}),"Voltar para Aulas"]}),s.jsxs("div",{className:"flex flex-col lg:flex-row gap-4 lg:gap-6",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:"relative w-full aspect-video rounded-lg overflow-hidden bg-gray-900 shadow-2xl",children:s.jsx("iframe",{src:"https://www.youtube.com/embed/dQw4w9WgXcQ?autoplay=1",className:"w-full h-full border-0",allowFullScreen:!0,title:i.title,allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"})}),s.jsxs("div",{className:"mt-4 lg:mt-6",children:[s.jsxs("h1",{className:"text-xl sm:text-2xl lg:text-3xl font-bold mb-2",children:[i.title,h&&s.jsx(X,{className:"ml-2 lg:ml-4 bg-red-600 text-white text-xs sm:text-sm",children:"[ADMIN MODE]"})]}),s.jsx("p",{className:"text-sm sm:text-base lg:text-lg text-gray-400 mb-3 lg:mb-4",children:a.title}),s.jsx("p",{className:"text-sm sm:text-base text-gray-300",children:i.description})]})]}),s.jsxs("div",{className:"w-full lg:w-80 lg:flex-shrink-0",children:[s.jsx("h3",{className:"text-base sm:text-lg font-semibold mb-3 lg:mb-4",children:"Aulas do Curso"}),s.jsx("div",{className:"space-y-2 lg:space-y-3 max-h-96 lg:max-h-[600px] overflow-y-auto",children:a.lessons.map((w,S)=>s.jsxs("div",{className:`flex gap-2 lg:gap-3 p-2 lg:p-3 rounded-lg cursor-pointer transition-all duration-200 ${w.id===i.id?"bg-red-600":"bg-gray-800 hover:bg-gray-700"}`,onClick:()=>v(w),children:[s.jsxs("div",{className:"relative w-16 h-12 lg:w-24 lg:h-16 flex-shrink-0",children:[s.jsx("img",{src:w.thumbnail_url,alt:w.title,className:"w-full h-full object-cover rounded"}),s.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:s.jsx(Rr,{className:"h-3 w-3 lg:h-4 lg:w-4 text-white"})}),s.jsx("div",{className:"absolute bottom-0.5 right-0.5 lg:bottom-1 lg:right-1 bg-black/70 px-1 py-0.5 rounded text-[10px] lg:text-xs",children:x(w.duration)})]}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("h4",{className:"font-medium text-xs sm:text-sm line-clamp-2 mb-1",children:w.title}),s.jsx("p",{className:"text-[10px] sm:text-xs text-gray-400 line-clamp-1",children:w.description})]})]},w.id))})]})]})]})]}):null};function LEe(){const[e,t]=p.useState(!1),[r,a]=p.useState(null),[n]=p.useState(!0),o=Array.from({length:14},(h,f)=>{const g=new Date;return g.setDate(g.getDate()-f),{date:g.toISOString().split("T")[0],steps_count:Math.floor(Math.random()*5e3)+6e3,calories_burned:Math.floor(Math.random()*300)+150,distance_meters:(Math.random()*8+2)*1e3,active_minutes:Math.floor(Math.random()*60)+30,heart_rate_avg:Math.floor(Math.random()*15)+65,heart_rate_max:Math.floor(Math.random()*30)+140,heart_rate_resting:Math.floor(Math.random()*10)+55,sleep_duration_minutes:(6.5+Math.random()*2)*60,sleep_quality_score:Math.floor(Math.random()*30)+70}}).reverse(),c=(m=>m.length?{totalSteps:m.reduce((h,f)=>h+(f.steps_count||0),0),totalDistance:m.reduce((h,f)=>h+(f.distance_meters||0),0)/1e3,totalCalories:m.reduce((h,f)=>h+(f.calories_burned||0),0),avgHeartRate:m.reduce((h,f)=>h+(f.heart_rate_avg||0),0)/m.length,totalActiveMinutes:m.reduce((h,f)=>h+(f.active_minutes||0),0),avgSleepDuration:m.reduce((h,f)=>h+(f.sleep_duration_minutes||0),0)/m.length/60,workoutFrequency:Math.floor(Math.random()*3)+3}:{totalSteps:0,totalDistance:0,totalCalories:0,avgHeartRate:0,totalActiveMinutes:0,avgSleepDuration:0,workoutFrequency:0})(o.slice(-7)),d={totalSteps:c.totalSteps*4.2,totalDistance:c.totalDistance*4.2,totalCalories:c.totalCalories*4.2,avgHeartRate:c.avgHeartRate,totalActiveMinutes:c.totalActiveMinutes*4.2,avgSleepDuration:c.avgSleepDuration,workoutFrequency:18};return{data:o,loading:e,error:r,weeklyStats:c,monthlyStats:d,isConnected:n,chartData:{stepsData:o.map(m=>({date:m.date,value:m.steps_count||0,formatted:new Date(m.date).toLocaleDateString("pt-BR",{day:"2-digit",month:"2-digit"})})),caloriesData:o.map(m=>({date:m.date,value:m.calories_burned||0,formatted:new Date(m.date).toLocaleDateString("pt-BR",{day:"2-digit",month:"2-digit"})})),heartRateData:o.map(m=>({date:m.date,avg:m.heart_rate_avg||0,max:m.heart_rate_max||0,resting:m.heart_rate_resting||0,formatted:new Date(m.date).toLocaleDateString("pt-BR",{day:"2-digit",month:"2-digit"})})),sleepData:o.map(m=>({date:m.date,duration:(m.sleep_duration_minutes||0)/60,quality:m.sleep_quality_score||0,formatted:new Date(m.date).toLocaleDateString("pt-BR",{day:"2-digit",month:"2-digit"})})),activityData:o.map(m=>({date:m.date,minutes:m.active_minutes||0,distance:(m.distance_meters||0)/1e3,formatted:new Date(m.date).toLocaleDateString("pt-BR",{day:"2-digit",month:"2-digit"})}))},refetch:()=>{},checkConnection:()=>{}}}function t5({className:e,...t}){return s.jsx("div",{className:xe("animate-pulse rounded-md bg-muted",e),...t})}const $Ee=({chartData:e,cardVariants:t})=>{const{stepsData:r,caloriesData:a,heartRateData:n,sleepData:i,activityData:o}=e,l=r.some(h=>h.value>0),c=a.some(h=>h.value>0),d=n.some(h=>h.avg>0),u=i.some(h=>h.duration>0),m=o.some(h=>h.minutes>0);return!l&&!c&&!d&&!u&&!m?s.jsx(pe.div,{variants:t,whileHover:"hover",children:s.jsx(M,{className:"p-6",children:s.jsxs("div",{className:"text-center",children:[s.jsx(Te,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Dados do Google Fit No Disponveis"}),s.jsx("p",{className:"text-muted-foreground",children:"Conecte-se ao Google Fit para visualizar seus dados de atividade."})]})})}):s.jsxs("div",{className:"space-y-8",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[s.jsx(us,{className:"h-6 w-6 text-primary"}),s.jsx("h2",{className:"text-2xl font-bold",children:"Anlise Detalhada de Atividade"})]}),s.jsxs("div",{className:"grid gap-6 md:grid-cols-1 lg:grid-cols-2",children:[s.jsx(pe.div,{variants:t,whileHover:"hover",className:"lg:col-span-2",children:s.jsxs(M,{className:"bg-gradient-to-br from-blue-50 to-indigo-50 dark:from-blue-900/20 dark:to-indigo-900/20 border-blue-200 dark:border-blue-800",children:[s.jsx($,{children:s.jsxs(U,{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 bg-blue-100 dark:bg-blue-900/30 rounded-lg",children:s.jsx(XS,{className:"h-6 w-6 text-blue-600 dark:text-blue-400"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-xl font-semibold",children:"Evoluo de Passos"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"ltimos 14 dias com meta diria"})]})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("div",{className:"text-2xl font-bold text-blue-600",children:r.reduce((h,f)=>h+f.value,0).toLocaleString()}),s.jsx("div",{className:"text-sm text-muted-foreground",children:"Total do perodo"})]})]})}),s.jsxs(O,{children:[s.jsx(St,{width:"100%",height:350,children:s.jsxs(Uj,{data:r.slice(-14).reverse(),children:[s.jsx("defs",{children:s.jsxs("linearGradient",{id:"stepsGradient",x1:"0",y1:"0",x2:"0",y2:"1",children:[s.jsx("stop",{offset:"5%",stopColor:"#3b82f6",stopOpacity:.8}),s.jsx("stop",{offset:"95%",stopColor:"#3b82f6",stopOpacity:.2})]})}),s.jsx(rs,{strokeDasharray:"3 3",stroke:"#e2e8f0"}),s.jsx(Kt,{dataKey:"formatted",tick:{fontSize:12},stroke:"#64748b"}),s.jsx(It,{tickFormatter:h=>`${(h/1e3).toFixed(0)}k`,tick:{fontSize:12},stroke:"#64748b"}),s.jsx(cs,{formatter:h=>[h.toLocaleString(),"Passos"],labelFormatter:h=>`Data: ${h}`,contentStyle:{backgroundColor:"#f8fafc",border:"1px solid #e2e8f0",borderRadius:"8px"}}),s.jsx(Ah,{y:1e4,stroke:"#22c55e",strokeDasharray:"5 5"}),s.jsx(vs,{dataKey:"value",fill:"url(#stepsGradient)",radius:[4,4,0,0]}),s.jsx(Ds,{type:"monotone",dataKey:"value",stroke:"#1d4ed8",strokeWidth:3,dot:{fill:"#1d4ed8",strokeWidth:2,r:5}})]})}),s.jsxs("div",{className:"mt-4 flex items-center gap-4 text-sm",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full"}),s.jsx("span",{className:"text-muted-foreground",children:"Meta: 10.000 passos"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(_e,{className:"w-4 h-4 text-blue-500"}),s.jsxs("span",{className:"text-muted-foreground",children:[r.filter(h=>h.value>=1e4).length,"/",r.length," dias atingidos"]})]})]})]})]})}),s.jsx(pe.div,{variants:t,whileHover:"hover",children:s.jsxs(M,{className:"bg-gradient-to-br from-orange-50 to-red-50 dark:from-orange-900/20 dark:to-red-900/20 border-orange-200 dark:border-orange-800",children:[s.jsx($,{children:s.jsxs(U,{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 bg-orange-100 dark:bg-orange-900/30 rounded-lg",children:s.jsx(Ss,{className:"h-5 w-5 text-orange-600 dark:text-orange-400"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold",children:"Queima de Calorias"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Progresso diria"})]})]})}),s.jsxs(O,{children:[s.jsx(St,{width:"100%",height:280,children:s.jsxs(Oz,{data:a.slice(-14).reverse(),children:[s.jsx("defs",{children:s.jsxs("linearGradient",{id:"caloriesGradient",x1:"0",y1:"0",x2:"0",y2:"1",children:[s.jsx("stop",{offset:"5%",stopColor:"#f97316",stopOpacity:.8}),s.jsx("stop",{offset:"95%",stopColor:"#f97316",stopOpacity:.1})]})}),s.jsx(rs,{strokeDasharray:"3 3",stroke:"#fed7aa"}),s.jsx(Kt,{dataKey:"formatted",tick:{fontSize:12},stroke:"#c2410c"}),s.jsx(It,{tick:{fontSize:12},stroke:"#c2410c"}),s.jsx(cs,{formatter:h=>[h,"Calorias"],labelFormatter:h=>`Data: ${h}`,contentStyle:{backgroundColor:"#fff7ed",border:"1px solid #fed7aa",borderRadius:"8px"}}),s.jsx(Cf,{type:"monotone",dataKey:"value",stroke:"#f97316",fill:"url(#caloriesGradient)",strokeWidth:3})]})}),s.jsxs("div",{className:"mt-4 grid grid-cols-2 gap-4 text-sm",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-lg font-bold text-orange-600",children:Math.round(a.reduce((h,f)=>h+f.value,0)/a.length)}),s.jsx("div",{className:"text-muted-foreground",children:"Mdia diria"})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-lg font-bold text-orange-600",children:Math.max(...a.map(h=>h.value))}),s.jsx("div",{className:"text-muted-foreground",children:"Recorde"})]})]})]})]})}),s.jsx(pe.div,{variants:t,whileHover:"hover",children:s.jsxs(M,{className:"bg-gradient-to-br from-green-50 to-emerald-50 dark:from-green-900/20 dark:to-emerald-900/20 border-green-200 dark:border-green-800",children:[s.jsx($,{children:s.jsxs(U,{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 bg-green-100 dark:bg-green-900/30 rounded-lg",children:s.jsx(Xt,{className:"h-5 w-5 text-green-600 dark:text-green-400"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold",children:"Atividade Fsica"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Minutos ativos + distncia"})]})]})}),s.jsx(O,{children:s.jsx(St,{width:"100%",height:280,children:s.jsxs(Uj,{data:o.slice(-14).reverse(),children:[s.jsx(rs,{strokeDasharray:"3 3",stroke:"#bbf7d0"}),s.jsx(Kt,{dataKey:"formatted",tick:{fontSize:12},stroke:"#059669"}),s.jsx(It,{yAxisId:"minutes",orientation:"left",tickFormatter:h=>`${h}min`,tick:{fontSize:12},stroke:"#059669"}),s.jsx(It,{yAxisId:"distance",orientation:"right",tickFormatter:h=>`${h}km`,tick:{fontSize:12},stroke:"#0891b2"}),s.jsx(cs,{formatter:(h,f)=>[f==="minutes"?`${h} min`:`${h.toFixed(1)} km`,f==="minutes"?"Minutos Ativos":"Distncia"],labelFormatter:h=>`Data: ${h}`,contentStyle:{backgroundColor:"#f0fdf4",border:"1px solid #bbf7d0",borderRadius:"8px"}}),s.jsx(vs,{yAxisId:"minutes",dataKey:"minutes",fill:"#10b981",name:"Minutos Ativos",radius:[2,2,0,0]}),s.jsx(Ds,{yAxisId:"distance",type:"monotone",dataKey:"distance",stroke:"#0891b2",name:"Distncia (km)",strokeWidth:3,dot:{fill:"#0891b2",strokeWidth:2,r:4}})]})})})]})}),s.jsx(pe.div,{variants:t,whileHover:"hover",className:"lg:col-span-2",children:s.jsxs(M,{className:"bg-gradient-to-br from-red-50 to-pink-50 dark:from-red-900/20 dark:to-pink-900/20 border-red-200 dark:border-red-800",children:[s.jsx($,{children:s.jsxs(U,{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 bg-red-100 dark:bg-red-900/30 rounded-lg",children:s.jsx(He,{className:"h-6 w-6 text-red-600 dark:text-red-400"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-xl font-semibold",children:"Monitoramento Cardaco"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Frequncia cardaca em repouso, mdia e mxima"})]})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("div",{className:"text-2xl font-bold text-red-600",children:Math.round(n.reduce((h,f)=>h+f.avg,0)/n.length)}),s.jsx("div",{className:"text-sm text-muted-foreground",children:"BPM mdio"})]})]})}),s.jsxs(O,{children:[s.jsx(St,{width:"100%",height:350,children:s.jsxs(Ji,{data:n.slice(-14).reverse(),children:[s.jsx("defs",{children:s.jsxs("linearGradient",{id:"heartGradient",x1:"0",y1:"0",x2:"0",y2:"1",children:[s.jsx("stop",{offset:"5%",stopColor:"#ef4444",stopOpacity:.8}),s.jsx("stop",{offset:"95%",stopColor:"#ef4444",stopOpacity:.1})]})}),s.jsx(rs,{strokeDasharray:"3 3",stroke:"#fecaca"}),s.jsx(Kt,{dataKey:"formatted",tick:{fontSize:12},stroke:"#dc2626"}),s.jsx(It,{domain:["dataMin - 10","dataMax + 10"],tick:{fontSize:12},stroke:"#dc2626"}),s.jsx(cs,{formatter:(h,f)=>[`${h} bpm`,f==="resting"?"Repouso":f==="avg"?"Mdia":"Mxima"],labelFormatter:h=>`Data: ${h}`,contentStyle:{backgroundColor:"#fef2f2",border:"1px solid #fecaca",borderRadius:"8px"}}),s.jsx(Ra,{}),s.jsx(Cf,{type:"monotone",dataKey:"max",stroke:"#ef4444",fill:"url(#heartGradient)",fillOpacity:.2}),s.jsx(Ds,{type:"monotone",dataKey:"resting",stroke:"#22c55e",name:"Repouso",strokeWidth:3,dot:{fill:"#22c55e",strokeWidth:2,r:5}}),s.jsx(Ds,{type:"monotone",dataKey:"avg",stroke:"#3b82f6",name:"Mdia",strokeWidth:3,dot:{fill:"#3b82f6",strokeWidth:2,r:5}}),s.jsx(Ds,{type:"monotone",dataKey:"max",stroke:"#ef4444",name:"Mxima",strokeWidth:3,dot:{fill:"#ef4444",strokeWidth:2,r:5}}),s.jsx(Ah,{y:180,stroke:"#f59e0b",strokeDasharray:"5 5"})]})}),s.jsxs("div",{className:"mt-4 grid grid-cols-3 gap-4 text-sm",children:[s.jsxs("div",{className:"text-center p-3 bg-green-50 dark:bg-green-900/20 rounded-lg",children:[s.jsx("div",{className:"text-lg font-bold text-green-600",children:Math.round(n.reduce((h,f)=>h+f.resting,0)/n.length)}),s.jsx("div",{className:"text-muted-foreground",children:"Repouso mdio"})]}),s.jsxs("div",{className:"text-center p-3 bg-blue-50 dark:bg-blue-900/20 rounded-lg",children:[s.jsx("div",{className:"text-lg font-bold text-blue-600",children:Math.round(n.reduce((h,f)=>h+f.avg,0)/n.length)}),s.jsx("div",{className:"text-muted-foreground",children:"Mdia geral"})]}),s.jsxs("div",{className:"text-center p-3 bg-red-50 dark:bg-red-900/20 rounded-lg",children:[s.jsx("div",{className:"text-lg font-bold text-red-600",children:Math.max(...n.map(h=>h.max))}),s.jsx("div",{className:"text-muted-foreground",children:"Pico mximo"})]})]})]})]})}),s.jsx(pe.div,{variants:t,whileHover:"hover",className:"lg:col-span-2",children:s.jsxs(M,{className:"bg-gradient-to-br from-purple-50 to-indigo-50 dark:from-purple-900/20 dark:to-indigo-900/20 border-purple-200 dark:border-purple-800",children:[s.jsx($,{children:s.jsxs(U,{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 bg-purple-100 dark:bg-purple-900/30 rounded-lg",children:s.jsx(ii,{className:"h-6 w-6 text-purple-600 dark:text-purple-400"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-xl font-semibold",children:"Qualidade do Sono"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Durao e qualidade do sono - ltimos 14 dias"})]})]}),s.jsxs("div",{className:"text-right",children:[s.jsxs("div",{className:"text-2xl font-bold text-purple-600",children:[(i.reduce((h,f)=>h+f.duration,0)/i.length).toFixed(1),"h"]}),s.jsx("div",{className:"text-sm text-muted-foreground",children:"Mdia de sono"})]})]})}),s.jsxs(O,{children:[s.jsx(St,{width:"100%",height:350,children:s.jsxs(Uj,{data:i.slice(-14).reverse(),children:[s.jsx("defs",{children:s.jsxs("linearGradient",{id:"sleepGradient",x1:"0",y1:"0",x2:"0",y2:"1",children:[s.jsx("stop",{offset:"5%",stopColor:"#8b5cf6",stopOpacity:.8}),s.jsx("stop",{offset:"95%",stopColor:"#8b5cf6",stopOpacity:.2})]})}),s.jsx(rs,{strokeDasharray:"3 3",stroke:"#d8b4fe"}),s.jsx(Kt,{dataKey:"formatted",tick:{fontSize:12},stroke:"#7c3aed"}),s.jsx(It,{yAxisId:"duration",orientation:"left",tickFormatter:h=>`${h}h`,tick:{fontSize:12},stroke:"#7c3aed"}),s.jsx(It,{yAxisId:"quality",orientation:"right",domain:[0,100],tickFormatter:h=>`${h}%`,tick:{fontSize:12},stroke:"#06b6d4"}),s.jsx(cs,{formatter:(h,f)=>[f==="duration"?`${h.toFixed(1)}h`:`${h}%`,f==="duration"?"Durao":"Qualidade"],labelFormatter:h=>`Data: ${h}`,contentStyle:{backgroundColor:"#faf5ff",border:"1px solid #d8b4fe",borderRadius:"8px"}}),s.jsx(Ra,{}),s.jsx(Ah,{yAxisId:"duration",y:8,stroke:"#22c55e",strokeDasharray:"5 5"}),s.jsx(vs,{yAxisId:"duration",dataKey:"duration",fill:"url(#sleepGradient)",name:"Durao (h)",radius:[4,4,0,0]}),s.jsx(Ds,{yAxisId:"quality",type:"monotone",dataKey:"quality",stroke:"#06b6d4",name:"Qualidade (%)",strokeWidth:3,dot:{fill:"#06b6d4",strokeWidth:2,r:5}})]})}),s.jsxs("div",{className:"mt-4 grid grid-cols-3 gap-4 text-sm",children:[s.jsxs("div",{className:"text-center p-3 bg-purple-50 dark:bg-purple-900/20 rounded-lg",children:[s.jsxs("div",{className:"text-lg font-bold text-purple-600",children:[(i.reduce((h,f)=>h+f.duration,0)/i.length).toFixed(1),"h"]}),s.jsx("div",{className:"text-muted-foreground",children:"Durao mdia"})]}),s.jsxs("div",{className:"text-center p-3 bg-cyan-50 dark:bg-cyan-900/20 rounded-lg",children:[s.jsxs("div",{className:"text-lg font-bold text-cyan-600",children:[Math.round(i.reduce((h,f)=>h+f.quality,0)/i.length),"%"]}),s.jsx("div",{className:"text-muted-foreground",children:"Qualidade mdia"})]}),s.jsxs("div",{className:"text-center p-3 bg-green-50 dark:bg-green-900/20 rounded-lg",children:[s.jsx("div",{className:"text-lg font-bold text-green-600",children:i.filter(h=>h.duration>=8).length}),s.jsx("div",{className:"text-muted-foreground",children:"Noites 8h+"})]})]})]})]})})]})]})},BEe=({score:e,currentWeight:t,weightTrend:r,bmi:a,bodyFat:n,muscleMass:i,measurementDays:o,weeklyFitStats:l,isGoogleFitConnected:c,getScoreGradient:d,cardVariants:u,scoreVariants:m})=>{const h=t!=null,f=a!=null,g=(n==null?void 0:n.value)!==void 0&&n.value!==null,x=(i==null?void 0:i.value)!==void 0&&i.value!==null,y=c&&l;return s.jsxs("div",{className:"space-y-6",children:[s.jsx(pe.div,{variants:u,whileHover:"hover",className:"col-span-full",children:s.jsx(M,{className:`p-6 bg-gradient-to-r ${d(e)} text-white`,children:s.jsxs(pe.div,{variants:m,className:"text-center",children:[s.jsx("h3",{className:"text-2xl font-bold mb-2",children:"Score de Evoluo"}),s.jsxs("div",{className:"text-6xl font-bold mb-4",children:[e,"%"]}),s.jsx(Ge,{value:e,className:"mt-4 bg-white/20"}),s.jsxs("div",{className:"mt-4 flex justify-center gap-2",children:[e>=80&&s.jsx(us,{className:"h-5 w-5 text-yellow-300"}),e>=60&&s.jsx(_e,{className:"h-5 w-5 text-yellow-300"}),e>=40&&s.jsx(Ye,{className:"h-5 w-5 text-white"})]}),c&&s.jsx(X,{className:"mt-2 bg-white/20 text-white",children:"Google Fit Conectado"})]})})}),s.jsxs("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-4",children:[s.jsx(Wx,{title:"Peso Atual",value:t,trend:r,unit:"kg",icon:_t,cardVariants:u,available:h}),s.jsx(Wx,{title:"IMC",value:a,trend:a?a-25:void 0,reference:"Meta: 25",icon:_e,cardVariants:u,available:f}),s.jsx(Wx,{title:"Gordura Corporal",value:n==null?void 0:n.value,trend:n==null?void 0:n.trend,unit:"%",icon:Te,cardVariants:u,available:g}),s.jsx(Wx,{title:"Massa Muscular",value:i==null?void 0:i.value,trend:i==null?void 0:i.trend,unit:"kg",icon:Ye,cardVariants:u,available:x})]}),y&&l&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex items-center gap-2 mt-8 mb-4",children:[s.jsx(Te,{className:"h-5 w-5 text-primary"}),s.jsx("h3",{className:"text-xl font-semibold",children:"Atividade da Semana (Google Fit)"})]}),s.jsxs("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-4",children:[s.jsx(ql,{title:"Passos",value:l.totalSteps,unit:"",icon:XS,target:7e4,cardVariants:u,color:"text-blue-500"}),s.jsx(ql,{title:"Calorias",value:l.totalCalories,unit:"kcal",icon:Ss,target:2100,cardVariants:u,color:"text-orange-500"}),s.jsx(ql,{title:"FC Mdia",value:l.avgHeartRate,unit:"bpm",icon:He,target:80,cardVariants:u,color:"text-red-500"}),s.jsx(ql,{title:"Minutos Ativos",value:l.totalActiveMinutes,unit:"min",icon:Xt,target:150,cardVariants:u,color:"text-green-500"}),s.jsx(ql,{title:"Distncia",value:l.totalDistance,unit:"km",icon:Ye,target:35,cardVariants:u,color:"text-purple-500"}),s.jsx(ql,{title:"Sono Mdio",value:l.avgSleepDuration,unit:"h",icon:ii,target:8,cardVariants:u,color:"text-indigo-500"}),s.jsx(ql,{title:"Treinos",value:l.workoutFrequency,unit:"vezes",icon:us,target:3,cardVariants:u,color:"text-yellow-500"}),s.jsx(pe.div,{variants:u,whileHover:"hover",children:s.jsxs(M,{className:"p-6",children:[s.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Dias de Acompanhamento"}),s.jsx("div",{className:"text-3xl font-bold",children:o}),s.jsxs("div",{className:"mt-2 flex items-center gap-2",children:[s.jsx(_e,{className:"h-5 w-5 text-yellow-500"}),s.jsx("span",{className:"text-sm text-muted-foreground",children:o>=30?"Mestre!":`${30-o} dias para o prximo marco`})]})]})})]})]}),!c&&s.jsx(pe.div,{variants:u,whileHover:"hover",children:s.jsx(M,{className:"p-6 border-dashed border-2 border-muted-foreground/30",children:s.jsxs("div",{className:"text-center",children:[s.jsx(Te,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Conecte o Google Fit"}),s.jsx("p",{className:"text-muted-foreground mb-4",children:"Conecte-se ao Google Fit para ver suas mtricas de atividade, passos, calorias e muito mais."}),s.jsx(X,{variant:"outline",children:"Dados de atividade disponveis aps conexo"})]})})})]})},Wx=({title:e,value:t,trend:r,unit:a,reference:n,icon:i,cardVariants:o,available:l=!0})=>{const c=u=>u?u<0?"text-green-500":"text-red-500":"text-gray-500",d=u=>u?u<0?"":"":null;return l?s.jsx(pe.div,{variants:o,whileHover:"hover",children:s.jsxs(M,{className:"p-6 transition-all duration-300 hover:shadow-lg",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsx("h3",{className:"text-lg font-semibold",children:e}),i&&s.jsx(i,{className:"h-5 w-5 text-muted-foreground"})]}),s.jsxs("div",{className:"flex items-end gap-2 mb-2",children:[s.jsxs("div",{className:"text-3xl font-bold",children:[t==null?void 0:t.toFixed(1),a&&s.jsx("span",{className:"text-lg ml-1",children:a})]}),r!==void 0&&s.jsxs(pe.div,{initial:{scale:0},animate:{scale:1},className:`${c(r)} text-lg font-medium`,children:[d(r)," ",Math.abs(r).toFixed(1)]})]}),n&&s.jsx("p",{className:"text-sm text-muted-foreground",children:n})]})}):s.jsx(pe.div,{variants:o,whileHover:"hover",children:s.jsxs(M,{className:"p-6 transition-all duration-300 opacity-50",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsx("h3",{className:"text-lg font-semibold",children:e}),i&&s.jsx(i,{className:"h-5 w-5 text-muted-foreground"})]}),s.jsx("div",{className:"flex items-end gap-2 mb-2",children:s.jsxs("div",{className:"text-3xl font-bold text-muted-foreground",children:["--",a&&s.jsx("span",{className:"text-lg ml-1",children:a})]})}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Dados no disponveis"})]})})},ql=({title:e,value:t,unit:r,icon:a,target:n,cardVariants:i,color:o="text-primary"})=>{const l=n?Math.min(100,t/n*100):0,c=d=>d>=1e3?`${(d/1e3).toFixed(1)}k`:d.toFixed(0);return s.jsx(pe.div,{variants:i,whileHover:"hover",children:s.jsxs(M,{className:"p-6 transition-all duration-300 hover:shadow-lg",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsx("h3",{className:"text-lg font-semibold",children:e}),s.jsx(a,{className:`h-5 w-5 ${o}`})]}),s.jsxs("div",{className:"text-3xl font-bold mb-2",children:[c(t),r&&s.jsx("span",{className:"text-lg ml-1",children:r})]}),n&&s.jsxs(s.Fragment,{children:[s.jsx(Ge,{value:l,className:"mb-2"}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:["Meta: ",c(n),r," (",l.toFixed(0),"%)"]})]})]})})},TP=()=>{const{loading:e,weeklyStats:t,monthlyStats:r,chartData:a}=LEe(),n={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.6,staggerChildren:.1}}},i={hidden:{opacity:0,y:20},visible:{opacity:1,y:0},hover:{y:-5,transition:{duration:.2}}};return e?s.jsxs("div",{className:"space-y-4 p-6",children:[s.jsx(t5,{className:"h-8 w-64"}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[...Array(6)].map((o,l)=>s.jsx(t5,{className:"h-40"},l))})]}):s.jsxs(pe.div,{variants:n,initial:"hidden",animate:"visible",className:"w-full space-y-6 p-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs(A,{variant:"ghost",size:"sm",onClick:()=>window.history.back(),className:"flex items-center gap-2",children:[s.jsx(Wr,{className:"w-4 h-4"}),"Voltar"]}),s.jsxs("div",{children:[s.jsxs("h1",{className:"text-3xl font-bold flex items-center gap-3",children:[s.jsx(Te,{className:"w-8 h-8 text-primary"}),"Meu Progresso - Google Fit"]}),s.jsx("p",{className:"text-muted-foreground text-lg",children:"Acompanhe sua atividade fsica e evoluo de sade integrada"})]})]}),s.jsxs("div",{className:"hidden md:flex items-center gap-2 px-4 py-2 bg-green-50 dark:bg-green-900/20 rounded-full",children:[s.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),s.jsx("span",{className:"text-sm text-green-700 dark:text-green-400 font-medium",children:"Google Fit Conectado"})]})]}),s.jsxs(pe.div,{variants:i,className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[s.jsx(M,{className:"bg-gradient-to-br from-blue-50 to-blue-100 dark:from-blue-900/20 dark:to-blue-800/20 border-blue-200 dark:border-blue-800",children:s.jsxs(O,{className:"mobile-padding text-center",children:[s.jsx("div",{className:"flex items-center justify-center mb-2",children:s.jsx(_e,{className:"w-6 h-6 text-blue-600 dark:text-blue-400"})}),s.jsx("div",{className:"mobile-stat-number text-blue-700 dark:text-blue-300",children:t.totalSteps.toLocaleString()}),s.jsx("div",{className:"text-xs lg:text-sm text-blue-600 dark:text-blue-400",children:"Passos esta semana"}),s.jsx("div",{className:"text-xs text-muted-foreground mt-1",children:"+12% vs semana anterior"})]})}),s.jsx(M,{className:"bg-gradient-to-br from-orange-50 to-orange-100 dark:from-orange-900/20 dark:to-orange-800/20 border-orange-200 dark:border-orange-800",children:s.jsxs(O,{className:"mobile-padding text-center",children:[s.jsx("div",{className:"flex items-center justify-center mb-2",children:s.jsx(Te,{className:"w-6 h-6 text-orange-600 dark:text-orange-400"})}),s.jsx("div",{className:"mobile-stat-number text-orange-700 dark:text-orange-300",children:t.totalCalories}),s.jsx("div",{className:"text-xs lg:text-sm text-orange-600 dark:text-orange-400",children:"Calorias queimadas"}),s.jsx("div",{className:"text-xs text-muted-foreground mt-1",children:"+8% vs semana anterior"})]})}),s.jsx(M,{className:"bg-gradient-to-br from-green-50 to-green-100 dark:from-green-900/20 dark:to-green-800/20 border-green-200 dark:border-green-800",children:s.jsxs(O,{className:"mobile-padding text-center",children:[s.jsx("div",{className:"flex items-center justify-center mb-2",children:s.jsx(Ye,{className:"w-6 h-6 text-green-600 dark:text-green-400"})}),s.jsxs("div",{className:"mobile-stat-number text-green-700 dark:text-green-300",children:[t.totalDistance.toFixed(1)," km"]}),s.jsx("div",{className:"text-xs lg:text-sm text-green-600 dark:text-green-400",children:"Distncia percorrida"}),s.jsx("div",{className:"text-xs text-muted-foreground mt-1",children:"+15% vs semana anterior"})]})}),s.jsx(M,{className:"bg-gradient-to-br from-purple-50 to-purple-100 dark:from-purple-900/20 dark:to-purple-800/20 border-purple-200 dark:border-purple-800",children:s.jsxs(O,{className:"mobile-padding text-center",children:[s.jsx("div",{className:"flex items-center justify-center mb-2",children:s.jsx(Te,{className:"w-6 h-6 text-purple-600 dark:text-purple-400"})}),s.jsx("div",{className:"mobile-stat-number text-purple-700 dark:text-purple-300",children:t.avgHeartRate}),s.jsx("div",{className:"text-xs lg:text-sm text-purple-600 dark:text-purple-400",children:"BPM mdio"}),s.jsx("div",{className:"text-xs text-muted-foreground mt-1",children:"Zona ideal"})]})})]}),s.jsx(pe.div,{variants:i,children:s.jsxs(M,{className:"border-2 border-dashed border-primary/20 bg-gradient-to-r from-primary/5 via-transparent to-primary/5",children:[s.jsx($,{children:s.jsxs(U,{className:"flex items-center gap-2",children:[s.jsx(Te,{className:"w-5 h-5"}),"Resumo Semanal Completo"]})}),s.jsx(O,{children:s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-7 gap-4",children:[s.jsxs("div",{className:"text-center mobile-padding bg-background rounded-lg border",children:[s.jsx("div",{className:"mobile-text-lg font-bold text-primary",children:t.totalSteps.toLocaleString()}),s.jsx("div",{className:"text-xs text-muted-foreground",children:"Passos Totais"})]}),s.jsxs("div",{className:"text-center mobile-padding bg-background rounded-lg border",children:[s.jsx("div",{className:"mobile-text-lg font-bold text-orange-600",children:t.totalCalories}),s.jsx("div",{className:"text-xs text-muted-foreground",children:"Calorias"})]}),s.jsxs("div",{className:"text-center mobile-padding bg-background rounded-lg border",children:[s.jsxs("div",{className:"mobile-text-lg font-bold text-green-600",children:[t.totalDistance.toFixed(1)," km"]}),s.jsx("div",{className:"text-xs text-muted-foreground",children:"Distncia"})]}),s.jsxs("div",{className:"text-center mobile-padding bg-background rounded-lg border",children:[s.jsx("div",{className:"mobile-text-lg font-bold text-red-600",children:t.avgHeartRate}),s.jsx("div",{className:"text-xs text-muted-foreground",children:"BPM Mdio"})]}),s.jsxs("div",{className:"text-center mobile-padding bg-background rounded-lg border",children:[s.jsx("div",{className:"mobile-text-lg font-bold text-purple-600",children:t.totalActiveMinutes}),s.jsx("div",{className:"text-xs text-muted-foreground",children:"Min. Ativos"})]}),s.jsxs("div",{className:"text-center mobile-padding bg-background rounded-lg border",children:[s.jsxs("div",{className:"mobile-text-lg font-bold text-blue-600",children:[t.avgSleepDuration.toFixed(1),"h"]}),s.jsx("div",{className:"text-xs text-muted-foreground",children:"Sono Mdio"})]}),s.jsxs("div",{className:"text-center mobile-padding bg-background rounded-lg border",children:[s.jsx("div",{className:"mobile-text-lg font-bold text-indigo-600",children:t.workoutFrequency}),s.jsx("div",{className:"text-xs text-muted-foreground",children:"Treinos"})]})]})})]})}),s.jsx($Ee,{chartData:a,cardVariants:i}),s.jsx(BEe,{score:85,currentWeight:75.8,weightTrend:-2.3,bmi:24.2,bodyFat:{value:18.5,trend:-1.2},muscleMass:{value:58.2,trend:.8},measurementDays:42,weeklyFitStats:t,isGoogleFitConnected:!0,getScoreGradient:o=>o>=80?"from-green-400 to-green-600":o>=60?"from-yellow-400 to-yellow-600":o>=40?"from-orange-400 to-orange-600":"from-red-400 to-red-600",cardVariants:i,scoreVariants:{hidden:{scale:.8,opacity:0},visible:{scale:1,opacity:1,transition:{duration:.5,ease:"easeOut"}}}}),s.jsx(pe.div,{variants:i,children:s.jsxs(M,{className:"bg-gradient-to-br from-indigo-50 to-purple-50 dark:from-indigo-900/20 dark:to-purple-900/20",children:[s.jsx($,{children:s.jsxs(U,{className:"flex items-center gap-2",children:[s.jsx(Ye,{className:"w-5 h-5"}),"Evoluo Mensal - ltimos 30 Dias"]})}),s.jsx(O,{children:s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-6",children:[s.jsxs("div",{className:"text-center space-y-2",children:[s.jsx("div",{className:"mobile-stat-number text-primary",children:r.totalSteps.toLocaleString()}),s.jsx("div",{className:"text-sm text-muted-foreground",children:"Passos Totais"}),s.jsx("div",{className:"text-xs text-green-600 bg-green-50 dark:bg-green-900/20 px-2 py-1 rounded",children:"+18% vs ms anterior"})]}),s.jsxs("div",{className:"text-center space-y-2",children:[s.jsx("div",{className:"mobile-stat-number text-orange-600",children:r.totalCalories.toLocaleString()}),s.jsx("div",{className:"text-sm text-muted-foreground",children:"Calorias Totais"}),s.jsx("div",{className:"text-xs text-green-600 bg-green-50 dark:bg-green-900/20 px-2 py-1 rounded",children:"+14% vs ms anterior"})]}),s.jsxs("div",{className:"text-center space-y-2",children:[s.jsxs("div",{className:"mobile-stat-number text-blue-600",children:[r.totalDistance.toFixed(1)," km"]}),s.jsx("div",{className:"text-sm text-muted-foreground",children:"Distncia Total"}),s.jsx("div",{className:"text-xs text-green-600 bg-green-50 dark:bg-green-900/20 px-2 py-1 rounded",children:"+22% vs ms anterior"})]}),s.jsxs("div",{className:"text-center space-y-2",children:[s.jsx("div",{className:"mobile-stat-number text-purple-600",children:r.totalActiveMinutes}),s.jsx("div",{className:"text-sm text-muted-foreground",children:"Minutos Ativos"}),s.jsx("div",{className:"text-xs text-green-600 bg-green-50 dark:bg-green-900/20 px-2 py-1 rounded",children:"+11% vs ms anterior"})]})]})})]})})]})};var MP="Radio",[zEe,jW]=ys(MP),[UEe,qEe]=zEe(MP),wW=p.forwardRef((e,t)=>{const{__scopeRadio:r,name:a,checked:n=!1,required:i,disabled:o,value:l="on",onCheck:c,form:d,...u}=e,[m,h]=p.useState(null),f=Me(t,y=>h(y)),g=p.useRef(!1),x=m?d||!!m.closest("form"):!0;return s.jsxs(UEe,{scope:r,checked:n,disabled:o,children:[s.jsx(ge.button,{type:"button",role:"radio","aria-checked":n,"data-state":CW(n),"data-disabled":o?"":void 0,disabled:o,value:l,...u,ref:f,onClick:ce(e.onClick,y=>{n||c==null||c(),x&&(g.current=y.isPropagationStopped(),g.current||y.stopPropagation())})}),x&&s.jsx(_W,{control:m,bubbles:!g.current,name:a,value:l,checked:n,required:i,disabled:o,form:d,style:{transform:"translateX(-100%)"}})]})});wW.displayName=MP;var NW="RadioIndicator",SW=p.forwardRef((e,t)=>{const{__scopeRadio:r,forceMount:a,...n}=e,i=qEe(NW,r);return s.jsx(bs,{present:a||i.checked,children:s.jsx(ge.span,{"data-state":CW(i.checked),"data-disabled":i.disabled?"":void 0,...n,ref:t})})});SW.displayName=NW;var VEe="RadioBubbleInput",_W=p.forwardRef(({__scopeRadio:e,control:t,checked:r,bubbles:a=!0,...n},i)=>{const o=p.useRef(null),l=Me(o,i),c=Ap(r),d=rp(t);return p.useEffect(()=>{const u=o.current;if(!u)return;const m=window.HTMLInputElement.prototype,f=Object.getOwnPropertyDescriptor(m,"checked").set;if(c!==r&&f){const g=new Event("click",{bubbles:a});f.call(u,r),u.dispatchEvent(g)}},[c,r,a]),s.jsx(ge.input,{type:"radio","aria-hidden":!0,defaultChecked:r,...n,tabIndex:-1,ref:l,style:{...n.style,...d,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});_W.displayName=VEe;function CW(e){return e?"checked":"unchecked"}var WEe=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],jb="RadioGroup",[HEe,x3e]=ys(jb,[Pm,jW]),kW=Pm(),PW=jW(),[KEe,GEe]=HEe(jb),EW=p.forwardRef((e,t)=>{const{__scopeRadioGroup:r,name:a,defaultValue:n,value:i,required:o=!1,disabled:l=!1,orientation:c,dir:d,loop:u=!0,onValueChange:m,...h}=e,f=kW(r),g=ad(d),[x,y]=Vr({prop:i,defaultProp:n??null,onChange:m,caller:jb});return s.jsx(KEe,{scope:r,name:a,required:o,disabled:l,value:x,onValueChange:y,children:s.jsx(yk,{asChild:!0,...f,orientation:c,dir:g,loop:u,children:s.jsx(ge.div,{role:"radiogroup","aria-required":o,"aria-orientation":c,"data-disabled":l?"":void 0,dir:g,...h,ref:t})})})});EW.displayName=jb;var AW="RadioGroupItem",TW=p.forwardRef((e,t)=>{const{__scopeRadioGroup:r,disabled:a,...n}=e,i=GEe(AW,r),o=i.disabled||a,l=kW(r),c=PW(r),d=p.useRef(null),u=Me(t,d),m=i.value===n.value,h=p.useRef(!1);return p.useEffect(()=>{const f=x=>{WEe.includes(x.key)&&(h.current=!0)},g=()=>h.current=!1;return document.addEventListener("keydown",f),document.addEventListener("keyup",g),()=>{document.removeEventListener("keydown",f),document.removeEventListener("keyup",g)}},[]),s.jsx(bk,{asChild:!0,...l,focusable:!o,active:m,children:s.jsx(wW,{disabled:o,required:i.required,checked:m,...c,...n,name:i.name,ref:u,onCheck:()=>i.onValueChange(n.value),onKeyDown:ce(f=>{f.key==="Enter"&&f.preventDefault()}),onFocus:ce(n.onFocus,()=>{var f;h.current&&((f=d.current)==null||f.click())})})})});TW.displayName=AW;var YEe="RadioGroupIndicator",MW=p.forwardRef((e,t)=>{const{__scopeRadioGroup:r,...a}=e,n=PW(r);return s.jsx(SW,{...n,...a,ref:t})});MW.displayName=YEe;var OW=EW,DW=TW,XEe=MW;const RW=p.forwardRef(({className:e,...t},r)=>s.jsx(OW,{className:xe("grid gap-2",e),...t,ref:r}));RW.displayName=OW.displayName;const kd=p.forwardRef(({className:e,...t},r)=>s.jsx(DW,{ref:r,className:xe("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:s.jsx(XEe,{className:"flex items-center justify-center",children:s.jsx(r6,{className:"h-2.5 w-2.5 fill-current text-current"})})}));kd.displayName=DW.displayName;const wo=[{id:1,text:"Sinto que preciso ser perfeito em tudo que fao",category:"perfeccionismo",weight:3},{id:2,text:"Fico frustrado quando no consigo atingir meus padres muito altos",category:"perfeccionismo",weight:2},{id:3,text:"Evito comear tarefas por medo de no fazer perfeitamente",category:"perfeccionismo",weight:3},{id:4,text:"Reviso meu trabalho repetidamente em busca de imperfeies",category:"perfeccionismo",weight:2},{id:5,text:"Sou muito crtico com a qualidade do meu trabalho",category:"perfeccionismo",weight:2},{id:6,text:"Tenho dificuldade em aceitar elogios sobre meu trabalho",category:"perfeccionismo",weight:1},{id:7,text:"Foco em detalhes irrelevantes em vez do resultado final",category:"perfeccionismo",weight:2},{id:8,text:"Comparo meu trabalho com o de especialistas experientes",category:"perfeccionismo",weight:2},{id:9,text:"Sinto que nunca estou fazendo o suficiente",category:"perfeccionismo",weight:3},{id:10,text:"Procrastino por medo de no fazer perfeitamente",category:"perfeccionismo",weight:3},{id:11,text:"Tenho padres impossveis de atingir",category:"perfeccionismo",weight:3},{id:12,text:"Fico ansioso quando meu trabalho no est perfeito",category:"perfeccionismo",weight:2},{id:13,text:"Evito mostrar meu trabalho por medo de crticas",category:"perfeccionismo",weight:2},{id:14,text:"Sempre acho que posso fazer melhor",category:"perfeccionismo",weight:2},{id:15,text:"Tenho dificuldade em finalizar projetos",category:"perfeccionismo",weight:2},{id:16,text:"Deixo tarefas importantes para o ltimo minuto",category:"procrastinacao",weight:2},{id:17,text:"Encontro desculpas para no fazer o que preciso",category:"procrastinacao",weight:2},{id:18,text:"Sinto que trabalho melhor sob presso",category:"procrastinacao",weight:1},{id:19,text:"Distraio-me facilmente quando preciso focar",category:"procrastinacao",weight:2},{id:20,text:"Tenho dificuldade em priorizar tarefas",category:"procrastinacao",weight:2},{id:21,text:"Comeo muitas coisas mas no termino",category:"procrastinacao",weight:2},{id:22,text:"Uso redes sociais para evitar tarefas importantes",category:"procrastinacao",weight:2},{id:23,text:"Sempre encontro algo mais interessante para fazer",category:"procrastinacao",weight:2},{id:24,text:"Tenho dificuldade em manter rotinas",category:"procrastinacao",weight:2},{id:25,text:"Fico sobrecarregado com muitas tarefas pendentes",category:"procrastinacao",weight:2},{id:26,text:"Evito decises difceis",category:"procrastinacao",weight:2},{id:27,text:"Tenho dificuldade em comear projetos grandes",category:"procrastinacao",weight:2},{id:28,text:"Sempre deixo para amanh o que posso fazer hoje",category:"procrastinacao",weight:2},{id:29,text:"Tenho dificuldade em manter prazos",category:"procrastinacao",weight:2},{id:30,text:"Fico ansioso quando tenho muitas tarefas",category:"procrastinacao",weight:2},{id:31,text:"Comparo constantemente meu progresso com outras pessoas",category:"comparacao",weight:2},{id:32,text:"Fico desmotivado quando vejo outras pessoas tendo mais sucesso",category:"comparacao",weight:3},{id:33,text:"Uso redes sociais para me comparar com outros",category:"comparacao",weight:2},{id:34,text:"Sinto-me inadequado quando vejo conquistas de outros",category:"comparacao",weight:3},{id:35,text:"Foco no que outros tm em vez do que eu tenho",category:"comparacao",weight:2},{id:36,text:"Tenho dificuldade em celebrar minhas prprias conquistas",category:"comparacao",weight:2},{id:37,text:"Sempre acho que outros so melhores que eu",category:"comparacao",weight:2},{id:38,text:"Fico ansioso quando vejo posts de sucesso nas redes",category:"comparacao",weight:2},{id:39,text:"Comparo minha vida com a de celebridades",category:"comparacao",weight:1},{id:40,text:"Sinto-me inferior quando outros se destacam",category:"comparacao",weight:3},{id:41,text:"Tenho dificuldade em focar no meu prprio caminho",category:"comparacao",weight:2},{id:42,text:"Fico desmotivado quando vejo outros progredindo",category:"comparacao",weight:3},{id:43,text:"Sempre acho que deveria estar em outro lugar",category:"comparacao",weight:2},{id:44,text:"Comparo minha aparncia com a de outros",category:"comparacao",weight:2},{id:45,text:"Fico frustrado quando outros tm o que eu quero",category:"comparacao",weight:2},{id:46,text:"Sou muito crtico comigo mesmo",category:"autocritica",weight:2},{id:47,text:"Foco mais nos meus erros do que nos meus acertos",category:"autocritica",weight:3},{id:48,text:"Tenho uma voz interna muito negativa",category:"autocritica",weight:2},{id:49,text:"Tenho dificuldade em aceitar elogios",category:"autocritica",weight:2},{id:50,text:"Sempre acho que posso fazer melhor",category:"autocritica",weight:2},{id:51,text:"Foco nos meus pontos fracos em vez dos fortes",category:"autocritica",weight:2},{id:52,text:"Tenho dificuldade em me perdoar por erros",category:"autocritica",weight:2},{id:53,text:"Sempre espero o pior de mim mesmo",category:"autocritica",weight:2},{id:54,text:"Tenho dificuldade em reconhecer minhas conquistas",category:"autocritica",weight:2},{id:55,text:"Sou mais duro comigo mesmo do que com outros",category:"autocritica",weight:2},{id:56,text:"Tenho dificuldade em aceitar que sou bom em algo",category:"autocritica",weight:2},{id:57,text:"Sempre acho que no sou suficiente",category:"autocritica",weight:3},{id:58,text:"Foco nos meus fracassos em vez dos sucessos",category:"autocritica",weight:2},{id:59,text:"Tenho dificuldade em me valorizar",category:"autocritica",weight:2},{id:60,text:"Sempre acho que deveria ter feito diferente",category:"autocritica",weight:2},{id:61,text:"Evito tentar coisas novas por medo de falhar",category:"medo_falha",weight:3},{id:62,text:"Fico ansioso quando preciso sair da minha zona de conforto",category:"medo_falha",weight:2},{id:63,text:"Prefiro no tentar do que tentar e falhar",category:"medo_falha",weight:3},{id:64,text:"Tenho medo do julgamento dos outros",category:"medo_falha",weight:2},{id:65,text:"Evito situaes onde posso ser avaliado",category:"medo_falha",weight:2},{id:66,text:"Fico paralisado quando penso em possveis falhas",category:"medo_falha",weight:3},{id:67,text:"Tenho medo de no ser bom o suficiente",category:"medo_falha",weight:3},{id:68,text:"Evito desafios que podem me expor",category:"medo_falha",weight:2},{id:69,text:"Fico ansioso quando preciso tomar decises importantes",category:"medo_falha",weight:2},{id:70,text:"Tenho medo de decepcionar outras pessoas",category:"medo_falha",weight:2},{id:71,text:"Evito responsabilidades por medo de falhar",category:"medo_falha",weight:2},{id:72,text:"Fico ansioso quando preciso apresentar meu trabalho",category:"medo_falha",weight:2},{id:73,text:"Tenho medo de no conseguir atingir minhas metas",category:"medo_falha",weight:2},{id:74,text:"Evito situaes onde posso ser rejeitado",category:"medo_falha",weight:2},{id:75,text:"Fico ansioso quando preciso competir com outros",category:"medo_falha",weight:2},{id:76,text:"Vejo as coisas como 'tudo ou nada'",category:"pensamento_binario",weight:2},{id:77,text:"Se no posso fazer algo perfeitamente, prefiro no fazer",category:"pensamento_binario",weight:2},{id:78,text:"Tenho dificuldade em aceitar resultados intermedirios",category:"pensamento_binario",weight:2},{id:79,text:"Sou muito rgido em minhas opinies",category:"pensamento_binario",weight:2},{id:80,text:"Tenho dificuldade em ver nuances nas situaes",category:"pensamento_binario",weight:2},{id:81,text:"Sempre acho que algo  certo ou errado",category:"pensamento_binario",weight:2},{id:82,text:"Tenho dificuldade em aceitar pontos de vista diferentes",category:"pensamento_binario",weight:2},{id:83,text:"Sou muito inflexvel em minhas decises",category:"pensamento_binario",weight:2},{id:84,text:"Tenho dificuldade em encontrar solues intermedirias",category:"pensamento_binario",weight:2},{id:85,text:"Sempre acho que algo  sucesso ou fracasso",category:"pensamento_binario",weight:2},{id:86,text:"Tenho dificuldade em aceitar que a vida tem tons de cinza",category:"pensamento_binario",weight:2},{id:87,text:"Sou muito extremo em minhas reaes",category:"pensamento_binario",weight:2},{id:88,text:"Tenho dificuldade em ser flexvel",category:"pensamento_binario",weight:2},{id:89,text:"Sempre acho que algo  bom ou ruim",category:"pensamento_binario",weight:2},{id:90,text:"Tenho dificuldade em aceitar compromissos",category:"pensamento_binario",weight:2},{id:91,text:"Sempre acho que a vida  injusta comigo",category:"vitima",weight:2},{id:92,text:"Culpo outros pelos meus problemas",category:"vitima",weight:2},{id:93,text:"Sinto que no tenho controle sobre minha vida",category:"vitima",weight:3},{id:94,text:"Sempre acho que outros tm mais sorte que eu",category:"vitima",weight:2},{id:95,text:"Tenho dificuldade em assumir responsabilidade pelos meus erros",category:"vitima",weight:2},{id:96,text:"Sinto que sou sempre prejudicado pelas circunstncias",category:"vitima",weight:2},{id:97,text:"Culpo o passado pelos meus problemas atuais",category:"vitima",weight:2},{id:98,text:"Sempre acho que outros tm mais oportunidades",category:"vitima",weight:2},{id:99,text:"Tenho dificuldade em ver como posso mudar minha situao",category:"vitima",weight:2},{id:100,text:"Sinto que sou sempre a vtima das situaes",category:"vitima",weight:2},{id:101,text:"Preciso controlar tudo ao meu redor",category:"controle",weight:2},{id:102,text:"Fico ansioso quando as coisas no saem como planejei",category:"controle",weight:2},{id:103,text:"Tenho dificuldade em delegar tarefas para outros",category:"controle",weight:2},{id:104,text:"Preciso saber de tudo que est acontecendo",category:"controle",weight:2},{id:105,text:"Fico frustrado quando outros no fazem as coisas do meu jeito",category:"controle",weight:2},{id:106,text:"Tenho dificuldade em aceitar mudanas inesperadas",category:"controle",weight:2},{id:107,text:"Preciso ter um plano para tudo",category:"controle",weight:2},{id:108,text:"Fico ansioso quando no tenho controle sobre uma situao",category:"controle",weight:2},{id:109,text:"Tenho dificuldade em confiar que outros faro as coisas bem",category:"controle",weight:2},{id:110,text:"Preciso verificar tudo repetidamente",category:"controle",weight:2},{id:111,text:"Preciso da aprovao dos outros para me sentir bem",category:"aprovacao",weight:2},{id:112,text:"Fico ansioso quando outros no gostam de mim",category:"aprovacao",weight:2},{id:113,text:"Tenho dificuldade em tomar decises sem consultar outros",category:"aprovacao",weight:2},{id:114,text:"Fico preocupado com o que outros pensam de mim",category:"aprovacao",weight:2},{id:115,text:"Preciso agradar todos ao meu redor",category:"aprovacao",weight:2}],Hx={perfeccionismo:{name:"O Perfeccionista",description:"O sabotador que exige perfeio absoluta em tudo, criando padres impossveis de atingir.",characteristics:["Estabelece padres extremamente altos","Foca em detalhes irrelevantes","Tem dificuldade em aceitar resultados 'bons o suficiente'","Procrastina por medo de imperfeio","Revisa trabalho repetidamente"],impact:"Pode levar  paralisia, procrastinao e burnout, impedindo progresso real.",strategies:["Estabelea padres realistas e flexveis","Celebre progresso, no apenas perfeio","Pratique o conceito de 'bom o suficiente'","Foque no processo, no apenas no resultado","Defina prazos para finalizar projetos"],color:"text-purple-600",icon:kt},procrastinacao:{name:"O Procrastinador",description:"O sabotador que sempre encontra desculpas para adiar aes importantes.",characteristics:["Sempre encontra razes para adiar","Trabalha melhor 'sob presso'","Distrai-se facilmente","Tem dificuldade em priorizar","Comea muitas coisas mas no termina"],impact:"Resulta em estresse desnecessrio, prazos apertados e qualidade comprometida.",strategies:["Quebre tarefas grandes em partes menores","Use a tcnica Pomodoro (25min focados)","Elimine distraes durante perodos de foco","Estabelea prazos intermedirios","Crie rotinas consistentes"],color:"text-orange-600",icon:Xt},comparacao:{name:"O Comparador",description:"O sabotador que constantemente se compara com outros, perdendo foco no prprio progresso.",characteristics:["Compara-se constantemente com outros","Foca no que outros tm ou fazem","Perde perspectiva do prprio progresso","Sente-se inadequado facilmente","Fica desmotivado com sucessos alheios"],impact:"Reduz autoestima, motivao e foco no prprio desenvolvimento.",strategies:["Foque no seu prprio progresso","Celebre conquistas pessoais","Use comparao como inspirao, no desmotivao","Pratique gratido pelo que voc tem","Desenvolva sua prpria mtrica de sucesso"],color:"text-blue-600",icon:Le},autocritica:{name:"O Autocrtico",description:"O sabotador que tem uma voz interna extremamente negativa e crtica.",characteristics:["Voz interna muito negativa","Foca mais em erros que acertos","Tem dificuldade em aceitar elogios","Espera o pior de si mesmo"," mais duro consigo que com outros"],impact:"Reduz confiana, motivao e pode levar  depresso e ansiedade.",strategies:["Pratique autocompaixo diariamente","Reconhea e celebre pequenas conquistas","Trate-se como trataria um amigo","Desenvolva uma voz interna mais gentil","Foque nos seus pontos fortes"],color:"text-red-600",icon:He},medo_falha:{name:"O Medroso",description:"O sabotador que tem tanto medo de falhar que evita tentar coisas novas.",characteristics:["Evita situaes desconhecidas","Prefere no tentar do que tentar e falhar","Fica ansioso com mudanas","Tem medo de julgamento dos outros","Fica paralisado por possveis falhas"],impact:"Limita crescimento pessoal e profissional, mantendo a pessoa na zona de conforto.",strategies:["Reenquadre falhas como oportunidades de aprendizado","Comece com desafios pequenos","Pratique aceitao da imperfeio","Foque no processo, no apenas no resultado","Desenvolva resilincia emocional"],color:"text-yellow-600",icon:Da},pensamento_binario:{name:"O Binrio",description:"O sabotador que v tudo como preto ou branco, sem nuances.",characteristics:["V situaes como 'tudo ou nada'","Tem dificuldade com nuances"," muito rgido em suas opinies","No aceita resultados intermedirios"," inflexvel em suas decises"],impact:"Cria expectativas irreais e dificulta flexibilidade e adaptao.",strategies:["Pratique ver nuances nas situaes","Aceite que a vida tem tons de cinza","Desenvolva flexibilidade de pensamento","Foque em progresso gradual","Pratique aceitao de diferentes perspectivas"],color:"text-gray-600",icon:Pi},vitima:{name:"A Vtima",description:"O sabotador que sempre se v como vtima das circunstncias.",characteristics:["Sempre acha que a vida  injusta","Culpa outros pelos seus problemas","Sente que no tem controle","Acha que outros tm mais sorte","Evita assumir responsabilidade"],impact:"Reduz autonomia, motivao e capacidade de mudana.",strategies:["Assuma responsabilidade pelas suas escolhas","Foque no que voc pode controlar","Desenvolva mentalidade de crescimento","Pratique gratido pelas oportunidades","Aceite que voc tem poder de mudana"],color:"text-pink-600",icon:lee},controle:{name:"O Controlador",description:"O sabotador que precisa controlar tudo ao seu redor.",characteristics:["Precisa controlar tudo","Fica ansioso com imprevistos","Tem dificuldade em delegar","Precisa saber de tudo","Fica frustrado quando outros no seguem seu jeito"],impact:"Cria estresse desnecessrio e dificulta relacionamentos e colaborao.",strategies:["Pratique aceitao do que no pode controlar","Aprenda a delegar e confiar","Desenvolva flexibilidade","Foque no que realmente importa","Pratique mindfulness e presena"],color:"text-indigo-600",icon:Hs},aprovacao:{name:"O Aprovador",description:"O sabotador que precisa da aprovao dos outros para se sentir bem.",characteristics:["Precisa da aprovao dos outros","Fica ansioso com rejeio","Tem dificuldade em tomar decises sozinho","Preocupa-se com o que outros pensam","Precisa agradar todos"],impact:"Reduz autenticidade, confiana e capacidade de tomar decises independentes.",strategies:["Desenvolva autoconfiana","Pratique tomar decises independentes","Aceite que no pode agradar todos","Foque em seus prprios valores","Desenvolva autoestima interna"],color:"text-green-600",icon:T0}},IW=()=>{var S;const[e,t]=p.useState(0),[r,a]=p.useState({}),[n,i]=p.useState(!1),[o,l]=p.useState({}),[c,d]=p.useState(!1),{toast:u}=Ee(),m=async _=>{a(C=>({...C,[wo[e].id]:_})),await h(wo[e].id,_)},h=async(_,C)=>{try{const{data:{user:E}}=await z.auth.getUser();if(!E)return;const T=new Date().toISOString().split("T")[0],{error:k}=await z.from("daily_responses").upsert({user_id:E.id,date:T,section:"saboteurs",question_id:`saboteur_${_}`,answer:C.toString(),points_earned:5,created_at:new Date().toISOString()});k?console.error("Erro ao salvar resposta do sabotador:",k):console.log(`Resposta do sabotador salva: ${_} = ${C}`)}catch(E){console.error("Erro ao salvar resposta do sabotador:",E)}},f=()=>{const _={};Object.keys(Hx).forEach(C=>{const E=wo.filter(P=>P.category===C);let T=0,k=0;E.forEach(P=>{const D=r[P.id]||0;T+=D*P.weight,k+=5*P.weight}),_[C]=T/k*100}),l(_)},g=async()=>{d(!0),f(),await x(),i(!0),d(!1)},x=async()=>{try{const{data:{user:_}}=await z.auth.getUser();if(!_)return;const C=new Date().toISOString().split("T")[0],E={};Object.keys(Hx).forEach(k=>{const P=wo.filter(V=>V.category===k);let D=0,I=0;P.forEach(V=>{const W=r[V.id]||0;D+=W*V.weight,I+=5*V.weight}),E[k]=D/I*100});const{error:T}=await z.from("daily_responses").upsert({user_id:_.id,date:C,section:"saboteurs_results",question_id:"saboteur_test_complete",answer:JSON.stringify(E),text_response:`Teste de sabotadores concludo com ${Object.keys(r).length} respostas`,points_earned:50,created_at:new Date().toISOString()});if(T)console.error("Erro ao salvar resultados do teste:",T),u({title:"Erro",description:"No foi possvel salvar os resultados do teste",variant:"destructive"});else{console.log("Resultados do teste de sabotadores salvos:",E);const k=Object.values(E).reduce((D,I)=>D+I,0)/Object.keys(E).length,P=k>70?"alto":k>40?"mdio":"baixo";u({title:"Teste Concludo! ",description:`Seus resultados foram salvos. Nvel de risco: ${P}`,duration:5e3})}}catch(_){console.error("Erro ao salvar resultados:",_)}},y=()=>{t(0),a({}),i(!1),l({})},v=()=>Object.entries(o).sort(([,_],[,C])=>C-_).slice(0,3),b=()=>Object.values(o).reduce((C,E)=>C+E,0)/Object.keys(o).length,j=_=>_<30?{level:"Baixo",color:"text-green-600",bgColor:"bg-green-100"}:_<60?{level:"Mdio",color:"text-yellow-600",bgColor:"bg-yellow-100"}:{level:"Alto",color:"text-red-600",bgColor:"bg-red-100"},N=(e+1)/wo.length*100;if(n){const _=v(),C=b(),E=j(C);return s.jsxs("div",{className:"p-6 space-y-6",children:[s.jsxs("div",{className:"text-center space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-center gap-3",children:[s.jsx(ds,{className:"h-10 w-10 text-primary"}),s.jsx("h1",{className:"text-4xl font-bold",children:"Relatrio de Sabotadores"})]}),s.jsx("p",{className:"text-muted-foreground text-lg",children:"Anlise completa dos seus padres de sabotagem interna"})]}),s.jsxs(M,{className:"health-card",children:[s.jsx($,{children:s.jsxs(U,{className:"flex items-center gap-2",children:[s.jsx(ar,{className:"h-6 w-6"}),"Score Geral de Sabotadores"]})}),s.jsx(O,{children:s.jsxs("div",{className:"text-center space-y-4",children:[s.jsxs("div",{className:`text-6xl font-bold ${E.color}`,children:[C.toFixed(0),"%"]}),s.jsxs(X,{className:`text-lg px-4 py-2 ${E.bgColor} ${E.color}`,children:["Nvel ",E.level]}),s.jsx("p",{className:"text-muted-foreground",children:C<30?"Excelente! Voc tem boa conscincia dos seus padres.":C<60?"Ateno! Alguns sabotadores podem estar afetando seu progresso.":"Alerta! Seus sabotadores esto significativamente impactando sua vida."})]})})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("h2",{className:"text-2xl font-bold flex items-center gap-2",children:[s.jsx(Bt,{className:"h-6 w-6 text-orange-500"}),"Seus Principais Sabotadores"]}),_.map(([T,k],P)=>{const D=Hx[T],I=D.icon,V=j(k);return s.jsxs(M,{className:"health-card",children:[s.jsx($,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(I,{className:`h-8 w-8 ${D.color}`}),s.jsxs("div",{children:[s.jsxs(U,{className:"flex items-center gap-2",children:["#",P+1," ",D.name,s.jsx(X,{className:`${V.bgColor} ${V.color}`,children:V.level})]}),s.jsx("p",{className:"text-muted-foreground",children:D.description})]})]}),s.jsx("div",{className:"text-right",children:s.jsxs("div",{className:`text-3xl font-bold ${D.color}`,children:[k.toFixed(0),"%"]})})]})}),s.jsxs(O,{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold mb-2",children:"Caractersticas:"}),s.jsx("ul",{className:"space-y-1 text-sm text-muted-foreground",children:D.characteristics.map((W,R)=>s.jsxs("li",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-1 h-1 bg-muted-foreground rounded-full"}),W]},R))})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold mb-2",children:"Impacto:"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:D.impact})]}),s.jsxs("div",{children:[s.jsxs("h4",{className:"font-semibold mb-2 flex items-center gap-2",children:[s.jsx(QS,{className:"h-4 w-4 text-yellow-500"}),"Estratgias de Superao:"]}),s.jsx("ul",{className:"space-y-1 text-sm text-muted-foreground",children:D.strategies.map((W,R)=>s.jsxs("li",{className:"flex items-center gap-2",children:[s.jsx(Se,{className:"h-3 w-3 text-green-500"}),W]},R))})]})]})]},T)})]}),s.jsxs(M,{className:"health-card",children:[s.jsx($,{children:s.jsx(U,{children:"Anlise Completa por Categoria"})}),s.jsx(O,{children:s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:Object.entries(o).map(([T,k])=>{const P=Hx[T],D=P.icon,I=j(k);return s.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(D,{className:`h-5 w-5 ${P.color}`}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:P.name}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:[k.toFixed(0),"%"]})]})]}),s.jsx(X,{className:`${I.bgColor} ${I.color}`,children:I.level})]},T)})})})]}),s.jsxs("div",{className:"flex gap-4 justify-center",children:[s.jsxs(A,{onClick:y,variant:"outline",children:[s.jsx(Wr,{className:"h-4 w-4 mr-2"}),"Refazer Teste"]}),s.jsxs(A,{className:"btn-gradient",children:[s.jsx(as,{className:"h-4 w-4 mr-2"}),"Ver Estratgias Detalhadas"]})]})]})}const w=wo[e];return s.jsxs("div",{className:"mobile-padding space-y-6",children:[s.jsxs("div",{className:"text-center space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-center gap-3",children:[s.jsx(ds,{className:"h-8 w-8 lg:h-10 lg:w-10 text-primary"}),s.jsx("h1",{className:"mobile-text-2xl font-bold",children:"Teste de Sabotadores"})]}),s.jsx("p",{className:"text-muted-foreground mobile-text-lg",children:"Identifique os padres que podem estar sabotando seu progresso"})]}),s.jsx(M,{className:"health-card",children:s.jsx(O,{className:"pt-6",children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsxs("span",{children:["Questo ",e+1," de ",wo.length]}),s.jsxs("span",{children:[Math.round(N),"% completo"]})]}),s.jsx(Ge,{value:N,className:"h-2"})]})})}),s.jsxs(M,{className:"health-card",children:[s.jsx($,{className:"pb-3 md:pb-6",children:s.jsx(U,{className:"text-lg md:text-xl leading-tight",children:w.text})}),s.jsx(O,{children:s.jsxs(RW,{value:((S=r[w.id])==null?void 0:S.toString())||"",onValueChange:_=>m(parseInt(_)),className:"space-y-2 md:space-y-4",children:[s.jsxs("div",{className:"flex items-center space-x-2 md:space-x-3 p-2 md:p-3 rounded-lg border hover:bg-muted/20 cursor-pointer",children:[s.jsx(kd,{value:"1",id:`q${w.id}-1`}),s.jsx(Y,{htmlFor:`q${w.id}-1`,className:"text-sm md:text-base cursor-pointer",children:"Discordo Totalmente"})]}),s.jsxs("div",{className:"flex items-center space-x-2 md:space-x-3 p-2 md:p-3 rounded-lg border hover:bg-muted/20 cursor-pointer",children:[s.jsx(kd,{value:"2",id:`q${w.id}-2`}),s.jsx(Y,{htmlFor:`q${w.id}-2`,className:"text-sm md:text-base cursor-pointer",children:"Discordo"})]}),s.jsxs("div",{className:"flex items-center space-x-2 md:space-x-3 p-2 md:p-3 rounded-lg border hover:bg-muted/20 cursor-pointer",children:[s.jsx(kd,{value:"3",id:`q${w.id}-3`}),s.jsx(Y,{htmlFor:`q${w.id}-3`,className:"text-sm md:text-base cursor-pointer",children:"Neutro"})]}),s.jsxs("div",{className:"flex items-center space-x-2 md:space-x-3 p-2 md:p-3 rounded-lg border hover:bg-muted/20 cursor-pointer",children:[s.jsx(kd,{value:"4",id:`q${w.id}-4`}),s.jsx(Y,{htmlFor:`q${w.id}-4`,className:"text-sm md:text-base cursor-pointer",children:"Concordo"})]}),s.jsxs("div",{className:"flex items-center space-x-2 md:space-x-3 p-2 md:p-3 rounded-lg border hover:bg-muted/20 cursor-pointer",children:[s.jsx(kd,{value:"5",id:`q${w.id}-5`}),s.jsx(Y,{htmlFor:`q${w.id}-5`,className:"text-sm md:text-base cursor-pointer",children:"Concordo Totalmente"})]})]})})]}),s.jsxs("div",{className:"flex flex-col md:flex-row justify-between gap-2 md:gap-4",children:[s.jsxs(A,{variant:"outline",onClick:()=>t(_=>Math.max(0,_-1)),disabled:e===0,className:"h-12 md:h-10 text-sm md:text-base w-full md:w-auto",children:[s.jsx(Wr,{className:"h-4 w-4 mr-2"}),"Anterior"]}),e===wo.length-1?s.jsxs(A,{onClick:g,disabled:!r[w.id]||c,className:"mobile-button-lg w-full lg:w-auto",children:[c?"Processando...":"Finalizar Teste",s.jsx(Se,{className:"h-4 w-4 ml-2"})]}):s.jsxs(A,{onClick:()=>t(_=>_+1),disabled:!r[w.id]||c,className:"mobile-button-lg w-full lg:w-auto",children:["Prxima",s.jsx(ml,{className:"h-4 w-4 ml-2"})]})]})]})},OP=e=>{const[t,r]=p.useState({fullName:"",email:"",phone:"",birthDate:"",city:"",state:"",avatarUrl:"",bio:"",goals:[],achievements:[]}),[a,n]=p.useState(!0),[i,o]=p.useState(!1);p.useEffect(()=>{e&&l()},[e]);const l=async()=>{var u,m,h,f,g,x,y,v,b,j,N,w,S,_,C,E,T,k;if(e)try{n(!0);const{data:P,error:D}=await z.from("profiles").select("*").eq("user_id",e.id).single();r(P?{fullName:P.full_name||((u=e.user_metadata)==null?void 0:u.full_name)||"",email:e.email||"",phone:P.phone||((m=e.user_metadata)==null?void 0:m.phone)||"",birthDate:P.birth_date||((h=e.user_metadata)==null?void 0:h.birth_date)||"",city:P.city||((f=e.user_metadata)==null?void 0:f.city)||"",state:((g=e.user_metadata)==null?void 0:g.state)||"",avatarUrl:P.avatar_url||((x=e.user_metadata)==null?void 0:x.avatar_url)||"",bio:((y=e.user_metadata)==null?void 0:y.bio)||"Transformando minha vida atravs da sade e bem-estar.",goals:((v=e.user_metadata)==null?void 0:v.goals)||["Perder peso","Melhorar condicionamento","Adotar hbitos saudveis"],achievements:((b=e.user_metadata)==null?void 0:b.achievements)||["Primeira semana completa","Primeira pesagem registrada"]}:{fullName:((j=e.user_metadata)==null?void 0:j.full_name)||"",email:e.email||"",phone:((N=e.user_metadata)==null?void 0:N.phone)||"",birthDate:((w=e.user_metadata)==null?void 0:w.birth_date)||"",city:((S=e.user_metadata)==null?void 0:S.city)||"",state:((_=e.user_metadata)==null?void 0:_.state)||"",avatarUrl:((C=e.user_metadata)==null?void 0:C.avatar_url)||"",bio:((E=e.user_metadata)==null?void 0:E.bio)||"Transformando minha vida atravs da sade e bem-estar.",goals:((T=e.user_metadata)==null?void 0:T.goals)||["Perder peso","Melhorar condicionamento","Adotar hbitos saudveis"],achievements:((k=e.user_metadata)==null?void 0:k.achievements)||["Primeira semana completa","Primeira pesagem registrada"]}),D&&D.code!=="PGRST116"&&console.error("Erro ao carregar perfil:",D)}catch(P){console.error("Erro ao carregar perfil:",P)}finally{n(!1)}};return{profileData:t,loading:a,saving:i,updateProfile:async u=>{if(e)try{o(!0);const m={...t,...u},{error:h}=await z.from("profiles").update({full_name:m.fullName,phone:m.phone,birth_date:m.birthDate,city:m.city,state:m.state,avatar_url:m.avatarUrl,bio:m.bio,goals:m.goals,achievements:m.achievements,updated_at:new Date().toISOString()}).eq("user_id",e.id);if(h)throw console.error("Erro ao salvar perfil:",h),h;return r(m),await z.auth.updateUser({data:{full_name:m.fullName,phone:m.phone,birth_date:m.birthDate,city:m.city,state:m.state,avatar_url:m.avatarUrl,bio:m.bio,goals:m.goals,achievements:m.achievements}}),{success:!0}}catch(m){return console.error("Erro ao atualizar perfil:",m),{success:!1,error:m}}finally{o(!1)}},uploadAvatar:async u=>{if(!e)return null;try{if(!u.type.startsWith("image/"))throw new Error("Apenas arquivos de imagem so permitidos");if(u.size>5*1024*1024)throw new Error("Arquivo muito grande. Mximo 5MB permitido");const m=u.name.split(".").pop(),h=`${e.id}-${Date.now()}.${m}`,f=`avatars/${h}`;console.log("Iniciando upload do avatar...",{fileName:h,filePath:f});const{error:g,data:x}=await z.storage.from("avatars").upload(f,u,{cacheControl:"3600",upsert:!0});if(g){if(console.error("Erro no upload:",g),g.message.includes("policy")||g.message.includes("403")){console.log("Tentando upload com nome simplificado...");const b=`avatars/${`${e.id}.${m}`}`,{error:j}=await z.storage.from("avatars").upload(b,u,{cacheControl:"3600",upsert:!0});if(j)throw console.error("Erro no retry:",j),new Error("No foi possvel fazer upload da imagem. Tente novamente.");const{data:{publicUrl:N}}=z.storage.from("avatars").getPublicUrl(b);return N}throw new Error("Erro ao fazer upload da imagem: "+g.message)}console.log("Upload realizado com sucesso:",x);const{data:{publicUrl:y}}=z.storage.from("avatars").getPublicUrl(f);return console.log("URL pblica gerada:",y),y}catch(m){if(console.error("Erro ao fazer upload do avatar:",m),m.message.includes("bucket")||m.message.includes("not found"))return console.log("Bucket no encontrado, usando URL temporria..."),URL.createObjectURL(u);throw m}},loadProfile:l}},QEe=({user:e})=>{const[t,r]=p.useState(null),[a,n]=p.useState(!0),[i,o]=p.useState(!1),l=async()=>{if(e!=null&&e.id)try{r(null)}catch(d){console.error("Erro:",d)}finally{n(!1)}},c=async()=>{if(e!=null&&e.id){o(!0);try{const{data:d,error:u}=await z.functions.invoke("generate-user-biography",{body:{userId:e.id}});if(u){sa.error("Erro ao gerar biografia"),console.error("Erro:",u);return}await l(),sa.success("Biografia atualizada pela Sof.ia!")}catch(d){sa.error("Erro ao conectar com Sof.ia"),console.error("Erro:",d)}finally{o(!1)}}};return p.useEffect(()=>{l()},[e==null?void 0:e.id]),a?s.jsx(M,{className:"bg-gradient-to-r from-pink-900/50 to-purple-900/50 border-pink-600/30",children:s.jsx(O,{className:"p-6",children:s.jsxs("div",{className:"animate-pulse space-y-3",children:[s.jsx("div",{className:"h-4 bg-gray-700 rounded w-3/4"}),s.jsx("div",{className:"h-4 bg-gray-700 rounded w-1/2"})]})})}):s.jsxs(M,{className:"bg-gradient-to-r from-pink-900/50 to-purple-900/50 border-pink-600/30",children:[s.jsx($,{children:s.jsxs(U,{className:"text-white flex items-center gap-2",children:[s.jsx("div",{className:"w-8 h-8 bg-pink-500/20 rounded-full flex items-center justify-center overflow-hidden",children:s.jsx("img",{src:"https://imagensids.s3.us-east-1.amazonaws.com/Sofia%20sem%20fundo.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZAQZCSRHU3YW55DQ%2F20250729%2Fus-east-1%2Fs3%2Faws4_request&X-Amz-Date=20250729T200136Z&X-Amz-Expires=300&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEIT%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLWVhc3QtMSJHMEUCIQChA3%2BbD1dZqLBDQqsI5BQFiUEGWdCUcevcJ9eXvyTkqAIgRI18C0sZ9AuXHxEfrihiBQnbyAcXCr9NQJ033v55sG0q3wIIrf%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FARAAGgw2MTk2MDE2MzAyODciDHNhM9pb2hgFxRbGmiqzAmX16D%2FTsmIZ44pytO6ppRtdkF2MNSclV%2B494zA1B%2FNYNYShq1yLQvYIE8mu%2Bw%2Fp623wtNUqHRK%2FVB55wp5C4S7VbqtWryvbWWgwqt78y32eIaXrv5AMKippOH9ueHFEAjsA%2FQbBN2mQZlD%2FiadabySlYFQSvWHJ6pKV077%2BwjTfedjHLgU0AusofsIolBqq%2FBoUHcMz2%2BRmhD3QIDshc7%2BBSOce76%2BuSEjWUql8fnYLrHn54Q%2BnQ5MIjGa8y1IZ7wBSXe4J0cZI%2FdgovKavwfAzfHm%2BmVcmS0mEIg0D1qK5UEOPcXwxfJU4a5f3nNXkRuoVlAfhVr0aDIeQ8oRjbJ923lFaz1m945SbBvcCeZnPFKODH6r9Xstrz5tp9fTj0FLZL7nRXb7KVq8fXGqLBQtD%2Bk8w%2FMykxAY6rQJsvxbhGbRYFYsd%2FgOTolaFps%2BmKV1R0j6pl0sTUgdJi94%2Fs6yv7igUxpCXKUdufJIk8NgOnIfkQYt88B0%2F0dYtStMeumcbgc%2Bpsi%2BlaUNd3I%2BBKgamg%2FY%2BnL4lo22YFVVJRgVEQ2ALLwQlqUW7wx%2BsATDs6LFkQ0zCZrjENrjvCcAGLdHw5R%2Fuo2nsg3yNuIHHMH%2BWz8ZBawseAP%2FwwgftK%2Bk%2BL5ira8wJtwX9FpgetHBlL2VXp3ZnamgV%2FuRJwHRXcVrqHr36zsizaedMk6KD6ITy%2BmPcx3Ai8vs37Ga24PnpfAbnGKqGLHOLhy8sAPjUQJX2jAOfGiYHHDRDaujJPQEshMpG0MZPXQur5oosX4M4qmQs8GSJvZAUcL7ZkahcF6ZHfltnM82YDtRx&X-Amz-Signature=898906fe6d7fd05f241153a3c5cbdb1980b83434d711179c47d010b057dc3eb4&X-Amz-SignedHeaders=host&response-content-disposition=inline",alt:"Sofia",className:"w-full h-full object-cover rounded-full"})}),"Sua Biografia por Sof.ia",s.jsx(Ta,{className:"h-4 w-4 text-yellow-400 animate-pulse"})]})}),s.jsx(O,{className:"space-y-4",children:t?s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"text-gray-200 leading-relaxed",children:['"',t.biography,'"']}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("p",{className:"text-xs text-gray-400",children:["Atualizada em ",new Date(t.last_updated).toLocaleDateString("pt-BR"),"  Baseada em ",t.conversation_count," conversas"]}),s.jsx(A,{onClick:c,disabled:i,size:"sm",className:"bg-pink-600 hover:bg-pink-700 text-white",children:i?s.jsx(gn,{className:"h-4 w-4 animate-spin"}):s.jsxs(s.Fragment,{children:[s.jsx(He,{className:"h-4 w-4 mr-1"}),"Atualizar"]})})]})]}):s.jsxs("div",{className:"text-center space-y-4",children:[s.jsx("p",{className:"text-gray-300",children:"A Sof.ia ainda no criou sua biografia personalizada."}),s.jsx("p",{className:"text-sm text-gray-400",children:"Converse mais com ela para que possa conhecer voc melhor!"}),s.jsxs(A,{onClick:c,disabled:i,className:"bg-pink-600 hover:bg-pink-700 text-white",children:[i?s.jsx(gn,{className:"h-4 w-4 animate-spin mr-2"}):s.jsx(He,{className:"h-4 w-4 mr-2"}),"Criar Biografia"]})]})})]})},JEe=({user:e,onUpdateProfile:t})=>{const[r,a]=p.useState(!1),[n,i]=p.useState(!1),o=p.useRef(null),{profileData:l,updateProfile:c}=OP(e),{toast:d}=Ee(),u=async f=>{var x;const g=(x=f.target.files)==null?void 0:x[0];if(g){if(!g.type.startsWith("image/")){d({title:"Tipo de arquivo invlido",description:"Por favor, selecione apenas arquivos de imagem (JPG, PNG, etc.)",variant:"destructive"});return}if(g.size>5*1024*1024){d({title:"Arquivo muito grande",description:"Por favor, selecione uma imagem menor que 5MB",variant:"destructive"});return}i(!0);try{d({title:"Processando imagem...",description:"Aguarde enquanto sua foto  processada"});const y=await new Promise((v,b)=>{const j=new FileReader;j.onload=()=>v(j.result),j.onerror=b,j.readAsDataURL(g)});y&&(await c({avatarUrl:y}),d({title:"Foto atualizada!",description:"Sua foto de perfil foi atualizada com sucesso"}))}catch(y){console.error("Erro no upload:",y),d({title:"Erro no processamento",description:"No foi possvel processar a imagem. Tente novamente.",variant:"destructive"})}finally{i(!1),o.current&&(o.current.value="")}}},m=async()=>{try{await c(l),t(l),a(!1)}catch(f){console.error("Erro ao salvar perfil:",f)}},h=f=>f.split(" ").map(g=>g.charAt(0)).join("").toUpperCase().slice(0,2);return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("div",{className:"relative",children:[s.jsxs(jn,{className:"h-20 w-20",children:[s.jsx(ai,{src:l.avatarUrl,alt:l.fullName}),s.jsx(wn,{className:"bg-gradient-to-br from-blue-500 to-purple-600 text-white text-xl font-bold",children:h(l.fullName)})]}),s.jsxs(gt,{children:[s.jsx(ir,{asChild:!0,children:s.jsx(A,{size:"icon",className:"absolute -bottom-2 -right-2 h-8 w-8 bg-blue-600 hover:bg-blue-700",disabled:n,children:s.jsx(dm,{className:"h-4 w-4"})})}),s.jsxs(vt,{children:[s.jsxs(yt,{children:[s.jsx(bt,{children:"Alterar Foto do Perfil"}),s.jsx(Zi,{children:"Escolha uma nova imagem para seu perfil (mximo 5MB)"})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{className:"text-center",children:s.jsxs(jn,{className:"h-32 w-32 mx-auto mb-4",children:[s.jsx(ai,{src:l.avatarUrl,alt:l.fullName}),s.jsx(wn,{className:"bg-gradient-to-br from-blue-500 to-purple-600 text-white text-2xl font-bold",children:h(l.fullName)})]})}),s.jsxs(A,{onClick:()=>{var f;return(f=o.current)==null?void 0:f.click()},disabled:n,className:"w-full",children:[s.jsx(Xg,{className:"h-4 w-4 mr-2"}),n?"Enviando...":"Escolher Nova Foto"]})]})]})]}),s.jsx("input",{ref:o,type:"file",accept:"image/*",onChange:u,className:"hidden"})]}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold text-white",children:l.fullName}),s.jsx("p",{className:"text-gray-400",children:l.email}),s.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[s.jsx(X,{className:"bg-green-600",children:"Online"}),s.jsxs(X,{variant:"outline",className:"border-gray-600 text-gray-300",children:["Membro desde ",new Date((e==null?void 0:e.created_at)||"").toLocaleDateString("pt-BR")]})]})]})]}),s.jsxs(gt,{children:[s.jsx(ir,{asChild:!0,children:s.jsxs(A,{className:"bg-blue-600 hover:bg-blue-700",children:[s.jsx(hl,{className:"h-4 w-4 mr-2"}),"Editar Perfil"]})}),s.jsxs(vt,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[s.jsxs(yt,{children:[s.jsx(bt,{children:"Editar Perfil"}),s.jsx(Zi,{children:"Atualize suas informaes pessoais e preferncias"})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"text-center",children:[s.jsxs(jn,{className:"h-24 w-24 mx-auto mb-4",children:[s.jsx(ai,{src:l.avatarUrl,alt:l.fullName}),s.jsx(wn,{className:"bg-gradient-to-br from-blue-500 to-purple-600 text-white text-xl font-bold",children:h(l.fullName)})]}),s.jsxs(A,{onClick:()=>{var f;return(f=o.current)==null?void 0:f.click()},disabled:n,variant:"outline",size:"sm",children:[s.jsx(Xg,{className:"h-4 w-4 mr-2"}),n?"Enviando...":"Alterar Foto"]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(Y,{children:"Nome Completo"}),s.jsx(re,{value:l.fullName,onChange:f=>c({fullName:f.target.value}),placeholder:"Seu nome completo"})]}),s.jsxs("div",{children:[s.jsx(Y,{children:"Email"}),s.jsx(re,{value:l.email,disabled:!0,className:"bg-muted"})]}),s.jsxs("div",{children:[s.jsx(Y,{children:"Telefone"}),s.jsx(re,{value:l.phone,onChange:f=>c({phone:f.target.value}),placeholder:"(11) 99999-9999"})]}),s.jsxs("div",{children:[s.jsx(Y,{children:"Data de Nascimento"}),s.jsx(re,{type:"date",value:l.birthDate,onChange:f=>c({birthDate:f.target.value})})]}),s.jsxs("div",{children:[s.jsx(Y,{children:"Cidade"}),s.jsx(re,{value:l.city,onChange:f=>c({city:f.target.value}),placeholder:"Sua cidade"})]}),s.jsxs("div",{children:[s.jsx(Y,{children:"Estado"}),s.jsx(re,{value:l.state,onChange:f=>c({state:f.target.value}),placeholder:"Seu estado"})]})]}),s.jsxs("div",{children:[s.jsx(Y,{children:"Biografia"}),s.jsx("textarea",{value:l.bio,onChange:f=>c({bio:f.target.value}),className:"w-full p-3 border border-gray-300 rounded-md resize-none h-24",placeholder:"Conte um pouco sobre voc..."})]}),s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx(A,{variant:"outline",onClick:()=>a(!1),children:"Cancelar"}),s.jsxs(A,{onClick:m,className:"bg-blue-600 hover:bg-blue-700",children:[s.jsx(ia,{className:"h-4 w-4 mr-2"}),"Salvar Alteraes"]})]})]})]})]})]}),s.jsx(QEe,{user:e}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[s.jsxs(M,{className:"bg-gray-900 border-gray-700",children:[s.jsx($,{children:s.jsxs(U,{className:"text-white flex items-center gap-2",children:[s.jsx(Ui,{className:"h-5 w-5 text-blue-400"}),"Informaes Pessoais"]})}),s.jsxs(O,{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[s.jsx(Ei,{className:"h-4 w-4 text-gray-400"}),s.jsx("span",{className:"text-gray-300",children:l.email})]}),s.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[s.jsx(l6,{className:"h-4 w-4 text-gray-400"}),s.jsx("span",{className:"text-gray-300",children:l.phone||"No informado"})]}),s.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[s.jsx(Vt,{className:"h-4 w-4 text-gray-400"}),s.jsx("span",{className:"text-gray-300",children:l.birthDate?new Date(l.birthDate).toLocaleDateString("pt-BR"):"No informado"})]}),s.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[s.jsx(ep,{className:"h-4 w-4 text-gray-400"}),s.jsx("span",{className:"text-gray-300",children:l.city&&l.state?`${l.city}, ${l.state}`:"No informado"})]})]})]}),s.jsxs(M,{className:"bg-gray-900 border-gray-700",children:[s.jsx($,{children:s.jsxs(U,{className:"text-white flex items-center gap-2",children:[s.jsx(_e,{className:"h-5 w-5 text-green-400"}),"Minhas Metas"]})}),s.jsx(O,{children:s.jsx("div",{className:"space-y-2",children:l.goals.map((f,g)=>s.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[s.jsx("div",{className:"w-2 h-2 bg-green-400 rounded-full"}),s.jsx("span",{className:"text-gray-300",children:f})]},g))})})]}),s.jsxs(M,{className:"bg-gray-900 border-gray-700",children:[s.jsx($,{children:s.jsxs(U,{className:"text-white flex items-center gap-2",children:[s.jsx(Be,{className:"h-5 w-5 text-yellow-400"}),"Conquistas"]})}),s.jsx(O,{children:s.jsx("div",{className:"space-y-2",children:l.achievements.map((f,g)=>s.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[s.jsx(Be,{className:"h-4 w-4 text-yellow-400"}),s.jsx("span",{className:"text-gray-300",children:f})]},g))})})]})]}),s.jsxs(M,{className:"bg-gray-900 border-gray-700",children:[s.jsx($,{children:s.jsxs(U,{className:"text-white flex items-center gap-2",children:[s.jsx(Te,{className:"h-5 w-5 text-purple-400"}),"Estatsticas do Perfil"]})}),s.jsx(O,{children:s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-6",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"mobile-stat-number text-blue-400",children:"127"}),s.jsx("div",{className:"mobile-text-lg text-gray-400",children:"Dias Ativo"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"mobile-stat-number text-green-400",children:"23"}),s.jsx("div",{className:"mobile-text-lg text-gray-400",children:"Metas Alcanadas"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"mobile-stat-number text-yellow-400",children:"15"}),s.jsx("div",{className:"mobile-text-lg text-gray-400",children:"Conquistas"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"mobile-stat-number text-purple-400",children:"89%"}),s.jsx("div",{className:"mobile-text-lg text-gray-400",children:"Progresso Geral"})]})]})})]})]})},FW=()=>{const[e,t]=p.useState([]),[r,a]=p.useState([]),[n,i]=p.useState(!1),[o,l]=p.useState(null),{toast:c}=Ee();p.useEffect(()=>{d(),setTimeout(()=>{w()},1e3)},[]);const d=async()=>{const{data:{user:k}}=await z.auth.getUser();l(k)},u=async k=>{const P=[];try{const{data:D}=await z.from("weight_measurements").select("*").eq("user_id",k.id).order("measurement_date",{ascending:!1}).limit(10),{data:I}=await z.from("weekly_analyses").select("*").eq("user_id",k.id).order("semana_inicio",{ascending:!1}).limit(10),{data:V}=await z.from("user_physical_data").select("*").eq("user_id",k.id).maybeSingle();let W=[],R=[],F=[],H=[],Z=[];try{const{data:L}=await z.from("daily_missions").select("*").eq("user_id",k.id).order("date_assigned",{ascending:!1}).limit(10);W=L||[]}catch{console.log("Tabela daily_missions ainda no existe")}try{const{data:L}=await z.from("user_scores").select("*").eq("user_id",k.id).order("date",{ascending:!1}).limit(10);R=L||[]}catch{console.log("Tabela user_scores ainda no existe")}try{const{data:L}=await z.from("mood_tracking").select("*").eq("user_id",k.id).order("date",{ascending:!1}).limit(10);F=L||[]}catch{console.log("Tabela mood_tracking ainda no existe")}try{const{data:L}=await z.from("life_wheel").select("*").eq("user_id",k.id).order("evaluation_date",{ascending:!1}).limit(1);H=L||[]}catch{console.log("Tabela life_wheel ainda no existe")}try{const{data:L}=await z.from("activity_categories").select("*").eq("user_id",k.id);Z=L||[]}catch{console.log("Tabela activity_categories ainda no existe")}const B=m(D);P.push(B);const K=h(D);P.push(K);const Q=f(D);P.push(Q);const ie=g(D,V);P.push(ie);const oe=x(W,R);P.push(oe);const je=y(F);P.push(je);const le=v(H);P.push(le);const Oe=b(D);P.push(Oe);const ae=j(Z);P.push(ae);const ue=N(D);P.push(ue)}catch(D){console.error("Erro ao testar grficos:",D)}a(P)},m=k=>{const P=["peso_kg","measurement_date"],D=k&&k.length>0&&k.every(I=>I.peso_kg&&I.measurement_date);return{name:"Evoluo do Peso",type:"LineChart",dataFields:P,status:D?"success":(k==null?void 0:k.length)>0?"warning":"error",message:D?` Dados completos para ${k.length} medies`:(k==null?void 0:k.length)>0?` ${k.length} medies, mas algumas sem peso ou data`:" Nenhuma medio de peso encontrada",sampleData:k==null?void 0:k.slice(0,3)}},h=k=>{const P=["imc","measurement_date"],D=k&&k.length>0&&k.some(I=>I.imc);return{name:"Evoluo do IMC",type:"LineChart",dataFields:P,status:D?"success":(k==null?void 0:k.length)>0?"warning":"error",message:D?` IMC calculado para ${k.filter(I=>I.imc).length} medies`:(k==null?void 0:k.length)>0?" Medies existem, mas IMC no calculado":" Nenhum dado de IMC encontrado",sampleData:k==null?void 0:k.filter(I=>I.imc).slice(0,3)}},f=k=>{const P=["gordura_corporal_percent","massa_muscular_kg","agua_corporal_percent"],D=k&&k.length>0&&k.some(I=>I.gordura_corporal_percent||I.massa_muscular_kg||I.agua_corporal_percent);return{name:"Composio Corporal",type:"ComposedChart",dataFields:P,status:D?"success":(k==null?void 0:k.length)>0?"warning":"error",message:D?` Dados de composio para ${k.filter(I=>I.gordura_corporal_percent||I.massa_muscular_kg||I.agua_corporal_percent).length} medies`:(k==null?void 0:k.length)>0?" Medies existem, mas sem dados de composio corporal":" Nenhum dado de composio corporal encontrado",sampleData:k==null?void 0:k.filter(I=>I.gordura_corporal_percent||I.massa_muscular_kg||I.agua_corporal_percent).slice(0,3)}},g=(k,P)=>{const D=["idade_metabolica","measurement_date"],I=k&&k.length>0&&k.some(W=>W.idade_metabolica),V=P&&P.idade;return{name:"Idade Metablica",type:"LineChart",dataFields:D,status:I&&V?"success":I||V?"warning":"error",message:I&&V?` Idade metablica para ${k.filter(W=>W.idade_metabolica).length} medies + idade real (${P.idade} anos)`:I?" Idade metablica disponvel, mas falta idade real nos dados fsicos":V?` Idade real disponvel (${P.idade} anos), mas falta idade metablica nas medies`:" Faltam dados de idade metablica e idade real",sampleData:k==null?void 0:k.filter(W=>W.idade_metabolica).slice(0,3)}},x=(k,P)=>{const D=k.length>0||P.length>0;return{name:"Pontuao Diria / Evoluo de Misses",type:"LineChart",dataFields:["date","score","mission_type"],status:D?"success":"warning",message:D?` Dados de misses (${k.length}) e pontuaes (${P.length}) disponveis`:" Sistema de misses no implementado ainda - dados simulados necessrios",sampleData:[...k.slice(0,2),...P.slice(0,1)]}},y=k=>{const P=k.length>0;return{name:"Benefcios Visuais / Humor",type:"LineChart",dataFields:["date","mood_score","mood_emoji"],status:P?"success":"warning",message:P?` ${k.length} registros de humor disponveis`:" Sistema de humor no implementado ainda - dados simulados necessrios",sampleData:k.slice(0,3)}},v=k=>{const P=k.length>0;return{name:"Radar (Roda da Vida)",type:"RadarChart",dataFields:["area","score","max_score"],status:P?"success":"warning",message:P?` ${k.length} avaliaes da roda da vida disponveis`:" Sistema de roda da vida no implementado ainda - dados simulados necessrios",sampleData:k.slice(0,1)}},b=k=>{const P=k&&k.length>0,D=P?k.filter(I=>I.imc||I.risco_metabolico):[];return{name:"Gauge (Velocmetro)",type:"GaugeChart",dataFields:["score","max_score","category"],status:D.length>0?"success":P?"warning":"error",message:D.length>0?` Dados suficientes para gauge (${D.length} medies com IMC/risco)`:P?" Medies existem, mas faltam dados para calcular score geral":" Nenhum dado para grfico gauge",sampleData:D.slice(0,3)}},j=k=>{const P=k.length>0;return{name:"Barras por Categoria",type:"BarChart",dataFields:["category","value","percentage"],status:P?"success":"warning",message:P?` ${k.length} categorias de atividade disponveis`:" Sistema de categorias no implementado ainda - dados simulados necessrios",sampleData:k.slice(0,3)}},N=k=>{const P=["peso_kg","gordura_corporal_percent","massa_muscular_kg","imc"],D=k&&k.length>=2;return{name:"Mini Grficos de Progresso",type:"MiniCharts",dataFields:P,status:D?"success":(k==null?void 0:k.length)>0?"warning":"error",message:D?` ${k.length} medies suficientes para mini grficos de progresso`:(k==null?void 0:k.length)>0?` Apenas ${k.length} medio - precisa de pelo menos 2 para mostrar progresso`:" Nenhuma medio para mini grficos de progresso",sampleData:k==null?void 0:k.slice(0,3)}},w=async()=>{i(!0);const k=[];try{const{data:{user:P}}=await z.auth.getUser();if(!P){c({title:"Erro",description:"Usurio no autenticado",variant:"destructive"});return}const D=["weight_measurements","user_physical_data","profiles","weekly_analyses","user_goals","daily_missions","user_scores","mood_tracking","life_wheel","activity_categories","activity_sessions"];for(const V of D)try{const{data:W,error:R}=await z.from(V).select("*").eq("user_id",P.id).limit(1);k.push({table:V,exists:!0,hasData:W&&W.length>0,count:(W==null?void 0:W.length)||0,error:R==null?void 0:R.message})}catch(W){k.push({table:V,exists:!1,hasData:!1,error:W.message})}t(k),await u(P);const I=k.filter(V=>!V.exists||V.error);I.length>0?c({title:"Problemas encontrados",description:`${I.length} problemas crticos detectados`,variant:"destructive"}):c({title:"Verificao concluda",description:"Todas as tabelas esto funcionando corretamente"})}catch(P){console.error("Erro na verificao:",P),c({title:"Erro na verificao",description:"Erro ao executar verificao",variant:"destructive"})}finally{i(!1)}},S=async()=>{if(!o){c({title:"Erro",description:"Usurio no autenticado",variant:"destructive"});return}try{i(!0);const{data:k,error:P}=await z.from("user_physical_data").select("*").eq("user_id",o.id).maybeSingle();if(P||!k){const{error:W}=await z.from("user_physical_data").insert({user_id:o.id,altura_cm:170,idade:30,sexo:"masculino",nivel_atividade:"moderado"});if(W)throw new Error(`Erro ao criar dados fsicos: ${W.message}`)}const D={user_id:o.id,peso_kg:75.5,gordura_corporal_percent:15.2,massa_muscular_kg:55.3,agua_corporal_percent:58.7,device_type:"manual",notes:"Teste de verificao"},{data:I,error:V}=await z.from("weight_measurements").insert(D).select().single();if(V)throw new Error(`Erro ao salvar medio: ${V.message}`);c({title:"Teste de salvamento",description:`Medio salva com sucesso! Peso: ${I.peso_kg}kg`}),await w()}catch(k){console.error("Erro no teste de salvamento:",k),c({title:"Erro no teste",description:k.message,variant:"destructive"})}finally{i(!1)}},_=k=>k.error?s.jsx(za,{className:"h-4 w-4 text-red-500"}):k.hasData?s.jsx(Se,{className:"h-4 w-4 text-green-500"}):s.jsx(Bt,{className:"h-4 w-4 text-yellow-500"}),C=k=>k.error?s.jsx(X,{variant:"destructive",children:"Erro"}):k.hasData?s.jsx(X,{variant:"default",children:"OK"}):s.jsx(X,{variant:"secondary",children:"Vazio"}),E=k=>{switch(k){case"success":return s.jsx(Se,{className:"h-4 w-4 text-green-500"});case"warning":return s.jsx(Bt,{className:"h-4 w-4 text-yellow-500"});case"error":return s.jsx(za,{className:"h-4 w-4 text-red-500"})}},T=k=>{switch(k){case"success":return s.jsx(X,{variant:"default",className:"bg-green-100 text-green-800",children:"OK"});case"warning":return s.jsx(X,{variant:"secondary",className:"bg-yellow-100 text-yellow-800",children:"Parcial"});case"error":return s.jsx(X,{variant:"destructive",children:"Erro"})}};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs(M,{children:[s.jsx($,{children:s.jsxs(U,{className:"flex items-center gap-2",children:[s.jsx(cg,{className:"h-5 w-5"}),"Verificao de Dados"]})}),s.jsxs(O,{className:"space-y-4",children:[o?s.jsx(or,{children:s.jsxs(lr,{children:["Usurio autenticado: ",s.jsx("strong",{children:o.email})]})}):s.jsx(or,{variant:"destructive",children:s.jsx(lr,{children:"Nenhum usurio autenticado"})}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(A,{onClick:w,disabled:n,variant:"outline",children:n?"Verificando...":"Verificar Tabelas"}),s.jsx(A,{onClick:S,disabled:n||!o,variant:"outline",children:n?"Testando...":"Testar Salvamento"})]}),e.length>0&&s.jsxs("div",{className:"space-y-3",children:[s.jsx("h3",{className:"font-semibold",children:"Resultados da Verificao:"}),e.map((k,P)=>s.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[_(k),s.jsx("span",{className:"font-medium",children:k.table})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[C(k),k.count!==void 0&&s.jsxs("span",{className:"text-sm text-muted-foreground",children:[k.count," registros"]})]}),k.error&&s.jsx("div",{className:"text-xs text-red-500 mt-1",children:k.error})]},P))]})]})]}),r.length>0&&s.jsxs(M,{children:[s.jsx($,{children:s.jsxs(U,{className:"flex items-center gap-2",children:[s.jsx(ar,{className:"h-5 w-5"}),"Testes de Grficos"]})}),s.jsx(O,{className:"space-y-4",children:s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:r.map((k,P)=>s.jsxs("div",{className:"border rounded-lg p-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[E(k.status),s.jsx("span",{className:"font-medium",children:k.name})]}),T(k.status)]}),s.jsxs("div",{className:"text-sm text-muted-foreground mb-2",children:["Tipo: ",k.type]}),s.jsx("div",{className:"text-sm mb-2",children:k.message}),s.jsxs("div",{className:"text-xs text-muted-foreground",children:["Campos necessrios: ",k.dataFields.join(", ")]}),k.sampleData&&k.sampleData.length>0&&s.jsxs("details",{className:"mt-2",children:[s.jsx("summary",{className:"text-xs cursor-pointer text-blue-600 hover:text-blue-800",children:"Ver dados de exemplo"}),s.jsx("pre",{className:"text-xs bg-gray-50 p-2 rounded mt-1 overflow-x-auto",children:JSON.stringify(k.sampleData,null,2)})]})]},P))})})]})]})};var Re=function(){return Re=Object.assign||function(t){for(var r,a=1,n=arguments.length;a<n;a++){r=arguments[a];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},Re.apply(this,arguments)};function ZEe(e,t){var r={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(r[a]=e[a]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,a=Object.getOwnPropertySymbols(e);n<a.length;n++)t.indexOf(a[n])<0&&Object.prototype.propertyIsEnumerable.call(e,a[n])&&(r[a[n]]=e[a[n]]);return r}function LW(e,t,r){for(var a=0,n=t.length,i;a<n;a++)(i||!(a in t))&&(i||(i=Array.prototype.slice.call(t,0,a)),i[a]=t[a]);return e.concat(i||Array.prototype.slice.call(t))}function Bp(e){return e.mode==="multiple"}function zp(e){return e.mode==="range"}function wb(e){return e.mode==="single"}var eAe={root:"rdp",multiple_months:"rdp-multiple_months",with_weeknumber:"rdp-with_weeknumber",vhidden:"rdp-vhidden",button_reset:"rdp-button_reset",button:"rdp-button",caption:"rdp-caption",caption_start:"rdp-caption_start",caption_end:"rdp-caption_end",caption_between:"rdp-caption_between",caption_label:"rdp-caption_label",caption_dropdowns:"rdp-caption_dropdowns",dropdown:"rdp-dropdown",dropdown_month:"rdp-dropdown_month",dropdown_year:"rdp-dropdown_year",dropdown_icon:"rdp-dropdown_icon",months:"rdp-months",month:"rdp-month",table:"rdp-table",tbody:"rdp-tbody",tfoot:"rdp-tfoot",head:"rdp-head",head_row:"rdp-head_row",head_cell:"rdp-head_cell",nav:"rdp-nav",nav_button:"rdp-nav_button",nav_button_previous:"rdp-nav_button_previous",nav_button_next:"rdp-nav_button_next",nav_icon:"rdp-nav_icon",row:"rdp-row",weeknumber:"rdp-weeknumber",cell:"rdp-cell",day:"rdp-day",day_today:"rdp-day_today",day_outside:"rdp-day_outside",day_selected:"rdp-day_selected",day_disabled:"rdp-day_disabled",day_hidden:"rdp-day_hidden",day_range_start:"rdp-day_range_start",day_range_end:"rdp-day_range_end",day_range_middle:"rdp-day_range_middle"};function tAe(e,t){return Ka(e,"LLLL y",t)}function sAe(e,t){return Ka(e,"d",t)}function rAe(e,t){return Ka(e,"LLLL",t)}function aAe(e){return"".concat(e)}function nAe(e,t){return Ka(e,"cccccc",t)}function iAe(e,t){return Ka(e,"yyyy",t)}var oAe=Object.freeze({__proto__:null,formatCaption:tAe,formatDay:sAe,formatMonthCaption:rAe,formatWeekNumber:aAe,formatWeekdayName:nAe,formatYearCaption:iAe}),lAe=function(e,t,r){return Ka(e,"do MMMM (EEEE)",r)},cAe=function(){return"Month: "},dAe=function(){return"Go to next month"},uAe=function(){return"Go to previous month"},mAe=function(e,t){return Ka(e,"cccc",t)},hAe=function(e){return"Week n. ".concat(e)},fAe=function(){return"Year: "},pAe=Object.freeze({__proto__:null,labelDay:lAe,labelMonthDropdown:cAe,labelNext:dAe,labelPrevious:uAe,labelWeekNumber:hAe,labelWeekday:mAe,labelYearDropdown:fAe});function xAe(){var e="buttons",t=eAe,r=NP,a={},n={},i=1,o={},l=new Date;return{captionLayout:e,classNames:t,formatters:oAe,labels:pAe,locale:r,modifiersClassNames:a,modifiers:n,numberOfMonths:i,styles:o,today:l,mode:"default"}}function gAe(e){var t=e.fromYear,r=e.toYear,a=e.fromMonth,n=e.toMonth,i=e.fromDate,o=e.toDate;return a?i=qr(a):t&&(i=new Date(t,0,1)),n?o=vb(n):r&&(o=new Date(r,11,31)),{fromDate:i?Yu(i):void 0,toDate:o?Yu(o):void 0}}var $W=p.createContext(void 0);function vAe(e){var t,r=e.initialProps,a=xAe(),n=gAe(r),i=n.fromDate,o=n.toDate,l=(t=r.captionLayout)!==null&&t!==void 0?t:a.captionLayout;l!=="buttons"&&(!i||!o)&&(l="buttons");var c;(wb(r)||Bp(r)||zp(r))&&(c=r.onSelect);var d=Re(Re(Re({},a),r),{captionLayout:l,classNames:Re(Re({},a.classNames),r.classNames),components:Re({},r.components),formatters:Re(Re({},a.formatters),r.formatters),fromDate:i,labels:Re(Re({},a.labels),r.labels),mode:r.mode||a.mode,modifiers:Re(Re({},a.modifiers),r.modifiers),modifiersClassNames:Re(Re({},a.modifiersClassNames),r.modifiersClassNames),onSelect:c,styles:Re(Re({},a.styles),r.styles),toDate:o});return s.jsx($W.Provider,{value:d,children:e.children})}function Mt(){var e=p.useContext($W);if(!e)throw new Error("useDayPicker must be used within a DayPickerProvider.");return e}function BW(e){var t=Mt(),r=t.locale,a=t.classNames,n=t.styles,i=t.formatters.formatCaption;return s.jsx("div",{className:a.caption_label,style:n.caption_label,"aria-live":"polite",role:"presentation",id:e.id,children:i(e.displayMonth,{locale:r})})}function yAe(e){return s.jsx("svg",Re({width:"8px",height:"8px",viewBox:"0 0 120 120","data-testid":"iconDropdown"},e,{children:s.jsx("path",{d:"M4.22182541,48.2218254 C8.44222828,44.0014225 15.2388494,43.9273804 19.5496459,47.9996989 L19.7781746,48.2218254 L60,88.443 L100.221825,48.2218254 C104.442228,44.0014225 111.238849,43.9273804 115.549646,47.9996989 L115.778175,48.2218254 C119.998577,52.4422283 120.07262,59.2388494 116.000301,63.5496459 L115.778175,63.7781746 L67.7781746,111.778175 C63.5577717,115.998577 56.7611506,116.07262 52.4503541,112.000301 L52.2218254,111.778175 L4.22182541,63.7781746 C-0.0739418023,59.4824074 -0.0739418023,52.5175926 4.22182541,48.2218254 Z",fill:"currentColor",fillRule:"nonzero"})}))}function zW(e){var t,r,a=e.onChange,n=e.value,i=e.children,o=e.caption,l=e.className,c=e.style,d=Mt(),u=(r=(t=d.components)===null||t===void 0?void 0:t.IconDropdown)!==null&&r!==void 0?r:yAe;return s.jsxs("div",{className:l,style:c,children:[s.jsx("span",{className:d.classNames.vhidden,children:e["aria-label"]}),s.jsx("select",{name:e.name,"aria-label":e["aria-label"],className:d.classNames.dropdown,style:d.styles.dropdown,value:n,onChange:a,children:i}),s.jsxs("div",{className:d.classNames.caption_label,style:d.styles.caption_label,"aria-hidden":"true",children:[o,s.jsx(u,{className:d.classNames.dropdown_icon,style:d.styles.dropdown_icon})]})]})}function bAe(e){var t,r=Mt(),a=r.fromDate,n=r.toDate,i=r.styles,o=r.locale,l=r.formatters.formatMonthCaption,c=r.classNames,d=r.components,u=r.labels.labelMonthDropdown;if(!a)return s.jsx(s.Fragment,{});if(!n)return s.jsx(s.Fragment,{});var m=[];if(N4e(a,n))for(var h=qr(a),f=a.getMonth();f<=n.getMonth();f++)m.push(fw(h,f));else for(var h=qr(new Date),f=0;f<=11;f++)m.push(fw(h,f));var g=function(y){var v=Number(y.target.value),b=fw(qr(e.displayMonth),v);e.onChange(b)},x=(t=d==null?void 0:d.Dropdown)!==null&&t!==void 0?t:zW;return s.jsx(x,{name:"months","aria-label":u(),className:c.dropdown_month,style:i.dropdown_month,onChange:g,value:e.displayMonth.getMonth(),caption:l(e.displayMonth,{locale:o}),children:m.map(function(y){return s.jsx("option",{value:y.getMonth(),children:l(y,{locale:o})},y.getMonth())})})}function jAe(e){var t,r=e.displayMonth,a=Mt(),n=a.fromDate,i=a.toDate,o=a.locale,l=a.styles,c=a.classNames,d=a.components,u=a.formatters.formatYearCaption,m=a.labels.labelYearDropdown,h=[];if(!n)return s.jsx(s.Fragment,{});if(!i)return s.jsx(s.Fragment,{});for(var f=n.getFullYear(),g=i.getFullYear(),x=f;x<=g;x++)h.push(Q3(JV(new Date),x));var y=function(b){var j=Q3(qr(r),Number(b.target.value));e.onChange(j)},v=(t=d==null?void 0:d.Dropdown)!==null&&t!==void 0?t:zW;return s.jsx(v,{name:"years","aria-label":m(),className:c.dropdown_year,style:l.dropdown_year,onChange:y,value:r.getFullYear(),caption:u(r,{locale:o}),children:h.map(function(b){return s.jsx("option",{value:b.getFullYear(),children:u(b,{locale:o})},b.getFullYear())})})}function wAe(e,t){var r=p.useState(e),a=r[0],n=r[1],i=t===void 0?a:t;return[i,n]}function NAe(e){var t=e.month,r=e.defaultMonth,a=e.today,n=t||r||a||new Date,i=e.toDate,o=e.fromDate,l=e.numberOfMonths,c=l===void 0?1:l;if(i&&Qu(i,n)<0){var d=-1*(c-1);n=Pn(i,d)}return o&&Qu(n,o)<0&&(n=o),qr(n)}function SAe(){var e=Mt(),t=NAe(e),r=wAe(t,e.month),a=r[0],n=r[1],i=function(o){var l;if(!e.disableNavigation){var c=qr(o);n(c),(l=e.onMonthChange)===null||l===void 0||l.call(e,c)}};return[a,i]}function _Ae(e,t){for(var r=t.reverseMonths,a=t.numberOfMonths,n=qr(e),i=qr(Pn(n,a)),o=Qu(i,n),l=[],c=0;c<o;c++){var d=Pn(n,c);l.push(d)}return r&&(l=l.reverse()),l}function CAe(e,t){if(!t.disableNavigation){var r=t.toDate,a=t.pagedNavigation,n=t.numberOfMonths,i=n===void 0?1:n,o=a?i:1,l=qr(e);if(!r)return Pn(l,o);var c=Qu(r,e);if(!(c<i))return Pn(l,o)}}function kAe(e,t){if(!t.disableNavigation){var r=t.fromDate,a=t.pagedNavigation,n=t.numberOfMonths,i=n===void 0?1:n,o=a?i:1,l=qr(e);if(!r)return Pn(l,-o);var c=Qu(l,r);if(!(c<=0))return Pn(l,-o)}}var UW=p.createContext(void 0);function PAe(e){var t=Mt(),r=SAe(),a=r[0],n=r[1],i=_Ae(a,t),o=CAe(a,t),l=kAe(a,t),c=function(m){return i.some(function(h){return SP(m,h)})},d=function(m,h){c(m)||(h&&nW(m,h)?n(Pn(m,1+t.numberOfMonths*-1)):n(m))},u={currentMonth:a,displayMonths:i,goToMonth:n,goToDate:d,previousMonth:l,nextMonth:o,isDateDisplayed:c};return s.jsx(UW.Provider,{value:u,children:e.children})}function Up(){var e=p.useContext(UW);if(!e)throw new Error("useNavigation must be used within a NavigationProvider");return e}function s5(e){var t,r=Mt(),a=r.classNames,n=r.styles,i=r.components,o=Up().goToMonth,l=function(u){o(Pn(u,e.displayIndex?-e.displayIndex:0))},c=(t=i==null?void 0:i.CaptionLabel)!==null&&t!==void 0?t:BW,d=s.jsx(c,{id:e.id,displayMonth:e.displayMonth});return s.jsxs("div",{className:a.caption_dropdowns,style:n.caption_dropdowns,children:[s.jsx("div",{className:a.vhidden,children:d}),s.jsx(bAe,{onChange:l,displayMonth:e.displayMonth}),s.jsx(jAe,{onChange:l,displayMonth:e.displayMonth})]})}function EAe(e){return s.jsx("svg",Re({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:s.jsx("path",{d:"M69.490332,3.34314575 C72.6145263,0.218951416 77.6798462,0.218951416 80.8040405,3.34314575 C83.8617626,6.40086786 83.9268205,11.3179931 80.9992143,14.4548388 L80.8040405,14.6568542 L35.461,60 L80.8040405,105.343146 C83.8617626,108.400868 83.9268205,113.317993 80.9992143,116.454839 L80.8040405,116.656854 C77.7463184,119.714576 72.8291931,119.779634 69.6923475,116.852028 L69.490332,116.656854 L18.490332,65.6568542 C15.4326099,62.5991321 15.367552,57.6820069 18.2951583,54.5451612 L18.490332,54.3431458 L69.490332,3.34314575 Z",fill:"currentColor",fillRule:"nonzero"})}))}function AAe(e){return s.jsx("svg",Re({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:s.jsx("path",{d:"M49.8040405,3.34314575 C46.6798462,0.218951416 41.6145263,0.218951416 38.490332,3.34314575 C35.4326099,6.40086786 35.367552,11.3179931 38.2951583,14.4548388 L38.490332,14.6568542 L83.8333725,60 L38.490332,105.343146 C35.4326099,108.400868 35.367552,113.317993 38.2951583,116.454839 L38.490332,116.656854 C41.5480541,119.714576 46.4651794,119.779634 49.602025,116.852028 L49.8040405,116.656854 L100.804041,65.6568542 C103.861763,62.5991321 103.926821,57.6820069 100.999214,54.5451612 L100.804041,54.3431458 L49.8040405,3.34314575 Z",fill:"currentColor"})}))}var e0=p.forwardRef(function(e,t){var r=Mt(),a=r.classNames,n=r.styles,i=[a.button_reset,a.button];e.className&&i.push(e.className);var o=i.join(" "),l=Re(Re({},n.button_reset),n.button);return e.style&&Object.assign(l,e.style),s.jsx("button",Re({},e,{ref:t,type:"button",className:o,style:l}))});function TAe(e){var t,r,a=Mt(),n=a.dir,i=a.locale,o=a.classNames,l=a.styles,c=a.labels,d=c.labelPrevious,u=c.labelNext,m=a.components;if(!e.nextMonth&&!e.previousMonth)return s.jsx(s.Fragment,{});var h=d(e.previousMonth,{locale:i}),f=[o.nav_button,o.nav_button_previous].join(" "),g=u(e.nextMonth,{locale:i}),x=[o.nav_button,o.nav_button_next].join(" "),y=(t=m==null?void 0:m.IconRight)!==null&&t!==void 0?t:AAe,v=(r=m==null?void 0:m.IconLeft)!==null&&r!==void 0?r:EAe;return s.jsxs("div",{className:o.nav,style:l.nav,children:[!e.hidePrevious&&s.jsx(e0,{name:"previous-month","aria-label":h,className:f,style:l.nav_button_previous,disabled:!e.previousMonth,onClick:e.onPreviousClick,children:n==="rtl"?s.jsx(y,{className:o.nav_icon,style:l.nav_icon}):s.jsx(v,{className:o.nav_icon,style:l.nav_icon})}),!e.hideNext&&s.jsx(e0,{name:"next-month","aria-label":g,className:x,style:l.nav_button_next,disabled:!e.nextMonth,onClick:e.onNextClick,children:n==="rtl"?s.jsx(v,{className:o.nav_icon,style:l.nav_icon}):s.jsx(y,{className:o.nav_icon,style:l.nav_icon})})]})}function r5(e){var t=Mt().numberOfMonths,r=Up(),a=r.previousMonth,n=r.nextMonth,i=r.goToMonth,o=r.displayMonths,l=o.findIndex(function(g){return SP(e.displayMonth,g)}),c=l===0,d=l===o.length-1,u=t>1&&(c||!d),m=t>1&&(d||!c),h=function(){a&&i(a)},f=function(){n&&i(n)};return s.jsx(TAe,{displayMonth:e.displayMonth,hideNext:u,hidePrevious:m,nextMonth:n,previousMonth:a,onPreviousClick:h,onNextClick:f})}function MAe(e){var t,r=Mt(),a=r.classNames,n=r.disableNavigation,i=r.styles,o=r.captionLayout,l=r.components,c=(t=l==null?void 0:l.CaptionLabel)!==null&&t!==void 0?t:BW,d;return n?d=s.jsx(c,{id:e.id,displayMonth:e.displayMonth}):o==="dropdown"?d=s.jsx(s5,{displayMonth:e.displayMonth,id:e.id}):o==="dropdown-buttons"?d=s.jsxs(s.Fragment,{children:[s.jsx(s5,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id}),s.jsx(r5,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id})]}):d=s.jsxs(s.Fragment,{children:[s.jsx(c,{id:e.id,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),s.jsx(r5,{displayMonth:e.displayMonth,id:e.id})]}),s.jsx("div",{className:a.caption,style:i.caption,children:d})}function OAe(e){var t=Mt(),r=t.footer,a=t.styles,n=t.classNames.tfoot;return r?s.jsx("tfoot",{className:n,style:a.tfoot,children:s.jsx("tr",{children:s.jsx("td",{colSpan:8,children:r})})}):s.jsx(s.Fragment,{})}function DAe(e,t,r){for(var a=r?Wc(new Date):Ha(new Date,{locale:e,weekStartsOn:t}),n=[],i=0;i<7;i++){var o=gr(a,i);n.push(o)}return n}function RAe(){var e=Mt(),t=e.classNames,r=e.styles,a=e.showWeekNumber,n=e.locale,i=e.weekStartsOn,o=e.ISOWeek,l=e.formatters.formatWeekdayName,c=e.labels.labelWeekday,d=DAe(n,i,o);return s.jsxs("tr",{style:r.head_row,className:t.head_row,children:[a&&s.jsx("td",{style:r.head_cell,className:t.head_cell}),d.map(function(u,m){return s.jsx("th",{scope:"col",className:t.head_cell,style:r.head_cell,"aria-label":c(u,{locale:n}),children:l(u,{locale:n})},m)})]})}function IAe(){var e,t=Mt(),r=t.classNames,a=t.styles,n=t.components,i=(e=n==null?void 0:n.HeadRow)!==null&&e!==void 0?e:RAe;return s.jsx("thead",{style:a.head,className:r.head,children:s.jsx(i,{})})}function FAe(e){var t=Mt(),r=t.locale,a=t.formatters.formatDay;return s.jsx(s.Fragment,{children:a(e.date,{locale:r})})}var DP=p.createContext(void 0);function LAe(e){if(!Bp(e.initialProps)){var t={selected:void 0,modifiers:{disabled:[]}};return s.jsx(DP.Provider,{value:t,children:e.children})}return s.jsx($Ae,{initialProps:e.initialProps,children:e.children})}function $Ae(e){var t=e.initialProps,r=e.children,a=t.selected,n=t.min,i=t.max,o=function(d,u,m){var h,f;(h=t.onDayClick)===null||h===void 0||h.call(t,d,u,m);var g=!!(u.selected&&n&&(a==null?void 0:a.length)===n);if(!g){var x=!!(!u.selected&&i&&(a==null?void 0:a.length)===i);if(!x){var y=a?LW([],a):[];if(u.selected){var v=y.findIndex(function(b){return $r(d,b)});y.splice(v,1)}else y.push(d);(f=t.onSelect)===null||f===void 0||f.call(t,y,d,u,m)}}},l={disabled:[]};a&&l.disabled.push(function(d){var u=i&&a.length>i-1,m=a.some(function(h){return $r(h,d)});return!!(u&&!m)});var c={selected:a,onDayClick:o,modifiers:l};return s.jsx(DP.Provider,{value:c,children:r})}function RP(){var e=p.useContext(DP);if(!e)throw new Error("useSelectMultiple must be used within a SelectMultipleProvider");return e}function BAe(e,t){var r=t||{},a=r.from,n=r.to;return a&&n?$r(n,e)&&$r(a,e)?void 0:$r(n,e)?{from:n,to:void 0}:$r(a,e)?void 0:R2(a,e)?{from:e,to:n}:{from:a,to:e}:n?R2(e,n)?{from:n,to:e}:{from:e,to:n}:a?nW(e,a)?{from:e,to:a}:{from:a,to:e}:{from:e,to:void 0}}var IP=p.createContext(void 0);function zAe(e){if(!zp(e.initialProps)){var t={selected:void 0,modifiers:{range_start:[],range_end:[],range_middle:[],disabled:[]}};return s.jsx(IP.Provider,{value:t,children:e.children})}return s.jsx(UAe,{initialProps:e.initialProps,children:e.children})}function UAe(e){var t=e.initialProps,r=e.children,a=t.selected,n=a||{},i=n.from,o=n.to,l=t.min,c=t.max,d=function(f,g,x){var y,v;(y=t.onDayClick)===null||y===void 0||y.call(t,f,g,x);var b=BAe(f,a);(v=t.onSelect)===null||v===void 0||v.call(t,b,f,g,x)},u={range_start:[],range_end:[],range_middle:[],disabled:[]};if(i?(u.range_start=[i],o?(u.range_end=[o],$r(i,o)||(u.range_middle=[{after:i,before:o}])):u.range_end=[i]):o&&(u.range_start=[o],u.range_end=[o]),l&&(i&&!o&&u.disabled.push({after:hw(i,l-1),before:gr(i,l-1)}),i&&o&&u.disabled.push({after:i,before:gr(i,l-1)}),!i&&o&&u.disabled.push({after:hw(o,l-1),before:gr(o,l-1)})),c){if(i&&!o&&(u.disabled.push({before:gr(i,-c+1)}),u.disabled.push({after:gr(i,c-1)})),i&&o){var m=Gn(o,i)+1,h=c-m;u.disabled.push({before:hw(i,h)}),u.disabled.push({after:gr(o,h)})}!i&&o&&(u.disabled.push({before:gr(o,-c+1)}),u.disabled.push({after:gr(o,c-1)}))}return s.jsx(IP.Provider,{value:{selected:a,onDayClick:d,modifiers:u},children:r})}function FP(){var e=p.useContext(IP);if(!e)throw new Error("useSelectRange must be used within a SelectRangeProvider");return e}function yg(e){return Array.isArray(e)?LW([],e):e!==void 0?[e]:[]}function qAe(e){var t={};return Object.entries(e).forEach(function(r){var a=r[0],n=r[1];t[a]=yg(n)}),t}var En;(function(e){e.Outside="outside",e.Disabled="disabled",e.Selected="selected",e.Hidden="hidden",e.Today="today",e.RangeStart="range_start",e.RangeEnd="range_end",e.RangeMiddle="range_middle"})(En||(En={}));var VAe=En.Selected,xi=En.Disabled,WAe=En.Hidden,HAe=En.Today,vw=En.RangeEnd,yw=En.RangeMiddle,bw=En.RangeStart,KAe=En.Outside;function GAe(e,t,r){var a,n=(a={},a[VAe]=yg(e.selected),a[xi]=yg(e.disabled),a[WAe]=yg(e.hidden),a[HAe]=[e.today],a[vw]=[],a[yw]=[],a[bw]=[],a[KAe]=[],a);return e.fromDate&&n[xi].push({before:e.fromDate}),e.toDate&&n[xi].push({after:e.toDate}),Bp(e)?n[xi]=n[xi].concat(t.modifiers[xi]):zp(e)&&(n[xi]=n[xi].concat(r.modifiers[xi]),n[bw]=r.modifiers[bw],n[yw]=r.modifiers[yw],n[vw]=r.modifiers[vw]),n}var qW=p.createContext(void 0);function YAe(e){var t=Mt(),r=RP(),a=FP(),n=GAe(t,r,a),i=qAe(t.modifiers),o=Re(Re({},n),i);return s.jsx(qW.Provider,{value:o,children:e.children})}function VW(){var e=p.useContext(qW);if(!e)throw new Error("useModifiers must be used within a ModifiersProvider");return e}function XAe(e){return!!(e&&typeof e=="object"&&"before"in e&&"after"in e)}function QAe(e){return!!(e&&typeof e=="object"&&"from"in e)}function JAe(e){return!!(e&&typeof e=="object"&&"after"in e)}function ZAe(e){return!!(e&&typeof e=="object"&&"before"in e)}function eTe(e){return!!(e&&typeof e=="object"&&"dayOfWeek"in e)}function tTe(e,t){var r,a=t.from,n=t.to;if(a&&n){var i=Gn(n,a)<0;i&&(r=[n,a],a=r[0],n=r[1]);var o=Gn(e,a)>=0&&Gn(n,e)>=0;return o}return n?$r(n,e):a?$r(a,e):!1}function sTe(e){return wP(e)}function rTe(e){return Array.isArray(e)&&e.every(wP)}function aTe(e,t){return t.some(function(r){if(typeof r=="boolean")return r;if(sTe(r))return $r(e,r);if(rTe(r))return r.includes(e);if(QAe(r))return tTe(e,r);if(eTe(r))return r.dayOfWeek.includes(e.getDay());if(XAe(r)){var a=Gn(r.before,e),n=Gn(r.after,e),i=a>0,o=n<0,l=R2(r.before,r.after);return l?o&&i:i||o}return JAe(r)?Gn(e,r.after)>0:ZAe(r)?Gn(r.before,e)>0:typeof r=="function"?r(e):!1})}function LP(e,t,r){var a=Object.keys(t).reduce(function(i,o){var l=t[o];return aTe(e,l)&&i.push(o),i},[]),n={};return a.forEach(function(i){return n[i]=!0}),r&&!SP(e,r)&&(n.outside=!0),n}function nTe(e,t){for(var r=qr(e[0]),a=vb(e[e.length-1]),n,i,o=r;o<=a;){var l=LP(o,t),c=!l.disabled&&!l.hidden;if(!c){o=gr(o,1);continue}if(l.selected)return o;l.today&&!i&&(i=o),n||(n=o),o=gr(o,1)}return i||n}var iTe=365;function WW(e,t){var r=t.moveBy,a=t.direction,n=t.context,i=t.modifiers,o=t.retry,l=o===void 0?{count:0,lastFocused:e}:o,c=n.weekStartsOn,d=n.fromDate,u=n.toDate,m=n.locale,h={day:gr,week:Jv,month:Pn,year:mPe,startOfWeek:function(y){return n.ISOWeek?Wc(y):Ha(y,{locale:m,weekStartsOn:c})},endOfWeek:function(y){return n.ISOWeek?ZV(y):Ff(y,{locale:m,weekStartsOn:c})}},f=h[r](e,a==="after"?1:-1);a==="before"&&d?f=hPe([d,f]):a==="after"&&u&&(f=fPe([u,f]));var g=!0;if(i){var x=LP(f,i);g=!x.disabled&&!x.hidden}return g?f:l.count>iTe?l.lastFocused:WW(f,{moveBy:r,direction:a,context:n,modifiers:i,retry:Re(Re({},l),{count:l.count+1})})}var HW=p.createContext(void 0);function oTe(e){var t=Up(),r=VW(),a=p.useState(),n=a[0],i=a[1],o=p.useState(),l=o[0],c=o[1],d=nTe(t.displayMonths,r),u=n??(l&&t.isDateDisplayed(l))?l:d,m=function(){c(n),i(void 0)},h=function(y){i(y)},f=Mt(),g=function(y,v){if(n){var b=WW(n,{moveBy:y,direction:v,context:f,modifiers:r});$r(n,b)||(t.goToDate(b,n),h(b))}},x={focusedDay:n,focusTarget:u,blur:m,focus:h,focusDayAfter:function(){return g("day","after")},focusDayBefore:function(){return g("day","before")},focusWeekAfter:function(){return g("week","after")},focusWeekBefore:function(){return g("week","before")},focusMonthBefore:function(){return g("month","before")},focusMonthAfter:function(){return g("month","after")},focusYearBefore:function(){return g("year","before")},focusYearAfter:function(){return g("year","after")},focusStartOfWeek:function(){return g("startOfWeek","before")},focusEndOfWeek:function(){return g("endOfWeek","after")}};return s.jsx(HW.Provider,{value:x,children:e.children})}function $P(){var e=p.useContext(HW);if(!e)throw new Error("useFocusContext must be used within a FocusProvider");return e}function lTe(e,t){var r=VW(),a=LP(e,r,t);return a}var BP=p.createContext(void 0);function cTe(e){if(!wb(e.initialProps)){var t={selected:void 0};return s.jsx(BP.Provider,{value:t,children:e.children})}return s.jsx(dTe,{initialProps:e.initialProps,children:e.children})}function dTe(e){var t=e.initialProps,r=e.children,a=function(i,o,l){var c,d,u;if((c=t.onDayClick)===null||c===void 0||c.call(t,i,o,l),o.selected&&!t.required){(d=t.onSelect)===null||d===void 0||d.call(t,void 0,i,o,l);return}(u=t.onSelect)===null||u===void 0||u.call(t,i,i,o,l)},n={selected:t.selected,onDayClick:a};return s.jsx(BP.Provider,{value:n,children:r})}function KW(){var e=p.useContext(BP);if(!e)throw new Error("useSelectSingle must be used within a SelectSingleProvider");return e}function uTe(e,t){var r=Mt(),a=KW(),n=RP(),i=FP(),o=$P(),l=o.focusDayAfter,c=o.focusDayBefore,d=o.focusWeekAfter,u=o.focusWeekBefore,m=o.blur,h=o.focus,f=o.focusMonthBefore,g=o.focusMonthAfter,x=o.focusYearBefore,y=o.focusYearAfter,v=o.focusStartOfWeek,b=o.focusEndOfWeek,j=function(R){var F,H,Z,B;wb(r)?(F=a.onDayClick)===null||F===void 0||F.call(a,e,t,R):Bp(r)?(H=n.onDayClick)===null||H===void 0||H.call(n,e,t,R):zp(r)?(Z=i.onDayClick)===null||Z===void 0||Z.call(i,e,t,R):(B=r.onDayClick)===null||B===void 0||B.call(r,e,t,R)},N=function(R){var F;h(e),(F=r.onDayFocus)===null||F===void 0||F.call(r,e,t,R)},w=function(R){var F;m(),(F=r.onDayBlur)===null||F===void 0||F.call(r,e,t,R)},S=function(R){var F;(F=r.onDayMouseEnter)===null||F===void 0||F.call(r,e,t,R)},_=function(R){var F;(F=r.onDayMouseLeave)===null||F===void 0||F.call(r,e,t,R)},C=function(R){var F;(F=r.onDayPointerEnter)===null||F===void 0||F.call(r,e,t,R)},E=function(R){var F;(F=r.onDayPointerLeave)===null||F===void 0||F.call(r,e,t,R)},T=function(R){var F;(F=r.onDayTouchCancel)===null||F===void 0||F.call(r,e,t,R)},k=function(R){var F;(F=r.onDayTouchEnd)===null||F===void 0||F.call(r,e,t,R)},P=function(R){var F;(F=r.onDayTouchMove)===null||F===void 0||F.call(r,e,t,R)},D=function(R){var F;(F=r.onDayTouchStart)===null||F===void 0||F.call(r,e,t,R)},I=function(R){var F;(F=r.onDayKeyUp)===null||F===void 0||F.call(r,e,t,R)},V=function(R){var F;switch(R.key){case"ArrowLeft":R.preventDefault(),R.stopPropagation(),r.dir==="rtl"?l():c();break;case"ArrowRight":R.preventDefault(),R.stopPropagation(),r.dir==="rtl"?c():l();break;case"ArrowDown":R.preventDefault(),R.stopPropagation(),d();break;case"ArrowUp":R.preventDefault(),R.stopPropagation(),u();break;case"PageUp":R.preventDefault(),R.stopPropagation(),R.shiftKey?x():f();break;case"PageDown":R.preventDefault(),R.stopPropagation(),R.shiftKey?y():g();break;case"Home":R.preventDefault(),R.stopPropagation(),v();break;case"End":R.preventDefault(),R.stopPropagation(),b();break}(F=r.onDayKeyDown)===null||F===void 0||F.call(r,e,t,R)},W={onClick:j,onFocus:N,onBlur:w,onKeyDown:V,onKeyUp:I,onMouseEnter:S,onMouseLeave:_,onPointerEnter:C,onPointerLeave:E,onTouchCancel:T,onTouchEnd:k,onTouchMove:P,onTouchStart:D};return W}function mTe(){var e=Mt(),t=KW(),r=RP(),a=FP(),n=wb(e)?t.selected:Bp(e)?r.selected:zp(e)?a.selected:void 0;return n}function hTe(e){return Object.values(En).includes(e)}function fTe(e,t){var r=[e.classNames.day];return Object.keys(t).forEach(function(a){var n=e.modifiersClassNames[a];if(n)r.push(n);else if(hTe(a)){var i=e.classNames["day_".concat(a)];i&&r.push(i)}}),r}function pTe(e,t){var r=Re({},e.styles.day);return Object.keys(t).forEach(function(a){var n;r=Re(Re({},r),(n=e.modifiersStyles)===null||n===void 0?void 0:n[a])}),r}function xTe(e,t,r){var a,n,i,o=Mt(),l=$P(),c=lTe(e,t),d=uTe(e,c),u=mTe(),m=!!(o.onDayClick||o.mode!=="default");p.useEffect(function(){var S;c.outside||l.focusedDay&&m&&$r(l.focusedDay,e)&&((S=r.current)===null||S===void 0||S.focus())},[l.focusedDay,e,r,m,c.outside]);var h=fTe(o,c).join(" "),f=pTe(o,c),g=!!(c.outside&&!o.showOutsideDays||c.hidden),x=(i=(n=o.components)===null||n===void 0?void 0:n.DayContent)!==null&&i!==void 0?i:FAe,y=s.jsx(x,{date:e,displayMonth:t,activeModifiers:c}),v={style:f,className:h,children:y,role:"gridcell"},b=l.focusTarget&&$r(l.focusTarget,e)&&!c.outside,j=l.focusedDay&&$r(l.focusedDay,e),N=Re(Re(Re({},v),(a={disabled:c.disabled,role:"gridcell"},a["aria-selected"]=c.selected,a.tabIndex=j||b?0:-1,a)),d),w={isButton:m,isHidden:g,activeModifiers:c,selectedDays:u,buttonProps:N,divProps:v};return w}function gTe(e){var t=p.useRef(null),r=xTe(e.date,e.displayMonth,t);return r.isHidden?s.jsx("div",{role:"gridcell"}):r.isButton?s.jsx(e0,Re({name:"day",ref:t},r.buttonProps)):s.jsx("div",Re({},r.divProps))}function vTe(e){var t=e.number,r=e.dates,a=Mt(),n=a.onWeekNumberClick,i=a.styles,o=a.classNames,l=a.locale,c=a.labels.labelWeekNumber,d=a.formatters.formatWeekNumber,u=d(Number(t),{locale:l});if(!n)return s.jsx("span",{className:o.weeknumber,style:i.weeknumber,children:u});var m=c(Number(t),{locale:l}),h=function(f){n(t,r,f)};return s.jsx(e0,{name:"week-number","aria-label":m,className:o.weeknumber,style:i.weeknumber,onClick:h,children:u})}function yTe(e){var t,r,a=Mt(),n=a.styles,i=a.classNames,o=a.showWeekNumber,l=a.components,c=(t=l==null?void 0:l.Day)!==null&&t!==void 0?t:gTe,d=(r=l==null?void 0:l.WeekNumber)!==null&&r!==void 0?r:vTe,u;return o&&(u=s.jsx("td",{className:i.cell,style:n.cell,children:s.jsx(d,{number:e.weekNumber,dates:e.dates})})),s.jsxs("tr",{className:i.row,style:n.row,children:[u,e.dates.map(function(m){return s.jsx("td",{className:i.cell,style:n.cell,role:"presentation",children:s.jsx(c,{displayMonth:e.displayMonth,date:m})},b4e(m))})]})}function a5(e,t,r){for(var a=r!=null&&r.ISOWeek?ZV(t):Ff(t,r),n=r!=null&&r.ISOWeek?Wc(e):Ha(e,r),i=Gn(a,n),o=[],l=0;l<=i;l++)o.push(gr(n,l));var c=o.reduce(function(d,u){var m=r!=null&&r.ISOWeek?tW(u):rW(u,r),h=d.find(function(f){return f.weekNumber===m});return h?(h.dates.push(u),d):(d.push({weekNumber:m,dates:[u]}),d)},[]);return c}function bTe(e,t){var r=a5(qr(e),vb(e),t);if(t!=null&&t.useFixedWeeks){var a=w4e(e,t);if(a<6){var n=r[r.length-1],i=n.dates[n.dates.length-1],o=Jv(i,6-a),l=a5(Jv(i,1),o,t);r.push.apply(r,l)}}return r}function jTe(e){var t,r,a,n=Mt(),i=n.locale,o=n.classNames,l=n.styles,c=n.hideHead,d=n.fixedWeeks,u=n.components,m=n.weekStartsOn,h=n.firstWeekContainsDate,f=n.ISOWeek,g=bTe(e.displayMonth,{useFixedWeeks:!!d,ISOWeek:f,locale:i,weekStartsOn:m,firstWeekContainsDate:h}),x=(t=u==null?void 0:u.Head)!==null&&t!==void 0?t:IAe,y=(r=u==null?void 0:u.Row)!==null&&r!==void 0?r:yTe,v=(a=u==null?void 0:u.Footer)!==null&&a!==void 0?a:OAe;return s.jsxs("table",{id:e.id,className:o.table,style:l.table,role:"grid","aria-labelledby":e["aria-labelledby"],children:[!c&&s.jsx(x,{}),s.jsx("tbody",{className:o.tbody,style:l.tbody,children:g.map(function(b){return s.jsx(y,{displayMonth:e.displayMonth,dates:b.dates,weekNumber:b.weekNumber},b.weekNumber)})}),s.jsx(v,{displayMonth:e.displayMonth})]})}function wTe(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var NTe=wTe()?p.useLayoutEffect:p.useEffect,jw=!1,STe=0;function n5(){return"react-day-picker-".concat(++STe)}function _Te(e){var t,r=e??(jw?n5():null),a=p.useState(r),n=a[0],i=a[1];return NTe(function(){n===null&&i(n5())},[]),p.useEffect(function(){jw===!1&&(jw=!0)},[]),(t=e??n)!==null&&t!==void 0?t:void 0}function CTe(e){var t,r,a=Mt(),n=a.dir,i=a.classNames,o=a.styles,l=a.components,c=Up().displayMonths,d=_Te(a.id?"".concat(a.id,"-").concat(e.displayIndex):void 0),u=a.id?"".concat(a.id,"-grid-").concat(e.displayIndex):void 0,m=[i.month],h=o.month,f=e.displayIndex===0,g=e.displayIndex===c.length-1,x=!f&&!g;n==="rtl"&&(t=[f,g],g=t[0],f=t[1]),f&&(m.push(i.caption_start),h=Re(Re({},h),o.caption_start)),g&&(m.push(i.caption_end),h=Re(Re({},h),o.caption_end)),x&&(m.push(i.caption_between),h=Re(Re({},h),o.caption_between));var y=(r=l==null?void 0:l.Caption)!==null&&r!==void 0?r:MAe;return s.jsxs("div",{className:m.join(" "),style:h,children:[s.jsx(y,{id:d,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),s.jsx(jTe,{id:u,"aria-labelledby":d,displayMonth:e.displayMonth})]},e.displayIndex)}function kTe(e){var t=Mt(),r=t.classNames,a=t.styles;return s.jsx("div",{className:r.months,style:a.months,children:e.children})}function PTe(e){var t,r,a=e.initialProps,n=Mt(),i=$P(),o=Up(),l=p.useState(!1),c=l[0],d=l[1];p.useEffect(function(){n.initialFocus&&i.focusTarget&&(c||(i.focus(i.focusTarget),d(!0)))},[n.initialFocus,c,i.focus,i.focusTarget,i]);var u=[n.classNames.root,n.className];n.numberOfMonths>1&&u.push(n.classNames.multiple_months),n.showWeekNumber&&u.push(n.classNames.with_weeknumber);var m=Re(Re({},n.styles.root),n.style),h=Object.keys(a).filter(function(g){return g.startsWith("data-")}).reduce(function(g,x){var y;return Re(Re({},g),(y={},y[x]=a[x],y))},{}),f=(r=(t=a.components)===null||t===void 0?void 0:t.Months)!==null&&r!==void 0?r:kTe;return s.jsx("div",Re({className:u.join(" "),style:m,dir:n.dir,id:n.id,nonce:a.nonce,title:a.title,lang:a.lang},h,{children:s.jsx(f,{children:o.displayMonths.map(function(g,x){return s.jsx(CTe,{displayIndex:x,displayMonth:g},x)})})}))}function ETe(e){var t=e.children,r=ZEe(e,["children"]);return s.jsx(vAe,{initialProps:r,children:s.jsx(PAe,{children:s.jsx(cTe,{initialProps:r,children:s.jsx(LAe,{initialProps:r,children:s.jsx(zAe,{initialProps:r,children:s.jsx(YAe,{children:s.jsx(oTe,{children:t})})})})})})})}function ATe(e){return s.jsx(ETe,Re({},e,{children:s.jsx(PTe,{initialProps:e})}))}function GW({className:e,classNames:t,showOutsideDays:r=!0,...a}){return s.jsx(ATe,{showOutsideDays:r,className:xe("p-3",e),classNames:{months:"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0",month:"space-y-4",caption:"flex justify-center pt-1 relative items-center",caption_label:"text-sm font-medium",nav:"space-x-1 flex items-center",nav_button:xe(t2({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-y-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20",day:xe(t2({variant:"ghost"}),"h-9 w-9 p-0 font-normal aria-selected:opacity-100"),day_range_end:"day-range-end",day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"day-outside text-muted-foreground opacity-50 aria-selected:bg-accent/50 aria-selected:text-muted-foreground aria-selected:opacity-30",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...t},components:{IconLeft:({...n})=>s.jsx(YZ,{className:"h-4 w-4"}),IconRight:({...n})=>s.jsx(Pu,{className:"h-4 w-4"})},...a})}GW.displayName="Calendar";var Nb="Popover",[YW,g3e]=ys(Nb,[El]),qp=El(),[TTe,Fl]=YW(Nb),XW=e=>{const{__scopePopover:t,children:r,open:a,defaultOpen:n,onOpenChange:i,modal:o=!1}=e,l=qp(t),c=p.useRef(null),[d,u]=p.useState(!1),[m,h]=Vr({prop:a,defaultProp:n??!1,onChange:i,caller:Nb});return s.jsx(R0,{...l,children:s.jsx(TTe,{scope:t,contentId:oa(),triggerRef:c,open:m,onOpenChange:h,onOpenToggle:p.useCallback(()=>h(f=>!f),[h]),hasCustomAnchor:d,onCustomAnchorAdd:p.useCallback(()=>u(!0),[]),onCustomAnchorRemove:p.useCallback(()=>u(!1),[]),modal:o,children:r})})};XW.displayName=Nb;var QW="PopoverAnchor",MTe=p.forwardRef((e,t)=>{const{__scopePopover:r,...a}=e,n=Fl(QW,r),i=qp(r),{onCustomAnchorAdd:o,onCustomAnchorRemove:l}=n;return p.useEffect(()=>(o(),()=>l()),[o,l]),s.jsx(ap,{...i,...a,ref:t})});MTe.displayName=QW;var JW="PopoverTrigger",ZW=p.forwardRef((e,t)=>{const{__scopePopover:r,...a}=e,n=Fl(JW,r),i=qp(r),o=Me(t,n.triggerRef),l=s.jsx(ge.button,{type:"button","aria-haspopup":"dialog","aria-expanded":n.open,"aria-controls":n.contentId,"data-state":aH(n.open),...a,ref:o,onClick:ce(e.onClick,n.onOpenToggle)});return n.hasCustomAnchor?l:s.jsx(ap,{asChild:!0,...i,children:l})});ZW.displayName=JW;var zP="PopoverPortal",[OTe,DTe]=YW(zP,{forceMount:void 0}),eH=e=>{const{__scopePopover:t,forceMount:r,children:a,container:n}=e,i=Fl(zP,t);return s.jsx(OTe,{scope:t,forceMount:r,children:s.jsx(bs,{present:r||i.open,children:s.jsx(lm,{asChild:!0,container:n,children:a})})})};eH.displayName=zP;var Zu="PopoverContent",tH=p.forwardRef((e,t)=>{const r=DTe(Zu,e.__scopePopover),{forceMount:a=r.forceMount,...n}=e,i=Fl(Zu,e.__scopePopover);return s.jsx(bs,{present:a||i.open,children:i.modal?s.jsx(ITe,{...n,ref:t}):s.jsx(FTe,{...n,ref:t})})});tH.displayName=Zu;var RTe=ul("PopoverContent.RemoveScroll"),ITe=p.forwardRef((e,t)=>{const r=Fl(Zu,e.__scopePopover),a=p.useRef(null),n=Me(t,a),i=p.useRef(!1);return p.useEffect(()=>{const o=a.current;if(o)return Qy(o)},[]),s.jsx(Op,{as:RTe,allowPinchZoom:!0,children:s.jsx(sH,{...e,ref:n,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ce(e.onCloseAutoFocus,o=>{var l;o.preventDefault(),i.current||(l=r.triggerRef.current)==null||l.focus()}),onPointerDownOutside:ce(e.onPointerDownOutside,o=>{const l=o.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0,d=l.button===2||c;i.current=d},{checkForDefaultPrevented:!1}),onFocusOutside:ce(e.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1})})})}),FTe=p.forwardRef((e,t)=>{const r=Fl(Zu,e.__scopePopover),a=p.useRef(!1),n=p.useRef(!1);return s.jsx(sH,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,l;(o=e.onCloseAutoFocus)==null||o.call(e,i),i.defaultPrevented||(a.current||(l=r.triggerRef.current)==null||l.focus(),i.preventDefault()),a.current=!1,n.current=!1},onInteractOutside:i=>{var c,d;(c=e.onInteractOutside)==null||c.call(e,i),i.defaultPrevented||(a.current=!0,i.detail.originalEvent.type==="pointerdown"&&(n.current=!0));const o=i.target;((d=r.triggerRef.current)==null?void 0:d.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&n.current&&i.preventDefault()}})}),sH=p.forwardRef((e,t)=>{const{__scopePopover:r,trapFocus:a,onOpenAutoFocus:n,onCloseAutoFocus:i,disableOutsidePointerEvents:o,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:d,onInteractOutside:u,...m}=e,h=Fl(Zu,r),f=qp(r);return Xy(),s.jsx(Mp,{asChild:!0,loop:!0,trapped:a,onMountAutoFocus:n,onUnmountAutoFocus:i,children:s.jsx(Xc,{asChild:!0,disableOutsidePointerEvents:o,onInteractOutside:u,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:d,onDismiss:()=>h.onOpenChange(!1),children:s.jsx(I0,{"data-state":aH(h.open),role:"dialog",id:h.contentId,...f,...m,ref:t,style:{...m.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),rH="PopoverClose",LTe=p.forwardRef((e,t)=>{const{__scopePopover:r,...a}=e,n=Fl(rH,r);return s.jsx(ge.button,{type:"button",...a,ref:t,onClick:ce(e.onClick,()=>n.onOpenChange(!1))})});LTe.displayName=rH;var $Te="PopoverArrow",BTe=p.forwardRef((e,t)=>{const{__scopePopover:r,...a}=e,n=qp(r);return s.jsx(F0,{...n,...a,ref:t})});BTe.displayName=$Te;function aH(e){return e?"open":"closed"}var zTe=XW,UTe=ZW,qTe=eH,nH=tH;const VTe=zTe,WTe=UTe,iH=p.forwardRef(({className:e,align:t="center",sideOffset:r=4,...a},n)=>s.jsx(qTe,{children:s.jsx(nH,{ref:n,align:t,sideOffset:r,className:xe("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...a})}));iH.displayName=nH.displayName;function HTe({open:e,onOpenChange:t,onSuccess:r}){const[a,n]=p.useState("goal"),[i,o]=p.useState(),[l,c]=p.useState(!1),[d,u]=p.useState({title:"",description:"",category:"",challenge_id:"",target_value:"",unit:"",difficulty:"medio",target_date:"",is_group_goal:!1,evidence_required:!0,transform_to_challenge:!1}),[m,h]=p.useState([]),[f,g]=p.useState({type:"email",value:"",name:""}),x=[{title:"Perder peso",description:"Meta focada em reduo de peso de forma saudvel",target_value:"5",unit:"kg",category:"saude",timeframe:"90 dias"},{title:"Ganhar massa muscular",description:"Meta para aumento de massa magra atravs de exerccios",target_value:"3",unit:"kg",category:"exercicio",timeframe:"120 dias"},{title:"Correr distncia",description:"Meta de corrida para melhorar resistncia cardiovascular",target_value:"10",unit:"km",category:"exercicio",timeframe:"60 dias"},{title:"Beber mais gua",description:"Meta diria de hidratao para melhorar a sade",target_value:"2",unit:"litros",category:"hidratacao",timeframe:"30 dias"},{title:"Dormir melhor",description:"Meta para melhoria da qualidade do sono",target_value:"8",unit:"horas",category:"sono",timeframe:"60 dias"}],{toast:y}=Ee(),v=kl(),{data:b}=Sn({queryKey:["goal-categories"],queryFn:async()=>{const{data:P,error:D}=await z.from("goal_categories").select("*").eq("is_active",!0).order("name");if(D)throw D;return P}}),{data:j}=Sn({queryKey:["available-challenges"],queryFn:async()=>[]}),N=()=>{if(!d.category||!(b==null?void 0:b.find(W=>W.name===d.category)))return 0;const D=10,V={facil:1,medio:1.5,dificil:2}[d.difficulty]||1;return Math.round(D*V)},w=bn({mutationFn:async P=>{console.log(" Iniciando criao de meta...");const{data:{user:D},error:I}=await z.auth.getUser();if(console.log(" Auth data:",{user:D,authError:I}),I)throw console.error(" Erro de autenticao:",I),new Error(`Erro de autenticao: ${I.message}`);if(!D){console.error(" Usurio no encontrado");const{data:{session:H},error:Z}=await z.auth.getSession();throw console.log(" Session data:",{session:H,sessionError:Z}),new Error("Usurio no autenticado. Faa login novamente.")}console.log(" Usurio autenticado:",D.id);const V=N();console.log(" Pontos estimados:",V);const W={user_id:D.id,title:P.title,description:P.description,category:P.category||null,challenge_id:P.challenge_id||null,target_value:P.target_value?parseFloat(P.target_value):null,unit:P.unit||null,difficulty:P.difficulty,target_date:P.target_date||null,is_group_goal:P.is_group_goal,evidence_required:P.evidence_required,estimated_points:V,status:"pendente",current_value:0};console.log(" Dados para insero:",W);const{data:R,error:F}=await z.from("user_goals").insert(W).select().single();if(F)throw console.error(" Erro ao criar meta:",F),F;return console.log(" Meta criada com sucesso:",R),R},onSuccess:()=>{v.invalidateQueries({queryKey:["user-goals"]}),r(),t(!1),C(),y({title:"Meta criada com sucesso!",description:"Sua meta foi criada e est aguardando aprovao."})},onError:P=>{console.error(" Erro na mutation:",P),y({title:"Erro ao criar meta",description:P.message,variant:"destructive"})}}),S=()=>{f.value&&(h(P=>[...P,{...f}]),g({type:"email",value:"",name:""}))},_=P=>{h(D=>D.filter((I,V)=>V!==P))},C=()=>{u({title:"",description:"",category:"",challenge_id:"",target_value:"",unit:"",difficulty:"medio",target_date:"",is_group_goal:!1,evidence_required:!0,transform_to_challenge:!1}),h([]),n("goal")},E=P=>{const D=new Date,I=parseInt(P.timeframe.split(" ")[0]);D.setDate(D.getDate()+I),u(V=>({...V,title:P.title,description:P.description,target_value:P.target_value,unit:P.unit,target_date:D.toISOString().split("T")[0]})),o(D)},T=async()=>{if(!d.title){y({title:"Adicione um ttulo primeiro",description:"Para gerar uma descrio, primeiro adicione um ttulo para sua meta.",variant:"destructive"});return}c(!0);try{const P=`Crie uma descrio motivacional e detalhada para a meta: "${d.title}". A descrio deve:
      - Ser motivacional e inspiradora
      - Incluir benefcios especficos
      - Dar dicas prticas para alcanar a meta
      - Ter entre 100-200 caracteres
      - Usar linguagem positiva e encorajadora`,{data:D,error:I}=await z.functions.invoke("gpt-chat",{body:{message:P}});if(I)throw I;u(V=>({...V,description:D.response||"Meta criada para melhorar sua qualidade de vida e bem-estar atravs de hbitos saudveis e consistncia no acompanhamento do progresso."})),y({title:"Descrio gerada! ",description:"A IA criou uma descrio personalizada para sua meta."})}catch(P){console.error("Erro ao gerar descrio:",P),y({title:"Erro na gerao",description:"No foi possvel gerar a descrio automaticamente. Tente novamente.",variant:"destructive"})}finally{c(!1)}},k=()=>{if(!d.title){y({title:"Campos obrigatrios",description:"Preencha o ttulo da meta.",variant:"destructive"});return}w.mutate(d)};return s.jsx(gt,{open:e,onOpenChange:t,children:s.jsxs(vt,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[s.jsx(yt,{children:s.jsxs(bt,{className:"flex items-center gap-2",children:[s.jsx(_e,{className:"w-5 h-5"}),"Criar Nova Meta"]})}),s.jsxs(ga,{value:a,onValueChange:n,children:[s.jsxs(Gr,{className:"grid w-full grid-cols-2",children:[s.jsx(Ve,{value:"goal",children:" Meta"}),s.jsx(Ve,{value:"sharing",children:" Compartilhar"})]}),s.jsxs(ct,{value:"goal",className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(Y,{children:"Templates Rpidos "}),s.jsx("div",{className:"grid grid-cols-2 gap-2 mt-2",children:x.map((P,D)=>s.jsx(A,{variant:"outline",size:"sm",onClick:()=>E(P),className:"text-left justify-start h-auto p-3",children:s.jsxs("div",{children:[s.jsx("div",{className:"font-medium text-xs",children:P.title}),s.jsxs("div",{className:"text-xs text-muted-foreground",children:[P.target_value," ",P.unit," em ",P.timeframe]})]})},D))})]}),s.jsxs("div",{children:[s.jsx(Y,{htmlFor:"title",children:"Ttulo da Meta *"}),s.jsx(re,{id:"title",value:d.title,onChange:P=>u(D=>({...D,title:P.target.value})),placeholder:"Ex: Perder 5kg em 3 meses"})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(Y,{htmlFor:"description",children:"Descrio"}),s.jsx(A,{type:"button",variant:"outline",size:"sm",onClick:T,disabled:l||!d.title,className:"h-6 px-2 text-xs",children:l?s.jsxs(s.Fragment,{children:[s.jsx(Xt,{className:"w-3 h-3 mr-1 animate-spin"}),"Gerando..."]}):s.jsxs(s.Fragment,{children:[s.jsx(Ta,{className:"w-3 h-3 mr-1"}),"IA"]})})]}),s.jsx(Ke,{id:"description",value:d.description,onChange:P=>u(D=>({...D,description:P.target.value})),placeholder:"Descreva sua meta em detalhes... (ou use a IA para gerar)",rows:3})]}),s.jsxs("div",{children:[s.jsx(Y,{children:"Categoria"}),s.jsxs(rt,{value:d.category,onValueChange:P=>u(D=>({...D,category:P})),children:[s.jsx(tt,{children:s.jsx(at,{placeholder:"Selecione uma categoria"})}),s.jsx(st,{children:b==null?void 0:b.map(P=>s.jsx(he,{value:P.name,children:s.jsxs("span",{className:"flex items-center gap-2",children:[s.jsx("span",{children:P.icon}),P.name]})},P.id))})]})]}),s.jsxs("div",{children:[s.jsx(Y,{children:"Meta & Unidade"}),s.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[s.jsx(re,{type:"number",step:"0.1",value:d.target_value,onChange:P=>u(D=>({...D,target_value:P.target.value})),placeholder:"5"}),s.jsxs(rt,{value:d.unit,onValueChange:P=>u(D=>({...D,unit:P})),children:[s.jsx(tt,{children:s.jsx(at,{placeholder:"Unidade"})}),s.jsxs(st,{children:[s.jsx(he,{value:"kg",children:"kg (peso)"}),s.jsx(he,{value:"litros",children:"litros (gua)"}),s.jsx(he,{value:"km",children:"km (distncia)"}),s.jsx(he,{value:"horas",children:"horas (tempo)"}),s.jsx(he,{value:"dias",children:"dias (prazo)"}),s.jsx(he,{value:"vezes",children:"vezes (repeties)"}),s.jsx(he,{value:"passos",children:"passos (caminhada)"}),s.jsx(he,{value:"%",children:"% (percentual)"})]})]}),s.jsxs(rt,{value:d.difficulty,onValueChange:P=>u(D=>({...D,difficulty:P})),children:[s.jsx(tt,{children:s.jsx(at,{})}),s.jsxs(st,{children:[s.jsx(he,{value:"facil",children:" Fcil"}),s.jsx(he,{value:"medio",children:" Mdio"}),s.jsx(he,{value:"dificil",children:" Difcil"})]})]})]})]}),s.jsxs("div",{children:[s.jsx(Y,{children:"Data Limite"}),s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsxs(VTe,{children:[s.jsx(WTe,{asChild:!0,children:s.jsxs(A,{variant:"outline",className:xe("justify-start text-left font-normal",!i&&"text-muted-foreground"),children:[s.jsx(Vt,{className:"mr-2 h-4 w-4"}),i?Ka(i,"dd/MM/yyyy"):"Escolher data"]})}),s.jsx(iH,{className:"w-auto p-0",align:"start",children:s.jsx(GW,{mode:"single",selected:i,onSelect:P=>{o(P),P&&u(D=>({...D,target_date:P.toISOString().split("T")[0]}))},disabled:P=>P<new Date,initialFocus:!0,className:"pointer-events-auto"})})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-1",children:[s.jsx(A,{variant:"outline",size:"sm",onClick:()=>{const P=new Date;P.setDate(P.getDate()+30),o(P),u(D=>({...D,target_date:P.toISOString().split("T")[0]}))},className:"text-xs",children:"30d"}),s.jsx(A,{variant:"outline",size:"sm",onClick:()=>{const P=new Date;P.setDate(P.getDate()+60),o(P),u(D=>({...D,target_date:P.toISOString().split("T")[0]}))},className:"text-xs",children:"60d"}),s.jsx(A,{variant:"outline",size:"sm",onClick:()=>{const P=new Date;P.setDate(P.getDate()+90),o(P),u(D=>({...D,target_date:P.toISOString().split("T")[0]}))},className:"text-xs",children:"90d"})]})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"space-y-0.5",children:[s.jsx(Y,{children:"Meta em Grupo"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Permite que outros usurios participem desta meta"})]}),s.jsx(ha,{checked:d.is_group_goal,onCheckedChange:P=>u(D=>({...D,is_group_goal:P}))})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"space-y-0.5",children:[s.jsx(Y,{children:"Evidncias Obrigatrias"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Exige envio de fotos ou documentos para comprovar progresso"})]}),s.jsx(ha,{checked:d.evidence_required,onCheckedChange:P=>u(D=>({...D,evidence_required:P}))})]})]}),d.category&&s.jsxs("div",{className:"bg-muted/50 p-4 rounded-lg",children:[s.jsxs("p",{className:"text-sm font-medium",children:["Pontos Estimados: ",N()," pts"]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Pontos finais sero definidos pelo administrador aps aprovao"})]})]}),s.jsx(ct,{value:"sharing",className:"space-y-4",children:s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Convide pessoas para acompanhar sua meta"}),s.jsxs("div",{className:"grid grid-cols-3 gap-2 mb-4",children:[s.jsxs(rt,{value:f.type,onValueChange:P=>g(D=>({...D,type:P})),children:[s.jsx(tt,{children:s.jsx(at,{})}),s.jsxs(st,{children:[s.jsxs(he,{value:"user",children:[s.jsx(Le,{className:"w-4 h-4 mr-2 inline"}),"Usurio"]}),s.jsxs(he,{value:"email",children:[s.jsx(Ei,{className:"w-4 h-4 mr-2 inline"}),"Email"]}),s.jsxs(he,{value:"whatsapp",children:[s.jsx(zi,{className:"w-4 h-4 mr-2 inline"}),"WhatsApp"]})]})]}),f.type==="user"?s.jsxs(rt,{value:f.value,onValueChange:P=>{g(D=>({...D,value:P,name:"Usurio selecionado"}))},children:[s.jsx(tt,{children:s.jsx(at,{placeholder:"Selecione usurio"})}),s.jsxs(st,{children:[s.jsx(he,{value:"user1",children:"Usurio 1"}),s.jsx(he,{value:"user2",children:"Usurio 2"})]})]}):s.jsx(re,{value:f.value,onChange:P=>g(D=>({...D,value:P.target.value})),placeholder:f.type==="email"?"email@exemplo.com":"+5511999999999"}),s.jsx(A,{onClick:S,size:"sm",children:"Adicionar"})]}),m.length>0&&s.jsxs("div",{className:"space-y-2",children:[s.jsx("h4",{className:"text-sm font-medium",children:"Convites adicionados:"}),m.map((P,D)=>s.jsxs("div",{className:"flex items-center gap-2 p-2 bg-muted rounded",children:[s.jsxs(X,{variant:"secondary",children:[P.type==="user"&&s.jsx(Le,{className:"w-3 h-3 mr-1"}),P.type==="email"&&s.jsx(Ei,{className:"w-3 h-3 mr-1"}),P.type==="whatsapp"&&s.jsx(zi,{className:"w-3 h-3 mr-1"}),P.type]}),s.jsx("span",{className:"text-sm",children:P.name||P.value}),s.jsx(A,{size:"sm",variant:"ghost",onClick:()=>_(D),children:s.jsx(nr,{className:"w-3 h-3"})})]},D))]})]})})]}),s.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[s.jsx(A,{variant:"outline",onClick:()=>t(!1),children:"Cancelar"}),s.jsx(A,{variant:"secondary",onClick:async()=>{console.log(" Debug: Verificando autenticao...");const{data:{user:P},error:D}=await z.auth.getUser(),{data:{session:I},error:V}=await z.auth.getSession();console.log(" Debug Auth:",{user:P,error:D,session:I,sessionError:V}),y({title:"Debug Auth",description:P?`Usurio: ${P.email}`:"No autenticado"})},children:"Debug Auth"}),s.jsx(A,{onClick:k,disabled:w.isPending||!d.title,children:w.isPending?"Criando...":"Criar Meta"})]})]})})}const KTe=({goal:e,onUpdate:t,children:r})=>{const[a,n]=p.useState(!1),[i,o]=p.useState(e.current_value),[l,c]=p.useState(""),[d,u]=p.useState([]),[m,h]=p.useState(!1),[f,g]=p.useState(""),[x,y]=p.useState(!1),[v,b]=p.useState(!1),j=p.useRef(null),{toast:N}=Ee(),{shareToHealthFeed:w,generateProgressMessage:S,suggestTags:_}=jV(),C=B=>!e.target_value||e.target_value===0?0:Math.min(B/e.target_value*100,100),E=C(i),T=i>=e.target_value,k=async B=>{try{const{data:{user:K}}=await z.auth.getUser();if(!K)throw new Error("Usurio no autenticado");const Q=B.name.split(".").pop(),ie=`progress/${K.id}/${Date.now()}-${Math.random().toString(36).substring(2)}.${Q}`,{error:oe}=await z.storage.from("avatars").upload(ie,B);if(oe)throw oe;const{data:{publicUrl:je}}=z.storage.from("avatars").getPublicUrl(ie);return je}catch(K){return console.error("Erro no upload:",K),N({title:"Erro no upload",description:"No foi possvel fazer upload do arquivo",variant:"destructive"}),null}},P=async B=>{const K=Array.from(B.target.files||[]);if(K.length!==0){if(d.length+K.length>3){N({title:"Limite excedido",description:"Voc pode enviar no mximo 3 arquivos",variant:"destructive"});return}b(!0);try{const Q=K.map(k),oe=(await Promise.all(Q)).filter(je=>je!==null);oe.length>0&&(u(je=>[...je,...oe]),N({title:"Upload concludo",description:`${oe.length} arquivo(s) enviado(s) com sucesso`}))}catch{N({title:"Erro no upload",description:"No foi possvel fazer upload dos arquivos",variant:"destructive"})}finally{b(!1),j.current&&(j.current.value="")}}},D=B=>{u(K=>K.filter((Q,ie)=>ie!==B))},I=B=>/\.(jpg|jpeg|png|gif|webp)$/i.test(B),V=B=>/\.(mp4|webm|ogg|mov)$/i.test(B),W=()=>{j.current&&(j.current.setAttribute("capture","environment"),j.current.click())},R=()=>{j.current&&(j.current.removeAttribute("capture"),j.current.click())},F=async B=>{var K;B.preventDefault(),y(!0);try{const{error:Q}=await z.from("user_goals").update({current_value:i,status:T?"concluida":"em_progresso"}).eq("id",e.id);if(Q)throw Q;const{error:ie}=await z.from("goal_updates").insert({goal_id:e.id,user_id:(K=(await z.auth.getUser()).data.user)==null?void 0:K.id,previous_value:e.current_value,new_value:i,notes:l||null});if(ie)throw ie;if(m&&(d.length>0||f||T)){const oe=T?"goal_completed":E>=80?"milestone_reached":"progress_update",je={goalTitle:e.title,progressValue:i,targetValue:e.target_value,unit:e.unit,category:"meta"},le={content:f||S({content:"",achievementType:oe,achievementData:je}),mediaUrls:d.length>0?d:void 0,achievementType:oe,achievementData:je,tags:_({content:"",achievementType:oe,achievementData:je}),visibility:"public"};await w(le)}N({title:T?" Meta Concluda!":" Progresso Atualizado!",description:T?`Parabns! Voc completou: ${e.title}`:`Progresso atualizado para ${i} ${e.unit}`}),n(!1),t==null||t()}catch(Q){console.error("Erro ao atualizar progresso:",Q),N({title:"Erro",description:"No foi possvel atualizar o progresso.",variant:"destructive"})}finally{y(!1)}},H=B=>{const K=Math.min(i+B,e.target_value);o(K)},Z=B=>{o(B[0])};return s.jsxs(gt,{open:a,onOpenChange:n,children:[s.jsx(ir,{asChild:!0,children:r}),s.jsxs(vt,{className:"sm:max-w-md",children:[s.jsx(yt,{children:s.jsxs(bt,{className:"flex items-center gap-2",children:[s.jsx(Ye,{className:"w-5 h-5 text-primary"}),"Atualizar Progresso"]})}),s.jsxs("form",{onSubmit:F,className:"space-y-6",children:[s.jsxs("div",{className:"text-center space-y-2",children:[s.jsx("h3",{className:"font-semibold text-lg",children:e.title}),s.jsxs("div",{className:"flex items-center justify-center gap-2 text-sm text-muted-foreground",children:[s.jsx(_e,{className:"w-4 h-4"}),"Meta: ",e.target_value," ",e.unit]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"text-center",children:[s.jsxs(pe.div,{className:"text-4xl font-bold mb-2",animate:{scale:E>C(e.current_value)?[1,1.1,1]:1},transition:{duration:.3},children:[Math.round(E),"%"]}),s.jsx(Ge,{value:E,className:"h-3 mb-2"}),s.jsxs("div",{className:"flex justify-between text-sm text-muted-foreground",children:[s.jsxs("span",{children:["Atual: ",e.current_value," ",e.unit]}),s.jsxs("span",{children:["Novo: ",i," ",e.unit]})]})]}),T&&s.jsxs(pe.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},className:"text-center p-4 bg-green-50 rounded-lg border border-green-200",children:[s.jsx(jt,{className:"w-8 h-8 text-green-600 mx-auto mb-2"}),s.jsx("p",{className:"text-green-800 font-semibold",children:"Meta Concluda! "}),s.jsx("p",{className:"text-green-600 text-sm",children:"Parabns pelo seu progresso!"})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(Y,{htmlFor:"progress-value",children:"Novo Valor"}),s.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[s.jsx(re,{id:"progress-value",type:"number",min:"0",max:e.target_value,value:i,onChange:B=>o(Number(B.target.value)),className:"flex-1"}),s.jsx("span",{className:"text-sm text-muted-foreground min-w-fit",children:e.unit})]})]}),s.jsxs("div",{children:[s.jsx(Y,{children:"Ajuste Visual"}),s.jsx("div",{className:"px-2 mt-2",children:s.jsx(Wu,{value:[i],onValueChange:Z,max:e.target_value,min:0,step:1,className:"w-full"})})]}),s.jsxs("div",{children:[s.jsx(Y,{children:"Incremento Rpido"}),s.jsxs("div",{className:"grid grid-cols-4 gap-2 mt-2",children:[s.jsx(A,{type:"button",variant:"outline",size:"sm",onClick:()=>H(1),disabled:i>=e.target_value,children:"+1"}),s.jsx(A,{type:"button",variant:"outline",size:"sm",onClick:()=>H(5),disabled:i>=e.target_value,children:"+5"}),s.jsx(A,{type:"button",variant:"outline",size:"sm",onClick:()=>H(10),disabled:i>=e.target_value,children:"+10"}),s.jsx(A,{type:"button",variant:"outline",size:"sm",onClick:()=>o(e.target_value),disabled:i>=e.target_value,children:"Max"})]})]})]}),s.jsxs("div",{children:[s.jsx(Y,{htmlFor:"notes",children:"Notas (opcional)"}),s.jsx(Ke,{id:"notes",placeholder:"Adicione observaes sobre seu progresso...",value:l,onChange:B=>c(B.target.value),className:"mt-1",rows:3})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx(Y,{children:"Foto de Comprovao (opcional)"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("input",{ref:j,type:"file",accept:"image/*,video/*",multiple:!0,onChange:P,className:"hidden"}),s.jsxs(A,{type:"button",variant:"outline",size:"sm",onClick:W,disabled:v||d.length>=3,className:"flex-1",children:[s.jsx(dm,{className:"w-4 h-4 mr-2"}),v?"Enviando...":"Cmera"]}),s.jsxs(A,{type:"button",variant:"outline",size:"sm",onClick:R,disabled:v||d.length>=3,className:"flex-1",children:[s.jsx(Rc,{className:"w-4 h-4 mr-2"}),"Galeria"]})]}),d.length>0&&s.jsx("div",{className:"grid grid-cols-3 gap-2",children:d.map((B,K)=>s.jsxs("div",{className:"relative group",children:[s.jsx("div",{className:"aspect-square rounded-lg overflow-hidden bg-muted border",children:I(B)?s.jsx("img",{src:B,alt:`Upload ${K+1}`,className:"w-full h-full object-cover"}):V(B)?s.jsx("video",{src:B,className:"w-full h-full object-cover",controls:!1,muted:!0}):s.jsx("div",{className:"w-full h-full flex items-center justify-center",children:s.jsx(Rc,{className:"w-8 h-8 text-muted-foreground"})})}),s.jsx(A,{type:"button",variant:"destructive",size:"icon",className:"absolute -top-2 -right-2 h-6 w-6 rounded-full opacity-0 group-hover:opacity-100 transition-opacity",onClick:()=>D(K),children:s.jsx(nr,{className:"w-3 h-3"})}),V(B)&&s.jsx("div",{className:"absolute bottom-1 left-1",children:s.jsx("div",{className:"bg-black/50 rounded px-1 py-0.5",children:s.jsx(ta,{className:"w-3 h-3 text-white"})})})]},K))}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Mximo 3 arquivos. Tire foto direto da cmera ou escolha da galeria/Google Photos."})]}),s.jsxs("div",{className:"space-y-4 p-4 bg-gradient-to-r from-blue-50 to-green-50 rounded-lg border border-blue-200",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ZS,{className:"w-5 h-5 text-blue-600"}),s.jsx(Y,{htmlFor:"share-feed",className:"text-blue-800 font-medium",children:"Compartilhar na Comunidade"})]}),s.jsx(Uu,{id:"share-feed",checked:m,onCheckedChange:B=>h(B)})]}),s.jsx("div",{className:"text-sm text-muted-foreground",children:T?" Mostre sua conquista para inspirar outros!":d.length>0?" Voc tem fotos! Que tal compartilhar seu progresso?":E>=80?" Voc est quase l! Compartilhe sua jornada!":" Compartilhe para motivar outros e receber apoio!"}),s.jsx(so,{children:m&&s.jsxs(pe.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.3},className:"space-y-3",children:[s.jsxs("div",{children:[s.jsx(Y,{htmlFor:"custom-message",children:"Mensagem Personalizada (opcional)"}),s.jsx(Ke,{id:"custom-message",placeholder:S({content:"",achievementType:T?"goal_completed":E>=80?"milestone_reached":"progress_update",achievementData:{goalTitle:e.title,progressValue:i,targetValue:e.target_value,unit:e.unit}}),value:f,onChange:B=>g(B.target.value),className:"mt-1",rows:3})]}),s.jsxs("div",{className:"flex items-center gap-2 text-sm text-blue-600 bg-white/50 p-2 rounded",children:[s.jsx(Le,{className:"w-4 h-4"}),s.jsx("span",{children:"Ser compartilhado publicamente no HealthFeed"}),s.jsx(He,{className:"w-4 h-4"})]})]})})]}),s.jsxs("div",{className:"flex gap-2 pt-4",children:[s.jsx(A,{type:"button",variant:"outline",onClick:()=>n(!1),className:"flex-1",children:"Cancelar"}),s.jsx(A,{type:"submit",disabled:x||i===e.current_value,className:"flex-1",children:x?"Salvando...":T?" Concluir Meta!":" Atualizar Progresso"})]})]})]})]})},GTe=({goal:e,onUpdate:t,isDragging:r,dragHandleProps:a})=>{var S,_;const n=ur(),{toast:i}=Ee(),{trigger:o,celebrate:l}=yV(),[c,d]=p.useState(!1),[u,m]=p.useState(!1),h=C=>{switch(C){case"pendente":return s.jsx(Xt,{className:"h-4 w-4"});case"aprovada":case"em_progresso":return s.jsx(Ye,{className:"h-4 w-4"});case"pendente_desafio":return s.jsx(_e,{className:"h-4 w-4"});case"concluida":return s.jsx(Se,{className:"h-4 w-4"});case"rejeitada":return s.jsx(za,{className:"h-4 w-4"});case"cancelada":return s.jsx(o6,{className:"h-4 w-4"});default:return s.jsx(ls,{className:"h-4 w-4"})}},f=C=>{switch(C){case"pendente":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"aprovada":case"em_progresso":return"bg-blue-100 text-blue-800 border-blue-200";case"pendente_desafio":return"bg-purple-100 text-purple-800 border-purple-200";case"concluida":return"bg-green-100 text-green-800 border-green-200";case"rejeitada":return"bg-red-100 text-red-800 border-red-200";case"cancelada":return"bg-gray-100 text-gray-800 border-gray-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},g=C=>{switch(C){case"pendente":return"Pendente";case"aprovada":return"Aprovada";case"em_progresso":return"Em Progresso";case"pendente_desafio":return"Pronto para Desafio";case"concluida":return"Concluda";case"rejeitada":return"Rejeitada";case"cancelada":return"Cancelada";default:return C}},x=C=>{switch(C){case"facil":return"from-green-500 to-green-600";case"medio":return"from-yellow-500 to-orange-500";case"dificil":return"from-red-500 to-pink-500";default:return"from-gray-500 to-gray-600"}},v=!e.target_value||e.target_value===0?0:Math.min(e.current_value/e.target_value*100,100),b=v>=80,j=e.status==="concluida",N=async()=>{if(!e.challenge_id){i({title:"Erro",description:"Desafio no encontrado para esta meta.",variant:"destructive"});return}try{const{error:C}=await z.from("user_goals").update({status:"em_progresso"}).eq("id",e.id);if(C)throw C;n(`/challenges/${e.challenge_id}`),t==null||t(),i({title:"Redirecionando para o desafio!",description:"Boa sorte na sua jornada! "})}catch(C){console.error("Erro ao ir para desafio:",C),i({title:"Erro",description:"No foi possvel acessar o desafio.",variant:"destructive"})}},w=async C=>{try{const E=Math.min(e.current_value+C,e.target_value),{error:T}=await z.from("user_goals").update({current_value:E,status:E>=e.target_value?"concluida":"em_progresso"}).eq("id",e.id);if(T)throw T;E>=e.target_value?(l(),i({title:" Meta Concluda!",description:`Parabns! Voc completou: ${e.title}`})):i({title:"Progresso atualizado!",description:`+${C} ${e.unit}`}),t==null||t()}catch(E){console.error("Erro ao atualizar:",E),i({title:"Erro",description:"No foi possvel atualizar o progresso.",variant:"destructive"})}};return s.jsxs(s.Fragment,{children:[s.jsx(vV,{trigger:o}),s.jsx(pe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0,scale:r?1.05:1,rotate:r?2:0},exit:{opacity:0,scale:.95},whileHover:{scale:1.02,boxShadow:"0 10px 30px -10px rgba(0,0,0,0.3)"},transition:{type:"spring",stiffness:300,damping:25},onHoverStart:()=>d(!0),onHoverEnd:()=>d(!1),className:"relative group",...a,children:s.jsxs(M,{className:`h-full transition-all duration-300 border-2 relative overflow-hidden ${r?"shadow-2xl border-primary":"hover:shadow-lg"} ${j?"border-green-500 bg-green-50/50":""}`,children:[s.jsx(pe.div,{className:`absolute inset-0 bg-gradient-to-br ${x(e.difficulty)} opacity-0`,animate:{opacity:c?.05:0},transition:{duration:.3}}),b&&!j&&s.jsx(pe.div,{className:"absolute top-2 right-2 z-10",animate:{scale:[1,1.2,1],rotate:[0,10,-10,0]},transition:{duration:2,repeat:1/0,ease:"easeInOut"},children:s.jsxs("div",{className:"flex items-center gap-1 bg-orange-500 text-white px-2 py-1 rounded-full text-xs",children:[s.jsx(Ss,{className:"w-3 h-3"}),"Quase l!"]})}),s.jsx($,{className:"pb-3 relative z-10",children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2 flex-1",children:[s.jsx(pe.span,{className:"text-xl",animate:c?{scale:1.2,rotate:10}:{scale:1,rotate:0},transition:{duration:.2},children:(S=e.goal_categories)==null?void 0:S.icon}),s.jsxs("div",{className:"flex-1",children:[s.jsx(U,{className:"text-lg line-clamp-1",children:e.title}),s.jsx("p",{className:"text-sm text-muted-foreground",children:(_=e.goal_categories)==null?void 0:_.name})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs(X,{className:`${f(e.status)} flex items-center gap-1`,children:[h(e.status),g(e.status)]}),s.jsx(so,{children:c&&(e.status==="aprovada"||e.status==="em_progresso")&&s.jsx(pe.div,{initial:{opacity:0,scale:0},animate:{opacity:1,scale:1},exit:{opacity:0,scale:0},transition:{duration:.2},children:s.jsx(A,{variant:"ghost",size:"sm",onClick:()=>m(!u),className:"h-8 w-8 p-0",children:s.jsx(n6,{className:"w-4 h-4"})})})})]})]})}),s.jsxs(O,{className:"space-y-4 relative z-10",children:[e.description&&s.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2",children:e.description}),e.challenges&&s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(_e,{className:"h-4 w-4 text-primary"}),s.jsx("span",{className:"text-sm text-primary font-medium",children:e.challenges.title})]}),e.target_value&&e.status!=="pendente"&&s.jsx("div",{className:"flex items-center justify-center py-4",children:s.jsx(pP,{progress:v,size:100,strokeWidth:6,gradientColors:["hsl(var(--primary))",j?"#10B981":"hsl(var(--primary-glow))"],animated:!0,children:s.jsxs("div",{className:"text-center",children:[s.jsxs("div",{className:"text-lg font-bold",children:[Math.round(v),"%"]}),s.jsxs("div",{className:"text-xs text-muted-foreground",children:[e.current_value,"/",e.target_value]})]})})}),s.jsx(so,{children:u&&(e.status==="aprovada"||e.status==="em_progresso")&&s.jsxs(pe.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.3},className:"grid grid-cols-3 gap-2",children:[s.jsxs(A,{variant:"outline",size:"sm",onClick:()=>w(1),className:"flex items-center gap-1",children:[s.jsx(us,{className:"w-3 h-3"}),"+1"]}),s.jsxs(A,{variant:"outline",size:"sm",onClick:()=>w(5),className:"flex items-center gap-1",children:[s.jsx(kt,{className:"w-3 h-3"}),"+5"]}),s.jsxs(A,{variant:"outline",size:"sm",onClick:()=>w(10),className:"flex items-center gap-1",children:[s.jsx(jt,{className:"w-3 h-3"}),"+10"]})]})}),s.jsxs("div",{className:"flex flex-wrap gap-2",children:[s.jsx(X,{variant:"outline",className:`bg-gradient-to-r ${x(e.difficulty)} text-white border-0`,children:e.difficulty==="facil"?"Fcil":e.difficulty==="medio"?"Mdio":"Difcil"}),s.jsxs(X,{variant:"outline",className:"flex items-center gap-1",children:[s.jsx(jt,{className:"h-3 w-3"}),e.final_points||e.estimated_points," pts"]})]}),e.target_date&&s.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[s.jsx(Vt,{className:"h-4 w-4"}),s.jsxs("span",{children:["Meta: ",Ka(new Date(e.target_date),"dd/MM/yyyy",{locale:Zv})]})]}),s.jsx("div",{className:"flex gap-2 pt-2",children:e.status==="aprovada"||e.status==="em_progresso"?s.jsx(KTe,{goal:e,onUpdate:t,children:s.jsx(pe.div,{whileHover:{scale:1.02},whileTap:{scale:.98},className:"flex-1",children:s.jsxs(A,{size:"sm",className:"w-full gap-2",children:[s.jsx(hl,{className:"w-4 h-4"}),"Atualizar Progresso"]})})}):e.status==="pendente_desafio"&&e.challenges?s.jsx(pe.div,{whileHover:{scale:1.02},whileTap:{scale:.98},className:"flex-1",children:s.jsxs(A,{size:"sm",className:"w-full gap-2",onClick:N,children:[s.jsx(Rr,{className:"w-4 h-4"}),"Ir para Desafio"]})}):e.status==="pendente"?s.jsx("div",{className:"w-full text-center",children:s.jsx("p",{className:"text-sm text-muted-foreground",children:"Aguardando aprovao administrativa"})}):null})]}),j&&s.jsx(pe.div,{className:"absolute inset-0 border-2 border-green-400 rounded-lg",animate:{opacity:[.3,.8,.3],scale:[1,1.01,1]},transition:{duration:2,repeat:1/0,ease:"easeInOut"}})]})})]})},YTe=()=>Sn({queryKey:["weekly-goal-progress"],queryFn:async()=>{var E,T;const{data:{user:e}}=await z.auth.getUser();if(!e)throw new Error("Usurio no autenticado");const t=new Date,r=Ha(t,{weekStartsOn:1}),a=Ff(t,{weekStartsOn:1}),n=Ha(J3(t),{weekStartsOn:1}),i=Ff(J3(t),{weekStartsOn:1}),{data:o,error:l}=await z.from("user_goals").select("*").eq("user_id",e.id).in("status",["aprovada","em_progresso","ativo"]);if(l)throw l;const{data:c,error:d}=await z.from("weighings").select("*").eq("user_id",e.id).gte("created_at",n.toISOString()).lte("created_at",a.toISOString()).order("created_at",{ascending:!1});if(d)throw d;const u=(c==null?void 0:c.filter(k=>new Date(k.created_at)>=r&&new Date(k.created_at)<=a))||[],m=(c==null?void 0:c.filter(k=>new Date(k.created_at)>=n&&new Date(k.created_at)<=i))||[],h=((E=u[0])==null?void 0:E.weight)||0,f=((T=m[0])==null?void 0:T.weight)||h,g=h-f,x=(o==null?void 0:o.find(k=>k.target_value&&k.category==="saude"))||null,y=(x==null?void 0:x.target_value)||h,v=4,b=7,j=Math.min(85+Math.random()*15,100);let N=0,w=0;if(x){const k=Math.max(0,Math.min(100,100-Math.abs(h-y)/y*100));N+=k,w++}const S=v/b*100;N+=S,w++,N+=j,w++;const _=w>0?N/w:0;let C="neutral";return(_<50||g>1)&&(C="negative"),{weightProgress:{current:h,target:y,change:g,unit:"kg"},exerciseProgress:{completed:v,target:b,unit:"dias"},hydrationProgress:{current:j,target:100,unit:"%"},overallProgress:_,trend:C,goals:o||[],hasActiveGoals:((o==null?void 0:o.length)||0)>0}},refetchInterval:1e3*60*15});function oH(){const[e,t]=p.useState(!1),{toast:r}=Ee(),{data:a,isLoading:n}=YTe(),{data:i,isLoading:o,refetch:l}=Sn({queryKey:["user-goals"],queryFn:async()=>{const{data:{user:d}}=await z.auth.getUser();if(!d)throw new Error("Usurio no autenticado");const{data:u,error:m}=await z.from("user_goals").select("*").eq("user_id",d.id).order("created_at",{ascending:!1});if(m)throw m;return u}}),{data:c}=Sn({queryKey:["goal-stats"],queryFn:async()=>{const{data:{user:d}}=await z.auth.getUser();if(!d)throw new Error("Usurio no autenticado");const{data:u,error:m}=await z.from("user_goals").select("status").eq("user_id",d.id);if(m)throw m;const h=u.length,f=u.filter(y=>y.status==="concluida").length,g=u.filter(y=>y.status==="pendente").length,x=u.filter(y=>y.status==="em_progresso").length;return{total:h,completed:f,pending:g,inProgress:x}}});return s.jsxs("div",{className:"container mx-auto p-6 space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"Minhas Metas"}),s.jsx("p",{className:"text-muted-foreground",children:"Defina e acompanhe suas metas pessoais com aprovao administrativa"})]}),s.jsxs(A,{onClick:()=>t(!0),className:"gap-2",children:[s.jsx(_s,{className:"w-4 h-4"}),"Nova Meta"]})]}),c&&s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsxs(M,{children:[s.jsxs($,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(U,{className:"text-sm font-medium",children:"Total de Metas"}),s.jsx(_e,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsx(O,{children:s.jsx("div",{className:"text-2xl font-bold",children:c.total})})]}),s.jsxs(M,{children:[s.jsxs($,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(U,{className:"text-sm font-medium",children:"Aguardando Aprovao"}),s.jsx(Xt,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsx(O,{children:s.jsx("div",{className:"text-2xl font-bold text-yellow-600",children:c.pending})})]}),s.jsxs(M,{children:[s.jsxs($,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(U,{className:"text-sm font-medium",children:"Em Progresso"}),s.jsx(Vt,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsx(O,{children:s.jsx("div",{className:"text-2xl font-bold text-blue-600",children:c.inProgress})})]}),s.jsxs(M,{children:[s.jsxs($,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(U,{className:"text-sm font-medium",children:"Concludas"}),s.jsx(Be,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsx(O,{children:s.jsx("div",{className:"text-2xl font-bold text-green-600",children:c.completed})})]})]}),c&&s.jsxs("div",{className:"space-y-4",children:[s.jsx("h2",{className:"text-xl font-semibold",children:" Progresso Geral"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs(M,{className:"relative overflow-hidden",children:[s.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-gradient-to-bl from-primary/20 to-transparent rounded-full transform translate-x-16 -translate-y-16"}),s.jsx($,{className:"relative z-10",children:s.jsxs(U,{className:"flex items-center gap-2",children:[s.jsx(Be,{className:"w-5 h-5 text-primary"}),"Taxa de Concluso"]})}),s.jsx(O,{className:"relative z-10",children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"text-center",children:[s.jsxs("div",{className:"text-4xl font-bold text-primary",children:[c.total>0?Math.round(c.completed/c.total*100):0,"%"]}),s.jsx("p",{className:"text-muted-foreground",children:"das suas metas concludas"})]}),s.jsx(Ge,{value:c.total>0?c.completed/c.total*100:0,className:"h-3"}),s.jsxs("div",{className:"flex justify-between text-sm text-muted-foreground",children:[s.jsxs("span",{children:[c.completed," concludas"]}),s.jsxs("span",{children:[c.total," total"]})]})]})})]}),s.jsxs(M,{children:[s.jsx($,{children:s.jsxs(U,{className:"flex items-center gap-2",children:[s.jsx(_e,{className:"w-5 h-5 text-primary"}),"Distribuio das Metas"]})}),s.jsx(O,{children:s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-3 h-3 rounded-full bg-green-500"}),s.jsx("span",{className:"text-sm",children:"Concludas"})]}),s.jsx("span",{className:"font-semibold",children:c.completed})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-3 h-3 rounded-full bg-blue-500"}),s.jsx("span",{className:"text-sm",children:"Em Progresso"})]}),s.jsx("span",{className:"font-semibold",children:c.inProgress})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-3 h-3 rounded-full bg-yellow-500"}),s.jsx("span",{className:"text-sm",children:"Pendentes"})]}),s.jsx("span",{className:"font-semibold",children:c.pending})]})]})})]})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h2",{className:"text-xl font-semibold",children:"Suas Metas"}),o?s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[...Array(6)].map((d,u)=>s.jsxs(M,{className:"animate-pulse",children:[s.jsxs($,{children:[s.jsx("div",{className:"h-4 bg-muted rounded w-3/4"}),s.jsx("div",{className:"h-3 bg-muted rounded w-1/2"})]}),s.jsx(O,{children:s.jsxs("div",{className:"space-y-2",children:[s.jsx("div",{className:"h-3 bg-muted rounded"}),s.jsx("div",{className:"h-2 bg-muted rounded w-full"})]})})]},u))}):i&&i.length>0?s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:i.map(d=>s.jsx(GTe,{goal:d,onUpdate:l},d.id))}):s.jsx(M,{children:s.jsxs(O,{className:"flex flex-col items-center justify-center py-12",children:[s.jsx(_e,{className:"h-12 w-12 text-muted-foreground mb-4"}),s.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Nenhuma meta ainda"}),s.jsx("p",{className:"text-muted-foreground text-center mb-4",children:"Crie sua primeira meta e comece sua jornada de transformao!"}),s.jsxs(A,{onClick:()=>t(!0),className:"gap-2",children:[s.jsx(_s,{className:"w-4 h-4"}),"Criar Primeira Meta"]})]})})]}),s.jsx(HTe,{open:e,onOpenChange:t,onSuccess:()=>{l(),r({title:"Meta criada!",description:"Sua meta foi submetida para aprovao administrativa."})}})]})}const XTe=({currentAvatar:e,userName:t="User",size:r="lg",onAvatarUpdate:a,className:n=""})=>{const[i,o]=p.useState(!1),[l,c]=p.useState(null),d=p.useRef(null),{toast:u}=Ee(),m={sm:"h-12 w-12",md:"h-16 w-16",lg:"h-20 w-20",xl:"h-32 w-32"},h=y=>{var j;const v=(j=y.target.files)==null?void 0:j[0];if(!v)return;if(!v.type.startsWith("image/")){u({title:"Erro",description:"Por favor, selecione um arquivo de imagem vlido.",variant:"destructive"});return}if(v.size>5*1024*1024){u({title:"Erro",description:"A imagem deve ter no mximo 5MB.",variant:"destructive"});return}const b=new FileReader;b.onload=N=>{var w;c((w=N.target)==null?void 0:w.result)},b.readAsDataURL(v),f(v)},f=async y=>{try{o(!0);const{data:{user:v}}=await z.auth.getUser();if(!v)throw new Error("Usurio no est logado");const b=y.name.split(".").pop(),j=`${v.id}_${Date.now()}.${b}`,N=`${v.id}/${j}`;if(e){const E=e.split("/").slice(-2).join("/");await z.storage.from("avatars").remove([E])}const{error:w}=await z.storage.from("avatars").upload(N,y,{cacheControl:"3600",upsert:!1});if(w)throw w;const{data:S}=z.storage.from("avatars").getPublicUrl(N),_=S.publicUrl,{error:C}=await z.from("profiles").upsert({user_id:v.id,avatar_url:_,updated_at:new Date().toISOString()});if(C)throw C;a&&a(_),u({title:"Sucesso!",description:"Foto de perfil atualizada com sucesso."})}catch(v){console.error("Erro ao fazer upload do avatar:",v),u({title:"Erro",description:"Erro ao atualizar foto de perfil. Tente novamente.",variant:"destructive"}),c(null)}finally{o(!1)}},g=async()=>{try{o(!0);const{data:{user:y}}=await z.auth.getUser();if(!y)throw new Error("Usurio no est logado");if(e){const b=e.split("/").slice(-2).join("/");await z.storage.from("avatars").remove([b])}const{error:v}=await z.from("profiles").upsert({user_id:y.id,avatar_url:null,updated_at:new Date().toISOString()});if(v)throw v;c(null),a&&a(""),u({title:"Sucesso!",description:"Foto de perfil removida com sucesso."})}catch(y){console.error("Erro ao remover avatar:",y),u({title:"Erro",description:"Erro ao remover foto de perfil. Tente novamente.",variant:"destructive"})}finally{o(!1)}},x=l||e;return s.jsxs("div",{className:`relative group ${n}`,children:[s.jsxs(jn,{className:`${m[r]} transition-all duration-200 group-hover:opacity-75`,children:[x?s.jsx(ai,{src:x,alt:"Avatar"}):null,s.jsx(wn,{className:"bg-gradient-to-br from-blue-500 via-purple-500 to-pink-500 text-white font-bold text-lg",children:t.charAt(0).toUpperCase()})]}),s.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black/50 rounded-full opacity-0 group-hover:opacity-100 transition-opacity duration-200",children:s.jsxs("div",{className:"flex gap-2",children:[s.jsx("div",{onClick:()=>{var y;return(y=d.current)==null?void 0:y.click()},className:"h-8 w-8 p-0 bg-white/90 hover:bg-white rounded cursor-pointer flex items-center justify-center",role:"button",tabIndex:i?-1:0,"aria-label":"Alterar foto do perfil",children:i?s.jsx("div",{className:"h-4 w-4 animate-spin rounded-full border-2 border-gray-400 border-t-transparent"}):s.jsx(dm,{className:"h-4 w-4 text-gray-700"})}),x&&s.jsx("div",{onClick:g,className:"h-8 w-8 p-0 bg-red-500/90 hover:bg-red-600 text-white rounded cursor-pointer flex items-center justify-center",role:"button",tabIndex:i?-1:0,"aria-label":"Remover foto do perfil",children:s.jsx(nr,{className:"h-4 w-4"})})]})}),s.jsx("input",{type:"file",ref:d,onChange:h,accept:"image/*",className:"hidden"})]})};function QTe({user:e,onUpdateProfile:t}){var S,_;const{profileData:r,loading:a,updateProfile:n,uploadAvatar:i}=OP(e),{toast:o}=Ee(),[l,c]=p.useState(!1),[d,u]=p.useState(!1),[m,h]=p.useState({full_name:"",email:"",phone:"",address:"",city:"",state:"",postal_code:"",country:"Brasil",bio:""}),[f,g]=p.useState(!1),[x,y]=p.useState(!1);if(p.useEffect(()=>{r&&h({full_name:r.fullName||"",email:r.email||(e==null?void 0:e.email)||"",phone:r.phone||"",address:r.address||"",city:r.city||"",state:r.state||"",postal_code:r.postal_code||"",country:r.country||"Brasil",bio:r.bio||""})},[r,e==null?void 0:e.email]),a||!e)return null;const v=r.fullName||((S=e.user_metadata)==null?void 0:S.full_name)||((_=e.email)==null?void 0:_.split("@")[0])||"Usurio",b=Ju(r.avatarUrl,v),j=(C,E)=>{h(T=>({...T,[C]:E}))},N=async()=>{if(e!=null&&e.id){g(!0);try{if((await n({fullName:m.full_name,email:m.email,phone:m.phone,city:m.city,state:m.state,bio:m.bio})).success)o({title:"Perfil atualizado!",description:"Suas informaes foram salvas com sucesso."}),c(!1),t==null||t(m);else throw new Error("Erro ao salvar perfil")}catch(C){console.error("Erro ao atualizar perfil:",C),o({title:"Erro",description:"No foi possvel atualizar o perfil. Tente novamente.",variant:"destructive"})}finally{g(!1)}}},w=async C=>{var T;const E=(T=C.target.files)==null?void 0:T[0];if(E){y(!0);try{const k=await i(E);k&&(await n({avatarUrl:k}),o({title:"Avatar atualizado!",description:"Sua foto de perfil foi atualizada com sucesso."}),u(!1))}catch(k){console.error("Erro ao fazer upload do avatar:",k),o({title:"Erro",description:"No foi possvel atualizar a foto. Tente novamente.",variant:"destructive"})}finally{y(!1)}}};return s.jsxs("div",{className:"space-y-6 p-6",children:[s.jsxs("div",{className:"text-center space-y-4",children:[s.jsxs("div",{className:"relative mx-auto w-fit",children:[s.jsxs(gt,{open:d,onOpenChange:u,children:[s.jsx(ir,{asChild:!0,children:s.jsx("div",{className:"cursor-pointer",children:s.jsxs(jn,{className:"h-20 w-20 border-4 border-primary/20 hover:border-primary/40 transition-colors",children:[b.type==="photo"||b.type==="generated"?s.jsx(ai,{src:b.value,alt:v}):null,s.jsx(wn,{className:"bg-gradient-to-br from-blue-500 via-purple-500 to-pink-500 text-white text-2xl font-bold",children:b.type==="emoji"?b.value:v.charAt(0).toUpperCase()})]})})}),s.jsxs(vt,{className:"max-w-sm",children:[s.jsx(yt,{children:s.jsx(bt,{children:"Trocar Foto do Perfil"})}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{className:"text-center",children:s.jsxs(jn,{className:"h-24 w-24 mx-auto",children:[b.type==="photo"||b.type==="generated"?s.jsx(ai,{src:b.value,alt:v}):null,s.jsx(wn,{className:"bg-gradient-to-br from-blue-500 via-purple-500 to-pink-500 text-white text-3xl font-bold",children:b.type==="emoji"?b.value:v.charAt(0).toUpperCase()})]})}),s.jsxs("div",{children:[s.jsx(Y,{htmlFor:"avatar-upload",children:"Escolher nova foto"}),s.jsx(re,{id:"avatar-upload",type:"file",accept:"image/*",onChange:w,disabled:x,className:"mt-2"})]}),x&&s.jsx("p",{className:"text-sm text-muted-foreground text-center",children:"Fazendo upload..."})]})]})]}),s.jsx("div",{className:"absolute -bottom-1 -right-1 w-6 h-6 bg-green-500 rounded-full border-3 border-background flex items-center justify-center",children:s.jsx("div",{className:"w-2 h-2 bg-white rounded-full"})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("h2",{className:"text-2xl font-bold text-foreground",children:v}),s.jsx("p",{className:"text-sm text-muted-foreground",children:r.email||e.email}),r.phone&&s.jsxs("p",{className:"text-xs text-muted-foreground",children:[" ",r.phone]}),r.city&&r.state&&s.jsxs("p",{className:"text-xs text-muted-foreground",children:[" ",r.city,", ",r.state]}),s.jsxs("div",{className:"flex flex-col items-center gap-2",children:[s.jsx(X,{variant:"secondary",className:"bg-green-500/20 text-green-400 border-green-500/30",children:"Online"}),s.jsxs("div",{className:"text-xs text-muted-foreground",children:[s.jsx("span",{children:"Membro desde"}),s.jsx("br",{}),s.jsx("span",{className:"font-medium",children:new Date(e.created_at).toLocaleDateString("pt-BR")})]})]})]})]}),s.jsxs(gt,{open:l,onOpenChange:c,children:[s.jsx(ir,{asChild:!0,children:s.jsx(A,{variant:"outline",className:"w-full",children:"Editar Perfil"})}),s.jsxs(vt,{className:"max-w-md lg:max-w-lg max-h-[90vh] lg:max-h-[80vh] overflow-y-auto mx-4 lg:mx-0",children:[s.jsx(yt,{children:s.jsx(bt,{children:"Editar Perfil"})}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Y,{htmlFor:"full_name",children:"Nome Completo"}),s.jsx(re,{id:"full_name",value:m.full_name,onChange:C=>j("full_name",C.target.value),placeholder:"Seu nome completo"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Y,{htmlFor:"email",children:"Email"}),s.jsx(re,{id:"email",type:"email",value:m.email,onChange:C=>j("email",C.target.value),placeholder:"seu@email.com"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Y,{htmlFor:"phone",children:"Telefone"}),s.jsx(re,{id:"phone",value:m.phone,onChange:C=>j("phone",C.target.value),placeholder:"(11) 99999-9999"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Y,{htmlFor:"address",children:"Endereo"}),s.jsx(re,{id:"address",value:m.address,onChange:C=>j("address",C.target.value),placeholder:"Rua, nmero, complemento"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Y,{htmlFor:"city",children:"Cidade"}),s.jsx(re,{id:"city",value:m.city,onChange:C=>j("city",C.target.value),placeholder:"Sua cidade"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Y,{htmlFor:"state",children:"Estado"}),s.jsx(re,{id:"state",value:m.state,onChange:C=>j("state",C.target.value),placeholder:"UF"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Y,{htmlFor:"postal_code",children:"CEP"}),s.jsx(re,{id:"postal_code",value:m.postal_code,onChange:C=>j("postal_code",C.target.value),placeholder:"00000-000"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Y,{htmlFor:"country",children:"Pas"}),s.jsx(re,{id:"country",value:m.country,onChange:C=>j("country",C.target.value),placeholder:"Brasil"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Y,{htmlFor:"bio",children:"Sobre voc"}),s.jsx(Ke,{id:"bio",value:m.bio,onChange:C=>j("bio",C.target.value),placeholder:"Conte um pouco sobre voc...",rows:3})]}),s.jsxs("div",{className:"flex gap-2 pt-4",children:[s.jsx(A,{variant:"outline",onClick:()=>c(!1),className:"flex-1",children:"Cancelar"}),s.jsx(A,{onClick:N,disabled:f,className:"flex-1",children:f?"Salvando...":"Salvar"})]})]})]})]})]})}function JTe(){const[e,t]=p.useState({subscribed:!1,isLoading:!0}),{toast:r}=Ee(),a=p.useCallback(async()=>{try{t(c=>({...c,isLoading:!0,error:void 0}));const{data:o,error:l}=await z.functions.invoke("check-subscription");if(l)throw l;t({subscribed:o.subscribed||!1,subscription_tier:o.subscription_tier,subscription_end:o.subscription_end,isLoading:!1})}catch(o){console.error("Error checking subscription:",o),t({subscribed:!1,isLoading:!1,error:o instanceof Error?o.message:"Failed to check subscription"})}},[]),n=p.useCallback(async o=>{try{t(d=>({...d,isLoading:!0}));const{data:l,error:c}=await z.functions.invoke("create-checkout",{body:{planId:o}});if(c)throw c;l.url&&window.open(l.url,"_blank")}catch(l){console.error("Error creating checkout:",l),r({title:"Erro",description:l instanceof Error?l.message:"Erro ao processar pagamento",variant:"destructive"})}finally{t(l=>({...l,isLoading:!1}))}},[r]),i=p.useCallback(async()=>{try{const{data:o,error:l}=await z.functions.invoke("customer-portal");if(l)throw l;o.url&&window.open(o.url,"_blank")}catch(o){console.error("Error opening customer portal:",o),r({title:"Erro",description:o instanceof Error?o.message:"Erro ao abrir portal",variant:"destructive"})}},[r]);return p.useEffect(()=>{(async()=>{const{data:{user:c}}=await z.auth.getUser();c?a():t({subscribed:!1,isLoading:!1})})();const{data:{subscription:l}}=z.auth.onAuthStateChange((c,d)=>{c==="SIGNED_IN"&&(d!=null&&d.user)?a():c==="SIGNED_OUT"&&t({subscribed:!1,isLoading:!1})});return()=>l.unsubscribe()},[a]),{status:e,checkSubscription:a,createCheckout:n,manageSubscription:i}}const ZTe=[{id:"basic",name:"Bsico",description:"Funcionalidades essenciais para comear sua jornada",price:29.9,billingPeriod:"monthly",features:["Dashboard completo","Misses dirias","Teste de sabotadores","Grficos bsicos","Suporte por email"],icon:us,color:"text-blue-600"},{id:"premium",name:"Premium",description:"Tudo do bsico + recursos avanados",price:49.9,billingPeriod:"monthly",features:["Todas as funcionalidades bsicas","Integrao Google Fit","Relatrios semanais personalizados","Comunidade premium","Suporte prioritrio","Sesses personalizadas"],highlighted:!0,icon:Qn,color:"text-purple-600"},{id:"pro",name:"Professional",description:"Para profissionais da sade e coaches",price:99.9,billingPeriod:"monthly",features:["Todas as funcionalidades premium","Dashboard administrativo completo","Gesto de mltiplos clientes","Relatrios avanados","API para integraes","Suporte 24/7","Treinamentos exclusivos"],icon:kt,color:"text-gold-600"}],eMe=()=>{const[e,t]=p.useState("");Ee();const{status:r,createCheckout:a,manageSubscription:n}=JTe(),i=async o=>{t(o),await a(o)};return s.jsxs("div",{className:"p-6 space-y-6",children:[s.jsxs("div",{className:"text-center space-y-4",children:[s.jsx("h1",{className:"text-3xl font-bold",children:"Escolha seu Plano"}),s.jsx("p",{className:"text-muted-foreground text-lg",children:"Transforme sua sade com as ferramentas certas para voc"}),r.subscribed&&s.jsx(M,{className:"bg-primary/10 border-primary/20",children:s.jsx(O,{className:"p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Qn,{className:"w-5 h-5 text-primary"}),s.jsxs("div",{className:"text-left",children:[s.jsxs("p",{className:"font-semibold",children:["Plano Atual: ",r.subscription_tier]}),r.subscription_end&&s.jsxs("p",{className:"text-sm text-muted-foreground",children:["Renovao: ",new Date(r.subscription_end).toLocaleDateString("pt-BR")]})]})]}),s.jsxs(A,{variant:"outline",size:"sm",onClick:n,children:[s.jsx(Hs,{className:"w-4 h-4 mr-2"}),"Gerenciar"]})]})})})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:ZTe.map(o=>{const l=o.icon,c=e===o.id,d=r.isLoading&&c,u=r.subscribed&&(o.id==="basic"&&r.subscription_tier==="Bsico"||o.id==="premium"&&r.subscription_tier==="Premium"||o.id==="pro"&&r.subscription_tier==="Professional");return s.jsxs(M,{className:`relative transition-all duration-300 ${o.highlighted?"border-primary shadow-xl scale-105":"hover:shadow-lg hover:scale-102"} ${c?"ring-2 ring-primary":""}`,children:[o.highlighted&&s.jsx("div",{className:"absolute -top-3 left-1/2 transform -translate-x-1/2",children:s.jsx(X,{className:"bg-primary text-white px-4 py-1",children:"Mais Popular"})}),s.jsxs($,{className:"text-center",children:[s.jsx("div",{className:"flex justify-center mb-4",children:s.jsx("div",{className:"p-3 rounded-full bg-gradient-to-br from-primary/20 to-primary/5",children:s.jsx(l,{className:`w-8 h-8 ${o.color}`})})}),s.jsx(U,{className:"text-2xl",children:o.name}),s.jsx("p",{className:"text-muted-foreground text-sm",children:o.description}),s.jsx("div",{className:"pt-4",children:s.jsxs("div",{className:"text-4xl font-bold",children:["R$ ",o.price.toFixed(2).replace(".",","),s.jsx("span",{className:"text-lg text-muted-foreground font-normal",children:"/ms"})]})})]}),s.jsxs(O,{className:"space-y-6",children:[s.jsx("ul",{className:"space-y-3",children:o.features.map((m,h)=>s.jsxs("li",{className:"flex items-center gap-3",children:[s.jsx(Dc,{className:"w-4 h-4 text-green-500 flex-shrink-0"}),s.jsx("span",{className:"text-sm",children:m})]},h))}),s.jsx(A,{className:`w-full ${o.highlighted?"btn-gradient":""}`,variant:u?"secondary":o.highlighted?"default":"outline",onClick:()=>i(o.id),disabled:d||u,children:u?s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Qn,{className:"w-4 h-4"}),"Plano Atual"]}):d?s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-current"}),"Processando..."]}):s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Yg,{className:"w-4 h-4"}),"Escolher ",o.name]})})]})]},o.id)})}),s.jsx(M,{className:"bg-gradient-to-r from-primary/10 via-accent/10 to-secondary/10",children:s.jsx(O,{className:"p-8",children:s.jsxs("div",{className:"text-center space-y-4",children:[s.jsx("h2",{className:"text-2xl font-bold",children:"Por que escolher nossa plataforma?"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mt-6",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"w-12 h-12 bg-primary/20 rounded-full flex items-center justify-center mx-auto mb-3",children:s.jsx(us,{className:"w-6 h-6 text-primary"})}),s.jsx("h3",{className:"font-semibold mb-2",children:"Resultados Rpidos"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Veja mudanas significativas em suas mtricas de sade em poucas semanas"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"w-12 h-12 bg-accent/20 rounded-full flex items-center justify-center mx-auto mb-3",children:s.jsx(Qn,{className:"w-6 h-6 text-accent"})}),s.jsx("h3",{className:"font-semibold mb-2",children:"Tecnologia Avanada"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"IA e anlise de dados para insights personalizados sobre sua sade"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"w-12 h-12 bg-secondary/20 rounded-full flex items-center justify-center mx-auto mb-3",children:s.jsx(kt,{className:"w-6 h-6 text-secondary"})}),s.jsx("h3",{className:"font-semibold mb-2",children:"Suporte Especializado"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Equipe de especialistas em sade e bem-estar para te ajudar"})]})]})]})})}),s.jsxs(M,{children:[s.jsx($,{children:s.jsx(U,{children:"Perguntas Frequentes"})}),s.jsxs(O,{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold mb-2",children:"Posso cancelar a qualquer momento?"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Sim, voc pode cancelar sua assinatura a qualquer momento sem taxas adicionais."})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold mb-2",children:"H garantia de satisfao?"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Oferecemos 30 dias de garantia. Se no ficar satisfeito, devolvemos 100% do valor."})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold mb-2",children:"Como funciona o suporte?"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Plano bsico tem suporte por email, Premium tem suporte prioritrio e Pro tem suporte 24/7."})]})]})]})]})},tMe=()=>{var w,S;const[e,t]=p.useState(null),[r,a]=p.useState(null),[n,i]=p.useState(!0),[o,l]=p.useState("dashboard"),[c,d]=p.useState(!1),[u,m]=p.useState(!1),h=ur(),{toast:f}=Ee(),{profileData:g,loading:x,loadProfile:y}=OP(e);p.useEffect(()=>{z.auth.getSession().then(({data:{session:C}})=>{a(C),t((C==null?void 0:C.user)??null),i(!1),C||h("/auth")});const{data:{subscription:_}}=z.auth.onAuthStateChange((C,E)=>{a(E),t((E==null?void 0:E.user)??null),E||h("/auth")});return()=>_.unsubscribe()},[h]);const v=async()=>{await z.auth.signOut(),h("/")},b=[{id:"dashboard",icon:eee,label:"Dashboard",color:"text-primary"},{id:"missions",icon:Te,label:"Misso do Dia",color:"text-secondary"},{id:"courses",icon:ZZ,label:"Plataforma dos Sonhos",color:"text-accent"},{id:"sessions",icon:ni,label:"Sesses",color:"text-muted-foreground"},{id:"comunidade",icon:Le,label:"Comunidade",color:"text-blue-500"},{id:"goals",icon:_e,label:"Minhas Metas",color:"text-green-500"},{id:"challenges",icon:jt,label:"Desafios",color:"text-orange-500"},{id:"saboteur-test",icon:Hs,label:"Teste de Sabotadores",color:"text-gray-500"},{id:"progress",icon:Ye,label:"Meu Progresso",color:"text-cyan-500"},{id:"subscriptions",icon:Yg,label:"Assinaturas",color:"text-purple-600"}],j=()=>{switch(o){case"dashboard":return s.jsx(NEe,{});case"missions":return s.jsx(AEe,{user:e});case"courses":return s.jsx(FEe,{user:e});case"progress":return s.jsx(TP,{});case"saboteur-test":return s.jsx(IW,{});case"sessions":return s.jsx(gV,{user:e});case"goals":return s.jsx(oH,{});case"challenges":return s.jsx(NV,{user:e});case"comunidade":return s.jsx(_P,{});case"subscriptions":return s.jsx(eMe,{});case"profile":return s.jsx("div",{className:"p-6",children:s.jsx(JEe,{user:e,onUpdateProfile:_=>{console.log("Perfil atualizado:",_),f({title:"Perfil atualizado!",description:"Suas informaes foram salvas com sucesso."})}})});case"debug":return s.jsx("div",{className:"p-6",children:s.jsx(FW,{})});default:return s.jsxs("div",{className:"p-6",children:[s.jsx("h1",{className:"text-3xl font-bold mb-4 capitalize",children:o.replace("-"," ")}),s.jsx(M,{className:"health-card",children:s.jsx(O,{className:"pt-6",children:s.jsx("p",{className:"text-muted-foreground",children:"Esta funcionalidade est em desenvolvimento..."})})})]})}},N=({isMobile:_=!1})=>{var E,T;const C=_?!0:u;return s.jsxs("div",{className:"flex flex-col h-full bg-card",children:[!_&&s.jsx("div",{className:"p-4 border-b border-border/10",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(A,{variant:"ghost",size:"sm",onClick:()=>m(!u),className:"hover:bg-accent/50 transition-smooth",children:s.jsx(GE,{className:"h-5 w-5"})}),u&&s.jsx("span",{className:"text-sm font-medium text-foreground",children:"Menu"})]})}),_&&s.jsx("div",{className:"p-4 border-b border-border/10",children:s.jsx("span",{className:"text-lg font-semibold text-foreground",children:"Menu"})}),!x&&s.jsx("div",{className:"p-4 border-b border-border/10",children:s.jsxs(Z3,{children:[s.jsx(e5,{asChild:!0,children:s.jsx(A,{variant:"ghost",className:"w-full p-0 h-auto hover:bg-accent/30 transition-smooth",children:s.jsxs("div",{className:"flex flex-col items-center gap-3",children:[s.jsxs("div",{className:"relative",children:[(Ju(g.avatarUrl,g.fullName||(e==null?void 0:e.email)||"User"),s.jsx(XTe,{currentAvatar:g.avatarUrl,userName:g.fullName||(e==null?void 0:e.email)||"User",size:C?"xl":"lg",onAvatarUpdate:async k=>{await y()},className:"transition-all duration-200"})),s.jsx("div",{className:`absolute ${C?"-bottom-1 -right-1 w-5 h-5":"-bottom-0.5 -right-0.5 w-4 h-4"} bg-green-500 rounded-full border-2 border-background`,children:C&&s.jsx("div",{className:"w-2 h-2 bg-white rounded-full absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2"})})]}),C&&s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-sm font-semibold text-foreground truncate max-w-[200px]",children:g.fullName||((E=e==null?void 0:e.user_metadata)==null?void 0:E.full_name)||((T=e==null?void 0:e.email)==null?void 0:T.split("@")[0])||"Usurio"}),s.jsx("p",{className:"text-xs text-muted-foreground truncate max-w-[200px]",children:g.email||(e==null?void 0:e.email)}),s.jsx(X,{variant:"secondary",className:"text-xs bg-green-500/20 text-green-400 border-green-500/30 mt-1",children:"Online"})]})]})})}),s.jsx(I2,{side:"right",className:"w-96 p-0",children:s.jsx(QTe,{user:e,onUpdateProfile:k=>{console.log("Perfil atualizado:",k),f({title:"Perfil atualizado!",description:"Suas informaes foram salvas com sucesso."})}})})]})}),s.jsx("div",{className:"flex-1 overflow-y-auto py-4",children:s.jsx("nav",{className:"space-y-1 px-2",children:b.map(k=>{const P=k.icon;return s.jsxs(A,{variant:o===k.id?"secondary":"ghost",className:`w-full ${C?"justify-start":"justify-center"} gap-3 h-12 ${o===k.id?"bg-muted font-medium":""}`,onClick:()=>{l(k.id),d(!1)},children:[s.jsx(P,{className:`h-7 w-7 ${k.color}`}),C&&s.jsx("span",{className:"text-left text-base",children:k.label})]},k.id)})})}),s.jsx("div",{className:"p-3 border-t border-border/20",children:s.jsxs(A,{onClick:v,variant:"outline",size:"sm",className:`${C?"w-full":"w-10"} h-8 bg-red-500/10 border-red-500/30 text-red-400 hover:bg-red-500/20 hover:border-red-500/50 transition-smooth text-xs`,children:[s.jsx(A0,{className:"h-3 w-3"}),C&&s.jsx("span",{className:"ml-1",children:"Sair"})]})})]})};return n?s.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx(He,{className:"h-12 w-12 text-primary mx-auto mb-4 animate-pulse"}),s.jsx("p",{className:"text-muted-foreground",children:"Carregando..."})]})}):e?((((w=e.user_metadata)==null?void 0:w.full_name)||((S=e.email)==null?void 0:S.split("@")[0])||"Usurio").split(" ")[0],s.jsx("div",{className:"min-h-screen bg-background",children:s.jsxs("div",{className:"flex h-screen",children:[s.jsx("div",{className:"lg:hidden fixed top-4 left-4 z-50",children:s.jsxs(Z3,{open:c,onOpenChange:d,children:[s.jsx(e5,{asChild:!0,children:s.jsx(A,{variant:"ghost",size:"sm",className:"bg-card/90 backdrop-blur-sm shadow-elegant border border-border/20 hover:bg-accent/30 transition-smooth p-2",children:s.jsx(GE,{className:"h-5 w-5"})})}),s.jsx(I2,{side:"left",className:"w-80 p-0",children:s.jsx(N,{isMobile:!0})})]})}),s.jsx("aside",{className:`hidden lg:block ${u?"w-80":"w-20"} border-r border-border/20 bg-card/30 transition-all duration-300`,children:s.jsx(N,{isMobile:!1})}),s.jsx("main",{className:"flex-1 overflow-y-auto lg:ml-0 ml-0",children:s.jsx("div",{className:"lg:p-0 p-4 pt-16 lg:pt-0",children:j()})})]})})):null},UP=()=>{const{toast:e}=Ee();kl();const{data:t,isLoading:r}=Sn({queryKey:["enhanced-gamification"],queryFn:async()=>{const{data:{user:o}}=await z.auth.getUser();if(!o)return null;const l=[{id:"1",title:"Hidratao Diria",description:"Beba 2L de gua",challenge_type:"hydration",difficulty:"easy",target_value:2,xp_reward:50,category:"health",progress:0,is_completed:!1,expires_at:new Date(Date.now()+24*60*60*1e3)}];return{currentLevel:1,currentXP:0,xpToNextLevel:1e3,totalXP:0,currentStreak:0,bestStreak:0,badges:[{id:"1",name:"Primeira Resposta",description:"Complete sua primeira misso diria",icon:"target",color:"bronze",tier:"bronze",earned:!1,progress:0,maxProgress:1}],dailyChallenges:l,achievements:0,rank:"Bronze",lastActivityDate:new Date().toISOString()}},refetchInterval:3e4}),a=bn({mutationFn:async o=>(console.log("Completing challenge:",o),await new Promise(l=>setTimeout(l,500)),{challenge:{title:"Mock Challenge"},xpEarned:50}),onSuccess:o=>{e({title:"Desafio Concludo! ",description:`Voc ganhou ${o.xpEarned} XP!`})}}),n=bn({mutationFn:async({challengeId:o,progress:l})=>(console.log("Updating progress:",o,l),await new Promise(c=>setTimeout(c,500)),{challengeId:o,progress:l,isCompleted:l>=100,xpEarned:50}),onSuccess:o=>{o.isCompleted&&e({title:"Desafio Concludo! ",description:`+${o.xpEarned} XP!`})}}),i=async o=>(console.log("Getting tracking progress for:",o),0);return{gamificationData:t,isLoading:r,completeChallenge:a.mutate,isCompletingChallenge:a.isPending,updateChallengeProgress:n.mutate,isUpdatingProgress:n.isPending,getTrackingProgress:i}},Sb=()=>{const[e,t]=p.useState(null),[r,a]=p.useState(!0);p.useEffect(()=>{n()},[]);const n=async()=>{try{const{data:{user:d}}=await z.auth.getUser();if(!d){t(null),a(!1);return}t({waterIntake:{today:4,goal:8,streak:3,weeklyData:[],todayTotal:4,weeklyAverage:6},water:{today:[],todayTotal:4,goal:8,weeklyAverage:6},sleep:{lastNight:{hours:7.5,quality:4},goal:8,quality:85,weeklyAverage:7.2,weeklyData:[]},mood:{today:{day_rating:8,energy_level:4,stress_level:2},average:7.5,weeklyData:[]},exercise:{todayMinutes:30,weeklyGoal:150,streak:2,weeklyData:[]}})}catch(d){console.error("Erro ao carregar dados de tracking:",d),t(null)}finally{a(!1)}},i=async d=>{console.log("Adding water intake:",d),e&&t({...e,waterIntake:{...e.waterIntake,today:e.waterIntake.today+d}})},o=async d=>{console.log("Adding sleep data:",d.hours,d.quality),e&&t({...e,sleep:{...e.sleep,lastNight:{hours:d.hours,quality:d.quality}}})},l=async d=>{console.log("Adding mood data:",d.rating,d.energy,d.stress),e&&t({...e,mood:{...e.mood,today:{day_rating:d.rating,energy_level:d.energy,stress_level:d.stress}}})};return{trackingData:e,isLoading:r,addWaterIntake:i,addSleepData:o,addMoodData:l,addExerciseData:async(d,u)=>{console.log("Adding exercise data:",d,u),e&&t({...e,exercise:{...e.exercise,todayMinutes:e.exercise.todayMinutes+d}})},refreshData:n,addWater:i,addSleep:o,addMood:l,isAddingWater:!1,isAddingSleep:!1,isAddingMood:!1,water:e==null?void 0:e.waterIntake}},sMe=({currentStreak:e,bestStreak:t,isActive:r=!0,type:a="daily",label:n="Sequncia"})=>{const i=d=>d>=30?"text-orange-500":d>=14?"text-red-500":d>=7?"text-yellow-500":"text-blue-500",o=d=>d>=30?s.jsx(Be,{className:"w-6 h-6"}):d>=14?s.jsx(Ss,{className:"w-6 h-6"}):d>=7?s.jsx(us,{className:"w-6 h-6"}):s.jsx(Vt,{className:"w-6 h-6"}),l=d=>d>=30?"Lendrio! ":d>=14?"Em chamas! ":d>=7?"Incrvel! ":d>=3?"Aquecendo! ":"Continue! ",c=e>=7;return s.jsxs(M,{className:`relative overflow-hidden ${c?"border-orange-400 shadow-lg shadow-orange-200/50":""}`,children:[c&&s.jsx(pe.div,{className:"absolute inset-0 bg-gradient-to-r from-orange-500/10 to-red-500/10",animate:{opacity:[.3,.6,.3]},transition:{duration:2,repeat:1/0,ease:"easeInOut"}}),s.jsxs(O,{className:"p-6 text-center relative z-10",children:[s.jsx("div",{className:"flex items-center justify-center mb-4",children:s.jsx(pe.div,{className:`${i(e)} ${c?"drop-shadow-lg":""}`,animate:c?{scale:[1,1.1,1],rotate:[0,5,-5,0]}:{},transition:{duration:2,repeat:1/0,ease:"easeInOut"},children:o(e)})}),s.jsxs(pe.div,{initial:{scale:0},animate:{scale:1},transition:{type:"spring",stiffness:200,delay:.2},className:"space-y-2",children:[s.jsx("div",{className:"text-3xl font-bold text-foreground",children:e}),s.jsxs("div",{className:"text-sm text-muted-foreground",children:[n," ",a==="daily"?"diria":a==="weekly"?"semanal":""]})]}),s.jsxs("div",{className:"mt-4 space-y-2",children:[s.jsx(X,{variant:"outline",className:`${i(e)} border-current`,children:l(e)}),s.jsxs("div",{className:"text-xs text-muted-foreground",children:["Melhor: ",t," ",a==="daily"?"dias":a==="weekly"?"semanas":""]})]}),r&&e>0&&s.jsx(pe.div,{className:"mt-4 text-xs text-green-600 font-medium",animate:{opacity:[.5,1,.5]},transition:{duration:2,repeat:1/0},children:"Ativo hoje! "})]})]})},rMe={trophy:Be,flame:Ss,target:_e,star:kt,crown:Qn,zap:us,heart:He,calendar:Vt,trending:Ye,award:jt,medal:nf,gem:JZ},aMe={bronze:"from-amber-600 to-amber-800",silver:"from-gray-400 to-gray-600",gold:"from-yellow-400 to-yellow-600",platinum:"from-cyan-400 to-cyan-600",diamond:"from-purple-400 to-purple-600"},nMe={bronze:"shadow-amber-500/20",silver:"shadow-gray-500/20",gold:"shadow-yellow-500/30",platinum:"shadow-cyan-500/30",diamond:"shadow-purple-500/40"},iMe=({badges:e,showProgress:t=!0,layout:r="grid",animated:a=!0})=>{const n=e.filter(l=>l.earned),i=e.filter(l=>!l.earned),o=({badge:l,index:c})=>{const d=rMe[l.icon]||Be,u=l.progress&&l.maxProgress?l.progress/l.maxProgress*100:0;return s.jsxs(dre,{children:[s.jsx(ure,{asChild:!0,children:s.jsx(pe.div,{initial:a?{scale:0,rotate:-180}:{},animate:a?{scale:1,rotate:0}:{},transition:{type:"spring",stiffness:200,delay:c*.1},whileHover:{scale:1.05},whileTap:{scale:.95},children:s.jsxs(M,{className:`relative overflow-hidden cursor-pointer transition-all duration-300 ${l.earned?`border-2 ${nMe[l.tier]} shadow-lg bg-gradient-to-br ${aMe[l.tier]}`:"border-dashed border-muted-foreground/30 bg-muted/50"}`,children:[s.jsxs(O,{className:"p-4 text-center",children:[s.jsx("div",{className:`mx-auto w-12 h-12 rounded-full flex items-center justify-center mb-3 ${l.earned?"bg-white/20 backdrop-blur-sm":"bg-muted"}`,children:s.jsx(d,{className:`w-6 h-6 ${l.earned?"text-white":"text-muted-foreground"}`})}),s.jsx("h3",{className:`text-sm font-semibold mb-1 ${l.earned?"text-white":"text-muted-foreground"}`,children:l.name}),s.jsx(X,{variant:"outline",className:`mb-2 ${l.earned?"border-white/30 text-white bg-white/10":"border-muted-foreground/30"}`,children:l.tier.toUpperCase()}),!l.earned&&t&&l.progress!==void 0&&l.maxProgress&&s.jsx("div",{className:"w-full bg-muted rounded-full h-2 mb-2",children:s.jsx(pe.div,{className:"bg-primary h-2 rounded-full",initial:{width:0},animate:{width:`${u}%`},transition:{duration:1,delay:c*.1}})}),l.earned&&l.earnedAt&&s.jsxs("div",{className:"text-xs text-white/70",children:["Conquistado em ",l.earnedAt.toLocaleDateString("pt-BR")]}),!l.earned&&l.progress!==void 0&&l.maxProgress&&s.jsxs("div",{className:"text-xs text-muted-foreground",children:[l.progress,"/",l.maxProgress]})]}),l.earned&&s.jsx(pe.div,{className:"absolute inset-0 border-2 border-white/50 rounded-lg",animate:{opacity:[.5,1,.5]},transition:{duration:2,repeat:1/0,ease:"easeInOut"}})]})})}),s.jsx(J6,{children:s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"font-semibold",children:l.name}),s.jsx("p",{className:"text-sm text-muted-foreground",children:l.description}),s.jsxs("p",{className:"text-xs mt-1",children:["Requisito: ",l.requirement]})]})})]})};return s.jsxs("div",{className:"space-y-6",children:[n.length>0&&s.jsxs("div",{children:[s.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[s.jsx(Be,{className:"w-5 h-5 text-yellow-500"}),"Conquistas Desbloqueadas (",n.length,")"]}),s.jsx("div",{className:r==="grid"?"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-4":"space-y-2",children:n.map((l,c)=>s.jsx(o,{badge:l,index:c},l.id))})]}),i.length>0&&s.jsxs("div",{children:[s.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[s.jsx(_e,{className:"w-5 h-5 text-muted-foreground"}),"Prximas Conquistas (",i.length,")"]}),s.jsx("div",{className:r==="grid"?"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-4":"space-y-2",children:i.map((l,c)=>s.jsx(o,{badge:l,index:c+n.length},l.id))})]})]})},Kx=["Iniciante","Determinado","Focado","Dedicado","Persistente","Disciplinado","Experiente","Veterano","Mestre","Lenda","Transcendente"],oMe=({currentLevel:e,currentXP:t,xpToNextLevel:r,totalXP:a,achievements:n=0,rank:i="Bronze",animated:o=!0})=>{const l=t/(t+r)*100,c=Kx[Math.min(e,Kx.length-1)],d=h=>h>=10?"from-purple-500 to-pink-500":h>=8?"from-yellow-500 to-orange-500":h>=6?"from-blue-500 to-cyan-500":h>=4?"from-green-500 to-emerald-500":h>=2?"from-orange-500 to-red-500":"from-gray-500 to-gray-600",m=(h=>h>=10?Qn:h>=8?Be:h>=6?jt:h>=4?kt:h>=2?us:Ye)(e);return s.jsxs(M,{className:`relative overflow-hidden bg-gradient-to-br ${d(e)} text-white border-0`,children:[s.jsx("div",{className:"absolute inset-0 opacity-10",children:s.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(circle_at_50%_50%,rgba(255,255,255,0.1),transparent_70%)]"})}),s.jsx($,{className:"pb-4 relative z-10",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(pe.div,{animate:o?{rotate:[0,10,-10,0],scale:[1,1.1,1]}:{},transition:{duration:2,repeat:1/0,ease:"easeInOut"},className:"p-3 bg-white/20 rounded-full backdrop-blur-sm",children:s.jsx(m,{className:"w-6 h-6"})}),s.jsxs("div",{children:[s.jsxs(U,{className:"text-white text-2xl font-bold",children:["Nvel ",e]}),s.jsx("p",{className:"text-white/80 text-sm",children:c})]})]}),s.jsx(X,{variant:"secondary",className:"bg-white/20 text-white border-white/30",children:i})]})}),s.jsxs(O,{className:"space-y-6 relative z-10",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-white/80",children:"Experincia"}),s.jsxs("span",{className:"text-white font-medium",children:[t.toLocaleString()," / ",(t+r).toLocaleString()," XP"]})]}),s.jsxs("div",{className:"relative",children:[s.jsx(Ge,{value:l,className:"h-3 bg-white/20"}),s.jsx(pe.div,{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/30 to-transparent h-3 rounded-full",animate:{x:["-100%","100%"]},transition:{duration:2,repeat:1/0,ease:"easeInOut"}})]}),s.jsxs("div",{className:"text-center text-white/80 text-xs",children:[r.toLocaleString()," XP para o prximo nvel"]})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-4 text-center",children:[s.jsxs("div",{className:"bg-white/10 rounded-lg p-3 backdrop-blur-sm",children:[s.jsx("div",{className:"text-xl font-bold text-white",children:a.toLocaleString()}),s.jsx("div",{className:"text-xs text-white/70",children:"XP Total"})]}),s.jsxs("div",{className:"bg-white/10 rounded-lg p-3 backdrop-blur-sm",children:[s.jsx("div",{className:"text-xl font-bold text-white",children:n}),s.jsx("div",{className:"text-xs text-white/70",children:"Conquistas"})]}),s.jsxs("div",{className:"bg-white/10 rounded-lg p-3 backdrop-blur-sm",children:[s.jsxs(pe.div,{animate:o?{scale:[1,1.1,1]}:{},transition:{duration:1.5,repeat:1/0,ease:"easeInOut"},className:"text-xl font-bold text-white",children:["#",Math.floor(Math.random()*100)+1]}),s.jsx("div",{className:"text-xs text-white/70",children:"Ranking"})]})]}),e<Kx.length-1&&s.jsxs("div",{className:"bg-white/10 rounded-lg p-4 backdrop-blur-sm",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(kt,{className:"w-4 h-4 text-yellow-300"}),s.jsx("span",{className:"text-sm font-medium text-white",children:"Prximo Nvel"})]}),s.jsxs("div",{className:"text-white/80 text-sm",children:[s.jsx("strong",{children:Kx[e+1]})," - Nvel ",e+1]}),s.jsx("div",{className:"text-white/60 text-xs mt-1",children:"Desbloqueie novas conquistas e benefcios!"})]}),s.jsx(pe.div,{className:"absolute inset-0 pointer-events-none",animate:{background:["radial-gradient(circle at 50% 50%, rgba(255,255,255,0) 0%, rgba(255,255,255,0) 100%)","radial-gradient(circle at 50% 50%, rgba(255,255,255,0.1) 0%, rgba(255,255,255,0) 70%)","radial-gradient(circle at 50% 50%, rgba(255,255,255,0) 0%, rgba(255,255,255,0) 100%)"]},transition:{duration:3,repeat:1/0,ease:"easeInOut"}})]})]})},lMe=e=>{switch(e){case"easy":return"bg-green-100 text-green-800 border-green-200";case"medium":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"hard":return"bg-red-100 text-red-800 border-red-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},cMe=e=>{switch(e){case"easy":return"Fcil";case"medium":return"Mdio";case"hard":return"Difcil";default:return e}},dMe=(e,t)=>e?"bg-green-100 text-green-800 border-green-200":t>=80?"bg-blue-100 text-blue-800 border-blue-200":t>0?"bg-purple-100 text-purple-800 border-purple-200":"bg-yellow-100 text-yellow-800 border-yellow-200",uMe=(e,t)=>e?Se:t>=80?Ye:t>0?_e:Xt,mMe=(e,t)=>e?"Concludo":t>=80?"Quase Completo":t>0?"Em Progresso":"Disponvel",lH=({challenge:e,onComplete:t,onStart:r,showParticipants:a=!0,animated:n=!0})=>{const[i,o]=p.useState(""),[l,c]=p.useState(!1),[d,u]=p.useState(!1),[m,h]=p.useState(!1),f=ur(),{participate:g,isParticipating:x,getProgress:y,isParticipatingInChallenge:v}=wV(),b=e.target_value>0?e.current/e.target_value*100:0,j=uMe(e.completed,b),N=new Date(e.expiresAt).getTime()-new Date().getTime()<2*60*60*1e3,w=x(e.id);y(e.id),me.useEffect(()=>{w&&h(!1)},[w]),p.useEffect(()=>{const k=setInterval(()=>{const P=new Date().getTime(),I=new Date(e.expiresAt).getTime()-P;if(I>0){const V=Math.floor(I%864e5/36e5),W=Math.floor(I%(1e3*60*60)/(1e3*60));o(`${V}h ${W}m`)}else o("Expirado"),c(!0)},6e4);return()=>clearInterval(k)},[e.expiresAt]);const S=()=>{t==null||t(e.id)},_=()=>{!w&&!v&&!m&&(h(!0),g(e.id))},C=()=>{f(`/challenge/${e.id}`)},E=()=>{u(!d)},T=()=>{var k;(k=navigator.share)==null||k.call(navigator,{title:e.title,text:e.description,url:window.location.origin+`/challenge/${e.id}`})};return e.completed?s.jsxs(M,{className:"border-green-500 bg-green-50 dark:bg-green-950/20 relative overflow-hidden",children:[s.jsx($,{className:"pb-4 relative z-10",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 bg-green-500 rounded-full",children:s.jsx(Se,{className:"w-5 h-5 text-white"})}),s.jsxs("div",{children:[s.jsx(U,{className:"text-lg text-green-700 dark:text-green-300",children:e.title}),s.jsx("p",{className:"text-sm text-green-600 dark:text-green-400",children:"Desafio Concludo!"})]})]}),s.jsxs(X,{className:"bg-green-500 text-white",children:["+",e.xp_reward," XP"]})]})}),s.jsxs(O,{className:"relative z-10",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("span",{className:"text-sm text-green-600 dark:text-green-400",children:[e.current,"/",e.target_value," ",e.unit]}),s.jsx("span",{className:"text-xs text-green-500 font-medium",children:"100% COMPLETO"})]}),s.jsx(Ge,{value:100,className:"mt-2 h-2"}),e.specialReward&&s.jsx("div",{className:"mt-3 p-2 bg-yellow-100 dark:bg-yellow-950/20 rounded-lg",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(GN,{className:"w-4 h-4 text-yellow-600"}),s.jsxs("span",{className:"text-sm text-yellow-700 dark:text-yellow-300",children:["Recompensa especial: ",e.specialReward]})]})})]})]}):s.jsxs(M,{className:"h-full hover:shadow-lg transition-all duration-300 hover:scale-[1.02] cursor-pointer group",onClick:C,children:[s.jsx($,{className:"pb-3",children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-xl",children:e.difficulty==="easy"?"":e.difficulty==="medium"?"":""}),s.jsxs("div",{children:[s.jsx(U,{className:"text-lg line-clamp-1",children:e.title}),s.jsx("p",{className:"text-sm text-muted-foreground",children:e.category})]})]}),s.jsxs(X,{className:`${dMe(e.completed,b)} flex items-center gap-1`,children:[s.jsx(j,{className:"h-4 w-4"}),mMe(e.completed,b)]})]})}),s.jsxs(O,{className:"space-y-4",children:[e.description&&s.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2",children:e.description}),e.target_value&&!e.completed&&s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{children:"Progresso"}),s.jsxs("span",{className:"font-medium",children:[e.current," / ",e.target_value," ",e.unit]})]}),s.jsx(Ge,{value:b,className:"h-2"}),s.jsxs("p",{className:"text-xs text-muted-foreground text-right",children:[Math.round(b),"% completo"]})]}),s.jsxs("div",{className:"flex flex-wrap gap-2",children:[s.jsx(X,{variant:"outline",className:lMe(e.difficulty),children:cMe(e.difficulty)}),s.jsxs(X,{variant:"outline",className:"flex items-center gap-1",children:[s.jsx(us,{className:"h-3 w-3 text-yellow-500"}),e.xp_reward," XP"]}),e.type==="community"&&s.jsxs(X,{variant:"outline",className:"flex items-center gap-1",children:[s.jsx(Le,{className:"h-3 w-3"}),"Comunidade"]})]}),!l&&s.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[s.jsx(Xt,{className:"h-4 w-4"}),s.jsxs("span",{children:["Tempo restante: ",i]})]}),e.specialReward&&s.jsxs("div",{className:"p-3 bg-muted/50 rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(GN,{className:"w-4 h-4 text-yellow-600"}),s.jsx("span",{className:"text-sm font-medium",children:"Recompensa especial:"})]}),s.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:e.specialReward})]}),e.type==="community"&&a&&e.participants&&s.jsxs("div",{className:"flex items-center justify-between text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Participantes"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Le,{className:"w-4 h-4 text-muted-foreground"}),s.jsx("span",{children:e.participants.toLocaleString()}),e.completedBy&&s.jsxs(X,{variant:"secondary",className:"ml-2",children:[e.completedBy," completaram"]})]})]}),s.jsxs("div",{className:"flex items-center justify-between text-sm text-muted-foreground border-t pt-3",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("button",{onClick:k=>{k.stopPropagation(),E()},className:`flex items-center gap-1 hover:text-red-500 transition-colors ${d?"text-red-500":""}`,children:[s.jsx(He,{className:`w-4 h-4 ${d?"fill-current":""}`}),s.jsx("span",{children:(e.likes||0)+(d?1:0)})]}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(zi,{className:"w-4 h-4"}),s.jsx("span",{children:e.comments||0})]}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(Pi,{className:"w-4 h-4"}),s.jsx("span",{children:e.participants||0})]})]}),s.jsx("div",{className:"flex items-center gap-2",children:s.jsx("button",{onClick:k=>{k.stopPropagation(),T()},className:"hover:text-blue-500 transition-colors",children:s.jsx(ZS,{className:"w-4 h-4"})})})]}),s.jsx("div",{className:"flex gap-2 pt-2",children:l?s.jsx("div",{className:"w-full text-center",children:s.jsx("p",{className:"text-sm text-muted-foreground",children:"Desafio expirado"})}):e.completed?s.jsxs(A,{size:"sm",className:"flex-1 bg-green-600 hover:bg-green-700",onClick:k=>{k.stopPropagation(),S()},children:[s.jsx(jt,{className:"h-4 w-4 mr-2"}),"Recompensa Coletada"]}):b>=100?s.jsxs(A,{size:"sm",className:"flex-1 bg-green-600 hover:bg-green-700",onClick:k=>{k.stopPropagation(),S()},children:[s.jsx(Se,{className:"h-4 w-4 mr-2"}),"Reivindicar Recompensa"]}):b>0?s.jsxs("div",{className:"flex gap-2 w-full",children:[s.jsxs(A,{size:"sm",variant:"outline",className:"flex-1",onClick:C,children:[s.jsx(Pi,{className:"h-4 w-4 mr-2"}),"Ver Detalhes"]}),s.jsx(Yv,{challenge:{id:e.id,title:e.title,target_value:e.target_value,current:e.current,unit:e.unit,difficulty:e.difficulty,xp_reward:e.xp_reward,type:e.type},onUpdate:()=>{},children:s.jsx(A,{size:"sm",className:"flex-1",onClick:k=>k.stopPropagation(),children:"Atualizar"})})]}):s.jsx("div",{className:"flex gap-2 w-full",children:w?s.jsxs("div",{className:"flex gap-2 w-full",children:[s.jsxs(A,{size:"sm",variant:"outline",className:"flex-1",onClick:k=>{k.stopPropagation(),f(`/challenge/${e.id}`)},children:[s.jsx(Pi,{className:"h-4 w-4 mr-2"}),"Ver Progresso"]}),s.jsx(Yv,{challenge:{id:e.id,title:e.title,target_value:e.target_value,current:e.current,unit:e.unit,difficulty:e.difficulty,xp_reward:e.xp_reward,type:e.type},onUpdate:()=>{},children:s.jsx(A,{size:"sm",className:"flex-1",onClick:k=>k.stopPropagation(),children:"Atualizar"})})]}):s.jsxs("div",{className:"flex gap-2 w-full",children:[s.jsxs(A,{size:"sm",variant:"outline",className:"flex-1",onClick:C,children:[s.jsx(Pi,{className:"h-4 w-4 mr-2"}),"Ver Detalhes"]}),s.jsxs(A,{size:"sm",className:"flex-1 bg-gradient-to-r from-orange-500 to-red-500 hover:from-orange-600 hover:to-red-600",disabled:v||m,onClick:k=>{k.stopPropagation(),_()},children:[s.jsx(_e,{className:"h-4 w-4 mr-2"}),v||m?"Participando...":"Participar"]})]})})}),N&&!l&&!e.completed&&s.jsx("div",{className:"p-2 bg-orange-100 dark:bg-orange-950/20 rounded-lg border border-orange-200 dark:border-orange-800",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Xt,{className:"w-4 h-4 text-orange-600"}),s.jsxs("span",{className:"text-sm text-orange-700 dark:text-orange-300 font-medium",children:[" Tempo limitado! Apenas ",i," restantes"]})]})})]})]})},hMe=({targetDate:e,title:t="Tempo Restante",description:r,urgentThreshold:a=24,criticalThreshold:n=6,onComplete:i,showMilliseconds:o=!1})=>{const[l,c]=p.useState({days:0,hours:0,minutes:0,seconds:0,milliseconds:0,total:0}),[d,u]=p.useState(!1);p.useEffect(()=>{const y=setInterval(()=>{const v=new Date().getTime(),j=e.getTime()-v;if(j>0){const N=Math.floor(j/864e5),w=Math.floor(j%(1e3*60*60*24)/(1e3*60*60)),S=Math.floor(j%(1e3*60*60)/(1e3*60)),_=Math.floor(j%(1e3*60)/1e3),C=Math.floor(j%1e3/10);c({days:N,hours:w,minutes:S,seconds:_,milliseconds:C,total:j})}else c({days:0,hours:0,minutes:0,seconds:0,milliseconds:0,total:0}),d||(u(!0),i==null||i())},o?10:1e3);return()=>clearInterval(y)},[e,i,d,o]);const h=(()=>{const y=l.total/36e5;return y<=n?"critical":y<=a?"urgent":"normal"})(),f=()=>{switch(h){case"critical":return"border-red-500 bg-red-50 dark:bg-red-950/20";case"urgent":return"border-orange-500 bg-orange-50 dark:bg-orange-950/20";default:return"border-blue-500 bg-blue-50 dark:bg-blue-950/20"}},g=()=>{if(d)return s.jsx(Se,{className:"w-5 h-5 text-green-500"});switch(h){case"critical":case"urgent":return s.jsx(pe.div,{animate:{scale:[1,1.2,1]},transition:{duration:1,repeat:1/0},children:s.jsx(Bt,{className:`w-5 h-5 ${h==="critical"?"text-red-500":"text-orange-500"}`})});default:return s.jsx(Xt,{className:"w-5 h-5 text-blue-500"})}},x=y=>y.toString().padStart(2,"0");return d?s.jsx(M,{className:"border-green-500 bg-green-50 dark:bg-green-950/20",children:s.jsx(O,{className:"p-6 text-center",children:s.jsxs(pe.div,{initial:{scale:0},animate:{scale:1},transition:{type:"spring",stiffness:200},children:[s.jsx(Se,{className:"w-12 h-12 text-green-500 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-semibold text-green-700 dark:text-green-300",children:"Tempo Esgotado!"}),s.jsxs("p",{className:"text-sm text-green-600 dark:text-green-400",children:[t," chegou ao fim"]})]})})}):s.jsx(M,{className:`${f()} transition-all duration-300`,children:s.jsxs(O,{className:"p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[g(),s.jsx("h3",{className:"text-lg font-semibold",children:t})]}),h!=="normal"&&s.jsx(X,{variant:h==="critical"?"destructive":"default",children:h==="critical"?"CRTICO":"URGENTE"})]}),r&&s.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:r}),s.jsxs("div",{className:"grid grid-cols-4 gap-4",children:[s.jsxs("div",{className:"text-center",children:[s.jsx(pe.div,{initial:{scale:1.2},animate:{scale:1},transition:{duration:.2},className:"text-3xl font-bold text-foreground",children:x(l.days)},l.days),s.jsx("div",{className:"text-xs text-muted-foreground",children:"DIAS"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx(pe.div,{initial:{scale:1.2},animate:{scale:1},transition:{duration:.2},className:`text-3xl font-bold ${h==="critical"?"text-red-500":h==="urgent"?"text-orange-500":"text-foreground"}`,children:x(l.hours)},l.hours),s.jsx("div",{className:"text-xs text-muted-foreground",children:"HORAS"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx(pe.div,{initial:{scale:1.2},animate:{scale:1},transition:{duration:.2},className:"text-3xl font-bold text-foreground",children:x(l.minutes)},l.minutes),s.jsx("div",{className:"text-xs text-muted-foreground",children:"MIN"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx(pe.div,{initial:{scale:1.2},animate:{scale:1},transition:{duration:.2},className:"text-3xl font-bold text-foreground",children:x(l.seconds)},l.seconds),s.jsx("div",{className:"text-xs text-muted-foreground",children:"SEG"})]})]}),o&&s.jsx("div",{className:"text-center mt-4",children:s.jsxs(pe.div,{className:"text-lg font-mono text-muted-foreground",children:[".",x(l.milliseconds)]},l.milliseconds)}),s.jsx("div",{className:"mt-6",children:s.jsx("div",{className:"w-full bg-muted rounded-full h-2",children:s.jsx(pe.div,{className:`h-2 rounded-full transition-all duration-300 ${h==="critical"?"bg-red-500":h==="urgent"?"bg-orange-500":"bg-blue-500"}`,style:{width:`${Math.max(0,Math.min(100,l.total/(1e3*60*60*24)*4))}%`}})})})]})})},cH=()=>{const{trackingData:e,addWater:t,isAddingWater:r}=Sb();if(!e)return null;const{water:a}=e,n=a.todayTotal/a.goal*100,i=a.todayTotal>=a.goal;return s.jsxs(M,{className:"relative overflow-hidden",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-50 to-blue-100 dark:from-blue-950/20 dark:to-blue-900/20"}),s.jsx($,{className:"relative pb-3",children:s.jsxs(U,{className:"flex items-center gap-2 text-blue-700 dark:text-blue-300",children:[s.jsx(Bi,{className:"w-5 h-5"}),"Hidratao"]})}),s.jsxs(O,{className:"relative space-y-4",children:[s.jsxs("div",{className:"text-center space-y-3",children:[s.jsxs("div",{className:"relative",children:[s.jsxs(pe.div,{className:"text-3xl font-bold text-blue-600 dark:text-blue-400",animate:{scale:i?[1,1.1,1]:1},transition:{duration:.5},children:[a.todayTotal,s.jsxs("span",{className:"text-lg text-muted-foreground",children:["/",a.goal]})]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"copos de gua"})]}),s.jsx(Ge,{value:Math.min(n,100),className:"h-3"}),s.jsx("div",{className:"text-xs text-muted-foreground",children:n>=100?s.jsx("span",{className:"text-green-600 font-medium",children:" Meta atingida!"}):`${Math.round(n)}% da meta diria`})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(A,{onClick:()=>t(1),disabled:r,className:"w-full bg-blue-600 hover:bg-blue-700 text-white",size:"lg",children:[s.jsx(_s,{className:"w-4 h-4 mr-2"}),"Beber 1 copo"]}),s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsx(A,{onClick:()=>t(2),disabled:r,variant:"outline",size:"sm",className:"text-blue-600 border-blue-200",children:"+2 copos"}),s.jsx(A,{onClick:()=>t(3),disabled:r,variant:"outline",size:"sm",className:"text-blue-600 border-blue-200",children:"+3 copos"})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4 pt-3 border-t border-blue-200 dark:border-blue-800",children:[s.jsxs("div",{className:"text-center",children:[s.jsxs("div",{className:"flex items-center justify-center gap-1 mb-1",children:[s.jsx(_e,{className:"w-3 h-3 text-blue-500"}),s.jsx("span",{className:"text-xs text-muted-foreground",children:"Meta"})]}),s.jsxs("p",{className:"text-sm font-medium",children:[a.goal," copos"]})]}),s.jsxs("div",{className:"text-center",children:[s.jsxs("div",{className:"flex items-center justify-center gap-1 mb-1",children:[s.jsx(Ye,{className:"w-3 h-3 text-green-500"}),s.jsx("span",{className:"text-xs text-muted-foreground",children:"Mdia"})]}),s.jsxs("p",{className:"text-sm font-medium",children:[a.weeklyAverage," copos"]})]})]}),a.today.length>0&&s.jsxs("div",{className:"pt-3 border-t border-blue-200 dark:border-blue-800",children:[s.jsx("p",{className:"text-xs text-muted-foreground mb-2",children:"Registros de hoje:"}),s.jsxs("div",{className:"space-y-1 max-h-20 overflow-y-auto",children:[a.today.slice(0,3).map((o,l)=>s.jsxs("div",{className:"flex items-center justify-between text-xs",children:[s.jsx("span",{className:"text-muted-foreground",children:new Date(o.recorded_at).toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"})}),s.jsxs("span",{className:"font-medium",children:[Math.floor(o.amount_ml/250)," copo",Math.floor(o.amount_ml/250)>1?"s":""]})]},o.id)),a.today.length>3&&s.jsxs("p",{className:"text-xs text-muted-foreground text-center",children:["+",a.today.length-3," mais registros"]})]})]})]})]})},dH=()=>{var m,h;const{trackingData:e,addSleep:t,addMood:r,isAddingSleep:a,isAddingMood:n}=Sb(),[i,o]=me.useState({hours:8,quality:3,notes:""}),[l,c]=me.useState({energy:3,stress:3,rating:7,gratitude:""});if(!e)return s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[...Array(3)].map((f,g)=>s.jsxs(M,{className:"animate-pulse",children:[s.jsx($,{children:s.jsx("div",{className:"h-4 bg-muted rounded w-3/4"})}),s.jsx(O,{children:s.jsx("div",{className:"h-20 bg-muted rounded"})})]},g))});const d=f=>{f.preventDefault(),t(i)},u=f=>{f.preventDefault(),r(l)};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[s.jsx(cH,{}),s.jsxs(M,{className:"relative overflow-hidden",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-purple-50 to-purple-100 dark:from-purple-950/20 dark:to-purple-900/20"}),s.jsx($,{className:"relative",children:s.jsxs(U,{className:"flex items-center gap-2 text-purple-700 dark:text-purple-300",children:[s.jsx(ii,{className:"w-5 h-5"}),"Sono"]})}),s.jsxs(O,{className:"relative space-y-4",children:[s.jsxs("div",{className:"text-center",children:[s.jsxs("div",{className:"text-2xl font-bold text-purple-600 dark:text-purple-400",children:[((m=e.sleep.lastNight)==null?void 0:m.hours)||0,"h"]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"ltima noite"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4 text-center",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-muted-foreground",children:"Qualidade"}),s.jsx("div",{className:"flex justify-center gap-1 mt-1",children:[1,2,3,4,5].map(f=>{var g;return s.jsx("span",{className:`text-sm ${f<=(((g=e.sleep.lastNight)==null?void 0:g.quality)||0)?"text-yellow-400":"text-gray-300"}`,children:""},f)})})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-muted-foreground",children:"Mdia semanal"}),s.jsxs("p",{className:"text-sm font-medium",children:[e.sleep.weeklyAverage.toFixed(1),"h"]})]})]})]})]}),s.jsxs(M,{className:"relative overflow-hidden",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-green-50 to-green-100 dark:from-green-950/20 dark:to-green-900/20"}),s.jsx($,{className:"relative",children:s.jsxs(U,{className:"flex items-center gap-2 text-green-700 dark:text-green-300",children:[s.jsx(He,{className:"w-5 h-5"}),"Humor"]})}),s.jsxs(O,{className:"relative space-y-4",children:[s.jsxs("div",{className:"text-center",children:[s.jsxs("div",{className:"text-2xl font-bold text-green-600 dark:text-green-400",children:[((h=e.mood.today)==null?void 0:h.day_rating)||0,"/10"]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"avaliao do dia"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4 text-center text-xs",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-muted-foreground",children:"Energia"}),s.jsx("div",{className:"flex justify-center gap-1 mt-1",children:[1,2,3,4,5].map(f=>{var g;return s.jsx("div",{className:`w-2 h-3 rounded-sm ${f<=(((g=e.mood.today)==null?void 0:g.energy_level)||0)?"bg-green-500":"bg-gray-300"}`},f)})})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-muted-foreground",children:"Estresse"}),s.jsx("div",{className:"flex justify-center gap-1 mt-1",children:[1,2,3,4,5].map(f=>{var g;return s.jsx("div",{className:`w-2 h-3 rounded-sm ${f<=(((g=e.mood.today)==null?void 0:g.stress_level)||0)?"bg-red-500":"bg-gray-300"}`},f)})})]})]})]})]})]}),s.jsxs(ga,{defaultValue:"sleep",className:"space-y-6",children:[s.jsxs(Gr,{className:"grid w-full grid-cols-2",children:[s.jsxs(Ve,{value:"sleep",className:"flex items-center gap-2",children:[s.jsx(ii,{className:"w-4 h-4"}),"Registrar Sono"]}),s.jsxs(Ve,{value:"mood",className:"flex items-center gap-2",children:[s.jsx(He,{className:"w-4 h-4"}),"Registrar Humor"]})]}),s.jsx(ct,{value:"sleep",children:s.jsxs(M,{children:[s.jsx($,{children:s.jsx(U,{children:"Como foi seu sono?"})}),s.jsx(O,{children:s.jsxs("form",{onSubmit:d,className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(Y,{htmlFor:"hours",children:"Horas dormidas"}),s.jsx(re,{id:"hours",type:"number",min:"0",max:"24",step:"0.5",value:i.hours,onChange:f=>o(g=>({...g,hours:parseFloat(f.target.value)}))})]}),s.jsxs("div",{children:[s.jsx(Y,{htmlFor:"quality",children:"Qualidade (1-5)"}),s.jsx(re,{id:"quality",type:"number",min:"1",max:"5",value:i.quality,onChange:f=>o(g=>({...g,quality:parseInt(f.target.value)}))})]})]}),s.jsxs("div",{children:[s.jsx(Y,{htmlFor:"notes",children:"Observaes (opcional)"}),s.jsx(Ke,{id:"notes",placeholder:"Como se sente ao acordar? Sonhos, interrupes...",value:i.notes,onChange:f=>o(g=>({...g,notes:f.target.value}))})]}),s.jsx(A,{type:"submit",disabled:a,className:"w-full",children:"Registrar Sono"})]})})]})}),s.jsx(ct,{value:"mood",children:s.jsxs(M,{children:[s.jsx($,{children:s.jsx(U,{children:"Como est seu humor hoje?"})}),s.jsx(O,{children:s.jsxs("form",{onSubmit:u,className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx(Y,{htmlFor:"energy",children:"Energia (1-5)"}),s.jsx(re,{id:"energy",type:"number",min:"1",max:"5",value:l.energy,onChange:f=>c(g=>({...g,energy:parseInt(f.target.value)}))})]}),s.jsxs("div",{children:[s.jsx(Y,{htmlFor:"stress",children:"Estresse (1-5)"}),s.jsx(re,{id:"stress",type:"number",min:"1",max:"5",value:l.stress,onChange:f=>c(g=>({...g,stress:parseInt(f.target.value)}))})]}),s.jsxs("div",{children:[s.jsx(Y,{htmlFor:"rating",children:"Nota do dia (1-10)"}),s.jsx(re,{id:"rating",type:"number",min:"1",max:"10",value:l.rating,onChange:f=>c(g=>({...g,rating:parseInt(f.target.value)}))})]})]}),s.jsxs("div",{children:[s.jsx(Y,{htmlFor:"gratitude",children:"Gratido do dia (opcional)"}),s.jsx(Ke,{id:"gratitude",placeholder:"Pelo que voc  grato hoje?",value:l.gratitude,onChange:f=>c(g=>({...g,gratitude:f.target.value}))})]}),s.jsx(A,{type:"submit",disabled:n,className:"w-full",children:"Registrar Humor"})]})})]})})]})]})},fMe=()=>{const{gamificationData:e,isLoading:t,completeChallenge:r}=UP();if(Sb(),t)return s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[...Array(6)].map((f,g)=>s.jsxs(M,{className:"animate-pulse",children:[s.jsx($,{children:s.jsx("div",{className:"h-4 bg-muted rounded w-3/4"})}),s.jsx(O,{children:s.jsx("div",{className:"h-20 bg-muted rounded"})})]},g))});if(!e)return null;const{currentLevel:a,currentXP:n,xpToNextLevel:i,totalXP:o,currentStreak:l,bestStreak:c,badges:d,dailyChallenges:u,achievements:m,rank:h}=e;return s.jsxs("div",{className:"space-y-6",children:[s.jsx(pe.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5},children:s.jsx(oMe,{currentLevel:a,currentXP:n,xpToNextLevel:i,totalXP:o,achievements:m,rank:h,animated:!0})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsx(pe.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:.1},children:s.jsx(M,{className:"text-center bg-gradient-to-br from-blue-500 to-blue-600 text-white border-0",children:s.jsxs(O,{className:"p-6",children:[s.jsx(Be,{className:"w-8 h-8 mx-auto mb-2 text-yellow-300"}),s.jsx("div",{className:"text-2xl font-bold",children:m}),s.jsx("div",{className:"text-sm text-blue-100",children:"Conquistas"})]})})}),s.jsx(pe.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:.2},children:s.jsx(M,{className:"text-center bg-gradient-to-br from-green-500 to-green-600 text-white border-0",children:s.jsxs(O,{className:"p-6",children:[s.jsx(_e,{className:"w-8 h-8 mx-auto mb-2"}),s.jsx("div",{className:"text-2xl font-bold",children:Math.floor(Math.random()*20)+5}),s.jsx("div",{className:"text-sm text-green-100",children:"Metas Ativas"})]})})}),s.jsx(pe.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:.3},children:s.jsx(M,{className:"text-center bg-gradient-to-br from-orange-500 to-red-500 text-white border-0",children:s.jsxs(O,{className:"p-6",children:[s.jsx(Ss,{className:"w-8 h-8 mx-auto mb-2"}),s.jsx("div",{className:"text-2xl font-bold",children:l}),s.jsx("div",{className:"text-sm text-orange-100",children:"Sequncia"})]})})}),s.jsx(pe.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:.4},children:s.jsx(M,{className:"text-center bg-gradient-to-br from-purple-500 to-pink-500 text-white border-0",children:s.jsxs(O,{className:"p-6",children:[s.jsx(Le,{className:"w-8 h-8 mx-auto mb-2"}),s.jsxs("div",{className:"text-2xl font-bold",children:["#",Math.floor(Math.random()*100)+1]}),s.jsx("div",{className:"text-sm text-purple-100",children:"Ranking"})]})})})]}),s.jsxs(ga,{defaultValue:"overview",className:"space-y-6",children:[s.jsxs(Gr,{className:"grid w-full grid-cols-4",children:[s.jsxs(Ve,{value:"overview",className:"flex items-center gap-2",children:[s.jsx(kt,{className:"w-4 h-4"}),"Viso Geral"]}),s.jsxs(Ve,{value:"challenges",className:"flex items-center gap-2",children:[s.jsx(_e,{className:"w-4 h-4"}),"Desafios"]}),s.jsxs(Ve,{value:"badges",className:"flex items-center gap-2",children:[s.jsx(Be,{className:"w-4 h-4"}),"Conquistas"]}),s.jsxs(Ve,{value:"community",className:"flex items-center gap-2",children:[s.jsx(Le,{className:"w-4 h-4"}),"Comunidade"]})]}),s.jsxs(ct,{value:"overview",className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"space-y-6",children:[s.jsxs(M,{children:[s.jsx($,{children:s.jsxs(U,{className:"flex items-center gap-2",children:[s.jsx(_e,{className:"w-5 h-5"}),"Progresso Hoje"]})}),s.jsx(O,{className:"flex justify-center",children:s.jsx(pP,{progress:e?e.currentXP/1e3*100:0,size:150,strokeWidth:8,gradientColors:["hsl(var(--primary))","hsl(var(--accent))"],animated:!0,children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-2xl font-bold",children:(e==null?void 0:e.currentXP)||0}),s.jsx("div",{className:"text-sm text-muted-foreground",children:"XP no nvel"})]})})})]}),s.jsx(sMe,{currentStreak:l,bestStreak:c,isActive:!0,type:"daily",label:"Sequncia de progresso"})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("h3",{className:"text-lg font-semibold flex items-center gap-2",children:[s.jsx(Vt,{className:"w-5 h-5"}),"Desafios de Hoje"]}),u.map(f=>s.jsxs(M,{className:"p-4",children:[s.jsxs("div",{className:"flex justify-between items-start mb-2",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium",children:f.title}),s.jsx("p",{className:"text-sm text-muted-foreground",children:f.description})]}),s.jsxs("div",{className:"text-xs bg-primary/10 text-primary px-2 py-1 rounded",children:["+",f.xp_reward," XP"]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{children:"Progresso"}),s.jsxs("span",{children:[f.progress,"/",f.target_value]})]}),s.jsx(Ge,{value:f.progress/f.target_value*100,className:"h-2"})]}),!f.is_completed&&s.jsx(A,{onClick:()=>r(f.id),className:"w-full mt-3",size:"sm",children:"Concluir Desafio"}),f.is_completed&&s.jsx("div",{className:"mt-3 text-center text-green-600 font-medium text-sm",children:" Completado!"})]},f.id))]})]}),s.jsxs("div",{className:"mt-8",children:[s.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Seu Tracking de Hoje"}),s.jsx(dH,{})]})]}),s.jsx(ct,{value:"challenges",className:"space-y-6",children:s.jsxs("div",{className:"grid grid-cols-1 gap-6",children:[s.jsx("h2",{className:"text-2xl font-bold",children:"Desafios Disponveis"}),s.jsx(hMe,{targetDate:new Date(Date.now()+6*60*60*1e3),title:"Prximo Desafio Especial",description:"Desafio da Comunidade: Meta Coletiva de 1000 pontos",urgentThreshold:8,criticalThreshold:2,onComplete:()=>console.log("Novo desafio disponvel!")}),s.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:u.map((f,g)=>s.jsx(pe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:g*.1},children:s.jsx(lH,{challenge:{id:f.id,title:f.title,category:f.category||"geral",type:f.challenge_type==="community"?"community":"individual",target_value:f.target_value||1,current:0,unit:"pontos",description:f.description||"",difficulty:f.difficulty==="medium"||f.difficulty==="hard"?f.difficulty:"easy",xp_reward:f.xp_reward||50,expiresAt:new Date(Date.now()+24*60*60*1e3),completed:!1},onComplete:r,showParticipants:!0,animated:!0})},f.id))})]})}),s.jsx(ct,{value:"badges",className:"space-y-6",children:s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Sistema de Conquistas"}),s.jsx(iMe,{badges:d,showProgress:!0,layout:"grid",animated:!0})]})}),s.jsx(ct,{value:"community",className:"space-y-6",children:s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs(M,{children:[s.jsx($,{children:s.jsx(U,{children:"Ranking da Comunidade"})}),s.jsx(O,{children:s.jsx("div",{className:"space-y-4",children:[1,2,3,4,5].map(f=>s.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/50 rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-white text-sm font-bold ${f===1?"bg-yellow-500":f===2?"bg-gray-400":f===3?"bg-amber-600":"bg-blue-500"}`,children:f}),s.jsxs("div",{children:[s.jsxs("div",{className:"font-medium",children:["Usurio ",f]}),s.jsxs("div",{className:"text-sm text-muted-foreground",children:["Nvel ",10-f+a]})]})]}),s.jsxs("div",{className:"text-right",children:[s.jsxs("div",{className:"font-bold",children:[(5e4-f*5e3).toLocaleString()," XP"]}),s.jsxs("div",{className:"text-sm text-muted-foreground",children:[20-f," conquistas"]})]})]},f))})})]}),s.jsxs(M,{children:[s.jsx($,{children:s.jsx(U,{children:"Atividade da Comunidade"})}),s.jsx(O,{children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"p-3 border rounded-lg",children:[s.jsx("div",{className:"font-medium",children:' Ana completou o desafio "Hidratao Diria"'}),s.jsx("div",{className:"text-sm text-muted-foreground",children:"h 2 minutos"})]}),s.jsxs("div",{className:"p-3 border rounded-lg",children:[s.jsx("div",{className:"font-medium",children:" Joo mantm sequncia de 15 dias!"}),s.jsx("div",{className:"text-sm text-muted-foreground",children:"h 5 minutos"})]}),s.jsxs("div",{className:"p-3 border rounded-lg",children:[s.jsx("div",{className:"font-medium",children:" Maria subiu para o Nvel 8"}),s.jsx("div",{className:"text-sm text-muted-foreground",children:"h 10 minutos"})]})]})})]})]})})]})]})},pMe=()=>{var d,u,m,h;const[e,t]=p.useState(null),[r,a]=p.useState(!0);Ee();const n=ur(),{gamificationData:i}=UP(),{trackingData:o}=Sb();p.useEffect(()=>{z.auth.getSession().then(({data:{session:g}})=>{t((g==null?void 0:g.user)??null),a(!1),g||n("/auth")});const{data:{subscription:f}}=z.auth.onAuthStateChange((g,x)=>{t((x==null?void 0:x.user)??null),x||n("/auth")});return()=>f.unsubscribe()},[n]);const l=async()=>{await z.auth.signOut(),n("/")};if(r)return s.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx(He,{className:"h-12 w-12 text-primary mx-auto mb-4 animate-pulse"}),s.jsx("p",{className:"text-muted-foreground",children:"Carregando..."})]})});if(!e)return null;const c=((d=e.user_metadata)==null?void 0:d.full_name)||((u=e.email)==null?void 0:u.split("@")[0])||"Usurio";return s.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-purple-50 dark:from-gray-900 dark:via-gray-800 dark:to-purple-900",children:[s.jsx("header",{className:"border-b border-border/20 bg-white/80 dark:bg-gray-900/80 backdrop-blur-lg sticky top-0 z-50 shadow-sm",children:s.jsxs("div",{className:"container mx-auto px-4 py-4 flex justify-between items-center",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("div",{className:"relative",children:[s.jsx(He,{className:"h-8 w-8 text-primary"}),s.jsx("div",{className:"absolute -top-1 -right-1 w-3 h-3 bg-green-500 rounded-full animate-pulse"})]}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-xl font-bold text-foreground",children:"Instituto dos Sonhos"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Dashboard Melhorado"})]})]}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("div",{className:"text-right hidden sm:block",children:[s.jsxs("p",{className:"text-sm font-medium",children:["Ol, ",c,"!"]}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:["Nvel ",(i==null?void 0:i.currentLevel)||1,"  ",(i==null?void 0:i.totalXP)||0," XP"]})]}),s.jsx(ZU,{}),s.jsxs(A,{onClick:l,variant:"outline",size:"sm",children:[s.jsx(A0,{className:"h-4 w-4 mr-2"}),"Sair"]})]})]})}),s.jsx("section",{className:"relative py-8 px-4",children:s.jsxs("div",{className:"container mx-auto text-center",children:[s.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-2 bg-primary/10 text-primary rounded-full text-sm font-medium mb-4",children:[s.jsx(Ye,{className:"w-4 h-4"}),"Sistema Melhorado com Tracking Real"]}),s.jsx("h1",{className:"text-3xl md:text-4xl font-bold mb-4 bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent",children:"Sua Jornada de Transformao"}),s.jsx("p",{className:"text-lg text-muted-foreground mb-8 max-w-2xl mx-auto",children:"Agora com sistema de gamificao real, tracking automtico e desafios personalizados"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 max-w-4xl mx-auto",children:[s.jsx(M,{className:"bg-gradient-to-br from-blue-500 to-blue-600 text-white border-0",children:s.jsxs(O,{className:"p-4 text-center",children:[s.jsx(Be,{className:"w-6 h-6 mx-auto mb-2"}),s.jsx("div",{className:"text-2xl font-bold",children:(i==null?void 0:i.currentLevel)||1}),s.jsx("div",{className:"text-xs opacity-90",children:"Nvel Atual"})]})}),s.jsx(M,{className:"bg-gradient-to-br from-green-500 to-green-600 text-white border-0",children:s.jsxs(O,{className:"p-4 text-center",children:[s.jsx(_e,{className:"w-6 h-6 mx-auto mb-2"}),s.jsx("div",{className:"text-2xl font-bold",children:(i==null?void 0:i.achievements)||0}),s.jsx("div",{className:"text-xs opacity-90",children:"Conquistas"})]})}),s.jsx(M,{className:"bg-gradient-to-br from-purple-500 to-purple-600 text-white border-0",children:s.jsxs(O,{className:"p-4 text-center",children:[s.jsx(Bi,{className:"w-6 h-6 mx-auto mb-2"}),s.jsx("div",{className:"text-2xl font-bold",children:(o==null?void 0:o.water.todayTotal)||0}),s.jsx("div",{className:"text-xs opacity-90",children:"Copos de gua"})]})}),s.jsx(M,{className:"bg-gradient-to-br from-orange-500 to-red-500 text-white border-0",children:s.jsxs(O,{className:"p-4 text-center",children:[s.jsx(Te,{className:"w-6 h-6 mx-auto mb-2"}),s.jsx("div",{className:"text-2xl font-bold",children:(i==null?void 0:i.currentStreak)||0}),s.jsx("div",{className:"text-xs opacity-90",children:"Dias de Sequncia"})]})})]})]})}),s.jsx("main",{className:"container mx-auto px-4 pb-8",children:s.jsxs(ga,{defaultValue:"gamification",className:"space-y-6",children:[s.jsxs(Gr,{className:"grid w-full grid-cols-3 max-w-md mx-auto",children:[s.jsxs(Ve,{value:"gamification",className:"flex items-center gap-2 text-xs sm:text-sm",children:[s.jsx(QZ,{className:"w-4 h-4"}),s.jsx("span",{className:"hidden sm:inline",children:"Gamificao"}),s.jsx("span",{className:"sm:hidden",children:"Game"})]}),s.jsxs(Ve,{value:"tracking",className:"flex items-center gap-2 text-xs sm:text-sm",children:[s.jsx(ar,{className:"w-4 h-4"}),s.jsx("span",{className:"hidden sm:inline",children:"Tracking"}),s.jsx("span",{className:"sm:hidden",children:"Track"})]}),s.jsxs(Ve,{value:"quick",className:"flex items-center gap-2 text-xs sm:text-sm",children:[s.jsx(_e,{className:"w-4 h-4"}),s.jsx("span",{className:"hidden sm:inline",children:"Rpido"}),s.jsx("span",{className:"sm:hidden",children:"Quick"})]})]}),s.jsxs(ct,{value:"gamification",className:"space-y-6",children:[s.jsxs("div",{className:"text-center mb-6",children:[s.jsx("h2",{className:"text-2xl font-bold mb-2",children:" Sistema de Gamificao"}),s.jsx("p",{className:"text-muted-foreground",children:"Complete desafios, ganhe XP, desbloqueie conquistas e suba de nvel!"})]}),s.jsx(fMe,{})]}),s.jsxs(ct,{value:"tracking",className:"space-y-6",children:[s.jsxs("div",{className:"text-center mb-6",children:[s.jsx("h2",{className:"text-2xl font-bold mb-2",children:" Tracking Automtico"}),s.jsx("p",{className:"text-muted-foreground",children:"Acompanhe sua hidratao, sono e humor com dados salvos automaticamente"})]}),s.jsx(dH,{})]}),s.jsxs(ct,{value:"quick",className:"space-y-6",children:[s.jsxs("div",{className:"text-center mb-6",children:[s.jsx("h2",{className:"text-2xl font-bold mb-2",children:" Aes Rpidas"}),s.jsx("p",{className:"text-muted-foreground",children:"Registre rapidamente seus dados do dia"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[s.jsx(cH,{}),s.jsxs(M,{className:"relative overflow-hidden",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-purple-50 to-purple-100 dark:from-purple-950/20 dark:to-purple-900/20"}),s.jsx($,{className:"relative",children:s.jsxs(U,{className:"flex items-center gap-2 text-purple-700 dark:text-purple-300",children:[s.jsx(ii,{className:"w-5 h-5"}),"Sono Rpido"]})}),s.jsxs(O,{className:"relative space-y-4",children:[s.jsxs("div",{className:"text-center",children:[s.jsxs("div",{className:"text-2xl font-bold text-purple-600 dark:text-purple-400",children:[((m=o==null?void 0:o.sleep.lastNight)==null?void 0:m.hours)||0,"h"]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"ltima noite"})]}),s.jsxs(A,{className:"w-full bg-purple-600 hover:bg-purple-700 text-white",children:[s.jsx(ii,{className:"w-4 h-4 mr-2"}),"Registrar Sono"]})]})]}),s.jsxs(M,{className:"relative overflow-hidden",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-green-50 to-green-100 dark:from-green-950/20 dark:to-green-900/20"}),s.jsx($,{className:"relative",children:s.jsxs(U,{className:"flex items-center gap-2 text-green-700 dark:text-green-300",children:[s.jsx(XN,{className:"w-5 h-5"}),"Humor Rpido"]})}),s.jsxs(O,{className:"relative space-y-4",children:[s.jsxs("div",{className:"text-center",children:[s.jsxs("div",{className:"text-2xl font-bold text-green-600 dark:text-green-400",children:[((h=o==null?void 0:o.mood.today)==null?void 0:h.day_rating)||0,"/10"]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"avaliao hoje"})]}),s.jsxs(A,{className:"w-full bg-green-600 hover:bg-green-700 text-white",children:[s.jsx(XN,{className:"w-4 h-4 mr-2"}),"Registrar Humor"]})]})]})]}),s.jsxs(M,{children:[s.jsx($,{children:s.jsx(U,{children:"Explore Mais Funcionalidades"})}),s.jsx(O,{children:s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[s.jsxs(A,{variant:"outline",className:"h-20 flex flex-col gap-2",onClick:()=>n("/dashboard"),children:[s.jsx(He,{className:"h-6 w-6"}),s.jsx("span",{className:"text-xs",children:"Dashboard Original"})]}),s.jsxs(A,{variant:"outline",className:"h-20 flex flex-col gap-2",onClick:()=>n("/goals"),children:[s.jsx(_e,{className:"h-6 w-6"}),s.jsx("span",{className:"text-xs",children:"Metas"})]}),s.jsxs(A,{variant:"outline",className:"h-20 flex flex-col gap-2",onClick:()=>n("/progress"),children:[s.jsx(ar,{className:"h-6 w-6"}),s.jsx("span",{className:"text-xs",children:"Progresso"})]}),s.jsxs(A,{variant:"outline",className:"h-20 flex flex-col gap-2",onClick:()=>n("/app/courses"),children:[s.jsx(Vt,{className:"h-6 w-6"}),s.jsx("span",{className:"text-xs",children:"Cursos"})]})]})})]})]})]})})]})},xMe=()=>{const{toast:e}=Ee(),[t,r]=p.useState({totalUsers:0,activeUsers:0,totalWeightLoss:0,completedMissions:0,averageEngagement:0,weeklyWeighings:0,totalSessions:0,activeSaboteurs:0}),[a,n]=p.useState(!0),[i,o]=p.useState(!1),[l,c]=p.useState(!1),[d,u]=p.useState({resendApiKey:"re_MaZUKsTe_7NJizbgHNhFNvXBRu75qgBjG",sendpulseApiKey:"f4ff39f7982cd93fb7a458b603e50ca4",sendpulseApiSecret:"62e56fd32f7861cae09f0d904843ccf1",sendpulseListId:341130}),[m,h]=p.useState({webhookUrl:"",apiKey:"",enabled:!1});p.useEffect(()=>{v()},[]);const f=async()=>{try{o(!0);const{data:b,error:j}=await z.functions.invoke("weekly-health-report",{body:{testMode:!0,testEmail:"tvmensal2025@gmail.com",testUserName:"Sirlene Correa"}});if(j)throw new Error(j.message);b&&b.success?e({title:" Email Enviado",description:"Email de teste enviado para tvmensal2025@gmail.com (Sirlene Correa)"}):e({title:" Erro no Envio",description:(b==null?void 0:b.error)||"Erro desconhecido ao enviar email",variant:"destructive"})}catch(b){console.error("Erro ao testar email:",b),e({title:" Erro no Teste",description:b instanceof Error?b.message:"Erro interno ao testar email semanal",variant:"destructive"})}finally{o(!1)}},g=async()=>{try{c(!0),d.resendApiKey?e({title:" Conexo Testada",description:"Resend API Key configurada!"}):e({title:" Erro na Conexo",description:"Resend API Key no configurada. Configure no painel admin.",variant:"destructive"})}catch(b){console.error("Erro no teste de conexo:",b),e({title:" Erro no Teste",description:"Erro interno ao testar conexo",variant:"destructive"})}finally{c(!1)}},x=async()=>{try{localStorage.setItem("emailConfig",JSON.stringify(d)),e({title:" Configurao Salva",description:"Configurao de email atualizada com sucesso!"})}catch(b){console.error("Erro ao salvar configurao:",b),e({title:" Erro ao Salvar",description:"Erro interno ao salvar configurao",variant:"destructive"})}},y=async()=>{try{localStorage.setItem("n8nConfig",JSON.stringify(m)),e({title:" Configurao Salva",description:"Configurao do n8n atualizada com sucesso!"})}catch(b){console.error("Erro ao salvar configurao n8n:",b),e({title:" Erro ao Salvar",description:"Erro interno ao salvar configurao",variant:"destructive"})}};p.useEffect(()=>{const b=localStorage.getItem("emailConfig"),j=localStorage.getItem("n8nConfig");if(b)u(JSON.parse(b));else{const N={resendApiKey:"re_MaZUKsTe_7NJizbgHNhFNvXBRu75qgBjG",sendpulseApiKey:"f4ff39f7982cd93fb7a458b603e50ca4",sendpulseApiSecret:"62e56fd32f7861cae09f0d904843ccf1",sendpulseListId:341130};localStorage.setItem("emailConfig",JSON.stringify(N))}j&&h(JSON.parse(j))},[]);const v=async()=>{try{n(!0);const{data:b,error:j}=await z.from("profiles").select("user_id, created_at");j&&console.warn("Error fetching profiles:",j);const{data:N,error:w}=await z.from("weight_measurements").select("user_id, peso_kg, measurement_date").order("measurement_date",{ascending:!0});w&&console.warn("Error fetching measurements:",w);const{data:S,error:_}=await z.from("daily_mission_sessions").select("user_id, date, is_completed").eq("is_completed",!0);_&&console.warn("Error fetching missions:",_);const{data:C,error:E}=await z.from("sessions").select("id, is_active").eq("is_active",!0);E&&console.warn("Error fetching sessions:",E);const T=C||[],k=(b==null?void 0:b.length)||0,P=new Date;P.setDate(P.getDate()-30);const D=(S==null?void 0:S.filter(B=>new Date(B.date)>=P))||[],V=new Set(D.map(B=>B.user_id)).size,W=new Map;N==null||N.forEach(B=>{const K=B.user_id,Q=W.get(K);Q?W.set(K,{first:Q.first,last:B.peso_kg}):W.set(K,{first:B.peso_kg,last:B.peso_kg})});let R=0;W.forEach(({first:B,last:K})=>{const Q=B-K;Q>0&&(R+=Q)});const F=new Date;F.setDate(F.getDate()-7);const H=(N==null?void 0:N.filter(B=>new Date(B.measurement_date)>=F).length)||0,Z=V>0?Math.round(D.length/V*10)/10:0;r({totalUsers:k,activeUsers:V,totalWeightLoss:Math.round(R*10)/10,completedMissions:(S==null?void 0:S.length)||0,averageEngagement:Z,weeklyWeighings:H,totalSessions:(C==null?void 0:C.length)||0,activeSaboteurs:(T==null?void 0:T.length)||0})}catch(b){console.error("Error loading dashboard stats:",b)}finally{n(!1)}};return a?s.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[...Array(8)].map((b,j)=>s.jsxs(M,{className:"animate-pulse",children:[s.jsxs($,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx("div",{className:"h-4 bg-muted rounded w-24"}),s.jsx("div",{className:"h-4 w-4 bg-muted rounded"})]}),s.jsxs(O,{children:[s.jsx("div",{className:"h-8 bg-muted rounded w-16 mb-2"}),s.jsx("div",{className:"h-3 bg-muted rounded w-20"})]})]},j))}):s.jsxs("div",{className:"container mx-auto p-6 space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold",children:"Dashboard Administrativo"}),s.jsx("p",{className:"text-muted-foreground",children:"Viso geral do desempenho da plataforma"})]}),s.jsxs(X,{variant:"outline",className:"flex items-center gap-1",children:[s.jsx(GS,{className:"h-4 w-4"}),"IA Configurada"]})]}),s.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[s.jsxs(M,{children:[s.jsxs($,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(U,{className:"text-sm font-medium",children:"Total de Usurios"}),s.jsx(Le,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(O,{children:[s.jsx("div",{className:"text-2xl font-bold",children:t.totalUsers}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Usurios registrados"})]})]}),s.jsxs(M,{children:[s.jsxs($,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(U,{className:"text-sm font-medium",children:"Usurios Ativos"}),s.jsx(Te,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(O,{children:[s.jsx("div",{className:"text-2xl font-bold",children:t.activeUsers}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"ltimos 30 dias"}),t.totalUsers>0&&s.jsxs(X,{variant:"outline",className:"mt-1",children:[Math.round(t.activeUsers/t.totalUsers*100),"% de engajamento"]})]})]}),s.jsxs(M,{children:[s.jsxs($,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(U,{className:"text-sm font-medium",children:"Peso Eliminado"}),s.jsx(mm,{className:"h-4 w-4 text-green-600"})]}),s.jsxs(O,{children:[s.jsxs("div",{className:"text-2xl font-bold text-green-600",children:[t.totalWeightLoss,"kg"]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Total perdido pelos usurios"})]})]}),s.jsxs(M,{children:[s.jsxs($,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(U,{className:"text-sm font-medium",children:"Engajamento Mdio"}),s.jsx(_e,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(O,{children:[s.jsx("div",{className:"text-2xl font-bold",children:t.averageEngagement}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Misses por usurio ativo"})]})]}),s.jsxs(M,{children:[s.jsxs($,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(U,{className:"text-sm font-medium",children:"Misses Completadas"}),s.jsx(jt,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(O,{children:[s.jsx("div",{className:"text-2xl font-bold",children:t.completedMissions}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Total de misses"})]})]}),s.jsxs(M,{children:[s.jsxs($,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(U,{className:"text-sm font-medium",children:"Pesagens da Semana"}),s.jsx(_t,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(O,{children:[s.jsx("div",{className:"text-2xl font-bold",children:t.weeklyWeighings}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"ltimos 7 dias"})]})]}),s.jsxs(M,{children:[s.jsxs($,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(U,{className:"text-sm font-medium",children:"Sesses Ativas"}),s.jsx(Vt,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(O,{children:[s.jsx("div",{className:"text-2xl font-bold",children:t.totalSessions}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Sesses disponveis"})]})]}),s.jsxs(M,{children:[s.jsxs($,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(U,{className:"text-sm font-medium",children:"Padres Ativos"}),s.jsx(ds,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(O,{children:[s.jsx("div",{className:"text-2xl font-bold",children:t.activeSaboteurs}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Sabotadores disponveis"})]})]})]}),s.jsxs("div",{className:"mt-8 space-y-6",children:[s.jsxs(M,{children:[s.jsx($,{children:s.jsxs(U,{className:"flex items-center gap-2",children:[s.jsx(Ei,{className:"h-5 w-5"}),"Configurao de Email"]})}),s.jsx(O,{children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-2",children:"Provedor de Email"}),s.jsxs("select",{value:"resend",disabled:!0,className:"w-full p-2 border rounded-md bg-gray-100",children:[s.jsx("option",{value:"resend",children:"Resend (Atual)"}),s.jsx("option",{value:"sendpulse",disabled:!0,children:"SendPulse (Disponvel via cdigo)"})]}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"SendPulse pode ser ativado editando o cdigo das Edge Functions"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-2",children:"Resend API Key"}),s.jsx("input",{type:"password",value:d.resendApiKey,onChange:b=>u({...d,resendApiKey:b.target.value}),placeholder:"re_...",className:"w-full p-2 border rounded-md"}),s.jsx("p",{className:"text-xs text-green-600 mt-1",children:" API Key do Resend configurada e pronta para uso"})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(A,{onClick:x,className:"bg-blue-600 hover:bg-blue-700",children:[s.jsx(Hs,{className:"h-4 w-4 mr-2"}),"Salvar Configurao"]}),s.jsx(A,{onClick:g,disabled:l,variant:"outline",children:l?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-blue-600 mr-2"}),"Testando..."]}):s.jsxs(s.Fragment,{children:[s.jsx(Ei,{className:"h-4 w-4 mr-2"}),"Testar Conexo"]})})]})]})})]}),s.jsxs(M,{children:[s.jsx($,{children:s.jsxs(U,{className:"flex items-center gap-2",children:[s.jsx(us,{className:"h-5 w-5"}),"Configurao do n8n"]})}),s.jsx(O,{children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("input",{type:"checkbox",id:"n8n-enabled",checked:m.enabled,onChange:b=>h({...m,enabled:b.target.checked}),className:"rounded"}),s.jsx("label",{htmlFor:"n8n-enabled",className:"text-sm font-medium",children:"Habilitar integrao com n8n"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-2",children:"Webhook URL"}),s.jsx("input",{type:"url",value:m.webhookUrl,onChange:b=>h({...m,webhookUrl:b.target.value}),placeholder:"https://seu-n8n.com/webhook/...",className:"w-full p-2 border rounded-md"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-2",children:"API Key (opcional)"}),s.jsx("input",{type:"password",value:m.apiKey,onChange:b=>h({...m,apiKey:b.target.value}),placeholder:"API Key para autenticao",className:"w-full p-2 border rounded-md"})]}),s.jsxs(A,{onClick:y,className:"bg-green-600 hover:bg-green-700",children:[s.jsx(Hs,{className:"h-4 w-4 mr-2"}),"Salvar Configurao n8n"]})]})})]}),s.jsxs(M,{children:[s.jsx($,{children:s.jsxs(U,{className:"flex items-center gap-2",children:[s.jsx(Ei,{className:"h-5 w-5"}),"Testes do Sistema"]})}),s.jsx(O,{children:s.jsx("div",{className:"space-y-4",children:s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium mb-2",children:"Teste de Email Semanal"}),s.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Testa o envio de email semanal usando o Resend. O email ser enviado especificamente para Sirlene Correa (tvmensal2025@gmail.com)."}),s.jsx(A,{onClick:f,disabled:i,className:"bg-blue-600 hover:bg-blue-700",children:i?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Enviando..."]}):s.jsxs(s.Fragment,{children:[s.jsx(Ei,{className:"h-4 w-4 mr-2"}),"Testar Email para Sirlene"]})})]})})})]})]})]})},gMe=({isOpen:e,onClose:t,userId:r,onUserUpdated:a})=>{const[n,i]=p.useState(null),[o,l]=p.useState(!1),[c,d]=p.useState(!1),[u,m]=p.useState({full_name:"",email:"",phone:"",city:"",state:"",bio:"",altura_cm:"",idade:"",sexo:"",nivel_atividade:""}),{toast:h}=Ee();p.useEffect(()=>{e&&r&&f()},[e,r]);const f=async()=>{var x,y;if(r)try{l(!0);const{data:v}=await z.from("profiles").select("*").eq("id",r).single(),{data:b}=await z.from("user_physical_data").select("*").eq("user_id",r).single(),{data:j}=await z.from("weight_measurements").select("peso_kg, measurement_date").eq("user_id",r).order("measurement_date",{ascending:!0}),{data:N}=await z.from("daily_mission_sessions").select("date, is_completed").eq("user_id",r).eq("is_completed",!0),w=(j==null?void 0:j.length)||0,S=(j==null?void 0:j.map(D=>D.peso_kg).filter(Boolean))||[],_=S.length>0?S.reduce((D,I)=>D+I,0)/S.length:0,C=S.length>=2?S[0]-S[S.length-1]:0,E=(N==null?void 0:N.length)||0,T=Math.max(...[...(j||[]).map(D=>new Date(D.measurement_date).getTime()),...(N||[]).map(D=>new Date(D.date).getTime())].filter(Boolean)),k={full_name:(v==null?void 0:v.full_name)||"",email:"",phone:(v==null?void 0:v.phone)||"",city:(v==null?void 0:v.city)||"",created_at:(v==null?void 0:v.created_at)||""},P={user_id:r,profile:k,physicalData:b,stats:{totalMeasurements:w,averageWeight:Math.round(_*10)/10,weightLoss:Math.round(C*10)/10,completedMissions:E,lastActivity:T>0?new Date(T).toISOString():""}};i(P),m({full_name:k.full_name,email:k.email,phone:k.phone,city:k.city,state:"",bio:"",altura_cm:((x=b==null?void 0:b.altura_cm)==null?void 0:x.toString())||"",idade:((y=b==null?void 0:b.idade)==null?void 0:y.toString())||"",sexo:(b==null?void 0:b.sexo)||"",nivel_atividade:(b==null?void 0:b.nivel_atividade)||""})}catch(v){console.error("Error fetching user detail:",v),h({title:"Erro",description:"Erro ao carregar dados do usurio",variant:"destructive"})}finally{l(!1)}},g=async()=>{if(r)try{d(!0);const{error:x}=await z.from("profiles").update({full_name:u.full_name,phone:u.phone,city:u.city,state:u.state,bio:u.bio,updated_at:new Date().toISOString()}).eq("id",r);if(x&&console.error("Profile update error:",x),u.altura_cm||u.idade||u.sexo||u.nivel_atividade){const{error:y}=await z.from("user_physical_data").upsert({user_id:r,altura_cm:u.altura_cm?parseInt(u.altura_cm):null,idade:u.idade?parseInt(u.idade):null,sexo:u.sexo||null,nivel_atividade:u.nivel_atividade||null,updated_at:new Date().toISOString()});y&&console.error("Physical data update error:",y)}h({title:"Sucesso",description:"Dados do usurio atualizados com sucesso"}),a(),t()}catch(x){console.error("Error updating user:",x),h({title:"Erro",description:"Erro ao atualizar dados do usurio",variant:"destructive"})}finally{d(!1)}};return!e||!r?null:s.jsx(gt,{open:e,onOpenChange:t,children:s.jsxs(vt,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[s.jsxs(yt,{children:[s.jsxs(bt,{className:"flex items-center gap-2",children:[s.jsx(Ui,{className:"h-5 w-5"}),"Detalhes do Usurio"]}),s.jsx(Zi,{children:"Visualize e edite informaes detalhadas do usurio"})]}),o?s.jsx("div",{className:"space-y-4",children:[...Array(6)].map((x,y)=>s.jsx("div",{className:"h-20 bg-muted rounded animate-pulse"},y))}):n?s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[s.jsx(M,{children:s.jsx(O,{className:"p-4",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Te,{className:"h-4 w-4 text-blue-500"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium",children:n.stats.totalMeasurements}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Medies"})]})]})})}),s.jsx(M,{children:s.jsx(O,{className:"p-4",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(_e,{className:"h-4 w-4 text-green-500"}),s.jsxs("div",{children:[s.jsxs("p",{className:"text-sm font-medium",children:[n.stats.averageWeight,"kg"]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Peso Mdio"})]})]})})}),s.jsx(M,{children:s.jsx(O,{className:"p-4",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(mm,{className:"h-4 w-4 text-orange-500"}),s.jsxs("div",{children:[s.jsxs("p",{className:"text-sm font-medium",children:[n.stats.weightLoss,"kg"]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Perda de Peso"})]})]})})}),s.jsx(M,{children:s.jsx(O,{className:"p-4",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(jt,{className:"h-4 w-4 text-purple-500"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium",children:n.stats.completedMissions}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Misses"})]})]})})})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs(M,{children:[s.jsx($,{children:s.jsxs(U,{className:"flex items-center gap-2",children:[s.jsx(Ui,{className:"h-4 w-4"}),"Dados Pessoais"]})}),s.jsxs(O,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Y,{htmlFor:"full_name",children:"Nome Completo"}),s.jsx(re,{id:"full_name",value:u.full_name,onChange:x=>m({...u,full_name:x.target.value})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Y,{htmlFor:"email",children:"Email"}),s.jsx(re,{id:"email",type:"email",value:u.email,onChange:x=>m({...u,email:x.target.value})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Y,{htmlFor:"phone",children:"Telefone"}),s.jsx(re,{id:"phone",value:u.phone,onChange:x=>m({...u,phone:x.target.value})})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Y,{htmlFor:"city",children:"Cidade"}),s.jsx(re,{id:"city",value:u.city,onChange:x=>m({...u,city:x.target.value})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Y,{htmlFor:"state",children:"Estado"}),s.jsx(re,{id:"state",value:u.state,onChange:x=>m({...u,state:x.target.value})})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Y,{htmlFor:"bio",children:"Bio"}),s.jsx(Ke,{id:"bio",value:u.bio,onChange:x=>m({...u,bio:x.target.value}),rows:3})]})]})]}),s.jsxs(M,{children:[s.jsx($,{children:s.jsxs(U,{className:"flex items-center gap-2",children:[s.jsx(of,{className:"h-4 w-4"}),"Dados Fsicos"]})}),s.jsxs(O,{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Y,{htmlFor:"altura_cm",children:"Altura (cm)"}),s.jsx(re,{id:"altura_cm",type:"number",value:u.altura_cm,onChange:x=>m({...u,altura_cm:x.target.value})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Y,{htmlFor:"idade",children:"Idade"}),s.jsx(re,{id:"idade",type:"number",value:u.idade,onChange:x=>m({...u,idade:x.target.value})})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Y,{htmlFor:"sexo",children:"Sexo"}),s.jsxs(rt,{value:u.sexo,onValueChange:x=>m({...u,sexo:x}),children:[s.jsx(tt,{children:s.jsx(at,{placeholder:"Selecione o sexo"})}),s.jsxs(st,{children:[s.jsx(he,{value:"masculino",children:"Masculino"}),s.jsx(he,{value:"feminino",children:"Feminino"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Y,{htmlFor:"nivel_atividade",children:"Nvel de Atividade"}),s.jsxs(rt,{value:u.nivel_atividade,onValueChange:x=>m({...u,nivel_atividade:x}),children:[s.jsx(tt,{children:s.jsx(at,{placeholder:"Selecione o nvel"})}),s.jsxs(st,{children:[s.jsx(he,{value:"sedentario",children:"Sedentrio"}),s.jsx(he,{value:"leve",children:"Leve"}),s.jsx(he,{value:"moderado",children:"Moderado"}),s.jsx(he,{value:"intenso",children:"Intenso"}),s.jsx(he,{value:"muito_intenso",children:"Muito Intenso"})]})]})]}),s.jsx("div",{className:"pt-4 border-t",children:s.jsxs("div",{className:"space-y-2 text-sm text-muted-foreground",children:[s.jsxs("p",{children:[s.jsx("strong",{children:"ID:"})," ",n.user_id]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Cadastrado em:"})," ",new Date(n.profile.created_at).toLocaleDateString("pt-BR")]}),n.stats.lastActivity&&s.jsxs("p",{children:[s.jsx("strong",{children:"ltima atividade:"})," ",new Date(n.stats.lastActivity).toLocaleDateString("pt-BR")]})]})})]})]})]}),s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsxs(A,{variant:"outline",onClick:t,children:[s.jsx(nr,{className:"h-4 w-4 mr-2"}),"Cancelar"]}),s.jsxs(A,{onClick:g,disabled:c,children:[s.jsx(ia,{className:"h-4 w-4 mr-2"}),c?"Salvando...":"Salvar Alteraes"]})]})]}):s.jsx("div",{className:"text-center py-8",children:s.jsx("p",{className:"text-muted-foreground",children:"Usurio no encontrado"})})]})})},vMe=({isOpen:e,onClose:t,onUserCreated:r})=>{const[a,n]=p.useState(!1),[i,o]=p.useState({full_name:"",email:"",phone:"",password:"",confirmPassword:"",birth_date:"",city:"",state:"",bio:"",altura_cm:"",sexo:"",nivel_atividade:"moderado"}),{toast:l}=Ee(),c=(m,h)=>{o(f=>({...f,[m]:h}))},d=()=>{if(!i.full_name||!i.email||!i.password)return l({title:"Erro de validao",description:"Nome, email e senha so obrigatrios",variant:"destructive"}),!1;if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(i.email))return l({title:"Erro de validao",description:"Email invlido",variant:"destructive"}),!1;if(i.password.length<6)return l({title:"Erro de validao",description:"A senha deve ter pelo menos 6 caracteres",variant:"destructive"}),!1;if(i.password!==i.confirmPassword)return l({title:"Erro de validao",description:"As senhas no coincidem",variant:"destructive"}),!1;if(i.altura_cm&&(parseInt(i.altura_cm)<100||parseInt(i.altura_cm)>250))return l({title:"Erro de validao",description:"Altura deve estar entre 100cm e 250cm",variant:"destructive"}),!1;if(i.birth_date){const h=new Date(i.birth_date),g=new Date().getFullYear()-h.getFullYear();if(g<13||g>120)return l({title:"Erro de validao",description:"Idade deve estar entre 13 e 120 anos",variant:"destructive"}),!1}return!0},u=async()=>{if(d())try{n(!0);const m=i.birth_date?new Date().getFullYear()-new Date(i.birth_date).getFullYear():null,{data:h,error:f}=await z.auth.signUp({email:i.email,password:i.password,options:{data:{full_name:i.full_name,phone:i.phone,birth_date:i.birth_date,city:i.city,state:i.state}}});if(f){console.error("Auth error:",f),l({title:"Erro na criao",description:f.message,variant:"destructive"});return}if(!h.user){l({title:"Erro na criao",description:"Usurio no foi criado corretamente",variant:"destructive"});return}const g=h.user.id;if(i.altura_cm||i.sexo||i.nivel_atividade){const{error:x}=await z.from("user_physical_data").insert({user_id:g,altura_cm:i.altura_cm?parseInt(i.altura_cm):null,idade:m,sexo:i.sexo||null,nivel_atividade:i.nivel_atividade});x&&console.error("Physical data error:",x)}l({title:"Usurio criado com sucesso!",description:`${i.full_name} foi adicionado ao sistema`}),o({full_name:"",email:"",phone:"",password:"",confirmPassword:"",birth_date:"",city:"",state:"",bio:"",altura_cm:"",sexo:"",nivel_atividade:"moderado"}),r(),t()}catch(m){console.error("Error creating user:",m),l({title:"Erro",description:"Erro inesperado ao criar usurio",variant:"destructive"})}finally{n(!1)}};return e?s.jsx(gt,{open:e,onOpenChange:t,children:s.jsxs(vt,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[s.jsxs(yt,{children:[s.jsxs(bt,{className:"flex items-center gap-2",children:[s.jsx(u6,{className:"h-5 w-5"}),"Criar Novo Usurio"]}),s.jsx(Zi,{children:"Adicione um novo usurio ao sistema preenchendo as informaes abaixo"})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs(M,{children:[s.jsx($,{children:s.jsxs(U,{className:"flex items-center gap-2",children:[s.jsx(Ui,{className:"h-4 w-4"}),"Dados de Acesso"]})}),s.jsxs(O,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Y,{htmlFor:"full_name",children:"Nome Completo *"}),s.jsx(re,{id:"full_name",value:i.full_name,onChange:m=>c("full_name",m.target.value),placeholder:"Digite o nome completo"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Y,{htmlFor:"email",children:"Email *"}),s.jsx(re,{id:"email",type:"email",value:i.email,onChange:m=>c("email",m.target.value),placeholder:"email@exemplo.com"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Y,{htmlFor:"password",children:"Senha *"}),s.jsx(re,{id:"password",type:"password",value:i.password,onChange:m=>c("password",m.target.value),placeholder:"Mnimo 6 caracteres"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Y,{htmlFor:"confirmPassword",children:"Confirmar Senha *"}),s.jsx(re,{id:"confirmPassword",type:"password",value:i.confirmPassword,onChange:m=>c("confirmPassword",m.target.value),placeholder:"Repita a senha"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Y,{htmlFor:"phone",children:"Telefone"}),s.jsx(re,{id:"phone",value:i.phone,onChange:m=>c("phone",m.target.value),placeholder:"(11) 99999-9999"})]})]})]}),s.jsxs(M,{children:[s.jsx($,{children:s.jsxs(U,{className:"flex items-center gap-2",children:[s.jsx(ep,{className:"h-4 w-4"}),"Dados Pessoais"]})}),s.jsxs(O,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Y,{htmlFor:"birth_date",children:"Data de Nascimento"}),s.jsx(re,{id:"birth_date",type:"date",value:i.birth_date,onChange:m=>c("birth_date",m.target.value)})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Y,{htmlFor:"city",children:"Cidade"}),s.jsx(re,{id:"city",value:i.city,onChange:m=>c("city",m.target.value),placeholder:"Cidade"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Y,{htmlFor:"state",children:"Estado"}),s.jsx(re,{id:"state",value:i.state,onChange:m=>c("state",m.target.value),placeholder:"UF"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Y,{htmlFor:"bio",children:"Bio/Observaes"}),s.jsx(Ke,{id:"bio",value:i.bio,onChange:m=>c("bio",m.target.value),placeholder:"Informaes adicionais sobre o usurio",rows:3})]})]})]}),s.jsxs(M,{className:"md:col-span-2",children:[s.jsx($,{children:s.jsxs(U,{className:"flex items-center gap-2",children:[s.jsx(of,{className:"h-4 w-4"}),"Dados Fsicos (Opcionais)"]})}),s.jsx(O,{children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Y,{htmlFor:"altura_cm",children:"Altura (cm)"}),s.jsx(re,{id:"altura_cm",type:"number",value:i.altura_cm,onChange:m=>c("altura_cm",m.target.value),placeholder:"ex: 170",min:"100",max:"250"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Y,{htmlFor:"sexo",children:"Sexo"}),s.jsxs(rt,{value:i.sexo,onValueChange:m=>c("sexo",m),children:[s.jsx(tt,{children:s.jsx(at,{placeholder:"Selecione"})}),s.jsxs(st,{children:[s.jsx(he,{value:"masculino",children:"Masculino"}),s.jsx(he,{value:"feminino",children:"Feminino"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Y,{htmlFor:"nivel_atividade",children:"Nvel de Atividade"}),s.jsxs(rt,{value:i.nivel_atividade,onValueChange:m=>c("nivel_atividade",m),children:[s.jsx(tt,{children:s.jsx(at,{})}),s.jsxs(st,{children:[s.jsx(he,{value:"sedentario",children:"Sedentrio"}),s.jsx(he,{value:"leve",children:"Leve"}),s.jsx(he,{value:"moderado",children:"Moderado"}),s.jsx(he,{value:"intenso",children:"Intenso"}),s.jsx(he,{value:"muito_intenso",children:"Muito Intenso"})]})]})]})]})})]})]}),s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsxs(A,{variant:"outline",onClick:t,disabled:a,children:[s.jsx(nr,{className:"h-4 w-4 mr-2"}),"Cancelar"]}),s.jsxs(A,{onClick:u,disabled:a,children:[s.jsx(ia,{className:"h-4 w-4 mr-2"}),a?"Criando...":"Criar Usurio"]})]})]})]})}):null},yMe=()=>{const[e,t]=p.useState([]),[r,a]=p.useState(!0),[n,i]=p.useState(""),[o,l]=p.useState("all"),[c,d]=p.useState(null),[u,m]=p.useState(!1),[h,f]=p.useState(!1);p.useEffect(()=>{g()},[]);const g=async()=>{try{a(!0);const{data:S,error:_}=await z.from("profiles").select("id, full_name, email, created_at");_&&console.error("Error fetching profiles:",_);const{data:C,error:E}=await z.from("weight_measurements").select("user_id, measurement_date, peso_kg").order("measurement_date",{ascending:!1});E&&console.error("Error fetching measurements:",E);const{data:T,error:k}=await z.from("daily_mission_sessions").select("user_id, date, is_completed").eq("is_completed",!0).order("date",{ascending:!1});k&&console.error("Error fetching missions:",k);const P=new Map;S==null||S.forEach(I=>{P.set(I.id,{measurements:0,weights:[],lastActivity:I.created_at,profile:I,completedMissions:0})}),C==null||C.forEach(I=>{const V=I.user_id,W=P.get(V)||{measurements:0,weights:[],lastActivity:I.measurement_date,completedMissions:0};W.measurements++,I.peso_kg&&W.weights.push(I.peso_kg),(!W.lastActivity||I.measurement_date>W.lastActivity)&&(W.lastActivity=I.measurement_date),P.set(V,W)}),T==null||T.forEach(I=>{const V=I.user_id,W=P.get(V);W&&(W.completedMissions++,(!W.lastActivity||I.date>W.lastActivity)&&(W.lastActivity=I.date))});const D=Array.from(P.entries()).map(([I,V])=>{const W=V.weights.length>0?V.weights.reduce((H,Z)=>H+Z,0)/V.weights.length:0,R=new Date;R.setDate(R.getDate()-30);const F=new Date(V.lastActivity)>=R;return{user_id:I,measurements:V.measurements,lastActivity:V.lastActivity,averageWeight:Math.round(W*10)/10,status:F?"active":"inactive",profile:V.profile,completedMissions:V.completedMissions}});t(D)}catch(S){console.error("Error fetching users:",S)}finally{a(!1)}},x=e.filter(S=>{var E,T,k,P,D;const _=(((E=S.user_id)==null?void 0:E.toLowerCase())||"").includes(n.toLowerCase())||(((k=(T=S.profile)==null?void 0:T.full_name)==null?void 0:k.toLowerCase())||"").includes(n.toLowerCase())||(((D=(P=S.profile)==null?void 0:P.email)==null?void 0:D.toLowerCase())||"").includes(n.toLowerCase()),C=o==="all"||S.status===o;return _&&C}),y=S=>S==="active"?s.jsx(X,{variant:"default",className:"bg-green-100 text-green-800",children:"Ativo"}):s.jsx(X,{variant:"secondary",children:"Inativo"}),v=S=>new Date(S).toLocaleDateString("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric"}),b=()=>{try{const S=[["Nome","Email","ID","Status","Medies","Peso Mdio","Misses","ltima Atividade"].join(","),...x.map(T=>{var k,P;return[((k=T.profile)==null?void 0:k.full_name)||`Usurio ${T.user_id.slice(0,8)}`,((P=T.profile)==null?void 0:P.email)||"",T.user_id,T.status==="active"?"Ativo":"Inativo",T.measurements,T.averageWeight>0?`${T.averageWeight}kg`:"",T.completedMissions,v(T.lastActivity)].join(",")})].join(`
`),_=new Blob([S],{type:"text/csv;charset=utf-8;"}),C=document.createElement("a"),E=URL.createObjectURL(_);C.setAttribute("href",E),C.setAttribute("download",`usuarios_${new Date().toISOString().split("T")[0]}.csv`),C.style.visibility="hidden",document.body.appendChild(C),C.click(),document.body.removeChild(C)}catch(S){console.error("Error exporting users:",S)}},j=S=>{d(S),m(!0)},N=()=>{g()},w=()=>{g()};return r?s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("div",{className:"h-8 bg-muted rounded w-48"}),s.jsx("div",{className:"h-10 bg-muted rounded w-32"})]}),s.jsx("div",{className:"space-y-4",children:[...Array(5)].map((S,_)=>s.jsx(M,{className:"animate-pulse",children:s.jsx(O,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("div",{className:"h-4 bg-muted rounded w-32"}),s.jsx("div",{className:"h-3 bg-muted rounded w-24"})]}),s.jsx("div",{className:"h-6 bg-muted rounded w-16"})]})})},_))})]}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold",children:"Gerenciamento de Usurios"}),s.jsxs("p",{className:"text-muted-foreground",children:[e.length," usurios registrados no sistema"]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(A,{onClick:()=>f(!0),children:[s.jsx(u6,{className:"h-4 w-4 mr-2"}),"Cadastrar Novo Usurio"]}),s.jsxs(A,{variant:"outline",onClick:b,children:[s.jsx(Le,{className:"h-4 w-4 mr-2"}),"Exportar Lista"]})]})]}),s.jsx(M,{children:s.jsx(O,{className:"p-6",children:s.jsxs("div",{className:"flex gap-4 items-center",children:[s.jsxs("div",{className:"relative flex-1",children:[s.jsx(um,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),s.jsx(re,{placeholder:"Buscar usurio...",value:n,onChange:S=>i(S.target.value),className:"pl-10"})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(A,{variant:o==="all"?"default":"outline",onClick:()=>l("all"),children:"Todos"}),s.jsx(A,{variant:o==="active"?"default":"outline",onClick:()=>l("active"),children:"Ativos"}),s.jsx(A,{variant:o==="inactive"?"default":"outline",onClick:()=>l("inactive"),children:"Inativos"})]})]})})}),s.jsx("div",{className:"space-y-4",children:x.map(S=>{var _,C;return s.jsx(M,{children:s.jsx(O,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"w-12 h-12 bg-primary text-white rounded-full flex items-center justify-center",children:s.jsx(Le,{className:"h-6 w-6"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold",children:((_=S.profile)==null?void 0:_.full_name)||`Usurio ${S.user_id.slice(0,8)}...`}),((C=S.profile)==null?void 0:C.email)&&s.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:S.profile.email}),s.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground",children:[s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(Te,{className:"h-4 w-4"}),S.measurements," medies"]}),S.averageWeight>0&&s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(_e,{className:"h-4 w-4"}),S.averageWeight,"kg"]}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(jt,{className:"h-4 w-4"}),S.completedMissions," misses"]}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(Vt,{className:"h-4 w-4"}),v(S.lastActivity)]})]})]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[y(S.status),s.jsx(A,{variant:"outline",size:"sm",onClick:()=>j(S.user_id),children:s.jsx(hl,{className:"h-4 w-4"})})]})]})})},S.user_id)})}),s.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[s.jsxs(M,{children:[s.jsxs($,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(U,{className:"text-sm font-medium",children:"Total de Usurios"}),s.jsx(Le,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(O,{children:[s.jsx("div",{className:"text-2xl font-bold",children:e.length}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Usurios registrados"})]})]}),s.jsxs(M,{children:[s.jsxs($,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(U,{className:"text-sm font-medium",children:"Usurios Ativos"}),s.jsx(Te,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(O,{children:[s.jsx("div",{className:"text-2xl font-bold",children:e.filter(S=>S.status==="active").length}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"ltimos 30 dias"})]})]}),s.jsxs(M,{children:[s.jsxs($,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(U,{className:"text-sm font-medium",children:"Mdia de Medies"}),s.jsx(_e,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(O,{children:[s.jsx("div",{className:"text-2xl font-bold",children:e.length>0?Math.round(e.reduce((S,_)=>S+_.measurements,0)/e.length):0}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Por usurio"})]})]})]}),s.jsx(gMe,{isOpen:u,onClose:()=>{m(!1),d(null)},userId:c,onUserUpdated:N}),s.jsx(vMe,{isOpen:h,onClose:()=>f(!1),onUserCreated:w})]})},bMe=({userId:e,isOpen:t,onClose:r})=>{const[a,n]=p.useState([]),[i,o]=p.useState(!0);p.useEffect(()=>{t&&e&&l()},[t,e]);const l=async()=>{try{o(!0);const{data:g,error:x}=await z.from("weight_measurements").select("*").eq("user_id",e).order("measurement_date",{ascending:!0}).limit(50);if(x){console.error("Erro ao buscar dados do usurio:",x);return}n(g||[])}catch(g){console.error("Erro ao carregar dados:",g)}finally{o(!1)}},c=()=>a.map((g,x)=>({date:new Date(g.measurement_date).toLocaleDateString("pt-BR"),peso:g.peso_kg,imc:g.imc,gordura:g.gordura_corporal_percent,musculo:g.massa_muscular_kg,measurement_number:x+1})),d=()=>{if(a.length<2)return null;const g=a[0],y=a[a.length-1].peso_kg-g.peso_kg;return{difference:y.toFixed(1),isPositive:y>0,percentage:(y/g.peso_kg*100).toFixed(1)}},u=()=>a.length===0?null:a[a.length-1],m=d(),h=u(),f=c();return t?s.jsx(gt,{open:t,onOpenChange:r,children:s.jsxs(vt,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[s.jsx(yt,{children:s.jsxs(bt,{className:"flex items-center gap-2",children:[s.jsx(Te,{className:"h-5 w-5"}),"Grficos de Evoluo do Peso"]})}),i?s.jsx("div",{className:"space-y-4",children:s.jsx("div",{className:"animate-pulse",children:s.jsx("div",{className:"h-64 bg-muted rounded"})})}):s.jsxs("div",{className:"space-y-6",children:[h&&s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[s.jsxs(M,{children:[s.jsx($,{className:"pb-2",children:s.jsxs(U,{className:"text-sm font-medium flex items-center gap-1",children:[s.jsx(_t,{className:"h-4 w-4"}),"Peso Atual"]})}),s.jsx(O,{children:s.jsxs("div",{className:"text-2xl font-bold",children:[h.peso_kg,"kg"]})})]}),s.jsxs(M,{children:[s.jsx($,{className:"pb-2",children:s.jsxs(U,{className:"text-sm font-medium flex items-center gap-1",children:[s.jsx(_e,{className:"h-4 w-4"}),"IMC Atual"]})}),s.jsx(O,{children:s.jsx("div",{className:"text-2xl font-bold",children:h.imc?h.imc.toFixed(1):"N/A"})})]}),m&&s.jsxs(M,{children:[s.jsx($,{className:"pb-2",children:s.jsxs(U,{className:"text-sm font-medium flex items-center gap-1",children:[m.isPositive?s.jsx(Ye,{className:"h-4 w-4 text-red-500"}):s.jsx(mm,{className:"h-4 w-4 text-green-500"}),"Variao Total"]})}),s.jsxs(O,{children:[s.jsxs("div",{className:`text-2xl font-bold ${m.isPositive?"text-red-500":"text-green-500"}`,children:[m.isPositive?"+":"",m.difference,"kg"]}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:[m.percentage,"%"]})]})]}),s.jsxs(M,{children:[s.jsx($,{className:"pb-2",children:s.jsx(U,{className:"text-sm font-medium",children:"Total de Medies"})}),s.jsx(O,{children:s.jsx("div",{className:"text-2xl font-bold",children:a.length})})]})]}),s.jsxs(M,{children:[s.jsx($,{children:s.jsx(U,{children:"Evoluo do Peso"})}),s.jsx(O,{children:s.jsx("div",{className:"h-64",children:s.jsx(St,{width:"100%",height:"100%",children:s.jsxs(Ji,{data:f,children:[s.jsx(rs,{strokeDasharray:"3 3"}),s.jsx(Kt,{dataKey:"date",fontSize:12,angle:-45,textAnchor:"end",height:80}),s.jsx(It,{fontSize:12}),s.jsx(cs,{labelFormatter:g=>`Data: ${g}`,formatter:(g,x)=>[`${g}${x==="peso"?"kg":x==="imc"?"":"%"}`,x==="peso"?"Peso":x==="imc"?"IMC":x==="gordura"?"Gordura":"Msculo"]}),s.jsx(Ra,{}),s.jsx(Ds,{type:"monotone",dataKey:"peso",stroke:"#8884d8",strokeWidth:3,dot:{r:4},name:"Peso (kg)"})]})})})})]}),f.some(g=>g.imc)&&s.jsxs(M,{children:[s.jsx($,{children:s.jsx(U,{children:"Evoluo do IMC"})}),s.jsx(O,{children:s.jsx("div",{className:"h-64",children:s.jsx(St,{width:"100%",height:"100%",children:s.jsxs(Ji,{data:f,children:[s.jsx(rs,{strokeDasharray:"3 3"}),s.jsx(Kt,{dataKey:"date",fontSize:12,angle:-45,textAnchor:"end",height:80}),s.jsx(It,{fontSize:12}),s.jsx(cs,{labelFormatter:g=>`Data: ${g}`,formatter:g=>[`${g}`,"IMC"]}),s.jsx(Ra,{}),s.jsx(Ds,{type:"monotone",dataKey:"imc",stroke:"#82ca9d",strokeWidth:3,dot:{r:4},name:"IMC"})]})})})})]}),f.some(g=>g.gordura||g.musculo)&&s.jsxs(M,{children:[s.jsx($,{children:s.jsx(U,{children:"Composio Corporal"})}),s.jsx(O,{children:s.jsx("div",{className:"h-64",children:s.jsx(St,{width:"100%",height:"100%",children:s.jsxs(zc,{data:f,children:[s.jsx(rs,{strokeDasharray:"3 3"}),s.jsx(Kt,{dataKey:"date",fontSize:12,angle:-45,textAnchor:"end",height:80}),s.jsx(It,{fontSize:12}),s.jsx(cs,{labelFormatter:g=>`Data: ${g}`,formatter:(g,x)=>[`${g}${x==="musculo"?"kg":"%"}`,x==="gordura"?"Gordura Corporal":"Massa Muscular"]}),s.jsx(Ra,{}),f.some(g=>g.gordura)&&s.jsx(vs,{dataKey:"gordura",fill:"#ff7300",name:"Gordura (%)"}),f.some(g=>g.musculo)&&s.jsx(vs,{dataKey:"musculo",fill:"#00d2ff",name:"Msculo (kg)"})]})})})})]}),s.jsxs(M,{children:[s.jsx($,{children:s.jsx(U,{children:"Histrico de Medies"})}),s.jsx(O,{children:s.jsx("div",{className:"max-h-64 overflow-y-auto",children:a.slice(-10).reverse().map((g,x)=>s.jsxs("div",{className:"flex items-center justify-between py-2 border-b last:border-b-0",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(X,{variant:"outline",children:new Date(g.measurement_date).toLocaleDateString("pt-BR")}),s.jsxs("span",{className:"font-medium",children:[g.peso_kg,"kg"]}),g.imc&&s.jsxs("span",{className:"text-sm text-muted-foreground",children:["IMC: ",g.imc.toFixed(1)]})]}),s.jsxs("div",{className:"flex items-center gap-3 text-sm",children:[g.gordura_corporal_percent&&s.jsxs("div",{className:"flex flex-col items-center bg-yellow-500/10 px-3 py-1 rounded-lg border border-yellow-500/20",children:[s.jsxs("span",{className:"text-yellow-600 font-bold text-lg",children:[g.gordura_corporal_percent.toFixed(1),"%"]}),s.jsx("span",{className:"text-yellow-600 text-xs",children:"Gordura"})]}),g.massa_muscular_kg&&s.jsxs("div",{className:"flex flex-col items-center bg-green-500/10 px-3 py-1 rounded-lg border border-green-500/20",children:[s.jsxs("span",{className:"text-green-600 font-bold text-lg",children:[g.massa_muscular_kg.toFixed(1),"kg"]}),s.jsx("span",{className:"text-green-600 text-xs",children:"Msculo"})]})]})]},g.id))})})]})]})]})}):null},jMe=()=>{const[e,t]=p.useState([]),[r,a]=p.useState(!0),[n,i]=p.useState(""),[o,l]=p.useState("all"),[c,d]=p.useState(null),[u,m]=p.useState(!1);p.useEffect(()=>{h()},[]);const h=async()=>{try{a(!0);const{data:b,error:j}=await z.from("weight_measurements").select("*").order("measurement_date",{ascending:!1}).limit(100);if(j){console.error("Error fetching measurements:",j);return}const N=[],w=new Map;(b||[]).forEach((S,_)=>{let C="normal",E;S.imc&&(S.imc>=30?C="critical":S.imc>=25&&(C="warning"));const T=w.get(S.user_id);T&&(E=S.peso_kg-T),w.set(S.user_id,S.peso_kg),N.push({...S,status:C,weightChange:E})}),t(N)}catch(b){console.error("Error fetching measurements:",b)}finally{a(!1)}},f=e.filter(b=>{const j=b.user_id.toLowerCase().includes(n.toLowerCase()),N=o==="all"||b.status===o;return j&&N}),g=b=>{switch(b){case"normal":return s.jsx(X,{variant:"default",className:"bg-green-100 text-green-800",children:"Normal"});case"warning":return s.jsx(X,{variant:"secondary",className:"bg-yellow-100 text-yellow-800",children:"Ateno"});case"critical":return s.jsx(X,{variant:"destructive",children:"Crtico"});default:return s.jsx(X,{variant:"outline",children:"Desconhecido"})}},x=b=>{switch(b){case"normal":return s.jsx(Se,{className:"h-4 w-4 text-green-500"});case"warning":return s.jsx(Bt,{className:"h-4 w-4 text-yellow-500"});case"critical":return s.jsx(Bt,{className:"h-4 w-4 text-red-500"});default:return s.jsx(Xt,{className:"h-4 w-4 text-gray-500"})}},y=b=>new Date(b).toLocaleDateString("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}),v=b=>b<18.5?{text:"Abaixo do peso",color:"text-blue-500"}:b<25?{text:"Peso normal",color:"text-green-500"}:b<30?{text:"Sobrepeso",color:"text-yellow-500"}:{text:"Obesidade",color:"text-red-500"};return r?s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("div",{className:"h-8 bg-muted rounded w-48"}),s.jsx("div",{className:"h-10 bg-muted rounded w-32"})]}),s.jsx("div",{className:"space-y-4",children:[...Array(5)].map((b,j)=>s.jsx(M,{className:"animate-pulse",children:s.jsx(O,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("div",{className:"h-4 bg-muted rounded w-32"}),s.jsx("div",{className:"h-3 bg-muted rounded w-24"})]}),s.jsx("div",{className:"h-6 bg-muted rounded w-16"})]})})},j))})]}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold",children:"Monitoramento de Pesagens"}),s.jsxs("p",{className:"text-muted-foreground",children:["Acompanhe a evoluo do peso e mtricas corporais - ",e.length," medies registradas"]})]}),s.jsxs(A,{children:[s.jsx(_t,{className:"h-4 w-4 mr-2"}),"Exportar Relatrio"]})]}),s.jsx(M,{children:s.jsx(O,{className:"p-6",children:s.jsxs("div",{className:"flex gap-4 items-center",children:[s.jsxs("div",{className:"relative flex-1",children:[s.jsx(um,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),s.jsx(re,{placeholder:"Buscar por usurio...",value:n,onChange:b=>i(b.target.value),className:"pl-10"})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(A,{variant:o==="all"?"default":"outline",onClick:()=>l("all"),children:"Todos"}),s.jsx(A,{variant:o==="normal"?"default":"outline",onClick:()=>l("normal"),children:"Normal"}),s.jsx(A,{variant:o==="warning"?"default":"outline",onClick:()=>l("warning"),children:"Ateno"}),s.jsx(A,{variant:o==="critical"?"default":"outline",onClick:()=>l("critical"),children:"Crtico"})]})]})})}),s.jsx("div",{className:"space-y-4",children:f.map(b=>s.jsx(M,{children:s.jsx(O,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"w-12 h-12 bg-primary text-white rounded-full flex items-center justify-center",children:s.jsx(_t,{className:"h-6 w-6"})}),s.jsxs("div",{children:[s.jsxs("h3",{className:"font-semibold",children:["Pesagem #",b.id.slice(0,8),"..."]}),s.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground",children:[s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(Te,{className:"h-4 w-4"}),b.peso_kg,"kg"]}),b.imc&&s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(Ye,{className:"h-4 w-4"}),"IMC: ",b.imc.toFixed(1),s.jsxs("span",{className:v(b.imc).color,children:["(",v(b.imc).text,")"]})]}),b.gordura_corporal_percent&&s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(_t,{className:"h-4 w-4"}),b.gordura_corporal_percent.toFixed(1),"% gordura"]}),b.massa_muscular_kg&&s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(Ye,{className:"h-4 w-4"}),b.massa_muscular_kg.toFixed(1),"kg msculo"]}),b.weightChange!==void 0&&s.jsx("div",{className:"flex items-center gap-1",children:b.weightChange>0?s.jsxs(s.Fragment,{children:[s.jsx(Ye,{className:"h-4 w-4 text-red-500"}),s.jsxs("span",{className:"text-red-500",children:["+",b.weightChange.toFixed(1),"kg"]})]}):b.weightChange<0?s.jsxs(s.Fragment,{children:[s.jsx(mm,{className:"h-4 w-4 text-green-500"}),s.jsxs("span",{className:"text-green-500",children:[b.weightChange.toFixed(1),"kg"]})]}):s.jsx("span",{className:"text-muted-foreground",children:"0kg"})}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(Xt,{className:"h-4 w-4"}),y(b.measurement_date)]})]})]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[x(b.status),g(b.status),s.jsx(A,{variant:"outline",size:"sm",onClick:()=>{d(b.user_id),m(!0)},children:"Ver Grficos"})]})]})})},b.id))}),s.jsxs("div",{className:"grid gap-4 md:grid-cols-4",children:[s.jsxs(M,{children:[s.jsxs($,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(U,{className:"text-sm font-medium",children:"Total de Medies"}),s.jsx(_t,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(O,{children:[s.jsx("div",{className:"text-2xl font-bold",children:e.length}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Medies registradas"})]})]}),s.jsxs(M,{children:[s.jsxs($,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(U,{className:"text-sm font-medium",children:"Status Normal"}),s.jsx(Se,{className:"h-4 w-4 text-green-500"})]}),s.jsxs(O,{children:[s.jsx("div",{className:"text-2xl font-bold",children:e.filter(b=>b.status==="normal").length}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Sem alertas"})]})]}),s.jsxs(M,{children:[s.jsxs($,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(U,{className:"text-sm font-medium",children:"Ateno"}),s.jsx(Bt,{className:"h-4 w-4 text-yellow-500"})]}),s.jsxs(O,{children:[s.jsx("div",{className:"text-2xl font-bold",children:e.filter(b=>b.status==="warning").length}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Requer monitoramento"})]})]}),s.jsxs(M,{children:[s.jsxs($,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(U,{className:"text-sm font-medium",children:"Crtico"}),s.jsx(Bt,{className:"h-4 w-4 text-red-500"})]}),s.jsxs(O,{children:[s.jsx("div",{className:"text-2xl font-bold",children:e.filter(b=>b.status==="critical").length}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Interveno necessria"})]})]})]}),c&&s.jsx(bMe,{userId:c,isOpen:u,onClose:()=>{m(!1),d(null)}})]})},wMe=()=>{const[e,t]=p.useState({totalUsers:0,totalMeasurements:0,averageWeight:0,weightTrend:"stable",activeUsers:0,dataQuality:0,recentActivity:0,retentionRate:0,averageSessionsPerUser:0,completionRate:0,weightLossSuccess:0,topUsers:[],deviceUsage:[],weeklyStats:[]}),[r,a]=p.useState(!0),[n,i]=p.useState("30"),o=p.useCallback(async()=>{var u,m;try{a(!0);const{data:h,error:f}=await z.from("weight_measurements").select("user_id, measurement_date, peso_kg, gordura_corporal_percent, device_type").order("measurement_date",{ascending:!1});if(f){console.error("Error fetching measurements:",f);return}const{data:g}=await z.from("profiles").select("id, full_name, created_at"),{data:x}=await z.from("profiles").select("id, full_name, created_at"),{data:y}=await z.from("daily_mission_sessions").select("user_id, date, is_completed, total_points"),{data:v}=await z.from("sessions").select("id, created_by"),j=new Set((h==null?void 0:h.map(L=>L.user_id))||[]).size,N=(h==null?void 0:h.length)||0,w=(h==null?void 0:h.filter(L=>L.peso_kg).map(L=>L.peso_kg))||[],S=w.length>0?w.reduce((L,q)=>L+q,0)/w.length:0,_=(h==null?void 0:h.sort((L,q)=>new Date(L.measurement_date).getTime()-new Date(q.measurement_date).getTime()))||[];let C="stable";if(_.length>=2){const L=((u=_[0])==null?void 0:u.peso_kg)||0,q=((m=_[_.length-1])==null?void 0:m.peso_kg)||0;C=q>L?"up":q<L?"down":"stable"}const E=new Date;E.setDate(E.getDate()-parseInt(n));const T=new Set((h==null?void 0:h.filter(L=>new Date(L.measurement_date)>=E).map(L=>L.user_id))||[]).size,k=(h==null?void 0:h.filter(L=>L.peso_kg&&L.gordura_corporal_percent).length)||0,P=N>0?k/N*100:0,D=new Date;D.setDate(D.getDate()-7);const I=(h==null?void 0:h.filter(L=>new Date(L.measurement_date)>=D).length)||0,V=new Date;V.setDate(V.getDate()-30);const W=new Set((h==null?void 0:h.filter(L=>new Date(L.measurement_date)>=V).map(L=>L.user_id))||[]).size,R=j>0?W/j*100:0,F=(v==null?void 0:v.length)||0,H=j>0?F/j:0,Z=(y==null?void 0:y.length)||0,B=(y==null?void 0:y.filter(L=>L.is_completed).length)||0,K=Z>0?B/Z*100:0,Q=new Map;h==null||h.forEach(L=>{const q=L.user_id,te=Q.get(q)||{measurements:0,weights:[],lastActivity:""};te.measurements++,L.peso_kg&&te.weights.push(L.peso_kg),(!te.lastActivity||L.measurement_date>te.lastActivity)&&(te.lastActivity=L.measurement_date),Q.set(q,te)});const ie=Array.from(Q.entries()).filter(([L,q])=>{const te=q.weights;return te.length>=2&&te[0]>te[te.length-1]}).length,oe=j>0?ie/j*100:0,je=new Map;h==null||h.forEach(L=>{L.device_type&&je.set(L.device_type,(je.get(L.device_type)||0)+1)});const le=Array.from(je.entries()).map(([L,q])=>({device:L,count:q,percentage:N>0?q/N*100:0})).sort((L,q)=>q.count-L.count),Oe=[];for(let L=7;L>=0;L--){const q=new Date;q.setDate(q.getDate()-L*7),q.setHours(0,0,0,0);const te=new Date(q);te.setDate(te.getDate()+6),te.setHours(23,59,59,999);const ye=(h==null?void 0:h.filter(se=>{const ke=new Date(se.measurement_date);return ke>=q&&ke<=te}))||[],Pe=new Set(ye.map(se=>se.user_id)).size,J=[...g||[],...x||[]].filter(se=>{const ke=new Date(se.created_at);return ke>=q&&ke<=te}).length;Oe.push({week:`${q.getDate().toString().padStart(2,"0")}/${(q.getMonth()+1).toString().padStart(2,"0")}`,newUsers:J,totalMeasurements:ye.length,activeUsers:Pe})}const ae=new Map;h==null||h.forEach(L=>{const q=L.user_id,te=ae.get(q)||{measurements:0,weights:[],lastActivity:""};te.measurements++,L.peso_kg&&te.weights.push(L.peso_kg),(!te.lastActivity||L.measurement_date>te.lastActivity)&&(te.lastActivity=L.measurement_date),ae.set(q,te)});const ue=Array.from(ae.entries()).map(([L,q])=>{const te=(g==null?void 0:g.find(ye=>ye.id===L))||(x==null?void 0:x.find(ye=>ye.id===L));return{user_id:L,measurements:q.measurements,averageWeight:q.weights.length>0?q.weights.reduce((ye,Pe)=>ye+Pe,0)/q.weights.length:0,lastActivity:q.lastActivity,name:te==null?void 0:te.full_name}}).sort((L,q)=>q.measurements-L.measurements).slice(0,5);t({totalUsers:j,totalMeasurements:N,averageWeight:Math.round(S*10)/10,weightTrend:C,activeUsers:T,dataQuality:Math.round(P),recentActivity:I,retentionRate:Math.round(R),averageSessionsPerUser:Math.round(H*10)/10,completionRate:Math.round(K),weightLossSuccess:Math.round(oe),topUsers:ue,deviceUsage:le,weeklyStats:Oe})}catch(h){console.error("Error fetching report data:",h)}finally{a(!1)}},[n]);p.useEffect(()=>{o()},[o]);const l=()=>{switch(e.weightTrend){case"up":return s.jsx(Ye,{className:"h-4 w-4 text-red-500"});case"down":return s.jsx(mm,{className:"h-4 w-4 text-green-500"});default:return s.jsx(ar,{className:"h-4 w-4 text-blue-500"})}},c=()=>{switch(e.weightTrend){case"up":return"Aumentando";case"down":return"Diminuindo";default:return"Estvel"}},d=()=>{const u=[["RELATRIO AVANADO - INSTITUTO DOS SONHOS"],[`Gerado em: ${new Date().toLocaleString("pt-BR")}`],[`Perodo: ltimos ${n} dias`],[""],["ESTATSTICAS GERAIS"],["Mtrica","Valor"],["Total de Usurios",e.totalUsers],["Usurios Ativos",e.activeUsers],["Total de Medies",e.totalMeasurements],["Peso Mdio (kg)",e.averageWeight],["Taxa de Reteno (%)",e.retentionRate],["Taxa de Concluso (%)",e.completionRate],["Sucesso em Perda de Peso (%)",e.weightLossSuccess],["Qualidade dos Dados (%)",e.dataQuality],[""],["TOP USURIOS"],["Posio","Nome/ID","Medies","Peso Mdio (kg)"],...e.topUsers.map((g,x)=>[x+1,g.name||`Usurio ${g.user_id.slice(0,8)}`,g.measurements,Math.round(g.averageWeight*10)/10]),[""],["USO DE DISPOSITIVOS"],["Dispositivo","Contagem","Porcentagem (%)"],...e.deviceUsage.map(g=>[g.device,g.count,Math.round(g.percentage)])].map(g=>g.join(",")).join(`
`),m=new Blob([u],{type:"text/csv;charset=utf-8;"}),h=document.createElement("a"),f=URL.createObjectURL(m);h.setAttribute("href",f),h.setAttribute("download",`relatorio_avancado_${new Date().toISOString().split("T")[0]}.csv`),h.style.visibility="hidden",document.body.appendChild(h),h.click(),document.body.removeChild(h)};return r?s.jsx("div",{className:"space-y-6",children:s.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[...Array(4)].map((u,m)=>s.jsxs(M,{className:"animate-pulse",children:[s.jsxs($,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx("div",{className:"h-4 bg-muted rounded w-24"}),s.jsx("div",{className:"h-4 w-4 bg-muted rounded"})]}),s.jsxs(O,{children:[s.jsx("div",{className:"h-8 bg-muted rounded w-16 mb-2"}),s.jsx("div",{className:"h-3 bg-muted rounded w-32"})]})]},m))})}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold",children:"Relatrios Avanados"}),s.jsx("p",{className:"text-muted-foreground",children:"Anlise detalhada do sistema"})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(A,{onClick:d,variant:"outline",children:[s.jsx(Zf,{className:"h-4 w-4 mr-2"}),"Exportar"]}),s.jsxs(A,{onClick:o,variant:"outline",children:[s.jsx(gn,{className:"h-4 w-4 mr-2"}),"Atualizar"]}),s.jsx(A,{variant:n==="7"?"default":"outline",onClick:()=>i("7"),children:"7 dias"}),s.jsx(A,{variant:n==="30"?"default":"outline",onClick:()=>i("30"),children:"30 dias"}),s.jsx(A,{variant:n==="90"?"default":"outline",onClick:()=>i("90"),children:"90 dias"})]})]}),s.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[s.jsxs(M,{children:[s.jsxs($,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(U,{className:"text-sm font-medium",children:"Total de Usurios"}),s.jsx(Le,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(O,{children:[s.jsx("div",{className:"text-2xl font-bold",children:e.totalUsers}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Usurios registrados"})]})]}),s.jsxs(M,{children:[s.jsxs($,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(U,{className:"text-sm font-medium",children:"Taxa de Reteno"}),s.jsx(Ye,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(O,{children:[s.jsxs("div",{className:"text-2xl font-bold",children:[e.retentionRate,"%"]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Usurios que retornaram"})]})]}),s.jsxs(M,{children:[s.jsxs($,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(U,{className:"text-sm font-medium",children:"Sucesso em Perda de Peso"}),s.jsx(_t,{className:"h-4 w-4 text-green-500"})]}),s.jsxs(O,{children:[s.jsxs("div",{className:"text-2xl font-bold text-green-600",children:[e.weightLossSuccess,"%"]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Usurios que perderam peso"})]})]}),s.jsxs(M,{children:[s.jsxs($,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(U,{className:"text-sm font-medium",children:"Taxa de Concluso"}),s.jsx(jt,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(O,{children:[s.jsxs("div",{className:"text-2xl font-bold",children:[e.completionRate,"%"]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Misses completadas"})]})]})]}),s.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[s.jsxs(M,{children:[s.jsxs($,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(U,{className:"text-sm font-medium",children:"Total de Medies"}),s.jsx(Te,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(O,{children:[s.jsx("div",{className:"text-2xl font-bold",children:e.totalMeasurements}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Pesagens registradas"})]})]}),s.jsxs(M,{children:[s.jsxs($,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(U,{className:"text-sm font-medium",children:"Peso Mdio"}),s.jsx(_e,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(O,{children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("div",{className:"text-2xl font-bold",children:[e.averageWeight,"kg"]}),l()]}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:["Tendncia: ",c()]})]})]}),s.jsxs(M,{children:[s.jsxs($,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(U,{className:"text-sm font-medium",children:"Sesses por Usurio"}),s.jsx(ni,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(O,{children:[s.jsx("div",{className:"text-2xl font-bold",children:e.averageSessionsPerUser}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Mdia de sesses"})]})]}),s.jsxs(M,{children:[s.jsxs($,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(U,{className:"text-sm font-medium",children:"Qualidade dos Dados"}),s.jsx(KE,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(O,{children:[s.jsxs("div",{className:"text-2xl font-bold",children:[e.dataQuality,"%"]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Dados completos"})]})]})]}),s.jsxs("div",{className:"grid gap-6 md:grid-cols-3",children:[s.jsxs(M,{children:[s.jsx($,{children:s.jsxs(U,{className:"flex items-center gap-2",children:[s.jsx(KE,{className:"h-5 w-5"}),"Uso de Dispositivos"]})}),s.jsx(O,{children:s.jsx("div",{className:"space-y-3",children:e.deviceUsage.length>0?e.deviceUsage.map((u,m)=>s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm font-medium",children:u.device||"No especificado"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(X,{variant:"outline",children:u.count}),s.jsxs("span",{className:"text-xs text-muted-foreground",children:[Math.round(u.percentage),"%"]})]})]},m)):s.jsx("p",{className:"text-sm text-muted-foreground",children:"Nenhum dado de dispositivo disponvel"})})})]}),s.jsxs(M,{children:[s.jsx($,{children:s.jsxs(U,{className:"flex items-center gap-2",children:[s.jsx(ar,{className:"h-5 w-5"}),"Mtricas de Engajamento"]})}),s.jsx(O,{children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm font-medium",children:"Taxa de Reteno"}),s.jsxs(X,{variant:e.retentionRate>=70?"default":e.retentionRate>=50?"secondary":"destructive",children:[e.retentionRate,"%"]})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm font-medium",children:"Taxa de Concluso"}),s.jsxs(X,{variant:e.completionRate>=80?"default":"secondary",children:[e.completionRate,"%"]})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm font-medium",children:"Sucesso em Perda de Peso"}),s.jsxs(X,{variant:"default",className:"bg-green-100 text-green-800",children:[e.weightLossSuccess,"%"]})]})]})})]}),s.jsxs(M,{children:[s.jsx($,{children:s.jsxs(U,{className:"flex items-center gap-2",children:[s.jsx(Bt,{className:"h-5 w-5"}),"Alertas e Recomendaes"]})}),s.jsx(O,{children:s.jsxs("div",{className:"space-y-3",children:[e.retentionRate<50&&s.jsxs("div",{className:"flex items-center gap-2 text-red-600",children:[s.jsx(Bt,{className:"h-4 w-4"}),s.jsx("span",{className:"text-sm",children:"Taxa de reteno baixa"})]}),e.completionRate<60&&s.jsxs("div",{className:"flex items-center gap-2 text-yellow-600",children:[s.jsx(Xt,{className:"h-4 w-4"}),s.jsx("span",{className:"text-sm",children:"Baixa concluso de misses"})]}),e.dataQuality<80&&s.jsxs("div",{className:"flex items-center gap-2 text-orange-600",children:[s.jsx(ar,{className:"h-4 w-4"}),s.jsx("span",{className:"text-sm",children:"Melhorar qualidade dos dados"})]}),e.recentActivity<10&&s.jsxs("div",{className:"flex items-center gap-2 text-purple-600",children:[s.jsx(Te,{className:"h-4 w-4"}),s.jsx("span",{className:"text-sm",children:"Baixa atividade recente"})]}),e.retentionRate>=70&&e.completionRate>=80&&e.dataQuality>=80&&s.jsxs("div",{className:"flex items-center gap-2 text-green-600",children:[s.jsx(Le,{className:"h-4 w-4"}),s.jsx("span",{className:"text-sm",children:"Sistema funcionando bem!"})]})]})})]})]}),s.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[s.jsxs(M,{children:[s.jsx($,{children:s.jsx(U,{children:"Top Usurios por Medies"})}),s.jsx(O,{children:s.jsx("div",{className:"space-y-4",children:e.topUsers.map((u,m)=>s.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-8 h-8 bg-primary text-white rounded-full flex items-center justify-center text-sm font-bold",children:m+1}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:u.name||`Usurio ${u.user_id.slice(0,8)}...`}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:[u.measurements," medies"]})]})]}),s.jsxs("div",{className:"text-right",children:[s.jsxs("p",{className:"font-medium",children:[Math.round(u.averageWeight*10)/10,"kg"]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Peso mdio"})]})]},u.user_id))})})]}),s.jsxs(M,{children:[s.jsx($,{children:s.jsx(U,{children:"Estatsticas Semanais"})}),s.jsx(O,{children:s.jsx("div",{className:"space-y-4",children:e.weeklyStats.slice(-4).map((u,m)=>s.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted rounded-lg",children:[s.jsxs("div",{children:[s.jsxs("p",{className:"font-medium",children:["Semana ",u.week]}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:[u.newUsers," novos usurios"]})]}),s.jsxs("div",{className:"text-right",children:[s.jsxs("p",{className:"font-medium",children:[u.totalMeasurements," medies"]}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:[u.activeUsers," usurios ativos"]})]})]},m))})})]})]})]})},NMe=["Nutrio","Exerccio","Mindset","Receitas","Sade","Bem-estar","Meditao","Terapia"],SMe=[{value:"beginner",label:"Iniciante"},{value:"intermediate",label:"Intermedirio"},{value:"advanced",label:"Avanado"}],_Me=({isOpen:e,onClose:t,onSubmit:r})=>{const[a,n]=p.useState({title:"",description:"",category:"",difficulty_level:"beginner",duration_minutes:60,instructor_name:"",is_premium:!1,is_published:!0,price:0}),[i,o]=p.useState(null),[l,c]=p.useState(""),[d,u]=p.useState("file"),[m,h]=p.useState(!1),[f,g]=p.useState({}),x=(w,S)=>{n(_=>({..._,[w]:S})),f[w]&&g(_=>({..._,[w]:""}))},y=w=>{var _;const S=(_=w.target.files)==null?void 0:_[0];S&&(o(S),u("file"))},v=w=>{c(w),u("url"),o(null)},b=()=>{const w={};return a.title.trim()||(w.title="Ttulo  obrigatrio"),a.description.trim()||(w.description="Descrio  obrigatria"),a.category||(w.category="Categoria  obrigatria"),a.instructor_name.trim()||(w.instructor_name="Nome do instrutor  obrigatrio"),a.duration_minutes<=0&&(w.duration_minutes="Durao deve ser maior que zero"),a.price&&a.price<0&&(w.price="Preo no pode ser negativo"),g(w),Object.keys(w).length===0},j=async()=>{if(b()){h(!0);try{const w={...a,thumbnail_url:d==="url"&&l?l:i?URL.createObjectURL(i):void 0};await r(w),n({title:"",description:"",category:"",difficulty_level:"beginner",duration_minutes:60,instructor_name:"",is_premium:!1,is_published:!0,price:0}),o(null),g({}),t()}catch(w){console.error("Erro ao criar curso:",w)}finally{h(!1)}}},N=()=>{m||(n({title:"",description:"",category:"",difficulty_level:"beginner",duration_minutes:60,instructor_name:"",is_premium:!1,is_published:!0,price:0}),o(null),c(""),u("file"),g({}),t())};return s.jsx(gt,{open:e,onOpenChange:N,children:s.jsxs(vt,{className:"bg-gray-900 border-gray-700 text-white max-w-2xl",children:[s.jsx(yt,{children:s.jsxs(bt,{className:"flex items-center gap-2 text-xl font-bold",children:[s.jsx(as,{className:"h-6 w-6 text-red-500"}),"CRIAR NOVO CURSO"]})}),s.jsxs("div",{className:"space-y-6 py-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Y,{htmlFor:"title",className:"text-sm font-medium text-gray-300",children:" Ttulo do Curso"}),s.jsx(re,{id:"title",value:a.title,onChange:w=>x("title",w.target.value),placeholder:"Digite o ttulo do curso...",className:"bg-gray-800 border-gray-600 text-white placeholder-gray-400"}),f.title&&s.jsxs("div",{className:"flex items-center gap-1 text-red-400 text-sm",children:[s.jsx(ls,{className:"h-4 w-4"}),f.title]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Y,{htmlFor:"description",className:"text-sm font-medium text-gray-300",children:" Descrio"}),s.jsx(Ke,{id:"description",value:a.description,onChange:w=>x("description",w.target.value),placeholder:"Descreva o contedo e objetivos do curso...",rows:4,className:"bg-gray-800 border-gray-600 text-white placeholder-gray-400"}),f.description&&s.jsxs("div",{className:"flex items-center gap-1 text-red-400 text-sm",children:[s.jsx(ls,{className:"h-4 w-4"}),f.description]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Y,{htmlFor:"category",className:"text-sm font-medium text-gray-300",children:" Categoria"}),s.jsxs(rt,{value:a.category,onValueChange:w=>x("category",w),children:[s.jsx(tt,{className:"bg-gray-800 border-gray-600 text-white",children:s.jsx(at,{placeholder:"Selecione uma categoria"})}),s.jsx(st,{className:"bg-gray-800 border-gray-600",children:NMe.map(w=>s.jsx(he,{value:w,className:"text-white hover:bg-gray-700",children:w},w))})]}),f.category&&s.jsxs("div",{className:"flex items-center gap-1 text-red-400 text-sm",children:[s.jsx(ls,{className:"h-4 w-4"}),f.category]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Y,{htmlFor:"difficulty_level",className:"text-sm font-medium text-gray-300",children:" Nvel de Dificuldade"}),s.jsxs(rt,{value:a.difficulty_level,onValueChange:w=>x("difficulty_level",w),children:[s.jsx(tt,{className:"bg-gray-800 border-gray-600 text-white",children:s.jsx(at,{placeholder:"Selecione o nvel"})}),s.jsx(st,{className:"bg-gray-800 border-gray-600",children:SMe.map(w=>s.jsx(he,{value:w.value,className:"text-white hover:bg-gray-700",children:w.label},w.value))})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Y,{htmlFor:"duration_minutes",className:"text-sm font-medium text-gray-300",children:" Durao (minutos)"}),s.jsxs("div",{className:"relative",children:[s.jsx(Xt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),s.jsx(re,{id:"duration_minutes",type:"number",value:a.duration_minutes,onChange:w=>x("duration_minutes",parseInt(w.target.value)||0),placeholder:"60",className:"pl-10 bg-gray-800 border-gray-600 text-white"})]}),f.duration_minutes&&s.jsxs("div",{className:"flex items-center gap-1 text-red-400 text-sm",children:[s.jsx(ls,{className:"h-4 w-4"}),f.duration_minutes]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Y,{htmlFor:"instructor_name",className:"text-sm font-medium text-gray-300",children:" Instrutor"}),s.jsx(re,{id:"instructor_name",value:a.instructor_name,onChange:w=>x("instructor_name",w.target.value),placeholder:"Nome do instrutor",className:"bg-gray-800 border-gray-600 text-white placeholder-gray-400"}),f.instructor_name&&s.jsxs("div",{className:"flex items-center gap-1 text-red-400 text-sm",children:[s.jsx(ls,{className:"h-4 w-4"}),f.instructor_name]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Y,{htmlFor:"price",className:"text-sm font-medium text-gray-300",children:" Preo"}),s.jsxs("div",{className:"relative",children:[s.jsx(E0,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),s.jsx(re,{id:"price",type:"number",value:a.price,onChange:w=>x("price",parseFloat(w.target.value)||0),placeholder:"0.00",className:"pl-10 bg-gray-800 border-gray-600 text-white"})]}),a.price===0&&s.jsx(X,{variant:"outline",className:"text-green-400 border-green-400",children:"Gratuito"}),f.price&&s.jsxs("div",{className:"flex items-center gap-1 text-red-400 text-sm",children:[s.jsx(ls,{className:"h-4 w-4"}),f.price]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Y,{className:"text-sm font-medium text-gray-300",children:" Imagem de Capa"}),s.jsxs("div",{className:"flex gap-2 mb-4",children:[s.jsx(A,{type:"button",variant:d==="file"?"default":"outline",size:"sm",onClick:()=>u("file"),className:d==="file"?"bg-red-500 hover:bg-red-600":"border-gray-600 text-gray-300",children:" Upload Arquivo"}),s.jsx(A,{type:"button",variant:d==="url"?"default":"outline",size:"sm",onClick:()=>u("url"),className:d==="url"?"bg-red-500 hover:bg-red-600":"border-gray-600 text-gray-300",children:" Link da Imagem"})]}),d==="file"&&s.jsxs("div",{className:"border-2 border-dashed border-gray-600 rounded-lg p-6 text-center hover:border-gray-500 transition-colors",children:[s.jsx("input",{id:"coverImage",type:"file",accept:"image/*",onChange:y,className:"hidden"}),s.jsxs("label",{htmlFor:"coverImage",className:"cursor-pointer",children:[s.jsx(Rc,{className:"h-12 w-12 text-gray-400 mx-auto mb-2"}),s.jsx("p",{className:"text-gray-300 mb-1",children:i?i.name:" Escolher Arquivo"}),s.jsx("p",{className:"text-gray-400 text-sm",children:"PNG, JPG at 5MB"})]})]}),d==="url"&&s.jsxs("div",{className:"space-y-2",children:[s.jsx(re,{type:"url",placeholder:"https://exemplo.com/imagem.jpg",value:l,onChange:w=>v(w.target.value),className:"bg-gray-800 border-gray-600 text-white placeholder-gray-400"}),s.jsx("p",{className:"text-gray-400 text-xs",children:"Cole aqui o link direto da imagem (deve terminar em .jpg, .png, .gif, etc.)"})]}),i&&d==="file"&&s.jsxs("div",{className:"flex items-center gap-2 text-green-400 text-sm",children:[s.jsx(Se,{className:"h-4 w-4"}),"Arquivo selecionado: ",i.name]}),l&&d==="url"&&s.jsxs("div",{className:"flex items-center gap-2 text-green-400 text-sm",children:[s.jsx(Se,{className:"h-4 w-4"}),"URL vlida: ",l.substring(0,50),"..."]}),(i||l&&d==="url")&&s.jsxs("div",{className:"mt-4",children:[s.jsx("p",{className:"text-sm text-gray-300 mb-2",children:"Preview:"}),s.jsxs("div",{className:"w-32 h-20 bg-gray-800 rounded-lg overflow-hidden border border-gray-600",children:[d==="file"&&i&&s.jsx("img",{src:URL.createObjectURL(i),alt:"Preview",className:"w-full h-full object-cover"}),d==="url"&&l&&s.jsxs(s.Fragment,{children:[s.jsx("img",{src:l,alt:"Preview",className:"w-full h-full object-cover",onError:w=>{const S=w.currentTarget;S.style.display="none";const _=S.nextElementSibling;_&&(_.style.display="flex")}}),s.jsx("div",{className:"w-full h-full flex items-center justify-center text-gray-400 text-xs",style:{display:"none"},children:"Erro ao carregar"})]})]})]})]}),s.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between gap-4",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Y,{htmlFor:"is_premium",className:"text-sm font-medium text-gray-300",children:" Contedo Premium"}),s.jsx(ha,{id:"is_premium",checked:a.is_premium,onCheckedChange:w=>x("is_premium",w),className:"data-[state=checked]:bg-yellow-500"})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Y,{htmlFor:"is_published",className:"text-sm font-medium text-gray-300",children:" Publicar Curso"}),s.jsx(ha,{id:"is_published",checked:a.is_published,onCheckedChange:w=>x("is_published",w),className:"data-[state=checked]:bg-green-500"})]})]})]}),s.jsxs(db,{className:"flex gap-3",children:[s.jsxs(A,{variant:"outline",onClick:N,disabled:m,className:"border-gray-600 text-white hover:bg-gray-800",children:[s.jsx(nr,{className:"h-4 w-4 mr-2"}),"Cancelar"]}),s.jsxs(A,{onClick:j,disabled:m,className:"bg-red-500 hover:bg-red-600",children:[s.jsx(ia,{className:"h-4 w-4 mr-2"}),m?"Salvando...":" Salvar Curso"]})]})]})})},CMe=({isOpen:e,onClose:t,onSubmit:r,courses:a})=>{var y;const[n,i]=p.useState({title:"",description:"",course_id:"",order_index:1,is_active:!0}),[o,l]=p.useState(!1),[c,d]=p.useState({}),[u,m]=p.useState(""),h=(v,b)=>{i(j=>({...j,[v]:b})),c[v]&&d(j=>({...j,[v]:""}))},f=()=>{const v={};return n.title.trim()||(v.title="Ttulo  obrigatrio"),n.course_id||(v.course_id="Curso  obrigatrio"),n.order_index<1&&(v.order_index="Ordem deve ser maior que 0"),d(v),Object.keys(v).length===0},g=async()=>{if(f()){l(!0);try{const v={...n,description:n.description||"Mdulo criado automaticamente",thumbnail_url:u||void 0};await r(v),i({title:"",description:"",course_id:"",order_index:1,is_active:!0}),d({}),m(""),t()}catch(v){console.error("Erro ao criar mdulo:",v)}finally{l(!1)}}},x=()=>{o||(i({title:"",description:"",course_id:"",order_index:1,is_active:!0}),d({}),m(""),t())};return s.jsx(gt,{open:e,onOpenChange:x,children:s.jsxs(vt,{className:"bg-gray-900 border-gray-700 text-white max-w-2xl",children:[s.jsx(yt,{children:s.jsxs(bt,{className:"flex items-center gap-2 text-xl font-bold",children:[s.jsx(ni,{className:"h-6 w-6 text-blue-500"}),"CRIAR NOVO MDULO"]})}),s.jsxs("div",{className:"space-y-6 py-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Y,{htmlFor:"title",className:"text-sm font-medium text-gray-300",children:" Ttulo do Mdulo"}),s.jsx(re,{id:"title",value:n.title,onChange:v=>h("title",v.target.value),placeholder:"Digite o ttulo do mdulo...",className:"bg-gray-800 border-gray-600 text-white placeholder-gray-400"}),c.title&&s.jsxs("div",{className:"flex items-center gap-1 text-red-400 text-sm",children:[s.jsx(ls,{className:"h-4 w-4"}),c.title]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Y,{htmlFor:"course_id",className:"text-sm font-medium text-gray-300",children:" Curso"}),s.jsxs(rt,{value:n.course_id,onValueChange:v=>h("course_id",v),children:[s.jsx(tt,{className:"bg-gray-800 border-gray-600 text-white",children:s.jsx(at,{placeholder:"Selecione um curso"})}),s.jsx(st,{className:"bg-gray-800 border-gray-600",children:a.map(v=>s.jsx(he,{value:v.id,className:"text-white hover:bg-gray-700",children:v.title},v.id))})]}),c.course_id&&s.jsxs("div",{className:"flex items-center gap-1 text-red-400 text-sm",children:[s.jsx(ls,{className:"h-4 w-4"}),c.course_id]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Y,{htmlFor:"order_index",className:"text-sm font-medium text-gray-300",children:" Ordem"}),s.jsx(re,{id:"order_index",type:"number",value:n.order_index,onChange:v=>h("order_index",parseInt(v.target.value)||1),placeholder:"1",min:"1",className:"bg-gray-800 border-gray-600 text-white"}),c.order_index&&s.jsxs("div",{className:"flex items-center gap-1 text-red-400 text-sm",children:[s.jsx(ls,{className:"h-4 w-4"}),c.order_index]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Y,{htmlFor:"imageUrl",className:"text-sm font-medium text-gray-300",children:" URL da Imagem de Capa"}),s.jsx(re,{id:"imageUrl",type:"url",value:u,onChange:v=>m(v.target.value),placeholder:"https://exemplo.com/imagem.jpg",className:"bg-gray-800 border-gray-600 text-white placeholder-gray-400"}),s.jsx("p",{className:"text-gray-400 text-xs",children:"URL direta da imagem para ser usada como capa do mdulo"}),u&&s.jsxs("div",{className:"mt-2",children:[s.jsx("p",{className:"text-sm text-gray-300 mb-2",children:"Preview:"}),s.jsxs("div",{className:"w-32 h-20 bg-gray-800 rounded-lg overflow-hidden border border-gray-600",children:[s.jsx("img",{src:u,alt:"Preview",className:"w-full h-full object-cover",onError:v=>{const b=v.currentTarget;b.style.display="none";const j=b.nextElementSibling;j&&(j.style.display="flex")}}),s.jsx("div",{className:"w-full h-full flex items-center justify-center text-gray-400 text-xs",style:{display:"none"},children:"Erro ao carregar"})]})]})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(Y,{htmlFor:"is_active",className:"text-sm font-medium text-gray-300",children:" Mdulo Ativo"}),s.jsx(ha,{id:"is_active",checked:n.is_active,onCheckedChange:v=>h("is_active",v),className:"data-[state=checked]:bg-blue-500"})]}),n.course_id&&s.jsx("div",{className:"p-4 bg-gray-800 rounded-lg border border-gray-600",children:s.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-300",children:[s.jsx(Se,{className:"h-4 w-4 text-green-400"}),s.jsx("span",{children:"Mdulo ser adicionado ao curso: "}),s.jsx("span",{className:"font-medium text-white",children:(y=a.find(v=>v.id===n.course_id))==null?void 0:y.title})]})})]}),s.jsxs(db,{className:"flex gap-3",children:[s.jsxs(A,{variant:"outline",onClick:x,disabled:o,className:"border-gray-600 text-white hover:bg-gray-800",children:[s.jsx(nr,{className:"h-4 w-4 mr-2"}),"Cancelar"]}),s.jsxs(A,{onClick:g,disabled:o,className:"bg-blue-500 hover:bg-blue-600",children:[s.jsx(ia,{className:"h-4 w-4 mr-2"}),o?"Salvando...":" Salvar Mdulo"]})]})]})})},kMe=({isOpen:e,onClose:t,onSubmit:r,courses:a,modules:n})=>{const[i,o]=p.useState("basic"),[l,c]=p.useState({type:"video",title:"",description:"",duration:0,order:1,isActive:!0,courseId:"",moduleId:"",lesson_type:"module_lesson",videoType:"youtube",videoUrl:"",richTextContent:"",mixedContent:"",objectives:"",prerequisites:"",resources:"",quizJson:"",tags:[]}),[d,u]=p.useState(!1),[m,h]=p.useState({}),[f,g]=p.useState(""),x=(_,C)=>{c(E=>({...E,[_]:C})),m[_]&&h(E=>({...E,[_]:""}))},y=(_,C)=>{var T;const E=(T=C.target.files)==null?void 0:T[0];E&&c(k=>({...k,[_]:E}))},v=()=>{f.trim()&&!l.tags.includes(f.trim())&&(c(_=>({..._,tags:[..._.tags,f.trim()]})),g(""))},b=_=>{c(C=>({...C,tags:C.tags.filter(E=>E!==_)}))},j=()=>{const _={};return l.title.trim()||(_.title="Ttulo  obrigatrio"),l.description.trim()||(_.description="Descrio  obrigatria"),l.lesson_type==="course_lesson"?l.courseId||(_.courseId="Curso  obrigatrio para aulas diretas"):(l.courseId||(_.courseId="Curso  obrigatrio"),l.moduleId||(_.moduleId="Mdulo  obrigatrio")),l.order<1&&(_.order="Ordem deve ser maior que 0"),l.duration<0&&(_.duration="Durao no pode ser negativa"),h(_),Object.keys(_).length===0},N=async()=>{if(j()){u(!0);try{await r(l),c({type:"video",title:"",description:"",duration:0,order:1,isActive:!0,courseId:"",moduleId:"",lesson_type:"module_lesson",videoType:"youtube",videoUrl:"",richTextContent:"",mixedContent:"",objectives:"",prerequisites:"",resources:"",quizJson:"",tags:[]}),h({}),g(""),t()}catch(_){console.error("Erro ao criar aula:",_)}finally{u(!1)}}},w=()=>{d||(c({type:"video",title:"",description:"",duration:0,order:1,isActive:!0,courseId:"",moduleId:"",lesson_type:"module_lesson",videoType:"youtube",videoUrl:"",richTextContent:"",mixedContent:"",objectives:"",prerequisites:"",resources:"",quizJson:"",tags:[]}),h({}),g(""),t())},S=n.filter(_=>_.courseId===l.courseId);return s.jsx(gt,{open:e,onOpenChange:w,children:s.jsxs(vt,{className:"bg-gray-900 border-gray-700 text-white max-w-4xl max-h-[90vh] overflow-y-auto",children:[s.jsx(yt,{children:s.jsxs(bt,{className:"flex items-center gap-2 text-xl font-bold",children:[s.jsx(ta,{className:"h-6 w-6 text-purple-500"}),"GERENCIADOR AVANADO - ADICIONAR AULA"]})}),s.jsxs(ga,{value:i,onValueChange:o,className:"w-full",children:[s.jsxs(Gr,{className:"grid w-full grid-cols-4 bg-gray-800",children:[s.jsx(Ve,{value:"basic",className:"data-[state=active]:bg-purple-500",children:" BSICO"}),s.jsx(Ve,{value:"content",className:"data-[state=active]:bg-purple-500",children:" CONTEDO"}),s.jsx(Ve,{value:"media",className:"data-[state=active]:bg-purple-500",children:" MDIA"}),s.jsx(Ve,{value:"advanced",className:"data-[state=active]:bg-purple-500",children:" AVANADO"})]}),s.jsx(ct,{value:"basic",className:"space-y-6",children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Y,{className:"text-sm font-medium text-gray-300",children:" Estrutura da Aula"}),s.jsxs(rt,{value:l.lesson_type,onValueChange:_=>x("lesson_type",_),children:[s.jsx(tt,{className:"bg-gray-800 border-gray-600 text-white",children:s.jsx(at,{placeholder:"Selecione a estrutura"})}),s.jsxs(st,{className:"bg-gray-800 border-gray-600",children:[s.jsx(he,{value:"module_lesson",className:"text-white hover:bg-gray-700",children:" MDULO  AULA (Tradicional)"}),s.jsx(he,{value:"course_lesson",className:"text-white hover:bg-gray-700",children:" CURSO  AULA (Direta)"})]})]}),s.jsx("p",{className:"text-gray-400 text-xs",children:l.lesson_type==="course_lesson"?"Aula diretamente vinculada ao curso":"Aula organizada dentro de um mdulo"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Y,{className:"text-sm font-medium text-gray-300",children:" Tipo de Contedo"}),s.jsx("div",{className:"flex gap-4",children:[{value:"video",label:"Vdeo",icon:ta},{value:"text",label:"Texto",icon:ni},{value:"mixed",label:"Misto",icon:Hs}].map(_=>{const C=_.icon;return s.jsxs(A,{variant:l.type===_.value?"default":"outline",onClick:()=>x("type",_.value),className:`flex items-center gap-2 ${l.type===_.value?"bg-purple-500 hover:bg-purple-600":"border-gray-600 text-white hover:bg-gray-800"}`,children:[s.jsx(C,{className:"h-4 w-4"}),_.label]},_.value)})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Y,{htmlFor:"title",className:"text-sm font-medium text-gray-300",children:" Ttulo"}),s.jsx(re,{id:"title",value:l.title,onChange:_=>x("title",_.target.value),placeholder:"Digite o ttulo da aula...",className:"bg-gray-800 border-gray-600 text-white placeholder-gray-400"}),m.title&&s.jsxs("div",{className:"flex items-center gap-1 text-red-400 text-sm",children:[s.jsx(ls,{className:"h-4 w-4"}),m.title]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Y,{htmlFor:"description",className:"text-sm font-medium text-gray-300",children:" Descrio"}),s.jsx(Ke,{id:"description",value:l.description,onChange:_=>x("description",_.target.value),placeholder:"Descreva o contedo da aula...",rows:3,className:"bg-gray-800 border-gray-600 text-white placeholder-gray-400"}),m.description&&s.jsxs("div",{className:"flex items-center gap-1 text-red-400 text-sm",children:[s.jsx(ls,{className:"h-4 w-4"}),m.description]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Y,{htmlFor:"courseId",className:"text-sm font-medium text-gray-300",children:" Curso"}),s.jsxs(rt,{value:l.courseId,onValueChange:_=>x("courseId",_),children:[s.jsx(tt,{className:"bg-gray-800 border-gray-600 text-white",children:s.jsx(at,{placeholder:"Selecione um curso"})}),s.jsx(st,{className:"bg-gray-800 border-gray-600",children:a.map(_=>s.jsx(he,{value:_.id,className:"text-white hover:bg-gray-700",children:_.title},_.id))})]}),m.courseId&&s.jsxs("div",{className:"flex items-center gap-1 text-red-400 text-sm",children:[s.jsx(ls,{className:"h-4 w-4"}),m.courseId]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(Y,{htmlFor:"moduleId",className:"text-sm font-medium text-gray-300",children:[" ",l.lesson_type==="course_lesson"?"Mdulo (No Necessrio)":"Mdulo"]}),s.jsxs(rt,{value:l.moduleId,onValueChange:_=>x("moduleId",_),disabled:!l.courseId||l.lesson_type==="course_lesson",children:[s.jsx(tt,{className:"bg-gray-800 border-gray-600 text-white",children:s.jsx(at,{placeholder:l.lesson_type==="course_lesson"?"Aula direta no curso":"Selecione um mdulo"})}),s.jsx(st,{className:"bg-gray-800 border-gray-600",children:S.map(_=>s.jsx(he,{value:_.id,className:"text-white hover:bg-gray-700",children:_.title},_.id))})]}),m.moduleId&&s.jsxs("div",{className:"flex items-center gap-1 text-red-400 text-sm",children:[s.jsx(ls,{className:"h-4 w-4"}),m.moduleId]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Y,{htmlFor:"duration",className:"text-sm font-medium text-gray-300",children:" Durao (minutos)"}),s.jsx(re,{id:"duration",type:"number",value:l.duration,onChange:_=>x("duration",parseInt(_.target.value)||0),placeholder:"0",min:"0",className:"bg-gray-800 border-gray-600 text-white"}),m.duration&&s.jsxs("div",{className:"flex items-center gap-1 text-red-400 text-sm",children:[s.jsx(ls,{className:"h-4 w-4"}),m.duration]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Y,{htmlFor:"order",className:"text-sm font-medium text-gray-300",children:" Ordem"}),s.jsx(re,{id:"order",type:"number",value:l.order,onChange:_=>x("order",parseInt(_.target.value)||1),placeholder:"1",min:"1",className:"bg-gray-800 border-gray-600 text-white"}),m.order&&s.jsxs("div",{className:"flex items-center gap-1 text-red-400 text-sm",children:[s.jsx(ls,{className:"h-4 w-4"}),m.order]})]})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(Y,{htmlFor:"isActive",className:"text-sm font-medium text-gray-300",children:" Aula Ativa"}),s.jsx(ha,{id:"isActive",checked:l.isActive,onCheckedChange:_=>x("isActive",_),className:"data-[state=checked]:bg-purple-500"})]})]})}),s.jsx(ct,{value:"content",className:"space-y-6",children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Y,{className:"text-sm font-medium text-gray-300",children:" TIPO DE VDEO"}),s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("input",{type:"radio",id:"youtube",name:"videoType",value:"youtube",checked:l.videoType==="youtube",onChange:_=>x("videoType",_.target.value),className:"text-purple-500"}),s.jsx(Y,{htmlFor:"youtube",className:"text-sm text-gray-300",children:"YouTube URL"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("input",{type:"radio",id:"vimeo",name:"videoType",value:"vimeo",checked:l.videoType==="vimeo",onChange:_=>x("videoType",_.target.value),className:"text-purple-500"}),s.jsx(Y,{htmlFor:"vimeo",className:"text-sm text-gray-300",children:"Vimeo URL"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("input",{type:"radio",id:"panda",name:"videoType",value:"panda",checked:l.videoType==="panda",onChange:_=>x("videoType",_.target.value),className:"text-purple-500"}),s.jsx(Y,{htmlFor:"panda",className:"text-sm text-gray-300",children:"Panda URL"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("input",{type:"radio",id:"upload",name:"videoType",value:"upload",checked:l.videoType==="upload",onChange:_=>x("videoType",_.target.value),className:"text-purple-500"}),s.jsx(Y,{htmlFor:"upload",className:"text-sm text-gray-300",children:"Upload Local"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Y,{htmlFor:"videoUrl",className:"text-sm font-medium text-gray-300",children:" URL do Vdeo"}),s.jsx(re,{id:"videoUrl",value:l.videoUrl,onChange:_=>x("videoUrl",_.target.value),placeholder:l.videoType==="youtube"?"https://youtube.com/watch?v=...":l.videoType==="vimeo"?"https://vimeo.com/123456789":l.videoType==="panda"?"https://panda.com/video/abc123":"Selecione o tipo de vdeo primeiro",className:"bg-gray-800 border-gray-600 text-white placeholder-gray-400"}),s.jsxs("div",{className:"text-xs text-gray-400",children:[l.videoType==="youtube"&&"Exemplo: https://youtube.com/watch?v=abc123",l.videoType==="vimeo"&&"Exemplo: https://vimeo.com/123456789",l.videoType==="panda"&&"Exemplo: https://panda.com/video/abc123",l.videoType==="upload"&&"Clique em 'Upload Local' na aba MDIA"]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Y,{htmlFor:"richTextContent",className:"text-sm font-medium text-gray-300",children:" Editor de Texto Rico"}),s.jsx(Ke,{id:"richTextContent",value:l.richTextContent,onChange:_=>x("richTextContent",_.target.value),placeholder:"Digite o contedo da aula em formato rico...",rows:8,className:"bg-gray-800 border-gray-600 text-white placeholder-gray-400"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Y,{htmlFor:"mixedContent",className:"text-sm font-medium text-gray-300",children:" Contedo Misto"}),s.jsx(Ke,{id:"mixedContent",value:l.mixedContent,onChange:_=>x("mixedContent",_.target.value),placeholder:"Combine vdeo, texto e outros recursos...",rows:6,className:"bg-gray-800 border-gray-600 text-white placeholder-gray-400"})]})]})}),s.jsx(ct,{value:"media",className:"space-y-6",children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Y,{htmlFor:"thumbnail",className:"text-sm font-medium text-gray-300",children:" Thumbnail"}),s.jsxs("div",{className:"border-2 border-dashed border-gray-600 rounded-lg p-6 text-center hover:border-gray-500 transition-colors",children:[s.jsx("input",{id:"thumbnail",type:"file",accept:"image/*",onChange:_=>y("thumbnail",_),className:"hidden"}),s.jsxs("label",{htmlFor:"thumbnail",className:"cursor-pointer",children:[s.jsx(Rc,{className:"h-12 w-12 text-gray-400 mx-auto mb-2"}),s.jsx("p",{className:"text-gray-300 mb-1",children:l.thumbnail?l.thumbnail.name:" Upload Thumbnail"}),s.jsx("p",{className:"text-gray-400 text-sm",children:"PNG, JPG at 2MB"})]})]}),l.thumbnail&&s.jsxs("div",{className:"flex items-center gap-2 text-green-400 text-sm",children:[s.jsx(Se,{className:"h-4 w-4"}),"Thumbnail: ",l.thumbnail.name]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Y,{htmlFor:"document",className:"text-sm font-medium text-gray-300",children:" Documento PDF"}),s.jsxs("div",{className:"border-2 border-dashed border-gray-600 rounded-lg p-6 text-center hover:border-gray-500 transition-colors",children:[s.jsx("input",{id:"document",type:"file",accept:".pdf",onChange:_=>y("document",_),className:"hidden"}),s.jsxs("label",{htmlFor:"document",className:"cursor-pointer",children:[s.jsx(ni,{className:"h-12 w-12 text-gray-400 mx-auto mb-2"}),s.jsx("p",{className:"text-gray-300 mb-1",children:l.document?l.document.name:" Upload PDF"}),s.jsx("p",{className:"text-gray-400 text-sm",children:"PDF at 10MB"})]})]}),l.document&&s.jsxs("div",{className:"flex items-center gap-2 text-green-400 text-sm",children:[s.jsx(Se,{className:"h-4 w-4"}),"Documento: ",l.document.name]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Y,{htmlFor:"image",className:"text-sm font-medium text-gray-300",children:" Imagem"}),s.jsxs("div",{className:"border-2 border-dashed border-gray-600 rounded-lg p-6 text-center hover:border-gray-500 transition-colors",children:[s.jsx("input",{id:"image",type:"file",accept:"image/*",onChange:_=>y("image",_),className:"hidden"}),s.jsxs("label",{htmlFor:"image",className:"cursor-pointer",children:[s.jsx(Rc,{className:"h-12 w-12 text-gray-400 mx-auto mb-2"}),s.jsx("p",{className:"text-gray-300 mb-1",children:l.image?l.image.name:" Upload Imagem"}),s.jsx("p",{className:"text-gray-400 text-sm",children:"PNG, JPG at 5MB"})]})]}),l.image&&s.jsxs("div",{className:"flex items-center gap-2 text-green-400 text-sm",children:[s.jsx(Se,{className:"h-4 w-4"}),"Imagem: ",l.image.name]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Y,{htmlFor:"video",className:"text-sm font-medium text-gray-300",children:" Arquivo de Vdeo"}),s.jsxs("div",{className:"border-2 border-dashed border-gray-600 rounded-lg p-6 text-center hover:border-gray-500 transition-colors",children:[s.jsx("input",{id:"video",type:"file",accept:"video/*",onChange:_=>y("video",_),className:"hidden"}),s.jsxs("label",{htmlFor:"video",className:"cursor-pointer",children:[s.jsx(ta,{className:"h-12 w-12 text-gray-400 mx-auto mb-2"}),s.jsx("p",{className:"text-gray-300 mb-1",children:l.video?l.video.name:" Upload Vdeo"}),s.jsx("p",{className:"text-gray-400 text-sm",children:"MP4, MOV, AVI at 500MB"})]})]}),l.video&&s.jsxs("div",{className:"flex items-center gap-2 text-green-400 text-sm",children:[s.jsx(Se,{className:"h-4 w-4"}),"Vdeo: ",l.video.name]})]})]})}),s.jsx(ct,{value:"advanced",className:"space-y-6",children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Y,{htmlFor:"objectives",className:"text-sm font-medium text-gray-300",children:" Objetivos"}),s.jsx(Ke,{id:"objectives",value:l.objectives,onChange:_=>x("objectives",_.target.value),placeholder:"Quais so os objetivos desta aula?",rows:3,className:"bg-gray-800 border-gray-600 text-white placeholder-gray-400"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Y,{htmlFor:"prerequisites",className:"text-sm font-medium text-gray-300",children:" Pr-requisitos"}),s.jsx(Ke,{id:"prerequisites",value:l.prerequisites,onChange:_=>x("prerequisites",_.target.value),placeholder:"O que o aluno precisa saber antes desta aula?",rows:3,className:"bg-gray-800 border-gray-600 text-white placeholder-gray-400"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Y,{htmlFor:"resources",className:"text-sm font-medium text-gray-300",children:" Recursos"}),s.jsx(Ke,{id:"resources",value:l.resources,onChange:_=>x("resources",_.target.value),placeholder:"Links e recursos adicionais...",rows:3,className:"bg-gray-800 border-gray-600 text-white placeholder-gray-400"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Y,{htmlFor:"quizJson",className:"text-sm font-medium text-gray-300",children:" Quiz JSON"}),s.jsx(Ke,{id:"quizJson",value:l.quizJson,onChange:_=>x("quizJson",_.target.value),placeholder:'{"questions": [{"question": "Pergunta?", "options": ["A", "B", "C"], "correct": 0}]}',rows:6,className:"bg-gray-800 border-gray-600 text-white placeholder-gray-400 font-mono text-sm"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Y,{className:"text-sm font-medium text-gray-300",children:" Tags"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(re,{value:f,onChange:_=>g(_.target.value),placeholder:"Digite uma tag...",className:"bg-gray-800 border-gray-600 text-white placeholder-gray-400",onKeyPress:_=>_.key==="Enter"&&v()}),s.jsx(A,{onClick:v,className:"bg-purple-500 hover:bg-purple-600",children:s.jsx(iee,{className:"h-4 w-4"})})]}),s.jsx("div",{className:"flex flex-wrap gap-2",children:l.tags.map((_,C)=>s.jsxs(X,{variant:"outline",className:"bg-gray-800 border-gray-600 text-white",children:[_,s.jsx("button",{onClick:()=>b(_),className:"ml-2 text-gray-400 hover:text-white",children:""})]},C))})]})]})})]}),s.jsxs(db,{className:"flex gap-3",children:[s.jsxs(A,{variant:"outline",onClick:w,disabled:d,className:"border-gray-600 text-white hover:bg-gray-800",children:[s.jsx(nr,{className:"h-4 w-4 mr-2"}),"Cancelar"]}),s.jsxs(A,{onClick:N,disabled:d,className:"bg-purple-500 hover:bg-purple-600",children:[s.jsx(ia,{className:"h-4 w-4 mr-2"}),d?"Salvando...":" Salvar Aula"]})]})]})})},PMe=()=>{const[e,t]=p.useState("overview"),[r,a]=p.useState([]),[n,i]=p.useState([]),[o,l]=p.useState([]),[c,d]=p.useState(null),[u,m]=p.useState(null),[h,f]=p.useState(!1),[g,x]=p.useState(!1),[y,v]=p.useState(!1),[b,j]=p.useState(!0),[N,w]=p.useState({totalCourses:0,totalModules:0,totalLessons:0,totalStudents:0});p.useEffect(()=>{S(),_()},[]);const S=async()=>{try{const{count:R}=await z.from("courses").select("*",{count:"exact",head:!0}),{count:F}=await z.from("course_modules").select("*",{count:"exact",head:!0}),{count:H}=await z.from("lessons").select("*",{count:"exact",head:!0}),{count:Z}=await z.from("profiles").select("*",{count:"exact",head:!0});w({totalCourses:R||0,totalModules:F||0,totalLessons:H||0,totalStudents:Z||0})}catch(R){console.error("Erro ao buscar estatsticas:",R)}},_=async()=>{try{j(!0);const{data:R,error:F}=await z.from("courses").select("*").order("created_at",{ascending:!1});if(F)throw F;const H=await Promise.all((R||[]).map(async Z=>{const B=Z,{data:K}=await z.from("course_modules").select("id").eq("course_id",B.id),Q=(K==null?void 0:K.map(oe=>oe.id))||[];let ie=0;if(Q.length>0){const{count:oe}=await z.from("lessons").select("*",{count:"exact",head:!0}).in("module_id",Q);ie=oe||0}return{...B,modules_count:(K==null?void 0:K.length)||0,lessons_count:ie||0}}));a(H)}catch(R){console.error("Erro ao buscar cursos:",R),ko({title:"Erro",description:"No foi possvel carregar os cursos",variant:"destructive"})}finally{j(!1)}},C=async R=>{try{const{data:F,error:H}=await z.from("course_modules").select("*").eq("course_id",R).order("order_index",{ascending:!0});if(H)throw H;const Z=await Promise.all((F||[]).map(async B=>{const{count:K}=await z.from("lessons").select("*",{count:"exact",head:!0}).eq("module_id",B.id);return{...B,lessons_count:K||0,courseId:B.course_id}}));i(Z)}catch(F){console.error("Erro ao buscar mdulos:",F)}},E=async R=>{try{const{data:F,error:H}=await z.from("lessons").select("*").eq("module_id",R).order("order_index",{ascending:!0});if(H)throw H;l(F||[])}catch(F){console.error("Erro ao buscar aulas:",F)}},T=async R=>{try{const{error:F}=await z.from("courses").insert([R]);if(F)throw F;ko({title:"Sucesso!",description:"Curso criado com sucesso"}),_(),S(),f(!1)}catch(F){console.error("Erro ao criar curso:",F),ko({title:"Erro",description:"No foi possvel criar o curso",variant:"destructive"})}},k=async R=>{try{const{order:F,structure_type:H,...Z}=R,B={...Z,order_index:R.order_index||1},{error:K}=await z.from("course_modules").insert([B]);if(K)throw K;ko({title:"Sucesso!",description:"Mdulo criado com sucesso"}),c&&C(c.id),S(),x(!1)}catch(F){console.error("Erro ao criar mdulo:",F),ko({title:"Erro",description:"No foi possvel criar o mdulo",variant:"destructive"})}},P=async R=>{try{const F={title:R.title,description:R.description||"Aula criada automaticamente",video_url:R.videoUrl||"",content:R.richTextContent||R.mixedContent||"",duration_minutes:R.duration||0,order_index:R.order||1,is_free:!!R.isActive,module_id:R.moduleId,course_id:R.courseId},{error:H}=await z.from("lessons").insert([F]);if(H)throw H;ko({title:"Sucesso!",description:"Aula criada com sucesso"}),u&&E(u.id),S(),v(!1)}catch(F){console.error("Erro ao criar aula:",F),ko({title:"Erro",description:"No foi possvel criar a aula",variant:"destructive"})}},D=R=>{d(R),m(null),l([]),C(R.id),t("modules")},I=R=>{m(R),E(R.id),t("lessons")},V=R=>{switch(R){case"beginner":return"bg-green-100 text-green-700 border-green-200";case"intermediate":return"bg-yellow-100 text-yellow-700 border-yellow-200";case"advanced":return"bg-red-100 text-red-700 border-red-200";default:return"bg-gray-100 text-gray-700 border-gray-200"}},W=R=>{switch(R){case"beginner":return"Iniciante";case"intermediate":return"Intermedirio";case"advanced":return"Avanado";default:return R}};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsx(M,{className:"bg-gradient-to-r from-blue-500 to-blue-600 text-white",children:s.jsx(O,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-blue-100",children:"Total de Cursos"}),s.jsx("p",{className:"text-3xl font-bold",children:N.totalCourses})]}),s.jsx(as,{className:"h-8 w-8 text-blue-200"})]})})}),s.jsx(M,{className:"bg-gradient-to-r from-green-500 to-green-600 text-white",children:s.jsx(O,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-green-100",children:"Total de Mdulos"}),s.jsx("p",{className:"text-3xl font-bold",children:N.totalModules})]}),s.jsx(px,{className:"h-8 w-8 text-green-200"})]})})}),s.jsx(M,{className:"bg-gradient-to-r from-purple-500 to-purple-600 text-white",children:s.jsx(O,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-purple-100",children:"Total de Aulas"}),s.jsx("p",{className:"text-3xl font-bold",children:N.totalLessons})]}),s.jsx(ta,{className:"h-8 w-8 text-purple-200"})]})})}),s.jsx(M,{className:"bg-gradient-to-r from-orange-500 to-orange-600 text-white",children:s.jsx(O,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-orange-100",children:"Estudantes"}),s.jsx("p",{className:"text-3xl font-bold",children:N.totalStudents})]}),s.jsx(Le,{className:"h-8 w-8 text-orange-200"})]})})})]}),s.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[s.jsxs(A,{variant:"ghost",size:"sm",onClick:()=>{t("overview"),d(null),m(null)},className:"hover:text-foreground",children:[s.jsx(ar,{className:"h-4 w-4 mr-1"}),"Viso Geral"]}),c&&s.jsxs(s.Fragment,{children:[s.jsx("span",{children:"/"}),s.jsxs(A,{variant:"ghost",size:"sm",onClick:()=>{t("modules"),m(null)},className:"hover:text-foreground",children:[s.jsx(as,{className:"h-4 w-4 mr-1"}),c.title]})]}),u&&s.jsxs(s.Fragment,{children:[s.jsx("span",{children:"/"}),s.jsxs(A,{variant:"ghost",size:"sm",onClick:()=>t("lessons"),className:"hover:text-foreground",children:[s.jsx(tee,{className:"h-4 w-4 mr-1"}),u.title]})]})]}),s.jsxs(ga,{value:e,onValueChange:R=>t(R),className:"space-y-6",children:[s.jsxs(Gr,{className:"grid w-full grid-cols-4",children:[s.jsxs(Ve,{value:"overview",className:"flex items-center gap-2",children:[s.jsx(ar,{className:"h-4 w-4"}),"VISO GERAL"]}),s.jsxs(Ve,{value:"courses",className:"flex items-center gap-2",children:[s.jsx(as,{className:"h-4 w-4"}),"CURSOS"]}),s.jsxs(Ve,{value:"modules",className:"flex items-center gap-2",disabled:!c,children:[s.jsx(px,{className:"h-4 w-4"}),"MDULOS"]}),s.jsxs(Ve,{value:"lessons",className:"flex items-center gap-2",disabled:!u,children:[s.jsx(ta,{className:"h-4 w-4"}),"AULAS"]})]}),s.jsx(ct,{value:"overview",className:"space-y-6",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[s.jsxs(M,{children:[s.jsx($,{children:s.jsxs(U,{className:"flex items-center gap-2",children:[s.jsx(as,{className:"h-5 w-5 text-blue-500"}),"Aes Rpidas"]})}),s.jsxs(O,{className:"space-y-3",children:[s.jsxs(A,{className:"w-full justify-start bg-blue-600 hover:bg-blue-700",onClick:()=>f(!0),children:[s.jsx(_s,{className:"h-4 w-4 mr-2"}),"Novo Curso"]}),s.jsxs(A,{variant:"outline",className:"w-full justify-start",onClick:()=>x(!0),disabled:r.length===0,children:[s.jsx(px,{className:"h-4 w-4 mr-2"}),"Novo Mdulo"]}),s.jsxs(A,{variant:"outline",className:"w-full justify-start",onClick:()=>v(!0),disabled:n.length===0,children:[s.jsx(ta,{className:"h-4 w-4 mr-2"}),"Nova Aula"]})]})]}),s.jsxs(M,{children:[s.jsx($,{children:s.jsxs(U,{className:"flex items-center gap-2",children:[s.jsx(ar,{className:"h-5 w-5 text-green-500"}),"Estatsticas Rpidas"]})}),s.jsx(O,{children:s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Cursos Publicados:"}),s.jsx("span",{className:"font-semibold",children:r.filter(R=>R.is_published).length})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Rascunhos:"}),s.jsx("span",{className:"font-semibold",children:r.filter(R=>!R.is_published).length})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Cursos Premium:"}),s.jsx("span",{className:"font-semibold",children:r.filter(R=>R.is_premium).length})]})]})})]}),s.jsxs(M,{children:[s.jsx($,{children:s.jsxs(U,{className:"flex items-center gap-2",children:[s.jsx(kt,{className:"h-5 w-5 text-yellow-500"}),"ltimos Cursos"]})}),s.jsx(O,{children:s.jsx("div",{className:"space-y-2",children:r.slice(0,3).map(R=>s.jsxs("div",{className:"text-sm",children:[s.jsx("div",{className:"font-medium truncate",children:R.title}),s.jsx("div",{className:"text-muted-foreground text-xs",children:R.category})]},R.id))})})]})]})}),s.jsxs(ct,{value:"courses",className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h3",{className:"text-xl font-semibold",children:" Gesto de Cursos"}),s.jsxs(A,{className:"bg-blue-600 hover:bg-blue-700",onClick:()=>f(!0),children:[s.jsx(_s,{className:"h-4 w-4 mr-2"}),"Novo Curso"]})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:r.map(R=>s.jsxs(M,{className:"hover:shadow-lg transition-shadow",children:[s.jsxs($,{children:[s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx(U,{className:"text-lg mb-2",children:R.title}),s.jsx(qt,{className:"text-sm line-clamp-2",children:R.description})]}),R.thumbnail_url&&s.jsx("img",{src:R.thumbnail_url,alt:R.title,className:"w-16 h-16 object-cover rounded-lg ml-4"})]}),s.jsxs("div",{className:"flex flex-wrap gap-2 mt-4",children:[s.jsx(X,{variant:"outline",className:V(R.difficulty_level),children:W(R.difficulty_level)}),s.jsx(X,{variant:"outline",className:"text-blue-600 border-blue-600",children:R.category}),R.is_premium&&s.jsx(X,{className:"bg-yellow-500 text-black",children:"Premium"}),!R.is_published&&s.jsx(X,{variant:"outline",className:"text-red-600 border-red-600",children:"Rascunho"})]})]}),s.jsxs(O,{children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4 text-sm text-muted-foreground",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(px,{className:"h-4 w-4"}),s.jsxs("span",{children:[R.modules_count||0," mdulos"]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ta,{className:"h-4 w-4"}),s.jsxs("span",{children:[R.lessons_count||0," aulas"]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Xt,{className:"h-4 w-4"}),s.jsxs("span",{children:[R.duration_minutes,"min"]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Le,{className:"h-4 w-4"}),s.jsx("span",{children:R.instructor_name})]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(A,{onClick:()=>D(R),className:"flex-1 bg-blue-600 hover:bg-blue-700",size:"sm",children:[s.jsx(Hs,{className:"h-4 w-4 mr-2"}),"Gerenciar"]}),s.jsxs(A,{variant:"outline",size:"sm",children:[s.jsx(Pi,{className:"h-4 w-4 mr-2"}),"Ver"]}),s.jsx(A,{variant:"outline",size:"sm",className:"text-red-600 border-red-600 hover:bg-red-600 hover:text-white",children:s.jsx(fl,{className:"h-4 w-4"})})]})]})]},R.id))})]}),s.jsx(ct,{value:"modules",className:"space-y-6",children:c&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs("h3",{className:"text-xl font-semibold",children:[" Mdulos do Curso: ",c.title]}),s.jsx("p",{className:"text-muted-foreground",children:"Organize o contedo em mdulos"})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(A,{variant:"outline",onClick:()=>{d(null),t("courses")},children:[s.jsx(Wr,{className:"h-4 w-4 mr-2"}),"Voltar"]}),s.jsxs(A,{className:"bg-green-600 hover:bg-green-700",onClick:()=>x(!0),children:[s.jsx(_s,{className:"h-4 w-4 mr-2"}),"Novo Mdulo"]})]})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:n.map(R=>s.jsxs(M,{className:"hover:shadow-lg transition-shadow",children:[s.jsxs($,{children:[s.jsx(U,{className:"text-lg",children:R.title}),s.jsx(qt,{children:R.description})]}),s.jsxs(O,{children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[s.jsx(ta,{className:"h-4 w-4"}),s.jsxs("span",{children:[R.lessons_count||0," aulas"]})]}),s.jsx(X,{variant:R.is_active?"default":"secondary",children:R.is_active?"Ativo":"Inativo"})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(A,{onClick:()=>I(R),className:"flex-1 bg-purple-600 hover:bg-purple-700",size:"sm",children:[s.jsx(Hs,{className:"h-4 w-4 mr-2"}),"Gerenciar Aulas"]}),s.jsx(A,{variant:"outline",size:"sm",children:s.jsx(hl,{className:"h-4 w-4"})})]})]})]},R.id))})]})}),s.jsx(ct,{value:"lessons",className:"space-y-6",children:u&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs("h3",{className:"text-xl font-semibold",children:[" Aulas do Mdulo: ",u.title]}),s.jsx("p",{className:"text-muted-foreground",children:"Gerencie o contedo das aulas"})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(A,{variant:"outline",onClick:()=>{m(null),t("modules")},children:[s.jsx(Wr,{className:"h-4 w-4 mr-2"}),"Voltar"]}),s.jsxs(A,{className:"bg-purple-600 hover:bg-purple-700",onClick:()=>v(!0),children:[s.jsx(_s,{className:"h-4 w-4 mr-2"}),"Nova Aula"]})]})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:o.map(R=>s.jsxs(M,{className:"hover:shadow-lg transition-shadow",children:[s.jsxs($,{children:[s.jsx(U,{className:"text-lg",children:R.title}),s.jsx(qt,{children:R.description})]}),s.jsxs(O,{children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[s.jsx(Xt,{className:"h-4 w-4"}),s.jsxs("span",{children:[R.duration_minutes,"min"]})]}),s.jsx(X,{variant:R.is_free?"secondary":"default",children:R.is_free?"Gratuita":"Premium"})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(A,{className:"flex-1",size:"sm",variant:"outline",children:[s.jsx(hl,{className:"h-4 w-4 mr-2"}),"Editar"]}),s.jsx(A,{size:"sm",variant:"outline",children:s.jsx(Pi,{className:"h-4 w-4"})})]})]})]},R.id))})]})})]}),s.jsx(_Me,{isOpen:h,onClose:()=>f(!1),onSubmit:T}),s.jsx(CMe,{isOpen:g,onClose:()=>x(!1),onSubmit:k,courses:r}),s.jsx(kMe,{isOpen:y,onClose:()=>v(!1),onSubmit:P,courses:r,modules:n})]})};function EMe({user:e}){const[t,r]=p.useState([]),[a,n]=p.useState([]),[i,o]=p.useState([]),[l,c]=p.useState(!0),[d,u]=p.useState(null),[m,h]=p.useState(!1),[f,g]=p.useState(!1),[x,y]=p.useState(""),[v,b]=p.useState([]),[j,N]=p.useState("all"),[w,S]=p.useState("all"),[_,C]=p.useState({totalSessions:0,activeSessions:0,assignedSessions:0,completedSessions:0}),{toast:E}=Ee(),[T,k]=p.useState({title:"",description:"",type:"saboteur_work",difficulty:"beginner",estimated_time:30,content:"{}",target_saboteurs:[],materials_needed:[],follow_up_questions:[]}),P={roda_vida:{title:" Roda da Vida - Avaliao de Equilbrio Geral",description:"Avalie o equilbrio das 12 reas fundamentais da vida atravs de uma interface interativa. Receba anlises personalizadas e um plano de ao para melhorar seu bem-estar geral.",type:"life_wheel_assessment",difficulty:"beginner",estimated_time:15,materials_needed:["Concentrao","Local tranquilo","10-15 minutos disponveis"],target_saboteurs:["Desequilbrio de vida","Falta de autoconhecimento","Negligncia com reas importantes"],follow_up_questions:["Quais reas da sua vida esto mais equilibradas?","Que reas precisam de mais ateno e cuidado?","Como voc pode criar um plano para melhorar as reas crticas?","Qual seria sua prioridade nmero 1 para os prximos 30 dias?"],content:{introduction:"A Roda da Vida avalia o equilbrio das 12 reas fundamentais da vida. Para cada rea, selecione o emoji que melhor representa sua satisfao atual.",wheel_interface:!0,results_display:"life_wheel_radar",track_evolution:!0,areas:[{id:"saude_disposicao",name:"Sade e Disposio",question:"Como est sua sade fsica e disposio?",icon:"",color:"#FF6B6B",emoji_options:[{value:1,emoji:"",label:"Muito ruim"},{value:2,emoji:"",label:"Ruim"},{value:3,emoji:"",label:"Regular"},{value:4,emoji:"",label:"Bom"},{value:5,emoji:"",label:"Excelente"}]},{id:"desenvolvimento_intelectual",name:"Desenvolvimento Intelectual",question:"Como est seu desenvolvimento intelectual e aprendizado?",icon:"",color:"#4ECDC4",emoji_options:[{value:1,emoji:"",label:"Muito ruim"},{value:2,emoji:"",label:"Ruim"},{value:3,emoji:"",label:"Regular"},{value:4,emoji:"",label:"Bom"},{value:5,emoji:"",label:"Excelente"}]},{id:"equilibrio_emocional",name:"Equilbrio Emocional",question:"Como est seu equilbrio emocional?",icon:"",color:"#45B7D1",emoji_options:[{value:1,emoji:"",label:"Muito ruim"},{value:2,emoji:"",label:"Ruim"},{value:3,emoji:"",label:"Regular"},{value:4,emoji:"",label:"Bom"},{value:5,emoji:"",label:"Excelente"}]},{id:"realizacao_proposito",name:"Realizao e Propsito",question:"Como est sua realizao e propsito de vida?",icon:"",color:"#96CEB4",emoji_options:[{value:1,emoji:"",label:"Muito ruim"},{value:2,emoji:"",label:"Ruim"},{value:3,emoji:"",label:"Regular"},{value:4,emoji:"",label:"Bom"},{value:5,emoji:"",label:"Excelente"}]},{id:"recursos_financeiros",name:"Recursos Financeiros",question:"Como esto seus recursos financeiros?",icon:"",color:"#FECA57",emoji_options:[{value:1,emoji:"",label:"Muito ruim"},{value:2,emoji:"",label:"Ruim"},{value:3,emoji:"",label:"Regular"},{value:4,emoji:"",label:"Bom"},{value:5,emoji:"",label:"Excelente"}]},{id:"contribuicao_social",name:"Contribuio Social",question:"Como est sua contribuio para a sociedade?",icon:"",color:"#FF9FF3",emoji_options:[{value:1,emoji:"",label:"Muito ruim"},{value:2,emoji:"",label:"Ruim"},{value:3,emoji:"",label:"Regular"},{value:4,emoji:"",label:"Bom"},{value:5,emoji:"",label:"Excelente"}]},{id:"familia",name:"Famlia",question:"Como est sua vida familiar?",icon:"",color:"#54A0FF",emoji_options:[{value:1,emoji:"",label:"Muito ruim"},{value:2,emoji:"",label:"Ruim"},{value:3,emoji:"",label:"Regular"},{value:4,emoji:"",label:"Bom"},{value:5,emoji:"",label:"Excelente"}]},{id:"desenvolvimento_amoroso",name:"Desenvolvimento Amoroso",question:"Como est seu desenvolvimento amoroso?",icon:"",color:"#5F27CD",emoji_options:[{value:1,emoji:"",label:"Muito ruim"},{value:2,emoji:"",label:"Ruim"},{value:3,emoji:"",label:"Regular"},{value:4,emoji:"",label:"Bom"},{value:5,emoji:"",label:"Excelente"}]},{id:"vida_social",name:"Vida Social",question:"Como est sua vida social?",icon:"",color:"#00D2D3",emoji_options:[{value:1,emoji:"",label:"Muito ruim"},{value:2,emoji:"",label:"Ruim"},{value:3,emoji:"",label:"Regular"},{value:4,emoji:"",label:"Bom"},{value:5,emoji:"",label:"Excelente"}]},{id:"hobbies_diversao",name:"Hobbies e Diverso",question:"Como esto seus hobbies e momentos de diverso?",icon:"",color:"#FF6348",emoji_options:[{value:1,emoji:"",label:"Muito ruim"},{value:2,emoji:"",label:"Ruim"},{value:3,emoji:"",label:"Regular"},{value:4,emoji:"",label:"Bom"},{value:5,emoji:"",label:"Excelente"}]},{id:"plenitude_felicidade",name:"Plenitude e Felicidade",question:"Como est sua sensao de plenitude e felicidade?",icon:"",color:"#48CAE4",emoji_options:[{value:1,emoji:"",label:"Muito ruim"},{value:2,emoji:"",label:"Ruim"},{value:3,emoji:"",label:"Regular"},{value:4,emoji:"",label:"Bom"},{value:5,emoji:"",label:"Excelente"}]},{id:"espiritualidade",name:"Espiritualidade",question:"Como est sua espiritualidade?",icon:"",color:"#A8E6CF",emoji_options:[{value:1,emoji:"",label:"Muito ruim"},{value:2,emoji:"",label:"Ruim"},{value:3,emoji:"",label:"Regular"},{value:4,emoji:"",label:"Bom"},{value:5,emoji:"",label:"Excelente"}]}],feedback_analysis:{critical_areas:"reas com pontuao 1-2 que precisam de ateno urgente",attention_areas:"reas com pontuao 3 que podem ser melhoradas",strong_areas:"reas com pontuao 4-5 que esto bem equilibradas",action_plan:"Plano personalizado baseado nas respostas do usurio"}}},roda_saude_completa:{title:" Roda da Sade IDS - Avaliao Completa (147 Sintomas)",description:"Mapeamento completo de sintomas em 12 sistemas corporais com avaliao de frequncia e intensidade. Sistema adaptativo que coleta dados para visualizao em roda e evoluo temporal.",type:"health_wheel_assessment",difficulty:"intermediate",estimated_time:15,materials_needed:["Concentrao","Local tranquilo","15 minutos disponveis"],target_saboteurs:["Negligncia com a sade","Negao de sintomas","Autodiagnstico inadequado"],follow_up_questions:["Quais sistemas apresentaram maior concentrao de sintomas?","H correlao entre sintomas de diferentes sistemas?","Como est sua evoluo comparando com avaliaes anteriores?","Que medidas preventivas so prioritrias para voc?"],content:{introduction:"Este questionrio avalia 147 sintomas organizados em 12 sistemas corporais. Para sintomas presentes, voc ser questionado sobre a intensidade. Baseie suas respostas nos ltimos 30 dias.",conditional_flow:!0,results_display:"health_wheel",track_evolution:!0,systems:[{name:"Cabea e Neurolgico",icon:"",color:"#FF6B6B",questions:[{id:"cabeca_dor",text:"Nos ltimos 30 dias, teve dor de cabea?",type:"frequency_intensity"},{id:"cabeca_enxaqueca",text:"Nos ltimos 30 dias, teve enxaqueca?",type:"frequency_intensity"},{id:"cabeca_tontura",text:"Nos ltimos 30 dias, teve tontura?",type:"frequency_intensity"},{id:"cabeca_vertigem",text:"Nos ltimos 30 dias, teve vertigem?",type:"frequency_intensity"},{id:"cabeca_pesada",text:"Nos ltimos 30 dias, teve sensao de cabea pesada?",type:"frequency_intensity"},{id:"cabeca_pressao",text:"Nos ltimos 30 dias, teve presso na cabea?",type:"frequency_intensity"},{id:"cabeca_vazia",text:"Nos ltimos 30 dias, teve sensao de cabea vazia?",type:"frequency_intensity"},{id:"ouvido_zumbido",text:"Nos ltimos 30 dias, teve zumbido no ouvido?",type:"frequency_intensity"},{id:"ouvido_tampado",text:"Nos ltimos 30 dias, teve sensao de ouvido tampado?",type:"frequency_intensity"},{id:"ouvido_dor",text:"Nos ltimos 30 dias, teve dor no ouvido?",type:"frequency_intensity"},{id:"ouvido_secrecao",text:"Nos ltimos 30 dias, teve secreo no ouvido?",type:"frequency_intensity"},{id:"ouvido_perda_auditiva",text:"Nos ltimos 30 dias, teve perda auditiva?",type:"frequency_intensity"},{id:"ouvido_sensibilidade_sons",text:"Nos ltimos 30 dias, teve sensibilidade a sons?",type:"frequency_intensity"},{id:"mandibula_dor",text:"Nos ltimos 30 dias, teve dor na mandbula?",type:"frequency_intensity"},{id:"dentes_ranger",text:"Nos ltimos 30 dias, ranger os dentes?",type:"frequency_intensity"}]},{name:"Olhos e Visual",icon:"",color:"#4ECDC4",questions:[{id:"olhos_inchados",text:"Nos ltimos 30 dias, seus olhos ficaram inchados, vermelhos ou com clios colando?",type:"frequency_intensity"},{id:"olhos_visao_embacada",text:"Nos ltimos 30 dias, teve viso embaada?",type:"frequency_intensity"},{id:"olhos_coceira",text:"Nos ltimos 30 dias, teve coceira nos olhos?",type:"frequency_intensity"},{id:"olhos_vermelhos",text:"Nos ltimos 30 dias, teve olhos vermelhos?",type:"frequency_intensity"},{id:"olhos_sensibilidade_luz",text:"Nos ltimos 30 dias, teve sensibilidade  luz?",type:"frequency_intensity"},{id:"olhos_secos",text:"Nos ltimos 30 dias, teve olhos secos?",type:"frequency_intensity"},{id:"olhos_lacrimejantes",text:"Nos ltimos 30 dias, teve olhos lacrimejantes?",type:"frequency_intensity"},{id:"palpebras_inchadas",text:"Nos ltimos 30 dias, teve plpebras inchadas?",type:"frequency_intensity"},{id:"olheiras",text:"Nos ltimos 30 dias, teve olheiras?",type:"frequency_intensity"},{id:"visao_dupla",text:"Nos ltimos 30 dias, teve viso dupla?",type:"frequency_intensity"},{id:"pontos_flutuantes",text:"Nos ltimos 30 dias, teve pontos flutuantes na viso?",type:"frequency_intensity"},{id:"perda_visao",text:"Nos ltimos 30 dias, teve perda de viso?",type:"frequency_intensity"}]},{name:"Nariz e Respiratrio",icon:"",color:"#45B7D1",questions:[{id:"nariz_coriza",text:"Nos ltimos 30 dias, teve coriza?",type:"frequency_intensity"},{id:"nariz_congestao",text:"Nos ltimos 30 dias, teve congesto nasal?",type:"frequency_intensity"},{id:"nariz_espirros",text:"Nos ltimos 30 dias, teve espirros frequentes?",type:"frequency_intensity"},{id:"nariz_sangramento",text:"Nos ltimos 30 dias, teve sangramento nasal?",type:"frequency_intensity"},{id:"nariz_perda_olfato",text:"Nos ltimos 30 dias, teve perda de olfato?",type:"frequency_intensity"},{id:"nariz_secrecao",text:"Nos ltimos 30 dias, teve secreo nasal?",type:"frequency_intensity"},{id:"nariz_coceira",text:"Nos ltimos 30 dias, teve coceira no nariz?",type:"frequency_intensity"},{id:"respiracao_boca",text:"Nos ltimos 30 dias, respirou pela boca?",type:"frequency_intensity"},{id:"ronco",text:"Nos ltimos 30 dias, teve ronco?",type:"frequency_intensity"},{id:"apneia_sono",text:"Nos ltimos 30 dias, teve apneia do sono?",type:"frequency_intensity"}]},{name:"Garganta e Vocal",icon:"",color:"#96CEB4",questions:[{id:"garganta_dor",text:"Nos ltimos 30 dias, teve dor de garganta?",type:"frequency_intensity"},{id:"garganta_rouquidao",text:"Nos ltimos 30 dias, teve rouquido?",type:"frequency_intensity"},{id:"garganta_dificuldade_engolir",text:"Nos ltimos 30 dias, teve dificuldade para engolir?",type:"frequency_intensity"},{id:"garganta_caroco",text:"Nos ltimos 30 dias, teve sensao de caroo na garganta?",type:"frequency_intensity"},{id:"tosse_seca",text:"Nos ltimos 30 dias, teve tosse seca?",type:"frequency_intensity"},{id:"tosse_catarro",text:"Nos ltimos 30 dias, teve tosse com catarro?",type:"frequency_intensity"},{id:"garganta_seca",text:"Nos ltimos 30 dias, teve garganta seca?",type:"frequency_intensity"},{id:"amigdalas_inchadas",text:"Nos ltimos 30 dias, teve amgdalas inchadas?",type:"frequency_intensity"}]},{name:"Pulmes e Respiratrio",icon:"",color:"#FECA57",questions:[{id:"pulmoes_falta_ar",text:"Nos ltimos 30 dias, teve falta de ar?",type:"frequency_intensity"},{id:"pulmoes_tosse_catarro",text:"Nos ltimos 30 dias, teve tosse com catarro?",type:"frequency_intensity"},{id:"pulmoes_chiado",text:"Nos ltimos 30 dias, teve chiado no peito?",type:"frequency_intensity"},{id:"pulmoes_dor_respirar",text:"Nos ltimos 30 dias, teve dor no peito ao respirar?",type:"frequency_intensity"},{id:"respiracao_curta",text:"Nos ltimos 30 dias, teve respirao curta?",type:"frequency_intensity"},{id:"respiracao_ofegante",text:"Nos ltimos 30 dias, teve respirao ofegante?",type:"frequency_intensity"},{id:"peito_apertado",text:"Nos ltimos 30 dias, teve sensao de peito apertado?",type:"frequency_intensity"},{id:"tosse_noturna",text:"Nos ltimos 30 dias, teve tosse noturna?",type:"frequency_intensity"},{id:"expectoracao",text:"Nos ltimos 30 dias, teve expectorao?",type:"frequency_intensity"},{id:"respiracao_ruidosa",text:"Nos ltimos 30 dias, teve respirao ruidosa?",type:"frequency_intensity"},{id:"sensacao_sufocamento",text:"Nos ltimos 30 dias, teve sensao de sufocamento?",type:"frequency_intensity"},{id:"dor_costas_respirar",text:"Nos ltimos 30 dias, teve dor nas costas ao respirar?",type:"frequency_intensity"}]},{name:"Corao e Cardiovascular",icon:"",color:"#FF9FF3",questions:[{id:"coracao_palpitacoes",text:"Nos ltimos 30 dias, teve palpitaes?",type:"frequency_intensity"},{id:"coracao_dor_peito",text:"Nos ltimos 30 dias, teve dor no peito?",type:"frequency_intensity"},{id:"pressao_alta",text:"Nos ltimos 30 dias, teve presso alta?",type:"frequency_intensity"},{id:"pressao_baixa",text:"Nos ltimos 30 dias, teve presso baixa?",type:"frequency_intensity"},{id:"pernas_inchadas",text:"Nos ltimos 30 dias, teve inchao nas pernas?",type:"frequency_intensity"},{id:"batimentos_irregulares",text:"Nos ltimos 30 dias, teve batimentos irregulares?",type:"frequency_intensity"},{id:"coracao_acelerado",text:"Nos ltimos 30 dias, teve sensao de corao acelerado?",type:"frequency_intensity"},{id:"dor_braco_esquerdo",text:"Nos ltimos 30 dias, teve dor no brao esquerdo?",type:"frequency_intensity"},{id:"sensacao_desmaio",text:"Nos ltimos 30 dias, teve sensao de desmaio?",type:"frequency_intensity"},{id:"suor_frio",text:"Nos ltimos 30 dias, teve suor frio?",type:"frequency_intensity"}]},{name:"Estmago e Digestivo",icon:"",color:"#54A0FF",questions:[{id:"estomago_dor",text:"Nos ltimos 30 dias, teve dor de estmago?",type:"frequency_intensity"},{id:"estomago_azia",text:"Nos ltimos 30 dias, teve azia?",type:"frequency_intensity"},{id:"estomago_nausea",text:"Nos ltimos 30 dias, teve nusea?",type:"frequency_intensity"},{id:"vomito",text:"Nos ltimos 30 dias, teve vmito?",type:"frequency_intensity"},{id:"estomago_pesado",text:"Nos ltimos 30 dias, teve sensao de estmago pesado?",type:"frequency_intensity"},{id:"refluxo",text:"Nos ltimos 30 dias, teve refluxo?",type:"frequency_intensity"},{id:"queimacao",text:"Nos ltimos 30 dias, teve sensao de queimao?",type:"frequency_intensity"},{id:"perda_apetite",text:"Nos ltimos 30 dias, teve perda de apetite?",type:"frequency_intensity"},{id:"estomago_vazio",text:"Nos ltimos 30 dias, teve sensao de estmago vazio?",type:"frequency_intensity"},{id:"eructacao",text:"Nos ltimos 30 dias, teve eructao (arrotos)?",type:"frequency_intensity"},{id:"empachamento",text:"Nos ltimos 30 dias, teve sensao de empachamento?",type:"frequency_intensity"},{id:"dor_apos_comer",text:"Nos ltimos 30 dias, teve dor aps comer?",type:"frequency_intensity"}]},{name:"Intestino e Digestivo",icon:"",color:"#5F27CD",questions:[{id:"intestino_diarreia",text:"Nos ltimos 30 dias, teve diarreia?",type:"frequency_intensity"},{id:"intestino_prisao_ventre",text:"Nos ltimos 30 dias, teve priso de ventre?",type:"frequency_intensity"},{id:"intestino_gases",text:"Nos ltimos 30 dias, teve gases?",type:"frequency_intensity"},{id:"colicas_intestinais",text:"Nos ltimos 30 dias, teve clicas intestinais?",type:"frequency_intensity"},{id:"sangue_fezes",text:"Nos ltimos 30 dias, teve sangue nas fezes?",type:"frequency_intensity"},{id:"fezes_moles",text:"Nos ltimos 30 dias, teve fezes moles?",type:"frequency_intensity"},{id:"fezes_duras",text:"Nos ltimos 30 dias, teve fezes duras?",type:"frequency_intensity"},{id:"evacuacao_incompleta",text:"Nos ltimos 30 dias, teve sensao de evacuao incompleta?",type:"frequency_intensity"},{id:"dor_abdominal",text:"Nos ltimos 30 dias, teve dor abdominal?",type:"frequency_intensity"},{id:"inchaco_abdominal",text:"Nos ltimos 30 dias, teve inchao abdominal?",type:"frequency_intensity"},{id:"urgencia_evacuar",text:"Nos ltimos 30 dias, teve sensao de urgncia para evacuar?",type:"frequency_intensity"},{id:"muco_fezes",text:"Nos ltimos 30 dias, teve muco nas fezes?",type:"frequency_intensity"}]},{name:"Fgado e Heptico",icon:"",color:"#00D2D3",questions:[{id:"figado_dor_lado_direito",text:"Nos ltimos 30 dias, teve dor no lado direito?",type:"frequency_intensity"},{id:"amarelamento_pele",text:"Nos ltimos 30 dias, teve amarelamento da pele?",type:"frequency_intensity"},{id:"amarelamento_olhos",text:"Nos ltimos 30 dias, teve amarelamento dos olhos?",type:"frequency_intensity"},{id:"urina_escura",text:"Nos ltimos 30 dias, teve urina escura?",type:"frequency_intensity"},{id:"fezes_claras",text:"Nos ltimos 30 dias, teve fezes claras?",type:"frequency_intensity"},{id:"coceira_pele",text:"Nos ltimos 30 dias, teve coceira na pele?",type:"frequency_intensity"},{id:"estomago_inchado",text:"Nos ltimos 30 dias, teve sensao de estmago inchado?",type:"frequency_intensity"},{id:"perda_apetite_figado",text:"Nos ltimos 30 dias, teve perda de apetite?",type:"frequency_intensity"}]},{name:"Rins e Urinrio",icon:"",color:"#FF6348",questions:[{id:"rins_dor_costas",text:"Nos ltimos 30 dias, teve dor nas costas (regio dos rins)?",type:"frequency_intensity"},{id:"alteracao_urina",text:"Nos ltimos 30 dias, teve alterao na urina?",type:"frequency_intensity"},{id:"vontade_urinar_frequente",text:"Nos ltimos 30 dias, teve vontade de urinar frequentemente?",type:"frequency_intensity"},{id:"dor_urinar",text:"Nos ltimos 30 dias, teve dor ao urinar?",type:"frequency_intensity"},{id:"sangue_urina",text:"Nos ltimos 30 dias, teve sangue na urina?",type:"frequency_intensity"},{id:"urina_espuma",text:"Nos ltimos 30 dias, teve urina com espuma?",type:"frequency_intensity"},{id:"incontinencia_urinaria",text:"Nos ltimos 30 dias, teve incontinncia urinria?",type:"frequency_intensity"},{id:"retencao_urinaria",text:"Nos ltimos 30 dias, teve reteno urinria?",type:"frequency_intensity"},{id:"urina_cheiro_forte",text:"Nos ltimos 30 dias, teve urina com cheiro forte?",type:"frequency_intensity"},{id:"inchaco_pes",text:"Nos ltimos 30 dias, teve inchao nos ps?",type:"frequency_intensity"}]},{name:"Msculos e Locomotor",icon:"",color:"#2ED573",questions:[{id:"musculos_dores",text:"Nos ltimos 30 dias, teve dores musculares?",type:"frequency_intensity"},{id:"musculos_caibras",text:"Nos ltimos 30 dias, teve cibras?",type:"frequency_intensity"},{id:"fraqueza_muscular",text:"Nos ltimos 30 dias, teve fraqueza muscular?",type:"frequency_intensity"},{id:"tremores",text:"Nos ltimos 30 dias, teve tremores?",type:"frequency_intensity"},{id:"espasmos_musculares",text:"Nos ltimos 30 dias, teve espasmos musculares?",type:"frequency_intensity"},{id:"rigidez_muscular",text:"Nos ltimos 30 dias, teve rigidez muscular?",type:"frequency_intensity"},{id:"peso_pernas",text:"Nos ltimos 30 dias, teve sensao de peso nas pernas?",type:"frequency_intensity"},{id:"peso_bracos",text:"Nos ltimos 30 dias, teve sensao de peso nos braos?",type:"frequency_intensity"},{id:"fadiga_muscular",text:"Nos ltimos 30 dias, teve fadiga muscular?",type:"frequency_intensity"},{id:"formigamento",text:"Nos ltimos 30 dias, teve sensao de formigamento?",type:"frequency_intensity"},{id:"dormencia",text:"Nos ltimos 30 dias, teve sensao de dormncia?",type:"frequency_intensity"},{id:"queimacao_muscular",text:"Nos ltimos 30 dias, teve sensao de queimao muscular?",type:"frequency_intensity"}]},{name:"Ossos e Articulaes",icon:"",color:"#FFA502",questions:[{id:"ossos_dor_articulacoes",text:"Nos ltimos 30 dias, teve dor nas articulaes?",type:"frequency_intensity"},{id:"rigidez_matinal",text:"Nos ltimos 30 dias, teve rigidez matinal?",type:"frequency_intensity"},{id:"inchaco_articulacoes",text:"Nos ltimos 30 dias, teve inchao nas articulaes?",type:"frequency_intensity"},{id:"dificuldade_movimentar",text:"Nos ltimos 30 dias, teve dificuldade para se movimentar?",type:"frequency_intensity"},{id:"fraturas",text:"Nos ltimos 30 dias, teve fraturas?",type:"frequency_intensity"},{id:"dor_coluna",text:"Nos ltimos 30 dias, teve dor na coluna?",type:"frequency_intensity"},{id:"dor_pescoco",text:"Nos ltimos 30 dias, teve dor no pescoo?",type:"frequency_intensity"},{id:"dor_ombros",text:"Nos ltimos 30 dias, teve dor nos ombros?",type:"frequency_intensity"},{id:"dor_joelhos",text:"Nos ltimos 30 dias, teve dor nos joelhos?",type:"frequency_intensity"},{id:"dor_tornozelos",text:"Nos ltimos 30 dias, teve dor nos tornozelos?",type:"frequency_intensity"}]},{name:"Pele e Dermatolgico",icon:"",color:"#3742FA",questions:[{id:"pele_coceira",text:"Nos ltimos 30 dias, teve coceira na pele?",type:"frequency_intensity"},{id:"pele_manchas",text:"Nos ltimos 30 dias, teve manchas na pele?",type:"frequency_intensity"},{id:"pele_acne",text:"Nos ltimos 30 dias, teve acne?",type:"frequency_intensity"},{id:"erupcoes_cutaneas",text:"Nos ltimos 30 dias, teve erupes cutneas?",type:"frequency_intensity"},{id:"feridas_nao_cicatrizam",text:"Nos ltimos 30 dias, teve feridas que no cicatrizam?",type:"frequency_intensity"},{id:"pele_seca",text:"Nos ltimos 30 dias, teve pele seca?",type:"frequency_intensity"},{id:"pele_oleosa",text:"Nos ltimos 30 dias, teve pele oleosa?",type:"frequency_intensity"},{id:"queda_cabelo",text:"Nos ltimos 30 dias, teve queda de cabelo?",type:"frequency_intensity"},{id:"unhas_quebradicas",text:"Nos ltimos 30 dias, teve unhas quebradias?",type:"frequency_intensity"},{id:"suor_excessivo",text:"Nos ltimos 30 dias, teve suor excessivo?",type:"frequency_intensity"}]},{name:"Sistema Imune",icon:"",color:"#FF3838",questions:[{id:"imune_febre",text:"Nos ltimos 30 dias, teve febre?",type:"frequency_intensity"},{id:"infeccoes_frequentes",text:"Nos ltimos 30 dias, teve infeces frequentes?",type:"frequency_intensity"},{id:"alergias",text:"Nos ltimos 30 dias, teve alergias?",type:"frequency_intensity"},{id:"ganglios_inchados",text:"Nos ltimos 30 dias, teve gnglios inchados?",type:"frequency_intensity"},{id:"cansaco_excessivo",text:"Nos ltimos 30 dias, teve cansao excessivo?",type:"frequency_intensity"},{id:"mal_estar_geral",text:"Nos ltimos 30 dias, teve sensao de mal-estar geral?",type:"frequency_intensity"}]}],frequency_options:["No","Ocasionalmente","Frequentemente"],intensity_options:["Leve","Forte"],scoring:{frequency:{No:0,Ocasionalmente:1,Frequentemente:2},intensity:{Leve:1,Forte:2}},results_interpretation:{"0-30":"Excelente estado de sade geral","31-60":"Bom estado geral com alguns pontos de ateno","61-120":"Estado moderado - recomenda-se avaliao mdica","121-180":"Vrios pontos de ateno - buscar orientao profissional","181+":"Recomenda-se avaliao mdica prioritria"}}},roda_abundancia:{title:" Roda da Abundncia - Avaliao de Prosperidade Financeira",description:"Avalie os 8 pilares da sua prosperidade financeira atravs de uma interface interativa. Receba anlises personalizadas e um plano de ao para impulsionar sua abundncia.",type:"abundance_wheel_assessment",difficulty:"beginner",estimated_time:15,materials_needed:["Concentrao","Local tranquilo","10-15 minutos disponveis"],target_saboteurs:["Mentalidade de escassez","Falta de educao financeira","Medo de investir"],follow_up_questions:["Quais pilares da abundncia esto mais desenvolvidos?","Que reas precisam de mais ateno para crescer?","Como voc pode aplicar os princpios de abundncia no dia a dia?","Qual seria sua prioridade nmero 1 para os prximos 30 dias?"],content:{introduction:"A Roda da Abundncia avalia os 8 pilares fundamentais da prosperidade financeira. Para cada pilar, selecione o emoji que melhor representa seu desenvolvimento atual.",wheel_interface:!0,results_display:"abundance_wheel_radar",track_evolution:!0,areas:[{id:"renda_ativa",name:"Renda Ativa",question:"Como est sua remunerao atual, crescimento salarial e valor agregado?",icon:"",color:"#3B82F6",emoji_options:[{value:1,emoji:"",label:"Muito baixa"},{value:2,emoji:"",label:"Baixa"},{value:3,emoji:"",label:"Mdia"},{value:4,emoji:"",label:"Boa"},{value:5,emoji:"",label:"Excelente"}]},{id:"renda_passiva",name:"Renda Passiva",question:"Como esto seus investimentos, rendimentos automticos e fontes de renda no ativa?",icon:"",color:"#10B981",emoji_options:[{value:1,emoji:"",label:"Muito baixa"},{value:2,emoji:"",label:"Baixa"},{value:3,emoji:"",label:"Mdia"},{value:4,emoji:"",label:"Boa"},{value:5,emoji:"",label:"Excelente"}]},{id:"investimentos",name:"Investimentos",question:"Como est sua carteira de investimentos, diversificao e retornos?",icon:"",color:"#8B5CF6",emoji_options:[{value:1,emoji:"",label:"Muito baixa"},{value:2,emoji:"",label:"Baixa"},{value:3,emoji:"",label:"Mdia"},{value:4,emoji:"",label:"Boa"},{value:5,emoji:"",label:"Excelente"}]},{id:"educacao_financeira",name:"Educao Financeira",question:"Como est seu conhecimento sobre finanas, planejamento e gesto de dinheiro?",icon:"",color:"#F59E0B",emoji_options:[{value:1,emoji:"",label:"Muito baixa"},{value:2,emoji:"",label:"Baixa"},{value:3,emoji:"",label:"Mdia"},{value:4,emoji:"",label:"Boa"},{value:5,emoji:"",label:"Excelente"}]},{id:"planejamento_financeiro",name:"Planejamento Financeiro",question:"Como est seu oramento, metas financeiras e controle de gastos?",icon:"",color:"#06B6D4",emoji_options:[{value:1,emoji:"",label:"Muito baixa"},{value:2,emoji:"",label:"Baixa"},{value:3,emoji:"",label:"Mdia"},{value:4,emoji:"",label:"Boa"},{value:5,emoji:"",label:"Excelente"}]},{id:"protecao_financeira",name:"Proteo Financeira",question:"Como esto seus seguros, reserva de emergncia e proteo patrimonial?",icon:"",color:"#6366F1",emoji_options:[{value:1,emoji:"",label:"Muito baixa"},{value:2,emoji:"",label:"Baixa"},{value:3,emoji:"",label:"Mdia"},{value:4,emoji:"",label:"Boa"},{value:5,emoji:"",label:"Excelente"}]},{id:"legado_financeiro",name:"Legado Financeiro",question:"Como est sua herana, doaes e impacto financeiro para futuras geraes?",icon:"",color:"#F97316",emoji_options:[{value:1,emoji:"",label:"Muito baixa"},{value:2,emoji:"",label:"Baixa"},{value:3,emoji:"",label:"Mdia"},{value:4,emoji:"",label:"Boa"},{value:5,emoji:"",label:"Excelente"}]},{id:"mentalidade_abundancia",name:"Mentalidade de Abundncia",question:"Como esto suas crenas sobre dinheiro, gratido e atrao de prosperidade?",icon:"",color:"#EC4899",emoji_options:[{value:1,emoji:"",label:"Muito baixa"},{value:2,emoji:"",label:"Baixa"},{value:3,emoji:"",label:"Mdia"},{value:4,emoji:"",label:"Boa"},{value:5,emoji:"",label:"Excelente"}]}],feedback_analysis:{critical_areas:"Pilares com pontuao 1-2 que precisam de ateno urgente",attention_areas:"Pilares com pontuao 3 que podem ser melhorados",strong_areas:"Pilares com pontuao 4-5 que esto bem desenvolvidos",action_plan:"Plano personalizado baseado nas respostas do usurio"}}},roda_competencia:{title:" Roda das Competncias - Avaliao Profissional",description:"Avalie suas 8 competncias profissionais fundamentais atravs de uma interface interativa. Receba anlises personalizadas e um plano de desenvolvimento para impulsionar sua carreira.",type:"competency_wheel_assessment",difficulty:"beginner",estimated_time:15,materials_needed:["Concentrao","Local tranquilo","10-15 minutos disponveis"],target_saboteurs:["Falta de autoconhecimento","Medo de mudana","Comparao inadequada"],follow_up_questions:["Quais competncias so seus pontos fortes?","Que competncias precisam de mais desenvolvimento?","Como voc pode aplicar essas competncias no trabalho?","Qual seria sua prioridade nmero 1 para os prximos 30 dias?"],content:{introduction:"A Roda das Competncias avalia as 8 competncias profissionais fundamentais. Para cada competncia, selecione o emoji que melhor representa seu desenvolvimento atual.",wheel_interface:!0,results_display:"competency_wheel_radar",track_evolution:!0,areas:[{id:"comunicacao",name:"Comunicao",question:"Como est sua capacidade de se expressar claramente e se conectar com outros?",icon:"",color:"#3B82F6",emoji_options:[{value:1,emoji:"",label:"Muito baixa"},{value:2,emoji:"",label:"Baixa"},{value:3,emoji:"",label:"Mdia"},{value:4,emoji:"",label:"Boa"},{value:5,emoji:"",label:"Excelente"}]},{id:"lideranca",name:"Liderana",question:"Como est sua capacidade de inspirar, motivar e guiar equipes?",icon:"",color:"#10B981",emoji_options:[{value:1,emoji:"",label:"Muito baixa"},{value:2,emoji:"",label:"Baixa"},{value:3,emoji:"",label:"Mdia"},{value:4,emoji:"",label:"Boa"},{value:5,emoji:"",label:"Excelente"}]},{id:"resolucao_problemas",name:"Resoluo de Problemas",question:"Como est sua capacidade de analisar situaes e encontrar solues criativas?",icon:"",color:"#8B5CF6",emoji_options:[{value:1,emoji:"",label:"Muito baixa"},{value:2,emoji:"",label:"Baixa"},{value:3,emoji:"",label:"Mdia"},{value:4,emoji:"",label:"Boa"},{value:5,emoji:"",label:"Excelente"}]},{id:"trabalho_equipe",name:"Trabalho em Equipe",question:"Como est sua capacidade de colaborar e contribuir em grupos?",icon:"",color:"#F59E0B",emoji_options:[{value:1,emoji:"",label:"Muito baixa"},{value:2,emoji:"",label:"Baixa"},{value:3,emoji:"",label:"Mdia"},{value:4,emoji:"",label:"Boa"},{value:5,emoji:"",label:"Excelente"}]},{id:"adaptabilidade",name:"Adaptabilidade",question:"Como est sua capacidade de se adaptar a mudanas e novos desafios?",icon:"",color:"#06B6D4",emoji_options:[{value:1,emoji:"",label:"Muito baixa"},{value:2,emoji:"",label:"Baixa"},{value:3,emoji:"",label:"Mdia"},{value:4,emoji:"",label:"Boa"},{value:5,emoji:"",label:"Excelente"}]},{id:"gestao_tempo",name:"Gesto de Tempo",question:"Como est sua capacidade de organizar e priorizar tarefas eficientemente?",icon:"",color:"#6366F1",emoji_options:[{value:1,emoji:"",label:"Muito baixa"},{value:2,emoji:"",label:"Baixa"},{value:3,emoji:"",label:"Mdia"},{value:4,emoji:"",label:"Boa"},{value:5,emoji:"",label:"Excelente"}]},{id:"criatividade",name:"Criatividade",question:"Como est sua capacidade de gerar ideias inovadoras e solues criativas?",icon:"",color:"#F97316",emoji_options:[{value:1,emoji:"",label:"Muito baixa"},{value:2,emoji:"",label:"Baixa"},{value:3,emoji:"",label:"Mdia"},{value:4,emoji:"",label:"Boa"},{value:5,emoji:"",label:"Excelente"}]},{id:"aprendizado_continuo",name:"Aprendizado Contnuo",question:"Como est sua disposio para aprender e se desenvolver constantemente?",icon:"",color:"#EC4899",emoji_options:[{value:1,emoji:"",label:"Muito baixa"},{value:2,emoji:"",label:"Baixa"},{value:3,emoji:"",label:"Mdia"},{value:4,emoji:"",label:"Boa"},{value:5,emoji:"",label:"Excelente"}]}],feedback_analysis:{critical_areas:"Competncias com pontuao 1-2 que precisam de desenvolvimento urgente",attention_areas:"Competncias com pontuao 3 que podem ser melhoradas",strong_areas:"Competncias com pontuao 4-5 que esto bem desenvolvidas",action_plan:"Plano personalizado baseado nas respostas do usurio"}}}};p.useEffect(()=>{D()},[]);const D=async()=>{try{await Promise.all([I(),V(),W()])}catch(J){console.error("Error loading data:",J)}finally{c(!1)}},I=async()=>{const{data:J,error:se}=await z.from("sessions").select("*").order("created_at",{ascending:!1});if(se)throw se;r(J||[]);const ke=(J==null?void 0:J.length)||0,$e=(J==null?void 0:J.filter(ut=>ut.is_active).length)||0;C(ut=>({...ut,totalSessions:ke,activeSessions:$e}))},V=async()=>{const{data:J,error:se}=await z.from("user_sessions").select(`
        *,
        sessions (*)
      `).order("assigned_at",{ascending:!1});if(se)throw se;n((J||[]).map(ut=>({...ut,feedback:typeof ut.feedback=="string"?ut.feedback:JSON.stringify(ut.feedback||"")})));const ke=(J==null?void 0:J.length)||0,$e=(J==null?void 0:J.filter(ut=>ut.status==="completed").length)||0;C(ut=>({...ut,assignedSessions:ke,completedSessions:$e}))},W=async()=>{const{data:J,error:se}=await z.from("profiles").select("id, full_name").order("full_name");if(se)throw se;o((J||[]).map(ke=>({user_id:ke.id,full_name:ke.full_name})))},R=async()=>{try{let J={};if(T.content&&T.content.trim())try{const $e=T.content.trim();$e.startsWith("{")||$e.startsWith("[")?J=JSON.parse($e):J={raw_content:$e}}catch($e){console.warn("Contedo no  JSON vlido, usando objeto vazio:",$e),J={raw_content:T.content}}const se={...T,content:J,created_by:e==null?void 0:e.id},{error:ke}=await z.from("sessions").insert(se);if(ke)throw ke;E({title:"Sesso Criada! ",description:"A sesso foi criada com sucesso"}),h(!1),ae(),I()}catch(J){console.error("Error creating session:",J);let se="No foi possvel criar a sesso";J instanceof SyntaxError?se="Erro no formato do JSON do contedo":J&&typeof J=="object"&&"message"in J&&(se=J.message),E({title:"Erro",description:se,variant:"destructive"})}},F=async J=>{try{const se=i.map(ut=>({session_id:J,user_id:ut.user_id,status:"pending",progress:0,due_date:new Date(Date.now()+6048e5).toISOString()})),{error:ke}=await z.from("user_sessions").insert(se);if(ke)throw ke;const $e=v.map(ut=>({user_id:ut,title:" Nova Sesso Disponvel!",message:`Voc recebeu uma nova sesso: "${d==null?void 0:d.title}". Acesse agora e comece sua jornada!`,type:"session_assignment",category:"sessions",priority:"high",trigger_conditions:JSON.stringify({session_id:d==null?void 0:d.id}),is_active:!0}));console.log("Notifications would be created:",$e),E({title:"Sesses Enviadas! ",description:`Sesso atribuda para ${i.length} usurios`}),V()}catch(se){console.error("Error assigning session to all users:",se),E({title:"Erro",description:"No foi possvel atribuir a sesso para todos os usurios",variant:"destructive"})}},H=async J=>{try{if(v.length===0){E({title:"Ateno",description:"Selecione pelo menos um usurio",variant:"destructive"});return}const se=v.map($e=>({session_id:J,user_id:$e,status:"pending",progress:0,due_date:new Date(Date.now()+7*24*60*60*1e3).toISOString()})),{error:ke}=await z.from("user_sessions").insert(se);if(ke)throw ke;E({title:"Sesses Enviadas! ",description:`Sesso atribuda para ${v.length} usurios`}),b([]),V()}catch(se){console.error("Error assigning session to selected users:",se),E({title:"Erro",description:"No foi possvel atribuir a sesso para os usurios selecionados",variant:"destructive"})}},Z=J=>{b(se=>se.includes(J)?se.filter(ke=>ke!==J):[...se,J])},B=()=>{v.length===i.length?b([]):b(i.map(J=>J.user_id))},K=async J=>{try{const se=v.length>0?v:i.map(ut=>ut.user_id),{data:ke,error:$e}=await z.functions.invoke("send-session-notifications",{body:{sessionId:J,userIds:se,sendVia:"email",customMessage:"Uma nova sesso foi atribuda para voc. Acesse o Dr. Vita para comear!"}});if($e)throw $e;E({title:"Emails Enviados! ",description:`Sesso enviada por email para ${se.length} usurios`}),b([]),V()}catch(se){console.error("Error sending session via email:",se),E({title:"Erro no Envio",description:"No foi possvel enviar a sesso por email",variant:"destructive"})}},Q=async J=>{try{const se=v.length>0?v:i.map(ut=>ut.user_id),{data:ke,error:$e}=await z.functions.invoke("send-session-notifications",{body:{sessionId:J,userIds:se,sendVia:"whatsapp",customMessage:"Nova sesso disponvel no Dr. Vita! "}});if($e)throw $e;E({title:"WhatsApp Enviado! ",description:`Sesso enviada por WhatsApp para ${se.length} usurios`}),b([]),V()}catch(se){console.error("Error sending session via WhatsApp:",se),E({title:"Erro no Envio",description:"No foi possvel enviar a sesso por WhatsApp. Verifique se h webhooks n8n configurados.",variant:"destructive"})}},ie=async J=>{try{const se=v.length>0?v:i.map(ut=>ut.user_id),{data:ke,error:$e}=await z.functions.invoke("send-session-notifications",{body:{sessionId:J,userIds:se,sendVia:"both",customMessage:"Nova sesso disponvel! Acesse o Dr. Vita para comear sua jornada. "}});if($e)throw $e;E({title:"Notificaes Enviadas! ",description:`Sesso enviada por email e WhatsApp para ${se.length} usurios`}),b([]),V()}catch(se){console.error("Error sending session notifications:",se),E({title:"Erro no Envio",description:"No foi possvel enviar as notificaes",variant:"destructive"})}},oe=async()=>{try{console.log(" Iniciando teste de email...");const J={user_id:"test-user-id",full_name:"Teste Admin",email:"tvmensal2025@gmail.com"};console.log(" Usurio teste:",J);const{data:se,error:ke}=await z.functions.invoke("send-weekly-email-report",{body:{testMode:!0,testUser:J,customMessage:" TESTE COMPLETO - Este email foi enviado para testar o sistema de relatrios do Dr. Vita! O sistema est funcionando perfeitamente."}});if(console.log(" Resposta da funo:",{data:se,error:ke}),ke)throw console.error(" Erro completo:",ke),new Error(ke.message||JSON.stringify(ke));E({title:" Email de Teste Enviado!",description:`Enviado para ${J.email}. Para enviar para outros emails, voc precisa verificar um domnio no Resend.`})}catch(J){console.error(" Erro no teste de email:",J),E({title:"Erro no Teste",description:`Erro: ${J.message}`,variant:"destructive"})}},je=async()=>{try{const J=i.map($e=>$e.user_id),{data:se,error:ke}=await z.functions.invoke("send-weekly-email-report",{body:{userIds:J,customMessage:" Seu relatrio semanal do Dr. Vita est pronto! Confira seu progresso de sade."}});if(ke)throw ke;E({title:" Relatrios Enviados!",description:`Relatrio semanal enviado para todos os ${J.length} clientes`})}catch(J){console.error("Error sending weekly emails to all clients:",J),E({title:"Erro no Envio",description:"No foi possvel enviar os relatrios: "+J.message,variant:"destructive"})}},le=async(J,se)=>{try{const{error:ke}=await z.from("sessions").update({is_active:!se}).eq("id",J);if(ke)throw ke;E({title:se?"Sesso Desativada":"Sesso Ativada",description:`A sesso foi ${se?"desativada":"ativada"} com sucesso`}),I()}catch(ke){console.error("Error toggling session:",ke)}},Oe=async J=>{try{const{error:se}=await z.from("sessions").delete().eq("id",J);if(se)throw se;E({title:"Sesso Excluda",description:"A sesso foi excluda permanentemente"}),I()}catch(se){console.error("Error deleting session:",se)}},ae=()=>{k({title:"",description:"",type:"saboteur_work",difficulty:"beginner",estimated_time:30,content:"{}",target_saboteurs:[],materials_needed:[],follow_up_questions:[]})},ue=J=>{const se=P[J];se&&(k({title:se.title,description:se.description,type:se.type,difficulty:se.difficulty,estimated_time:se.estimated_time,content:JSON.stringify(se.content,null,2),target_saboteurs:se.target_saboteurs,materials_needed:se.materials_needed,follow_up_questions:se.follow_up_questions}),E({title:"Template Carregado! ",description:`Template "${se.title}" foi carregado no formulrio`}))},L=async J=>{try{const se={title:J.title,description:J.description,type:J.type,difficulty:J.difficulty,estimated_time:J.estimated_time,content:J.content,target_saboteurs:J.target_saboteurs,materials_needed:J.materials_needed,follow_up_questions:J.follow_up_questions,created_by:e==null?void 0:e.id},{data:ke,error:$e}=await z.from("sessions").insert(se).select().single();if($e)throw $e;const ut=i.map(Yr=>({session_id:ke.id,user_id:Yr.user_id,status:"pending",progress:0,due_date:new Date(Date.now()+7*24*60*60*1e3).toISOString()})),{error:On}=await z.from("user_sessions").insert(ut);if(On)throw On;const Ll=i.map(Yr=>({user_id:Yr.user_id,title:" Nova Sesso Disponvel!",message:`Voc recebeu uma nova sesso: "${J.title}". Acesse agora e comece sua jornada!`,type:"session_assignment",category:"sessions",priority:"high",trigger_conditions:JSON.stringify({session_id:ke.id}),is_active:!0}));console.log("Template notifications would be created:",Ll),E({title:" Template Enviado para Todos!",description:`"${J.title}" foi criado e enviado para ${i.length} usurios`}),D()}catch(se){console.error("Error creating and assigning template:",se),E({title:"Erro",description:"No foi possvel criar e enviar o template",variant:"destructive"})}},q=t.filter(J=>{var $e;const se=J.title.toLowerCase().includes(x.toLowerCase())||(($e=J.description)==null?void 0:$e.toLowerCase().includes(x.toLowerCase())),ke=j==="all"||J.difficulty===j;return se&&ke}),te=a.filter(J=>w==="all"||J.status===w),ye=J=>{switch(J){case"beginner":return"bg-green-50 text-green-700";case"intermediate":return"bg-yellow-50 text-yellow-700";case"advanced":return"bg-red-50 text-red-700";default:return"bg-gray-50 text-gray-700"}},Pe=J=>{switch(J){case"pending":return"bg-yellow-50 text-yellow-700";case"in_progress":return"bg-blue-50 text-blue-700";case"completed":return"bg-green-50 text-green-700";default:return"bg-gray-50 text-gray-700"}};return l?s.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"Carregando gesto de sesses..."})]})}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold",children:"Gesto de Sesses"}),s.jsx("p",{className:"text-muted-foreground",children:"Crie e gerencie sesses personalizadas para usurios"})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(A,{variant:"outline",onClick:oe,children:" Teste Relatrio Email"}),s.jsx(A,{onClick:je,children:" Relatrio Semanal - Todos Clientes"})]})]}),s.jsxs(M,{children:[s.jsx($,{children:s.jsxs(U,{className:"flex items-center gap-2",children:[s.jsx(ni,{className:"w-5 h-5"})," Templates de Sesso Prontos"]})}),s.jsx(O,{children:s.jsxs("div",{className:"grid gap-4 md:grid-cols-1",children:[s.jsx("div",{className:"border rounded-lg p-4 bg-gradient-to-r from-purple-50 to-pink-50",children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("h4",{className:"font-semibold text-lg flex items-center gap-2",children:[" Roda da Vida - Avaliao de Equilbrio Geral",s.jsx(X,{variant:"secondary",children:"12 reas"})]}),s.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Avalie o equilbrio das 12 reas fundamentais da vida atravs de uma interface interativa com emojis. Receba anlises personalizadas e um plano de ao para melhorar seu bem-estar geral."}),s.jsxs("div",{className:"flex items-center gap-4 mt-2 text-xs text-muted-foreground",children:[s.jsx("span",{children:" 10-15 minutos"}),s.jsx("span",{children:" Seleo por Emojis"}),s.jsx("span",{children:" Roda Radar Visual"}),s.jsx("span",{children:" Plano de Ao"})]}),s.jsxs("div",{className:"mt-3 flex flex-wrap gap-1",children:[["Sade","Famlia","Carreira","Financeiro","Social","Espiritual"].map(J=>s.jsx(X,{variant:"outline",className:"text-xs",children:J},J)),s.jsx(X,{variant:"outline",className:"text-xs",children:"+6 reas"})]})]}),s.jsxs("div",{className:"flex flex-col gap-2 ml-4",children:[s.jsxs(A,{size:"sm",onClick:()=>{ue("roda_vida"),h(!0)},className:"bg-purple-600 hover:bg-purple-700",children:[s.jsx(_s,{className:"w-4 h-4 mr-1"}),"Usar Template"]}),s.jsx(A,{variant:"outline",size:"sm",onClick:()=>{if(ue("roda_vida"),i.length>0){const J=P.roda_vida;L(J)}},children:" Enviar p/ Todos"})]})]})}),s.jsx("div",{className:"border rounded-lg p-4 bg-gradient-to-r from-blue-50 to-green-50",children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("h4",{className:"font-semibold text-lg flex items-center gap-2",children:[" Roda da Sade IDS - Avaliao Completa",s.jsx(X,{variant:"secondary",children:"147 Perguntas"})]}),s.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Mapeamento completo de sintomas em 12 sistemas corporais com avaliao de frequncia e intensidade. Sistema adaptativo que coleta dados para visualizao em roda e evoluo temporal."}),s.jsxs("div",{className:"flex items-center gap-4 mt-2 text-xs text-muted-foreground",children:[s.jsx("span",{children:" 12-15 minutos"}),s.jsx("span",{children:" Frequncia + Intensidade"}),s.jsx("span",{children:" Roda Visual de Resultados"}),s.jsx("span",{children:" Evoluo Temporal"})]}),s.jsxs("div",{className:"mt-3 flex flex-wrap gap-1",children:[["Cabea e Neurolgico","Olhos e Visual","Corao","Pulmes","Estmago","Msculos"].map(J=>s.jsx(X,{variant:"outline",className:"text-xs",children:J},J)),s.jsx(X,{variant:"outline",className:"text-xs",children:"+6 sistemas"})]})]}),s.jsxs("div",{className:"flex flex-col gap-2 ml-4",children:[s.jsxs(A,{size:"sm",onClick:()=>{ue("roda_saude_completa"),h(!0)},className:"bg-blue-600 hover:bg-blue-700",children:[s.jsx(_s,{className:"w-4 h-4 mr-1"}),"Usar Template"]}),s.jsx(A,{variant:"outline",size:"sm",onClick:()=>{if(ue("roda_saude_completa"),i.length>0){const J=P.roda_saude_completa;L(J)}},children:" Enviar p/ Todos"})]})]})}),s.jsx("div",{className:"border rounded-lg p-4 bg-gradient-to-r from-yellow-50 to-orange-50",children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("h4",{className:"font-semibold text-lg flex items-center gap-2",children:[" Roda da Abundncia - Avaliao de Prosperidade",s.jsx(X,{variant:"secondary",children:"8 Pilares"})]}),s.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Avaliao dos 8 pilares fundamentais da prosperidade financeira. Interface interativa com anlise personalizada e plano de ao para impulsionar sua abundncia."}),s.jsxs("div",{className:"flex items-center gap-4 mt-2 text-xs text-muted-foreground",children:[s.jsx("span",{children:" 10-15 minutos"}),s.jsx("span",{children:" 8 Pilares Financeiros"}),s.jsx("span",{children:" Roda Visual de Resultados"}),s.jsx("span",{children:" Plano de Ao Personalizado"})]}),s.jsxs("div",{className:"mt-3 flex flex-wrap gap-1",children:[["Renda Ativa","Renda Passiva","Investimentos","Educao Financeira","Planejamento","Proteo"].map(J=>s.jsx(X,{variant:"outline",className:"text-xs",children:J},J)),s.jsx(X,{variant:"outline",className:"text-xs",children:"+2 pilares"})]})]}),s.jsxs("div",{className:"flex flex-col gap-2 ml-4",children:[s.jsxs(A,{size:"sm",onClick:()=>{ue("roda_abundancia"),h(!0)},className:"bg-yellow-600 hover:bg-yellow-700",children:[s.jsx(_s,{className:"w-4 h-4 mr-1"}),"Usar Template"]}),s.jsx(A,{variant:"outline",size:"sm",onClick:()=>{if(ue("roda_abundancia"),i.length>0){const J=P.roda_abundancia;L(J)}},children:" Enviar p/ Todos"})]})]})}),s.jsx("div",{className:"border rounded-lg p-4 bg-gradient-to-r from-indigo-50 to-purple-50",children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("h4",{className:"font-semibold text-lg flex items-center gap-2",children:[" Roda das Competncias - Avaliao Profissional",s.jsx(X,{variant:"secondary",children:"8 Competncias"})]}),s.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Avaliao das 8 competncias profissionais fundamentais. Interface interativa com anlise personalizada e plano de desenvolvimento para impulsionar sua carreira."}),s.jsxs("div",{className:"flex items-center gap-4 mt-2 text-xs text-muted-foreground",children:[s.jsx("span",{children:" 10-15 minutos"}),s.jsx("span",{children:" 8 Competncias Profissionais"}),s.jsx("span",{children:" Roda Visual de Resultados"}),s.jsx("span",{children:" Plano de Desenvolvimento"})]}),s.jsxs("div",{className:"mt-3 flex flex-wrap gap-1",children:[["Comunicao","Liderana","Resoluo de Problemas","Trabalho em Equipe","Adaptabilidade","Gesto de Tempo"].map(J=>s.jsx(X,{variant:"outline",className:"text-xs",children:J},J)),s.jsx(X,{variant:"outline",className:"text-xs",children:"+2 competncias"})]})]}),s.jsxs("div",{className:"flex flex-col gap-2 ml-4",children:[s.jsxs(A,{size:"sm",onClick:()=>{ue("roda_competencia"),h(!0)},className:"bg-indigo-600 hover:bg-indigo-700",children:[s.jsx(_s,{className:"w-4 h-4 mr-1"}),"Usar Template"]}),s.jsx(A,{variant:"outline",size:"sm",onClick:()=>{if(ue("roda_competencia"),i.length>0){const J=P.roda_competencia;L(J)}},children:" Enviar p/ Todos"})]})]})})]})})]}),s.jsxs(gt,{open:m,onOpenChange:h,children:[s.jsx(ir,{asChild:!0,children:s.jsxs(A,{children:[s.jsx(_s,{className:"w-4 h-4 mr-2"}),"Nova Sesso Personalizada"]})}),s.jsxs(vt,{className:"max-w-2xl max-h-[80vh] overflow-y-auto",children:[s.jsx(yt,{children:s.jsx(bt,{children:"Criar Nova Sesso"})}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(Y,{htmlFor:"title",children:"Ttulo"}),s.jsx(re,{id:"title",value:T.title,onChange:J=>k(se=>({...se,title:J.target.value})),placeholder:"Ex: Superando o Perfeccionismo"})]}),s.jsxs("div",{children:[s.jsx(Y,{htmlFor:"description",children:"Descrio"}),s.jsx(Ke,{id:"description",value:T.description,onChange:J=>k(se=>({...se,description:J.target.value})),placeholder:"Descreva o objetivo da sesso..."})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(Y,{htmlFor:"difficulty",children:"Dificuldade"}),s.jsxs(rt,{value:T.difficulty,onValueChange:J=>k(se=>({...se,difficulty:J})),children:[s.jsx(tt,{children:s.jsx(at,{})}),s.jsxs(st,{children:[s.jsx(he,{value:"beginner",children:"Iniciante"}),s.jsx(he,{value:"intermediate",children:"Intermedirio"}),s.jsx(he,{value:"advanced",children:"Avanado"})]})]})]}),s.jsxs("div",{children:[s.jsx(Y,{htmlFor:"time",children:"Tempo Estimado (min)"}),s.jsx(re,{id:"time",type:"number",value:T.estimated_time,onChange:J=>k(se=>({...se,estimated_time:parseInt(J.target.value)}))})]})]}),s.jsxs("div",{children:[s.jsx(Y,{htmlFor:"content",children:"Contedo (JSON)"}),s.jsx(Ke,{id:"content",value:T.content,onChange:J=>k(se=>({...se,content:J.target.value})),placeholder:'{"sections": [{"title": "Seo 1", "activities": ["Atividade 1", "Atividade 2"]}]}',rows:4}),s.jsx("div",{className:"text-xs text-muted-foreground",children:s.jsxs("details",{children:[s.jsx("summary",{className:"cursor-pointer",children:"Templates de exemplo"}),s.jsxs("div",{className:"mt-2 space-y-2",children:[s.jsx(A,{variant:"outline",size:"sm",type:"button",onClick:()=>k(J=>({...J,title:"Identificando Sabotadores Internos",description:"Sesso para reconhecer padres de sabotagem interna",content:JSON.stringify({sections:[{title:"Autoconhecimento",activities:["Reflexo sobre comportamentos autossabotadores","Identificao de gatilhos emocionais","Mapeamento de padres negativos"]},{title:"Exerccios Prticos",activities:["Dirio de sabotadores por 7 dias","Tcnica de mindfulness para observao","Questionrio de autoavaliao"]}]},null,2)})),children:"Template: Sabotadores Internos"}),s.jsx(A,{variant:"outline",size:"sm",type:"button",onClick:()=>k(J=>({...J,title:"Estratgias de Superao",description:"Tcnicas prticas para superar obstculos mentais",content:JSON.stringify({sections:[{title:"Tcnicas de Reframing",activities:["Identificao de pensamentos limitantes","Prtica de reframing cognitivo","Criao de afirmaes positivas"]},{title:"Plano de Ao",activities:["Definio de objetivos SMART","Criao de estratgias personalizadas","Sistema de acompanhamento semanal"]}]},null,2)})),children:"Template: Estratgias de Superao"})]})]})})]}),s.jsx(A,{onClick:R,className:"w-full",children:"Criar Sesso"})]})]})]}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[s.jsx(M,{children:s.jsxs(O,{className:"p-4 text-center",children:[s.jsx("div",{className:"text-2xl font-bold text-blue-600",children:_.totalSessions}),s.jsx("div",{className:"text-sm text-muted-foreground",children:"Total de Sesses"})]})}),s.jsx(M,{children:s.jsxs(O,{className:"p-4 text-center",children:[s.jsx("div",{className:"text-2xl font-bold text-green-600",children:_.activeSessions}),s.jsx("div",{className:"text-sm text-muted-foreground",children:"Sesses Ativas"})]})}),s.jsx(M,{children:s.jsxs(O,{className:"p-4 text-center",children:[s.jsx("div",{className:"text-2xl font-bold text-orange-600",children:_.assignedSessions}),s.jsx("div",{className:"text-sm text-muted-foreground",children:"Atribudas"})]})}),s.jsx(M,{children:s.jsxs(O,{className:"p-4 text-center",children:[s.jsx("div",{className:"text-2xl font-bold text-purple-600",children:_.completedSessions}),s.jsx("div",{className:"text-sm text-muted-foreground",children:"Completadas"})]})})]})]}),s.jsxs(M,{className:"border-blue-200 bg-gradient-to-r from-blue-50 to-cyan-50",children:[s.jsx($,{children:s.jsxs(U,{className:"flex items-center gap-2 text-blue-900",children:[s.jsx(hn,{className:"h-5 w-5"})," Debug - Teste de Relatrios por Email"]})}),s.jsxs(O,{children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs(A,{onClick:oe,variant:"outline",className:"border-blue-300 hover:bg-blue-100 text-blue-900 h-auto p-4 flex flex-col items-center gap-2",children:[s.jsx(hn,{className:"h-5 w-5"}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"font-medium",children:"Teste para Rafael"}),s.jsx("div",{className:"text-xs text-blue-700",children:"Enviar relatrio com logs detalhados"})]})]}),s.jsxs(A,{onClick:je,className:"bg-green-600 hover:bg-green-700 h-auto p-4 flex flex-col items-center gap-2",children:[s.jsx(hn,{className:"h-5 w-5"}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"font-medium",children:"Enviar para Todos"}),s.jsx("div",{className:"text-xs text-white/80",children:"Relatrio semanal completo"})]})]}),s.jsxs(A,{onClick:()=>window.open("/whatsapp-report-demo","_blank"),variant:"outline",className:"border-purple-300 hover:bg-purple-100 text-purple-900 h-auto p-4 flex flex-col items-center gap-2",children:[s.jsx(hn,{className:"h-5 w-5"}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"font-medium",children:" Demo WhatsApp"}),s.jsx("div",{className:"text-xs text-purple-700",children:"Como ficar no WhatsApp"})]})]})]}),s.jsx("div",{className:"mt-4 p-3 bg-yellow-50 border border-yellow-200 rounded-lg",children:s.jsxs("p",{className:"text-xs text-yellow-800",children:[s.jsx("strong",{children:"Demos:"})," Ver como ficar o relatrio no Email e WhatsApp com grficos de alta qualidade."]})})]})]}),s.jsxs(ga,{defaultValue:"sessions",className:"space-y-4",children:[s.jsxs(Gr,{children:[s.jsx(Ve,{value:"sessions",children:"Sesses"}),s.jsx(Ve,{value:"assignments",children:"Atribuies"})]}),s.jsxs(ct,{value:"sessions",className:"space-y-4",children:[s.jsxs("div",{className:"flex gap-4",children:[s.jsx("div",{className:"flex-1",children:s.jsx(re,{placeholder:"Buscar sesses...",value:x,onChange:J=>y(J.target.value),className:"max-w-sm"})}),s.jsxs(rt,{value:j,onValueChange:N,children:[s.jsx(tt,{className:"w-48",children:s.jsx(at,{placeholder:"Dificuldade"})}),s.jsxs(st,{children:[s.jsx(he,{value:"all",children:"Todas as dificuldades"}),s.jsx(he,{value:"beginner",children:"Iniciante"}),s.jsx(he,{value:"intermediate",children:"Intermedirio"}),s.jsx(he,{value:"advanced",children:"Avanado"})]})]})]}),s.jsx("div",{className:"grid gap-4",children:q.map(J=>s.jsxs(M,{children:[s.jsxs($,{children:[s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx(U,{className:"text-xl",children:J.title}),s.jsx("p",{className:"text-muted-foreground text-sm mt-1",children:J.description})]}),s.jsx("div",{className:"flex items-center gap-2",children:J.is_active?s.jsx(X,{className:"bg-green-50 text-green-700",children:"Ativa"}):s.jsx(X,{variant:"secondary",children:"Inativa"})})]}),s.jsxs("div",{className:"flex flex-wrap gap-2",children:[s.jsxs(X,{variant:"outline",className:ye(J.difficulty),children:[s.jsx(_e,{className:"w-3 h-3 mr-1"}),J.difficulty]}),s.jsxs(X,{variant:"outline",children:[s.jsx(Xt,{className:"w-3 h-3 mr-1"}),J.estimated_time," min"]}),s.jsxs(X,{variant:"outline",children:[s.jsx(Vt,{className:"w-3 h-3 mr-1"}),new Date(J.created_at).toLocaleDateString()]})]})]}),s.jsx(O,{children:s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{className:"text-sm text-muted-foreground",children:["Tipo: ",J.type,"  Sabotadores: ",J.target_saboteurs.length]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(gt,{children:[s.jsx(ir,{asChild:!0,children:s.jsxs(A,{variant:"outline",size:"sm",children:[s.jsx(hn,{className:"w-4 h-4 mr-1"}),"Atribuir"]})}),s.jsxs(vt,{children:[s.jsx(yt,{children:s.jsxs(bt,{children:["Atribuir Sesso: ",J.title]})}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Selecione os usurios que recebero esta sesso:"}),s.jsx(A,{variant:"outline",size:"sm",onClick:B,children:v.length===i.length?"Desmarcar Todos":"Selecionar Todos"})]}),s.jsx("div",{className:"mb-3",children:s.jsx(re,{placeholder:"Buscar por nome ou email...",value:x,onChange:se=>y(se.target.value),className:"w-full"})}),s.jsx("div",{className:"max-h-60 overflow-y-auto space-y-2 border rounded-lg p-3",children:i.filter(se=>{var ke,$e;return((ke=se.full_name)==null?void 0:ke.toLowerCase().includes(x.toLowerCase()))||""||(($e=se.email)==null?void 0:$e.toLowerCase().includes(x.toLowerCase()))||""}).map(se=>s.jsxs("div",{className:"flex items-center space-x-3 p-2 hover:bg-muted/50 rounded",children:[s.jsx(Uu,{id:se.user_id,checked:v.includes(se.user_id),onCheckedChange:()=>Z(se.user_id)}),s.jsx("label",{htmlFor:se.user_id,className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70 cursor-pointer flex-1",children:s.jsxs("div",{children:[s.jsx("div",{children:se.full_name||"Usurio sem nome"}),se.email&&s.jsx("div",{className:"text-xs text-muted-foreground",children:se.email})]})})]},se.user_id))}),v.length>0&&s.jsx("div",{className:"bg-primary/5 p-3 rounded-lg",children:s.jsxs("p",{className:"text-sm text-primary font-medium",children:[v.length," usurio(s) selecionado(s)"]})}),s.jsxs("div",{className:"border-t pt-4 space-y-3",children:[s.jsxs(A,{variant:"outline",className:"w-full",onClick:()=>H(J.id),disabled:v.length===0,children:[s.jsx(hn,{className:"w-4 h-4 mr-2"}),"Atribuir para Selecionados (",v.length,")"]}),s.jsxs(A,{variant:"outline",className:"w-full",onClick:()=>F(J.id),children:[s.jsx(Le,{className:"w-4 h-4 mr-2"}),"Atribuir para Todos os Usurios"]}),s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsx(A,{variant:"outline",onClick:()=>Q(J.id),disabled:v.length===0,children:" WhatsApp"}),s.jsx(A,{variant:"outline",onClick:()=>K(J.id),disabled:v.length===0,children:" Email"})]}),s.jsxs(A,{className:"w-full",onClick:()=>ie(J.id),disabled:v.length===0,children:[" Enviar por Email + WhatsApp (",v.length,")"]})]})]})]})]}),s.jsx(A,{variant:"outline",size:"sm",onClick:()=>le(J.id,J.is_active),children:J.is_active?"Desativar":"Ativar"}),s.jsx(A,{variant:"outline",size:"sm",onClick:()=>Oe(J.id),children:s.jsx(fl,{className:"w-4 h-4"})})]})]})})]},J.id))})]}),s.jsxs(ct,{value:"assignments",className:"space-y-4",children:[s.jsxs(rt,{value:w,onValueChange:S,children:[s.jsx(tt,{className:"w-48",children:s.jsx(at,{placeholder:"Status"})}),s.jsxs(st,{children:[s.jsx(he,{value:"all",children:"Todos os status"}),s.jsx(he,{value:"pending",children:"Pendente"}),s.jsx(he,{value:"in_progress",children:"Em Progresso"}),s.jsx(he,{value:"completed",children:"Completa"})]})]}),s.jsx("div",{className:"grid gap-4",children:te.map(J=>{var se;return s.jsxs(M,{children:[s.jsx($,{children:s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx(U,{className:"text-lg",children:(se=J.sessions)==null?void 0:se.title}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:["Usurio: ",J.user_id]})]}),s.jsx(X,{className:Pe(J.status),children:J.status})]})}),s.jsx(O,{children:s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{children:"Progresso:"}),s.jsxs("span",{children:[J.progress,"%"]})]}),s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:s.jsx("div",{className:"bg-primary h-2 rounded-full transition-all",style:{width:`${J.progress}%`}})}),s.jsxs("div",{className:"flex justify-between text-xs text-muted-foreground",children:[s.jsxs("span",{children:["Atribuda: ",new Date(J.assigned_at).toLocaleDateString()]}),J.completed_at&&s.jsxs("span",{children:["Completa: ",new Date(J.completed_at).toLocaleDateString()]})]})]})})]},J.id)})})]})]})]})}function AMe(){const[e,t]=p.useState("pendente"),[r,a]=p.useState(null),[n,i]=p.useState({status:"aprovada",points_awarded:0,comments:""}),{toast:o}=Ee(),l=kl(),{data:c,isLoading:d}=Sn({queryKey:["admin-goals",e],queryFn:async()=>{let f=z.from("user_goals").select("*").order("created_at",{ascending:!1});e!=="todas"&&(f=f.eq("status",e));const{data:g,error:x}=await f;if(x)throw x;return await Promise.all(g.map(async v=>{let b=null;try{const{data:j,error:N}=await z.from("profiles").select("full_name, email").eq("user_id",v.user_id).single();j&&(b=j)}catch(j){console.warn("Erro ao buscar perfil do usurio:",j)}return{...v,user_info:b||{full_name:"Usurio sem perfil",email:null}}}))}}),u=bn({mutationFn:async({goalId:f,approval:g})=>{const{data:{user:x}}=await z.auth.getUser();if(!x)throw new Error("Admin no autenticado");console.log(" Processando aprovao:",{goalId:f,approval:g,adminId:x.id});const y={status:g.status,approved_by:x.id,approved_at:new Date().toISOString(),admin_notes:g.comments||`Pontos concedidos: ${g.points_awarded}`,updated_at:new Date().toISOString()};g.status==="aprovada"?y.final_points=g.points_awarded:g.status==="rejeitada"&&(y.rejection_reason=g.comments||"Meta rejeitada pelo admin");const{data:v,error:b}=await z.from("user_goals").update(y).eq("id",f).select().single();if(b)throw console.error(" Erro ao processar meta:",b),b;return console.log(` Meta ${g.status} com sucesso`),v},onSuccess:()=>{l.invalidateQueries({queryKey:["admin-goals"]}),a(null),o({title:"Meta processada!",description:"A meta foi processada e o usurio foi notificado automaticamente."})}}),m=bn({mutationFn:async f=>{const{data:{user:g}}=await z.auth.getUser();if(!g)throw new Error("Usurio no autenticado");const x={title:f.title,description:f.description||`Desafio criado a partir da meta: ${f.title}`,category:"meta_transformada",challenge_type:"general",difficulty:f.difficulty||"medio",duration_days:f.data_fim?Math.ceil((new Date(f.data_fim).getTime()-new Date().getTime())/(1e3*60*60*24)):30,points_reward:f.estimated_points||100,badge_icon:"",badge_name:`Meta ${f.title}`,instructions:`Complete esta meta: ${f.target_value} ${f.unit||"unidades"}`,tips:["Meta transformada em desafio pblico",`Criada por: ${f.user_name||"usurio"}`],daily_log_type:"numeric",daily_log_target:f.target_value,daily_log_unit:f.unit||"unidades",is_active:!0,is_featured:!1,is_group_challenge:!0,start_date:new Date().toISOString().split("T")[0],end_date:f.data_fim||new Date(Date.now()+30*24*60*60*1e3).toISOString().split("T")[0],created_by:g.id},{data:y,error:v}=await z.from("challenges").insert(x).select().single();if(v)throw v;const{error:b}=await z.from("user_goals").update({challenge_id:y.id,status:"transformada"}).eq("id",f.id);if(b)throw b;return y},onSuccess:f=>{l.invalidateQueries({queryKey:["admin-goals"]}),o({title:"Meta transformada em desafio!",description:`O desafio "${f.title}" foi criado e est aguardando ativao.`})}}),h=(f,g)=>{a(f),i({status:g,points_awarded:g==="aprovada"?f.estimated_points||10:0,comments:""})};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold",children:"Gerenciamento de Metas"}),s.jsx("p",{className:"text-muted-foreground",children:"Aprove, rejeite e gerencie metas dos usurios"})]}),s.jsxs(ga,{value:e,onValueChange:t,children:[s.jsxs(Gr,{children:[s.jsx(Ve,{value:"pendente",children:"Pendentes"}),s.jsx(Ve,{value:"aprovada",children:"Aprovadas"}),s.jsx(Ve,{value:"em_progresso",children:"Em Progresso"}),s.jsx(Ve,{value:"concluida",children:"Concludas"}),s.jsx(Ve,{value:"transformada",children:"Transformadas"}),s.jsx(Ve,{value:"todas",children:"Todas"})]}),s.jsx(ct,{value:e,children:d?s.jsx("div",{children:"Carregando..."}):c&&c.length>0?s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:c.map(f=>{var g,x;return s.jsxs(M,{children:[s.jsxs($,{children:[s.jsx(U,{className:"text-lg",children:f.title}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:["Usurio: ",((g=f.user_info)==null?void 0:g.full_name)||f.user_id.substring(0,8)+"..."]})]}),s.jsxs(O,{className:"space-y-4",children:[s.jsxs("div",{className:"text-sm space-y-1",children:[s.jsxs("p",{children:[" Meta: ",f.target_value," ",f.unit]}),s.jsxs("p",{children:[" Dificuldade: ",f.difficulty]}),s.jsxs("p",{children:[" Pontos: ",f.estimated_points]}),f.status==="transformada"&&f.challenge_id&&s.jsxs("p",{className:"text-blue-600",children:[" Desafio: Criado (ID: ",f.challenge_id.substring(0,8),"...)"]}),((x=f.user_info)==null?void 0:x.full_name)&&s.jsxs("p",{children:[" Criado por: ",f.user_info.full_name]})]}),f.status==="pendente"&&s.jsxs("div",{className:"flex gap-2 flex-wrap",children:[s.jsxs(A,{size:"sm",onClick:()=>h(f,"aprovada"),children:[s.jsx(s6,{className:"w-4 h-4 mr-1"}),"Aprovar"]}),s.jsxs(A,{size:"sm",variant:"destructive",onClick:()=>h(f,"rejeitada"),children:[s.jsx(za,{className:"w-4 h-4 mr-1"}),"Rejeitar"]}),s.jsxs(A,{size:"sm",variant:"outline",onClick:()=>m.mutate(f),disabled:m.isPending,children:[s.jsx(HE,{className:"w-4 h-4 mr-1"}),"Virar Desafio"]})]}),(f.status==="aprovada"||f.status==="em_progresso")&&s.jsx("div",{className:"flex gap-2",children:s.jsxs(A,{size:"sm",variant:"outline",onClick:()=>m.mutate(f),disabled:m.isPending,children:[s.jsx(HE,{className:"w-4 h-4 mr-1"}),"Transformar em Desafio"]})}),f.status==="transformada"&&s.jsx(X,{variant:"secondary",className:"w-fit",children:" Transformada em desafio pblico"})]})]},f.id)})}):s.jsx("p",{children:"Nenhuma meta encontrada."})})]}),s.jsx(gt,{open:!!r,onOpenChange:()=>a(null),children:s.jsxs(vt,{children:[s.jsxs(yt,{children:[s.jsx(bt,{children:n.status==="aprovada"?"Aprovar Meta":"Rejeitar Meta"}),s.jsx(Zi,{children:n.status==="aprovada"?"Defina os pontos finais e comentrios para aprovar esta meta.":"Adicione comentrios sobre o motivo da rejeio desta meta."})]}),r&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"bg-muted/50 p-4 rounded-lg",children:[s.jsx("h3",{className:"font-semibold",children:r.title}),s.jsx("p",{className:"text-sm",children:r.description})]}),n.status==="aprovada"&&s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium",children:"Pontos Finais"}),s.jsx(re,{type:"number",value:n.points_awarded,onChange:f=>i({...n,points_awarded:parseInt(f.target.value)||0})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium",children:"Comentrios"}),s.jsx(Ke,{value:n.comments,onChange:f=>i({...n,comments:f.target.value}),placeholder:"Comentrios sobre a deciso..."})]}),s.jsxs("div",{className:"flex justify-end gap-3",children:[s.jsx(A,{variant:"outline",onClick:()=>a(null),children:"Cancelar"}),s.jsx(A,{onClick:()=>u.mutate({goalId:r.id,approval:n}),disabled:u.isPending,children:u.isPending?"Processando...":"Confirmar"})]})]})]})})]})}function TMe({open:e,onOpenChange:t}){const[r,a]=p.useState({title:"",description:"",target_value:0,unit:"",difficulty:"medio",estimated_points:10,user_id:""}),{toast:n}=Ee(),i=kl(),{data:o}=Sn({queryKey:["users-for-goals"],queryFn:async()=>{const{data:u,error:m}=await z.from("profiles").select("user_id, full_name, email").order("full_name");if(m)throw m;return u}}),l=bn({mutationFn:async u=>{console.log("Creating goal with data:",u);const{error:m}=await z.from("user_goals").insert({title:u.title,description:u.description,target_value:u.target_value,unit:u.unit,difficulty:u.difficulty,estimated_points:u.estimated_points,user_id:u.user_id,status:"pendente",current_value:0});if(m)throw console.error("Database error:",m),m;console.log("Goal created successfully")},onSuccess:()=>{i.invalidateQueries({queryKey:["admin-goals"]}),t(!1),c(),n({title:"Meta criada com sucesso!",description:"A meta foi criada e est pendente de aprovao."})},onError:u=>{console.error("Mutation error:",u),n({title:"Erro ao criar meta",description:u.message,variant:"destructive"})}}),c=()=>{a({title:"",description:"",target_value:0,unit:"",difficulty:"medio",estimated_points:10,user_id:""})},d=()=>{if(console.log("Form data:",r),!r.title||!r.user_id||!r.target_value){console.log("Validation failed:",{title:r.title,user_id:r.user_id,target_value:r.target_value}),n({title:"Campos obrigatrios",description:"Preencha ttulo, usurio e valor da meta.",variant:"destructive"});return}console.log("Submitting goal:",r),l.mutate(r)};return s.jsx(gt,{open:e,onOpenChange:t,children:s.jsxs(vt,{className:"max-w-lg","aria-describedby":"admin-create-goal-description",children:[s.jsxs(yt,{children:[s.jsxs(bt,{className:"flex items-center gap-2",children:[s.jsx(_e,{className:"w-5 h-5"}),"Nova Meta"]}),s.jsx("p",{id:"admin-create-goal-description",className:"sr-only",children:"Painel administrativo para criar metas para usurios especficos"})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(Y,{htmlFor:"user",children:"Usurio"}),s.jsxs(rt,{value:r.user_id,onValueChange:u=>a(m=>({...m,user_id:u})),children:[s.jsx(tt,{children:s.jsx(at,{placeholder:"Selecione um usurio"})}),s.jsx(st,{children:o==null?void 0:o.map(u=>s.jsx(he,{value:u.user_id,children:u.full_name||u.email},u.user_id))})]})]}),s.jsxs("div",{children:[s.jsx(Y,{htmlFor:"title",children:"Ttulo da Meta"}),s.jsx(re,{id:"title",value:r.title,onChange:u=>a(m=>({...m,title:u.target.value})),placeholder:"Ex: Perder 5kg em 2 meses"})]}),s.jsxs("div",{children:[s.jsx(Y,{htmlFor:"description",children:"Descrio"}),s.jsx(Ke,{id:"description",value:r.description,onChange:u=>a(m=>({...m,description:u.target.value})),placeholder:"Descreva a meta..."})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(Y,{htmlFor:"target_value",children:"Valor da Meta"}),s.jsx(re,{id:"target_value",type:"number",value:r.target_value,onChange:u=>a(m=>({...m,target_value:Number(u.target.value)})),placeholder:"5"})]}),s.jsxs("div",{children:[s.jsx(Y,{htmlFor:"unit",children:"Unidade"}),s.jsx(re,{id:"unit",value:r.unit,onChange:u=>a(m=>({...m,unit:u.target.value})),placeholder:"kg, dias, vezes..."})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(Y,{children:"Dificuldade"}),s.jsxs(rt,{value:r.difficulty,onValueChange:u=>a(m=>({...m,difficulty:u})),children:[s.jsx(tt,{children:s.jsx(at,{})}),s.jsxs(st,{children:[s.jsx(he,{value:"facil",children:"Fcil"}),s.jsx(he,{value:"medio",children:"Mdio"}),s.jsx(he,{value:"dificil",children:"Difcil"})]})]})]}),s.jsxs("div",{children:[s.jsx(Y,{htmlFor:"points",children:"Pontos Estimados"}),s.jsx(re,{id:"points",type:"number",value:r.estimated_points,onChange:u=>a(m=>({...m,estimated_points:Number(u.target.value)}))})]})]}),s.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[s.jsx(A,{variant:"outline",onClick:()=>t(!1),children:"Cancelar"}),s.jsx(A,{onClick:d,disabled:l.isPending,children:l.isPending?"Criando...":"Criar Meta"})]})]})]})})}function MMe({user:e}){const[t,r]=p.useState([]),[a,n]=p.useState([]),[i,o]=p.useState(0),[l,c]=p.useState(!1),[d,u]=p.useState(!0),[m,h]=p.useState(!1),[f,g]=p.useState(!1),[x,y]=p.useState(null),[v,b]=p.useState(""),[j,N]=p.useState("all"),[w,S]=p.useState("all"),[_,C]=p.useState({totalChallenges:0,activeChallenges:0,totalParticipations:0,completedParticipations:0}),{toast:E}=Ee(),[T,k]=p.useState({title:"",description:"",category:"exercicio",difficulty:"medio",duration_days:7,points_reward:100,badge_icon:"",badge_name:"",instructions:"",tips:[""],daily_log_type:"boolean",daily_log_target:1,daily_log_unit:"dia",is_featured:!1,is_group_challenge:!1,max_participants:void 0}),P=[{value:"exercicio",label:"Exerccio",icon:""},{value:"nutricao",label:"Nutrio",icon:""},{value:"hidratacao",label:"Hidratao",icon:""},{value:"sono",label:"Sono",icon:""},{value:"mindfulness",label:"Mindfulness",icon:""},{value:"jejum",label:"Jejum",icon:""},{value:"medicao",label:"Medio",icon:""}],D=[{value:"facil",label:"Fcil",color:"bg-green-100 text-green-800"},{value:"medio",label:"Mdio",color:"bg-yellow-100 text-yellow-800"},{value:"dificil",label:"Difcil",color:"bg-orange-100 text-orange-800"},{value:"extremo",label:"Extremo",color:"bg-red-100 text-red-800"}];p.useEffect(()=>{I()},[]);const I=async()=>{try{await Promise.all([W(),R(),V()])}catch(L){console.error("Error loading data:",L)}finally{u(!1)}},V=async()=>{try{const{count:L}=await z.from("user_goals").select("*",{count:"exact",head:!0}).eq("status","pendente");o(L||0)}catch(L){console.error("Error loading pending goals:",L)}},W=async()=>{try{const{data:L,error:q}=await z.from("challenges").select("*").order("created_at",{ascending:!1});if(q)throw console.error("Erro ao buscar desafios:",q),q;const te=(L==null?void 0:L.map(Pe=>({id:Pe.id,title:Pe.title,description:Pe.description,category:Pe.category||"exercicio",difficulty:Pe.difficulty||"medio",duration_days:Pe.duration_days||7,points_reward:Pe.xp_reward||100,badge_icon:le(Pe.category||"exercicio"),badge_name:Pe.title,instructions:Pe.description,tips:["Complete diariamente","Mantenha a consistncia"],daily_log_type:"boolean",daily_log_target:1,daily_log_unit:"dia",is_active:Pe.is_active??!0,is_featured:!1,is_group_challenge:!1,created_at:Pe.created_at,updated_at:Pe.updated_at||Pe.created_at})))||[];r(te);const ye=te.filter(Pe=>Pe.is_active).length;C(Pe=>({...Pe,totalChallenges:te.length,activeChallenges:ye}))}catch(L){console.error("Erro ao carregar desafios:",L),E({title:"Erro",description:"No foi possvel carregar os desafios",variant:"destructive"})}},R=async()=>{try{n([]),C(q=>({...q,totalParticipations:0,completedParticipations:0}))}catch(L){console.error("Erro ao carregar participaes:",L)}},F=async()=>{try{const{data:L,error:q}=await z.from("challenges").insert([{title:T.title,description:T.description,category:T.category,difficulty:T.difficulty,duration_days:T.duration_days,xp_reward:T.points_reward,is_active:!0}]).select().single();if(q)throw q;E({title:"Desafio Criado! ",description:`"${T.title}" foi criado com sucesso`}),h(!1),K(),W()}catch(L){console.error("Error creating challenge:",L),E({title:"Erro",description:"No foi possvel criar o desafio",variant:"destructive"})}},H=async()=>{if(x)try{E({title:"Desafio Atualizado! ",description:"Funcionalidade ser implementada em breve"}),g(!1),y(null),K()}catch(L){console.error("Error updating challenge:",L),E({title:"Erro",description:"No foi possvel atualizar o desafio",variant:"destructive"})}},Z=async(L,q)=>{try{E({title:q?"Desafio Desativado":"Desafio Ativado",description:"Funcionalidade ser implementada em breve"})}catch(te){console.error("Error toggling challenge:",te)}},B=async L=>{try{E({title:"Desafio Excludo",description:"Funcionalidade ser implementada em breve"})}catch(q){console.error("Error deleting challenge:",q)}},K=()=>{k({title:"",description:"",category:"exercicio",difficulty:"medio",duration_days:7,points_reward:100,badge_icon:"",badge_name:"",instructions:"",tips:[""],daily_log_type:"boolean",daily_log_target:1,daily_log_unit:"dia",is_featured:!1,is_group_challenge:!1,max_participants:void 0})},Q=L=>{y(L),k({title:L.title,description:L.description,category:L.category,difficulty:L.difficulty,duration_days:L.duration_days,points_reward:L.points_reward,badge_icon:L.badge_icon,badge_name:L.badge_name,instructions:L.instructions,tips:L.tips.length>0?L.tips:[""],daily_log_type:L.daily_log_type,daily_log_target:L.daily_log_target,daily_log_unit:L.daily_log_unit,is_featured:L.is_featured,is_group_challenge:L.is_group_challenge,max_participants:L.max_participants}),g(!0)},ie=()=>{k(L=>({...L,tips:[...L.tips,""]}))},oe=L=>{k(q=>({...q,tips:q.tips.filter((te,ye)=>ye!==L)}))},je=(L,q)=>{k(te=>({...te,tips:te.tips.map((ye,Pe)=>Pe===L?q:ye)}))},le=L=>{var q;return((q=P.find(te=>te.value===L))==null?void 0:q.icon)||""},Oe=L=>{var q;return((q=D.find(te=>te.value===L))==null?void 0:q.color)||"bg-gray-100 text-gray-800"},ae=t.filter(L=>{const q=L.title.toLowerCase().includes(v.toLowerCase())||L.description.toLowerCase().includes(v.toLowerCase()),te=j==="all"||L.category===j,ye=w==="all"||w==="active"&&L.is_active||w==="inactive"&&!L.is_active;return q&&te&&ye}),ue=L=>s.jsxs(vt,{className:"max-w-2xl max-h-[80vh] overflow-y-auto",children:[s.jsx(yt,{children:s.jsxs(bt,{children:[L?"Editar":"Criar"," Desafio"]})}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(Y,{htmlFor:"title",children:"Ttulo"}),s.jsx(re,{id:"title",value:T.title,onChange:q=>k(te=>({...te,title:q.target.value})),placeholder:"Ex: 10.000 passos por dia"})]}),s.jsxs("div",{children:[s.jsx(Y,{htmlFor:"badge_name",children:"Nome do Badge"}),s.jsx(re,{id:"badge_name",value:T.badge_name,onChange:q=>k(te=>({...te,badge_name:q.target.value})),placeholder:"Ex: Caminhante Dedicado"})]})]}),s.jsxs("div",{children:[s.jsx(Y,{htmlFor:"description",children:"Descrio"}),s.jsx(Ke,{id:"description",value:T.description,onChange:q=>k(te=>({...te,description:q.target.value})),placeholder:"Descreva o desafio..."})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx(Y,{children:"Categoria"}),s.jsxs(rt,{value:T.category,onValueChange:q=>k(te=>({...te,category:q})),children:[s.jsx(tt,{children:s.jsx(at,{})}),s.jsx(st,{children:P.map(q=>s.jsxs(he,{value:q.value,children:[q.icon," ",q.label]},q.value))})]})]}),s.jsxs("div",{children:[s.jsx(Y,{children:"Dificuldade"}),s.jsxs(rt,{value:T.difficulty,onValueChange:q=>k(te=>({...te,difficulty:q})),children:[s.jsx(tt,{children:s.jsx(at,{})}),s.jsx(st,{children:D.map(q=>s.jsx(he,{value:q.value,children:q.label},q.value))})]})]}),s.jsxs("div",{children:[s.jsx(Y,{htmlFor:"badge_icon",children:"Emoji do Badge"}),s.jsx(re,{id:"badge_icon",value:T.badge_icon,onChange:q=>k(te=>({...te,badge_icon:q.target.value})),placeholder:""})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(Y,{htmlFor:"duration",children:"Durao (dias)"}),s.jsx(re,{id:"duration",type:"number",value:T.duration_days,onChange:q=>k(te=>({...te,duration_days:parseInt(q.target.value)}))})]}),s.jsxs("div",{children:[s.jsx(Y,{htmlFor:"points",children:"Pontos de Recompensa"}),s.jsx(re,{id:"points",type:"number",value:T.points_reward,onChange:q=>k(te=>({...te,points_reward:parseInt(q.target.value)}))})]})]}),s.jsxs("div",{children:[s.jsx(Y,{htmlFor:"instructions",children:"Instrues"}),s.jsx(Ke,{id:"instructions",value:T.instructions,onChange:q=>k(te=>({...te,instructions:q.target.value})),placeholder:"Como completar o desafio..."})]}),s.jsxs("div",{children:[s.jsx(Y,{children:"Dicas"}),T.tips.map((q,te)=>s.jsxs("div",{className:"flex gap-2 mt-2",children:[s.jsx(re,{value:q,onChange:ye=>je(te,ye.target.value),placeholder:"Digite uma dica..."}),s.jsx(A,{type:"button",variant:"outline",size:"sm",onClick:()=>oe(te),disabled:T.tips.length<=1,children:s.jsx(fl,{className:"w-4 h-4"})})]},te)),s.jsxs(A,{type:"button",variant:"outline",size:"sm",onClick:ie,className:"mt-2",children:[s.jsx(_s,{className:"w-4 h-4 mr-1"}),"Adicionar Dica"]})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx(Y,{children:"Tipo de Log"}),s.jsxs(rt,{value:T.daily_log_type,onValueChange:q=>k(te=>({...te,daily_log_type:q})),children:[s.jsx(tt,{children:s.jsx(at,{})}),s.jsxs(st,{children:[s.jsx(he,{value:"boolean",children:"Sim/No"}),s.jsx(he,{value:"quantity",children:"Quantidade"})]})]})]}),s.jsxs("div",{children:[s.jsx(Y,{htmlFor:"target",children:"Meta Diria"}),s.jsx(re,{id:"target",type:"number",value:T.daily_log_target,onChange:q=>k(te=>({...te,daily_log_target:parseFloat(q.target.value)}))})]}),s.jsxs("div",{children:[s.jsx(Y,{htmlFor:"unit",children:"Unidade"}),s.jsx(re,{id:"unit",value:T.daily_log_unit,onChange:q=>k(te=>({...te,daily_log_unit:q.target.value})),placeholder:"ex: passos, litros, horas"})]})]}),s.jsxs("div",{className:"flex gap-4",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(ha,{id:"featured",checked:T.is_featured,onCheckedChange:q=>k(te=>({...te,is_featured:q}))}),s.jsx(Y,{htmlFor:"featured",children:"Destacado"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(ha,{id:"group",checked:T.is_group_challenge,onCheckedChange:q=>k(te=>({...te,is_group_challenge:q}))}),s.jsx(Y,{htmlFor:"group",children:"Desafio em Grupo"})]})]}),T.is_group_challenge&&s.jsxs("div",{children:[s.jsx(Y,{htmlFor:"max_participants",children:"Mximo de Participantes"}),s.jsx(re,{id:"max_participants",type:"number",value:T.max_participants||"",onChange:q=>k(te=>({...te,max_participants:q.target.value?parseInt(q.target.value):void 0})),placeholder:"Deixe vazio para ilimitado"})]}),s.jsxs(A,{onClick:L?H:F,className:"w-full",children:[L?"Atualizar":"Criar"," Desafio"]})]})]});return d?s.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"Carregando gesto de desafios..."})]})}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold",children:"Gesto de Metas e Desafios"}),s.jsx("p",{className:"text-muted-foreground",children:"Crie e gerencie metas e desafios de sade para os usurios"})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs(A,{variant:"outline",onClick:()=>c(!0),children:[s.jsx(_e,{className:"w-4 h-4 mr-2"}),"Nova Meta"]}),s.jsxs(gt,{open:m,onOpenChange:h,children:[s.jsx(ir,{asChild:!0,children:s.jsxs(A,{children:[s.jsx(_s,{className:"w-4 h-4 mr-2"}),"Novo Desafio"]})}),ue(!1)]})]})]}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[s.jsx(M,{children:s.jsxs(O,{className:"p-4 text-center",children:[s.jsx("div",{className:"text-2xl font-bold text-blue-600",children:_.totalChallenges}),s.jsx("div",{className:"text-sm text-muted-foreground",children:"Total de Desafios"})]})}),s.jsx(M,{children:s.jsxs(O,{className:"p-4 text-center",children:[s.jsx("div",{className:"text-2xl font-bold text-green-600",children:_.activeChallenges}),s.jsx("div",{className:"text-sm text-muted-foreground",children:"Desafios Ativos"})]})}),s.jsx(M,{children:s.jsxs(O,{className:"p-4 text-center",children:[s.jsx("div",{className:"text-2xl font-bold text-orange-600",children:_.totalParticipations}),s.jsx("div",{className:"text-sm text-muted-foreground",children:"Participaes"})]})}),s.jsx(M,{children:s.jsxs(O,{className:"p-4 text-center",children:[s.jsx("div",{className:"text-2xl font-bold text-purple-600",children:_.completedParticipations}),s.jsx("div",{className:"text-sm text-muted-foreground",children:"Completados"})]})})]})]}),s.jsxs(ga,{defaultValue:"challenges",className:"space-y-4",children:[s.jsxs(Gr,{children:[s.jsx(Ve,{value:"challenges",children:"Desafios"}),s.jsxs(Ve,{value:"goals",className:"relative",children:["Metas",i>0&&s.jsx("span",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full w-4 h-4 flex items-center justify-center",children:i})]}),s.jsx(Ve,{value:"participations",children:"Participaes"})]}),s.jsxs(ct,{value:"challenges",className:"space-y-4",children:[s.jsxs("div",{className:"flex gap-4",children:[s.jsx("div",{className:"flex-1",children:s.jsx(re,{placeholder:"Buscar desafios...",value:v,onChange:L=>b(L.target.value),className:"max-w-sm"})}),s.jsxs(rt,{value:j,onValueChange:N,children:[s.jsx(tt,{className:"w-48",children:s.jsx(at,{placeholder:"Categoria"})}),s.jsxs(st,{children:[s.jsx(he,{value:"all",children:"Todas as categorias"}),P.map(L=>s.jsxs(he,{value:L.value,children:[L.icon," ",L.label]},L.value))]})]}),s.jsxs(rt,{value:w,onValueChange:S,children:[s.jsx(tt,{className:"w-48",children:s.jsx(at,{placeholder:"Status"})}),s.jsxs(st,{children:[s.jsx(he,{value:"all",children:"Todos os status"}),s.jsx(he,{value:"active",children:"Ativos"}),s.jsx(he,{value:"inactive",children:"Inativos"})]})]})]}),s.jsx("div",{className:"grid gap-4",children:ae.map(L=>s.jsxs(M,{className:"transition-all hover:shadow-md",children:[s.jsx($,{children:s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsxs("div",{className:"flex items-start gap-3 flex-1",children:[s.jsx("div",{className:"text-3xl",children:L.badge_icon}),s.jsxs("div",{className:"flex-1",children:[s.jsx(U,{className:"text-xl",children:L.title}),s.jsx("p",{className:"text-muted-foreground text-sm mt-1",children:L.description}),s.jsxs("div",{className:"flex flex-wrap gap-2 mt-2",children:[s.jsxs(X,{variant:"outline",children:[le(L.category)," ",L.category]}),s.jsx(X,{className:Oe(L.difficulty),children:L.difficulty}),s.jsxs(X,{variant:"outline",children:[s.jsx(Vt,{className:"w-3 h-3 mr-1"}),L.duration_days," dias"]}),s.jsxs(X,{variant:"outline",children:[s.jsx(Be,{className:"w-3 h-3 mr-1"}),L.points_reward," pts"]})]})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[L.is_active?s.jsxs(X,{className:"bg-green-50 text-green-700",children:[s.jsx(Se,{className:"w-3 h-3 mr-1"}),"Ativo"]}):s.jsx(X,{variant:"secondary",children:"Inativo"}),L.is_featured&&s.jsx(X,{className:"bg-yellow-50 text-yellow-700",children:"Destacado"})]})]})}),s.jsx(O,{children:s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{className:"text-sm text-muted-foreground",children:["Criado em ",new Date(L.created_at).toLocaleDateString()]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(A,{variant:"outline",size:"sm",onClick:()=>Q(L),children:[s.jsx(hl,{className:"w-4 h-4 mr-1"}),"Editar"]}),s.jsx(A,{variant:"outline",size:"sm",onClick:()=>Z(L.id,L.is_active),children:L.is_active?"Desativar":"Ativar"}),s.jsx(A,{variant:"outline",size:"sm",onClick:()=>B(L.id),children:s.jsx(fl,{className:"w-4 h-4"})})]})]})})]},L.id))})]}),s.jsx(ct,{value:"goals",className:"space-y-4",children:s.jsx(AMe,{})}),s.jsx(ct,{value:"participations",className:"space-y-4",children:s.jsx("div",{className:"grid gap-4",children:a.map(L=>{var q;return s.jsxs(M,{children:[s.jsx($,{children:s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx(U,{className:"text-lg",children:(q=L.challenges)==null?void 0:q.title}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:["Usurio: ",L.user_id]})]}),s.jsx(X,{className:L.is_completed?"bg-green-50 text-green-700":"bg-blue-50 text-blue-700",children:L.is_completed?"Completo":"Em progresso"})]})}),s.jsx(O,{children:s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{children:"Progresso:"}),s.jsxs("span",{children:[L.progress,"%"]})]}),s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:s.jsx("div",{className:"bg-primary h-2 rounded-full transition-all",style:{width:`${L.progress}%`}})}),s.jsxs("div",{className:"flex justify-between text-xs text-muted-foreground",children:[s.jsxs("span",{children:["Iniciado: ",new Date(L.started_at).toLocaleDateString()]}),s.jsxs("span",{children:["Sequncia: ",L.current_streak," dias"]}),L.completed_at&&s.jsxs("span",{children:["Completo: ",new Date(L.completed_at).toLocaleDateString()]})]})]})})]},L.id)})})})]}),s.jsx(gt,{open:f,onOpenChange:g,children:ue(!0)}),s.jsx(TMe,{open:l,onOpenChange:c})]})}const OMe=()=>{const[e,t]=p.useState([]),[r,a]=p.useState(!0),[n,i]=p.useState(!1),[o,l]=p.useState(null),[c,d]=p.useState({name:"",webhook_url:"",event_types:["weekly_whatsapp_report"]}),[u,m]=p.useState(!1),{toast:h}=Ee();p.useEffect(()=>{f()},[]);const f=async()=>{try{t([]||[])}catch(b){console.error("Erro ao buscar webhooks:",b),h({title:"Erro",description:"No foi possvel carregar os webhooks",variant:"destructive"})}finally{a(!1)}},g=async()=>{if(!c.name||!c.webhook_url){h({title:"Erro",description:"Nome e URL do webhook so obrigatrios",variant:"destructive"});return}i(!0);try{const{data:{user:b}}=await z.auth.getUser();if(!b)throw new Error("Usurio no autenticado");const j=null;h({title:"Sucesso",description:"Webhook configurado com sucesso!"}),d({name:"",webhook_url:"",event_types:["weekly_whatsapp_report"]}),m(!1),f()}catch(b){console.error("Erro ao salvar webhook:",b),h({title:"Erro",description:"No foi possvel salvar o webhook",variant:"destructive"})}finally{i(!1)}},x=async(b,j)=>{try{t(w=>w.map(S=>S.id===b?{...S,is_active:j}:S)),h({title:"Sucesso",description:`Webhook ${j?"ativado":"desativado"} com sucesso`})}catch(N){console.error("Erro ao atualizar webhook:",N),h({title:"Erro",description:"No foi possvel atualizar o webhook",variant:"destructive"})}},y=async b=>{try{t(N=>N.filter(w=>w.id!==b)),h({title:"Sucesso",description:"Webhook removido com sucesso"})}catch(j){console.error("Erro ao deletar webhook:",j),h({title:"Erro",description:"No foi possvel remover o webhook",variant:"destructive"})}},v=async(b,j)=>{var N;l(j);try{const{data:w,error:S}=await z.functions.invoke("n8n-weekly-whatsapp-report");if(S)throw S;if((await fetch(b,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({test:!0,timestamp:new Date().toISOString(),message:` Teste de webhook do Dr. Vita

Este  um teste de conexo com seu fluxo n8n para relatrios semanais do WhatsApp.`,reports_generated:((N=w==null?void 0:w.reports)==null?void 0:N.length)||0})})).ok)h({title:"Teste realizado",description:"Webhook testado com sucesso! Verifique seu fluxo n8n."});else throw new Error("Erro na resposta do webhook")}catch(w){console.error("Erro ao testar webhook:",w),h({title:"Erro no teste",description:"No foi possvel testar o webhook. Verifique a URL.",variant:"destructive"})}finally{l(null)}};return r?s.jsx("div",{className:"flex items-center justify-center p-8",children:s.jsx(eu,{className:"h-8 w-8 animate-spin"})}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-3xl font-bold",children:"Automao n8n"}),s.jsx("p",{className:"text-muted-foreground",children:"Configure webhooks para envio automtico de relatrios por WhatsApp"})]}),s.jsxs(A,{onClick:()=>m(!0),disabled:u,children:[s.jsx(_s,{className:"h-4 w-4 mr-2"}),"Novo Webhook"]})]}),u&&s.jsxs(M,{children:[s.jsxs($,{children:[s.jsx(U,{children:"Configurar Novo Webhook n8n"}),s.jsx(qt,{children:"Adicione um webhook do n8n para receber dados dos relatrios semanais"})]}),s.jsxs(O,{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(Y,{htmlFor:"name",children:"Nome do Webhook"}),s.jsx(re,{id:"name",placeholder:"Ex: Relatrio WhatsApp Semanal",value:c.name,onChange:b=>d(j=>({...j,name:b.target.value}))})]}),s.jsxs("div",{children:[s.jsx(Y,{htmlFor:"webhook_url",children:"URL do Webhook n8n"}),s.jsx(re,{id:"webhook_url",placeholder:"https://n8n.exemplo.com/webhook/...",value:c.webhook_url,onChange:b=>d(j=>({...j,webhook_url:b.target.value}))})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(A,{onClick:g,disabled:n,children:[n&&s.jsx(eu,{className:"h-4 w-4 mr-2 animate-spin"}),"Salvar Webhook"]}),s.jsx(A,{variant:"outline",onClick:()=>m(!1),children:"Cancelar"})]})]})]}),s.jsxs("div",{className:"grid gap-4",children:[e.map(b=>s.jsxs(M,{children:[s.jsx($,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs(U,{className:"flex items-center gap-2",children:[s.jsx(Hs,{className:"h-5 w-5"}),b.name]}),s.jsx(qt,{className:"break-all",children:b.webhook_url})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(X,{variant:b.is_active?"default":"secondary",children:b.is_active?"Ativo":"Inativo"}),s.jsx(ha,{checked:b.is_active,onCheckedChange:j=>x(b.id,j)})]})]})}),s.jsx(O,{children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(Y,{children:"Eventos Configurados"}),s.jsx("div",{className:"flex gap-2 mt-1",children:b.event_types.map(j=>s.jsx(X,{variant:"outline",children:j},j))})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(A,{variant:"outline",size:"sm",onClick:()=>v(b.webhook_url,b.id),disabled:o===b.id,children:[o===b.id?s.jsx(eu,{className:"h-4 w-4 mr-2 animate-spin"}):s.jsx(hn,{className:"h-4 w-4 mr-2"}),"Testar Webhook"]}),s.jsxs(A,{variant:"destructive",size:"sm",onClick:()=>y(b.id),children:[s.jsx(fl,{className:"h-4 w-4 mr-2"}),"Remover"]})]})]})})]},b.id)),e.length===0&&s.jsx(M,{children:s.jsxs(O,{className:"text-center py-8",children:[s.jsx(Hs,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground"}),s.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Nenhum webhook configurado"}),s.jsx("p",{className:"text-muted-foreground mb-4",children:"Configure um webhook n8n para comear a receber relatrios automatizados"}),s.jsxs(A,{onClick:()=>m(!0),children:[s.jsx(_s,{className:"h-4 w-4 mr-2"}),"Configurar Primeiro Webhook"]})]})})]}),s.jsxs(M,{children:[s.jsx($,{children:s.jsx(U,{children:"Como Configurar no n8n"})}),s.jsx(O,{children:s.jsxs("ol",{className:"list-decimal list-inside space-y-2 text-sm",children:[s.jsx("li",{children:"Crie um novo workflow no n8n"}),s.jsx("li",{children:'Adicione um n "Webhook" como trigger'}),s.jsx("li",{children:"Configure o webhook para aceitar requisies POST"}),s.jsx("li",{children:"Copie a URL gerada pelo n8n e cole acima"}),s.jsx("li",{children:"Adicione ns para processar os dados e enviar pelo WhatsApp"}),s.jsx("li",{children:"Use as APIs do WhatsApp Business ou servios como Twilio"}),s.jsx("li",{children:"Configure o agendamento para execuo semanal"})]})})]})]})},ww={openai:[{id:"gpt-4.1-2025-04-14",name:"GPT-4.1",cost:.03},{id:"o3-2025-04-16",name:"o3-PRO",cost:.06},{id:"gpt-4.1-mini-2025-04-14",name:"GPT-4.1 Mini",cost:.015}],gemini:[{id:"gemini-1.5-flash",name:"Gemini 1.5 Flash",cost:.02},{id:"gemini-1.5-pro",name:"Gemini 1.5 Pro",cost:.035}]},DMe={chat_daily:{name:"Chat Dirio",icon:"",description:"Conversas com a Sofia"},weekly_report:{name:"Relatrio Semanal",icon:"",description:"Anlise semanal de progresso"},monthly_report:{name:"Relatrio Mensal",icon:"",description:"Relatrio mensal detalhado"},medical_analysis:{name:"Anlise Mdica",icon:"",description:"Anlise de exames mdicos"},preventive_analysis:{name:"Anlise Preventiva",icon:"",description:"Anlise preventiva de sade"}};function RMe({config:e,onUpdate:t,onReset:r,estimatedCost:a}){var f;const[n,i]=p.useState(!1),[o,l]=p.useState(e),{toast:c}=Ee(),d=DMe[e.functionality],u=async g=>{i(!0);try{const x={...o,...g};l(x),await t(g),c({title:" Configurao Atualizada",description:`${d==null?void 0:d.name} foi configurado com sucesso`})}catch{c({title:" Erro",description:"Falha ao atualizar configurao",variant:"destructive"})}finally{i(!1)}},m=()=>{var x;const g=(x=ww[o.service])==null?void 0:x.find(y=>y.id===o.model);return g?o.max_tokens/1e3*g.cost:0},h=g=>{switch(g.toLowerCase()){case"minimo":return"bg-green-100 text-green-800 border-green-200";case"medio":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"maximo":return"bg-red-100 text-red-800 border-red-200";default:return"bg-purple-100 text-purple-800 border-purple-200"}};return s.jsxs(M,{className:`relative transition-all duration-200 ${o.is_enabled?"border-primary/50 shadow-sm":"border-muted opacity-60"}`,children:[s.jsx($,{className:"pb-3",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-2xl",children:d==null?void 0:d.icon}),s.jsxs("div",{children:[s.jsx(U,{className:"text-lg",children:d==null?void 0:d.name}),s.jsx("p",{className:"text-sm text-muted-foreground",children:d==null?void 0:d.description})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(X,{className:h(o.preset_level),children:o.preset_level.toUpperCase()}),s.jsx(ha,{checked:o.is_enabled,onCheckedChange:g=>u({is_enabled:g}),disabled:n})]})]})}),s.jsxs(O,{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Y,{children:"Provedor"}),s.jsxs(rt,{value:o.service,onValueChange:g=>{var y,v;const x=((v=(y=ww[g])==null?void 0:y[0])==null?void 0:v.id)||"";u({service:g,model:x})},disabled:n||!o.is_enabled,children:[s.jsx(tt,{className:"h-9",children:s.jsx(at,{})}),s.jsxs(st,{children:[s.jsx(he,{value:"openai",children:"OpenAI"}),s.jsx(he,{value:"gemini",children:"Google Gemini"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Y,{children:"Modelo"}),s.jsxs(rt,{value:o.model,onValueChange:g=>u({model:g}),disabled:n||!o.is_enabled,children:[s.jsx(tt,{className:"h-9",children:s.jsx(at,{})}),s.jsx(st,{children:(f=ww[o.service])==null?void 0:f.map(g=>s.jsx(he,{value:g.id,children:s.jsxs("div",{className:"flex items-center justify-between w-full",children:[s.jsx("span",{children:g.name}),s.jsxs("span",{className:"text-xs text-muted-foreground ml-2",children:["$",g.cost,"/1k"]})]})},g.id))})]})]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(Y,{children:"Tokens Mximos"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(X,{variant:"outline",children:o.max_tokens.toLocaleString()}),s.jsxs(X,{variant:"outline",className:"text-xs",children:[s.jsx(E0,{className:"w-3 h-3 mr-1"}),"$",m().toFixed(4)]})]})]}),s.jsx(Wu,{value:[o.max_tokens],onValueChange:([g])=>u({max_tokens:g}),min:512,max:8192,step:256,disabled:n||!o.is_enabled,className:"w-full"}),s.jsxs("div",{className:"flex justify-between text-xs text-muted-foreground",children:[s.jsx("span",{children:"512"}),s.jsx("span",{children:"2K"}),s.jsx("span",{children:"4K"}),s.jsx("span",{children:"8K"})]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(Y,{children:"Criatividade (Temperature)"}),s.jsx(X,{variant:"outline",children:o.temperature})]}),s.jsx(Wu,{value:[o.temperature],onValueChange:([g])=>u({temperature:Number(g.toFixed(1))}),min:.1,max:1,step:.1,disabled:n||!o.is_enabled,className:"w-full"}),s.jsxs("div",{className:"flex justify-between text-xs text-muted-foreground",children:[s.jsx("span",{children:"Preciso"}),s.jsx("span",{children:"Equilibrado"}),s.jsx("span",{children:"Criativo"})]})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-2 pt-2 border-t",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-xs text-muted-foreground",children:"Velocidade"}),s.jsx("div",{className:"flex justify-center",children:o.max_tokens<=2048?s.jsx(Ye,{className:"w-4 h-4 text-green-500"}):o.max_tokens<=4096?s.jsx(Ye,{className:"w-4 h-4 text-yellow-500"}):s.jsx(Ye,{className:"w-4 h-4 text-red-500"})})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-xs text-muted-foreground",children:"Custo/Uso"}),s.jsxs("div",{className:"text-xs font-medium",children:["$",m().toFixed(4)]})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-xs text-muted-foreground",children:"Qualidade"}),s.jsx("div",{className:"flex justify-center",children:o.max_tokens>=4096?s.jsx(X,{className:"w-3 h-3 rounded-full bg-green-500"}):o.max_tokens>=2048?s.jsx(X,{className:"w-3 h-3 rounded-full bg-yellow-500"}):s.jsx(X,{className:"w-3 h-3 rounded-full bg-red-500"})})]})]}),s.jsxs("div",{className:"flex gap-2 pt-2",children:[s.jsxs(A,{variant:"outline",size:"sm",onClick:r,disabled:n,className:"flex-1",children:[s.jsx(JS,{className:"w-4 h-4 mr-1"}),"Reset"]}),s.jsxs(A,{variant:"outline",size:"sm",disabled:n||!o.is_enabled,className:"flex-1",children:[s.jsx(Hs,{className:"w-4 h-4 mr-1"}),"Avanado"]})]})]})]})}function IMe({currentConfigs:e,onApplyTemplate:t,templates:r,onSaveTemplate:a,onDeleteTemplate:n,onToggleFavorite:i}){const[o,l]=p.useState(!1),[c,d]=p.useState({name:"",description:"",is_favorite:!1}),{toast:u}=Ee(),m=()=>{if(!c.name.trim()){u({title:" Nome Obrigatrio",description:"Por favor, insira um nome para o template",variant:"destructive"});return}a({name:c.name.trim(),description:c.description.trim(),configurations:e,is_favorite:c.is_favorite}),d({name:"",description:"",is_favorite:!1}),l(!1),u({title:" Template Salvo",description:`Template "${c.name}" foi salvo com sucesso`})},h=b=>{t(b),u({title:" Template Aplicado",description:`Configuraes do template "${b.name}" foram aplicadas`})},f=b=>{const j=JSON.stringify(b,null,2),N=new Blob([j],{type:"application/json"}),w=URL.createObjectURL(N),S=document.createElement("a");S.href=w,S.download=`ai-template-${b.name.toLowerCase().replace(/\s+/g,"-")}.json`,S.click(),URL.revokeObjectURL(w)},g=b=>{var w;const j=(w=b.target.files)==null?void 0:w[0];if(!j)return;const N=new FileReader;N.onload=S=>{var _;try{const C=JSON.parse((_=S.target)==null?void 0:_.result);a({name:`${C.name} (Importado)`,description:C.description||"",configurations:C.configurations,is_favorite:!1}),u({title:" Template Importado",description:`Template "${C.name}" foi importado com sucesso`})}catch{u({title:" Erro na Importao",description:"Arquivo de template invlido",variant:"destructive"})}},N.readAsText(j)},x=[{id:"preset-minimal",name:"Configurao Econmica",description:"Configurao bsica com baixo custo",configurations:{default_tokens:1024,default_temperature:.5,default_service:"gemini",default_model:"gemini-1.5-flash"},is_favorite:!1,created_at:new Date().toISOString(),usage_count:0},{id:"preset-balanced",name:"Configurao Equilibrada",description:"Equilbrio entre qualidade e custo",configurations:{default_tokens:4096,default_temperature:.7,default_service:"openai",default_model:"gpt-4.1-2025-04-14"},is_favorite:!0,created_at:new Date().toISOString(),usage_count:0},{id:"preset-premium",name:"Configurao Premium",description:"Mxima qualidade e inteligncia",configurations:{default_tokens:8192,default_temperature:.8,default_service:"openai",default_model:"o3-2025-04-16"},is_favorite:!1,created_at:new Date().toISOString(),usage_count:0}],y=[...x,...r],v=y.filter(b=>b.is_favorite);return s.jsxs(M,{children:[s.jsx($,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs(U,{className:"flex items-center gap-2",children:[s.jsx(kt,{className:"w-5 h-5 text-yellow-500"}),"Templates de Configurao"]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("input",{type:"file",accept:".json",onChange:g,className:"hidden",id:"import-template"}),s.jsxs(A,{variant:"outline",size:"sm",onClick:()=>{var b;return(b=document.getElementById("import-template"))==null?void 0:b.click()},children:[s.jsx(Xg,{className:"w-4 h-4 mr-1"}),"Importar"]}),s.jsxs(gt,{open:o,onOpenChange:l,children:[s.jsx(ir,{asChild:!0,children:s.jsxs(A,{size:"sm",children:[s.jsx(_s,{className:"w-4 h-4 mr-1"}),"Novo Template"]})}),s.jsxs(vt,{children:[s.jsx(yt,{children:s.jsx(bt,{children:"Criar Novo Template"})}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Y,{children:"Nome do Template"}),s.jsx(re,{value:c.name,onChange:b=>d(j=>({...j,name:b.target.value})),placeholder:"Ex: Configurao para Relatrios"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Y,{children:"Descrio"}),s.jsx(Ke,{value:c.description,onChange:b=>d(j=>({...j,description:b.target.value})),placeholder:"Descreva quando usar este template...",rows:3})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("input",{type:"checkbox",id:"is-favorite",checked:c.is_favorite,onChange:b=>d(j=>({...j,is_favorite:b.target.checked}))}),s.jsx(Y,{htmlFor:"is-favorite",children:"Marcar como favorito"})]}),s.jsxs("div",{className:"flex gap-2 pt-4",children:[s.jsxs(A,{onClick:m,className:"flex-1",children:[s.jsx(ia,{className:"w-4 h-4 mr-1"}),"Salvar Template"]}),s.jsx(A,{variant:"outline",onClick:()=>l(!1),className:"flex-1",children:"Cancelar"})]})]})]})]})]})]})}),s.jsxs(O,{className:"space-y-4",children:[v.length>0&&s.jsxs("div",{className:"space-y-2",children:[s.jsx("h4",{className:"font-medium text-sm text-muted-foreground",children:" Favoritos"}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:v.map(b=>s.jsx(i5,{template:b,onApply:()=>h(b),onExport:()=>f(b),onDelete:()=>n(b.id),onToggleFavorite:()=>i(b.id),isPredefined:x.some(j=>j.id===b.id)},b.id))})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("h4",{className:"font-medium text-sm text-muted-foreground",children:" Todos os Templates"}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-2",children:y.map(b=>s.jsx(i5,{template:b,onApply:()=>h(b),onExport:()=>f(b),onDelete:()=>n(b.id),onToggleFavorite:()=>i(b.id),isPredefined:x.some(j=>j.id===b.id)},b.id))})]}),y.length===0&&s.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[s.jsx(kt,{className:"w-12 h-12 mx-auto mb-2 opacity-50"}),s.jsx("p",{children:"Nenhum template salvo ainda."}),s.jsx("p",{className:"text-sm",children:"Crie seu primeiro template com as configuraes atuais!"})]})]})]})}function i5({template:e,onApply:t,onExport:r,onDelete:a,onToggleFavorite:n,isPredefined:i}){return s.jsx(M,{className:"transition-all duration-200 hover:shadow-md",children:s.jsxs(O,{className:"p-3",children:[s.jsxs("div",{className:"flex items-start justify-between mb-2",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("h5",{className:"font-medium text-sm",children:e.name}),i&&s.jsx(X,{variant:"secondary",className:"text-xs",children:"Padro"})]}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1 line-clamp-2",children:e.description})]}),s.jsx(A,{variant:"ghost",size:"sm",onClick:n,className:"p-1 h-auto",children:e.is_favorite?s.jsx(kt,{className:"w-4 h-4 text-yellow-500 fill-current"}):s.jsx(nee,{className:"w-4 h-4 text-muted-foreground"})})]}),s.jsxs("div",{className:"flex gap-1 flex-wrap",children:[s.jsxs(A,{variant:"outline",size:"sm",onClick:t,className:"flex-1 text-xs h-7",children:[s.jsx(XZ,{className:"w-3 h-3 mr-1"}),"Aplicar"]}),s.jsx(A,{variant:"outline",size:"sm",onClick:r,className:"text-xs h-7 px-2",children:s.jsx(Zf,{className:"w-3 h-3"})}),!i&&s.jsx(A,{variant:"outline",size:"sm",onClick:a,className:"text-xs h-7 px-2 text-red-600 hover:text-red-700",children:s.jsx(fl,{className:"w-3 h-3"})})]}),e.usage_count>0&&s.jsxs("div",{className:"text-xs text-muted-foreground mt-2",children:["Usado ",e.usage_count,"x"]})]})})}function FMe(){const[e,t]=p.useState([]),[r,a]=p.useState(!1);p.useEffect(()=>{const u=localStorage.getItem("ai-templates");if(u)try{t(JSON.parse(u))}catch(m){console.error("Error loading templates:",m)}},[]);const n=u=>{t(u),localStorage.setItem("ai-templates",JSON.stringify(u))};return{templates:e,isLoading:r,saveTemplate:u=>{const m={...u,id:`template-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,created_at:new Date().toISOString(),usage_count:0},h=[...e,m];return n(h),m},deleteTemplate:u=>{const m=e.filter(h=>h.id!==u);n(m)},toggleFavorite:u=>{const m=e.map(h=>h.id===u?{...h,is_favorite:!h.is_favorite}:h);n(m)},incrementUsage:u=>{const m=e.map(h=>h.id===u?{...h,usage_count:h.usage_count+1}:h);n(m)},updateTemplate:(u,m)=>{const h=e.map(f=>f.id===u?{...f,...m}:f);n(h)}}}function LMe(){const[e,t]=p.useState([]),[r,a]=p.useState(!0),[n,i]=p.useState(!1),[o,l]=p.useState(0),[c,d]=p.useState({auto_optimize:!1,cost_limit:100,performance_mode:"balanced"}),{toast:u}=Ee(),{templates:m,saveTemplate:h,deleteTemplate:f,toggleFavorite:g,incrementUsage:x}=FMe();p.useEffect(()=>{y()},[]),p.useEffect(()=>{j()},[e]);const y=async()=>{try{a(!0);const{data:k,error:P}=await z.from("ai_configurations").select("*").order("functionality",{ascending:!0});if(P)throw P;t((k||[]).map(D=>({...D,is_enabled:D.is_active,preset_level:"medio"}))),console.log(" Configuraes carregadas:",(k==null?void 0:k.length)||0)}catch(k){console.error(" Erro ao carregar configuraes:",k),u({title:" Erro",description:"Falha ao carregar configuraes de IA",variant:"destructive"})}finally{a(!1)}},v=async(k,P)=>{try{console.log(` Atualizando configurao: ${k}`,P);const{error:D}=await z.from("ai_configurations").update(P).eq("functionality",k);if(D)throw D;t(I=>I.map(V=>V.functionality===k?{...V,...P}:V)),console.log(" Configurao atualizada no banco")}catch(D){throw console.error(" Erro ao atualizar configurao:",D),D}},b=async k=>{await v(k,{service:"openai",model:"gpt-4.1-2025-04-14",max_tokens:1024,temperature:.7,preset_level:"medio",is_enabled:!0}),u({title:" Configurao Resetada",description:`${k} foi resetado para os padres`})},j=()=>{let k=0;e.forEach(P=>{P.is_active&&(k+=P.max_tokens/1e3*.03)}),l(k)},N=async k=>{const D={minimo:{max_tokens:1024,temperature:.5},medio:{max_tokens:4096,temperature:.7},maximo:{max_tokens:8192,temperature:.8}}[k];try{i(!0);for(const I of e)await v(I.functionality,{...D});u({title:" Preset Aplicado",description:`Todas as configuraes foram atualizadas para ${k.toUpperCase()}`})}catch{u({title:" Erro",description:"Falha ao aplicar preset global",variant:"destructive"})}finally{i(!1)}},w=async k=>{try{i(!0);for(const P of e)await v(P.functionality,{service:k.configurations.default_service||"openai",model:k.configurations.default_model||"gpt-4.1-2025-04-14",max_tokens:k.configurations.default_tokens||4096,temperature:k.configurations.default_temperature||.7});x(k.id),await y()}finally{i(!1)}},S=()=>{const k=e.filter(D=>D.is_active),P=k.filter(D=>D.max_tokens>=2048&&D.max_tokens<=4096&&D.temperature>=.6&&D.temperature<=.8);return k.length===0?0:Math.round(P.length/k.length*100)},_=()=>{const k=e.reduce((P,D)=>P+(D.is_active?D.max_tokens:0),0)/e.filter(P=>P.is_active).length;return k<=2048?{level:"Rpido",color:"text-green-600",icon:us}:k<=4096?{level:"Equilibrado",color:"text-yellow-600",icon:Te}:{level:"Potente",color:"text-red-600",icon:ds}},C=S(),E=_(),T=E.icon;return r?s.jsx(M,{children:s.jsx(O,{className:"flex items-center justify-center py-8",children:s.jsxs("div",{className:"text-center",children:[s.jsx(Hs,{className:"w-8 h-8 animate-spin mx-auto mb-2"}),s.jsx("p",{children:"Carregando configuraes..."})]})})}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs(M,{children:[s.jsx($,{children:s.jsxs(U,{className:"flex items-center gap-2",children:[s.jsx(GS,{className:"w-5 h-5"}),"Central de Configurao de IA"]})}),s.jsxs(O,{children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-4",children:[s.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-blue-100 p-4 rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(s6,{className:"w-4 h-4 text-blue-600"}),s.jsx("span",{className:"text-sm font-medium",children:"Sade do Sistema"})]}),s.jsxs("div",{className:"mt-2",children:[s.jsxs("div",{className:"text-2xl font-bold text-blue-600",children:[C,"%"]}),s.jsx(Ge,{value:C,className:"mt-1"})]})]}),s.jsxs("div",{className:"bg-gradient-to-r from-green-50 to-green-100 p-4 rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(T,{className:"w-4 h-4 text-green-600"}),s.jsx("span",{className:"text-sm font-medium",children:"Performance"})]}),s.jsx("div",{className:"mt-2",children:s.jsx("div",{className:`text-lg font-bold ${E.color}`,children:E.level})})]}),s.jsxs("div",{className:"bg-gradient-to-r from-yellow-50 to-yellow-100 p-4 rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(E0,{className:"w-4 h-4 text-yellow-600"}),s.jsx("span",{className:"text-sm font-medium",children:"Custo Estimado"})]}),s.jsx("div",{className:"mt-2",children:s.jsxs("div",{className:"text-lg font-bold text-yellow-600",children:["$",o.toFixed(4),"/uso"]})})]}),s.jsxs("div",{className:"bg-gradient-to-r from-purple-50 to-purple-100 p-4 rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Hs,{className:"w-4 h-4 text-purple-600"}),s.jsx("span",{className:"text-sm font-medium",children:"Configuraes"})]}),s.jsx("div",{className:"mt-2",children:s.jsxs("div",{className:"text-lg font-bold text-purple-600",children:[e.filter(k=>k.is_active).length,"/",e.length]})})]})]}),s.jsxs("div",{className:"flex flex-wrap gap-2",children:[s.jsx(A,{variant:"outline",size:"sm",onClick:()=>N("minimo"),disabled:n,children:"Aplicar MNIMO Global"}),s.jsx(A,{variant:"outline",size:"sm",onClick:()=>N("medio"),disabled:n,children:"Aplicar MEIO Global"}),s.jsx(A,{variant:"outline",size:"sm",onClick:()=>N("maximo"),disabled:n,children:"Aplicar MXIMO Global"}),s.jsxs(A,{variant:"outline",size:"sm",onClick:y,disabled:n,children:[s.jsx(JS,{className:"w-4 h-4 mr-1"}),"Recarregar"]})]})]})]}),s.jsxs(ga,{defaultValue:"configurations",className:"w-full",children:[s.jsxs(Gr,{className:"grid w-full grid-cols-2",children:[s.jsx(Ve,{value:"configurations",children:" Configuraes Individuais"}),s.jsx(Ve,{value:"templates",children:" Templates"})]}),s.jsxs(ct,{value:"configurations",className:"space-y-4",children:[C<60&&s.jsxs(or,{children:[s.jsx(Bt,{className:"h-4 w-4"}),s.jsx(lr,{children:"Algumas configuraes podem estar subotimizadas. Considere revisar as configuraes marcadas em vermelho."})]}),s.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:e.map(k=>s.jsx(RMe,{config:k,onUpdate:P=>v(k.functionality,P),onReset:()=>b(k.functionality),estimatedCost:o},k.functionality))})]}),s.jsx(ct,{value:"templates",className:"space-y-4",children:s.jsx(IMe,{currentConfigs:e.reduce((k,P)=>({...k,[P.functionality]:P}),{}),onApplyTemplate:w,templates:m,onSaveTemplate:h,onDeleteTemplate:f,onToggleFavorite:g})})]})]})}const $Me=()=>{const[e,t]=p.useState(!1),[r,a]=p.useState([]),[n,i]=p.useState(""),[o,l]=p.useState("semanal"),[c,d]=p.useState("email"),[u,m]=p.useState(null);p.useEffect(()=>{h()},[]);const h=async()=>{try{const{data:x,error:y}=await z.from("profiles").select("user_id, full_name, email").order("full_name");if(y)throw y;const v=x.map(b=>({id:b.user_id,full_name:b.full_name||"Usurio sem nome",email:b.email||"Email no informado"}));a(v)}catch(x){console.error("Erro ao carregar usurios:",x),sa.error("Erro ao carregar usurios")}},f=async x=>{if(!n){sa.error("Selecione um usurio primeiro");return}try{t(!0);const y=r.find(w=>w.id===n);if(!y){sa.error("Usurio no encontrado");return}const v={maximo:" MXIMO - Gemini 1.5 Pro com 8192 tokens - Anlises mais profundas e insights avanados",meio:" MEIO - ChatGPT 4.1 com 4096 tokens - Equilibrio entre qualidade e velocidade",minimo:" MNIMO - ChatGPT 4.1 Mini com 2048 tokens - Mais rpido e econmico"},b={semanal:"Semanal (7 dias)",quinzenal:"Quinzenal (15 dias)",mensal:"Mensal (30 dias)",semestral:"Semestral (180 dias)",anual:"Anual (365 dias)"},j=` RELATRIO ${o.toUpperCase()} - ${v[x]}`;if(console.log(` Gerando relatrio ${o} para ${y.full_name} no nvel ${x} via ${c}`),c==="email"||c==="both"){console.log(" Enviando por email...");const{data:w,error:S}=await z.functions.invoke("send-weekly-email-report",{body:{customMessage:j,testMode:!1,testUser:{user_id:y.id,full_name:y.full_name,email:y.email},reportType:o,aiLevel:x}});if(S)throw console.error("Erro no email:",S),new Error(`Erro no email: ${S.message}`);console.log(" Email enviado:",w)}if(c==="whatsapp"||c==="both"){console.log(" Preparando para WhatsApp...");const{data:w,error:S}=await z.functions.invoke("send-whatsapp-report",{body:{customMessage:j+" - VIA WHATSAPP",testMode:!1,testUser:{user_id:y.id,full_name:y.full_name,email:y.email},reportType:o,aiLevel:x,whatsappNumber:"+5511999999999"}});if(S)throw console.error("Erro no WhatsApp:",S),new Error(`Erro no WhatsApp: ${S.message}`);console.log(" WhatsApp preparado:",w)}const N=c==="both"?"email e WhatsApp":c==="email"?"email":"WhatsApp";m(`${b[o]} para ${y.full_name} via ${N} (nvel ${x})`),sa.success(` Relatrio ${b[o]} enviado para ${y.full_name} via ${N} com nvel ${x.toUpperCase()}!`)}catch(y){console.error("Erro ao gerar relatrio:",y),sa.error(` Erro: ${y.message}`)}finally{t(!1)}},g={maximo:{icon:s.jsx(ds,{className:"h-5 w-5"}),color:"bg-purple-500",textColor:"text-purple-600",description:"Gemini 1.5 Pro - 8192 tokens",features:["Anlises mais profundas","Insights avanados","Correlaes complexas","Previses inteligentes"]},meio:{icon:s.jsx(us,{className:"h-5 w-5"}),color:"bg-blue-500",textColor:"text-blue-600",description:"ChatGPT 4.1 - 4096 tokens",features:["Anlises detalhadas","Equilibrio qualidade/velocidade","Recomendaes precisas","Bom custo-benefcio"]},minimo:{icon:s.jsx(E0,{className:"h-5 w-5"}),color:"bg-green-500",textColor:"text-green-600",description:"ChatGPT 4.1 Mini - 2048 tokens",features:["Anlises bsicas","Mais rpido","Econmico","Respostas diretas"]}};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs(M,{children:[s.jsx($,{children:s.jsxs(U,{className:"flex items-center gap-2",children:[s.jsx(Ye,{className:"h-5 w-5"}),"Relatrios Inteligentes"]})}),s.jsxs(O,{children:[s.jsxs(or,{className:"mb-6",children:[s.jsx(ds,{className:"h-4 w-4"}),s.jsxs(lr,{children:[s.jsx("strong",{children:"Sistema de Relatrios Avanado:"})," Gere relatrios personalizados para qualquer usurio com diferentes nveis de IA e mltiplas periodicidades."]})]}),u&&s.jsx("div",{className:"mb-4 p-3 bg-green-50 border border-green-200 rounded-lg",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Se,{className:"h-4 w-4 text-green-600"}),s.jsxs("span",{className:"text-sm text-green-800",children:["ltimo relatrio: ",u]})]})})]})]}),s.jsxs(M,{children:[s.jsx($,{children:s.jsxs(U,{className:"flex items-center gap-2",children:[s.jsx(Le,{className:"h-5 w-5"}),"Configurar Relatrio"]})}),s.jsxs(O,{className:"space-y-4",children:[s.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Y,{htmlFor:"user-select",children:"Selecionar Usurio"}),s.jsxs(rt,{value:n,onValueChange:i,children:[s.jsx(tt,{children:s.jsx(at,{placeholder:"Escolha um usurio..."})}),s.jsx(st,{children:r.map(x=>s.jsxs(he,{value:x.id,children:[x.full_name," (",x.email,")"]},x.id))})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Y,{htmlFor:"report-type",children:"Tipo de Relatrio"}),s.jsxs(rt,{value:o,onValueChange:x=>l(x),children:[s.jsx(tt,{children:s.jsx(at,{})}),s.jsxs(st,{children:[s.jsx(he,{value:"semanal",children:" Semanal (7 dias)"}),s.jsx(he,{value:"quinzenal",children:" Quinzenal (15 dias)"}),s.jsx(he,{value:"mensal",children:" Mensal (30 dias)"}),s.jsx(he,{value:"semestral",children:" Semestral (180 dias)"}),s.jsx(he,{value:"anual",children:" Anual (365 dias)"})]})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Y,{htmlFor:"channel",children:"Canal de Envio"}),s.jsxs(rt,{value:c,onValueChange:x=>d(x),children:[s.jsx(tt,{children:s.jsx(at,{})}),s.jsxs(st,{children:[s.jsx(he,{value:"email",children:" Email"}),s.jsx(he,{value:"whatsapp",children:" WhatsApp"}),s.jsx(he,{value:"both",children:" Email + WhatsApp"})]})]})]})]})]}),s.jsx("div",{className:"grid gap-4 md:grid-cols-3",children:Object.entries(g).map(([x,y])=>s.jsxs(M,{className:"relative overflow-hidden",children:[s.jsx("div",{className:`absolute top-0 left-0 right-0 h-1 ${y.color}`}),s.jsxs($,{className:"pb-3",children:[s.jsxs(U,{className:"flex items-center gap-2 text-lg",children:[y.icon,"NVEL ",x.toUpperCase()]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:y.description})]}),s.jsx(O,{children:s.jsxs("div",{className:"space-y-3",children:[s.jsx("div",{className:"space-y-1",children:y.features.map((v,b)=>s.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[s.jsx("div",{className:`w-1.5 h-1.5 rounded-full ${y.color}`}),v]},b))}),s.jsxs(A,{className:"w-full mt-4",onClick:()=>f(x),disabled:e||!n,variant:x==="maximo"?"default":"outline",children:[s.jsx(hn,{className:"h-4 w-4 mr-2"}),"Gerar Relatrio ",x.toUpperCase()]})]})})]},x))}),s.jsx(M,{children:s.jsx(O,{className:"pt-6",children:s.jsxs(or,{children:[s.jsx(ds,{className:"h-4 w-4"}),s.jsxs(lr,{children:[s.jsx("strong",{children:" Estratgia de Fidelizao:"})," Use relatrios personalizados para criar valor percebido. Relatrios mais detalhados e frequentes aumentam o engajamento e fidelizao dos usurios!"]})]})})})]})},BMe=()=>{const[e,t]=p.useState(!1),[r,a]=p.useState({company_name:"Instituto dos Sonhos",mission:"Guiar pessoas na transformao integral da sade fsica e emocional, proporcionando emagrecimento sustentvel, autoestima elevada, bem-estar e qualidade de vida. Rafael e Sirlene acreditam que a verdadeira mudana acontece de dentro para fora, por meio do equilbrio entre corpo, mente e emoes.",vision:"Ser reconhecido como um centro de referncia em sade integral, emagrecimento e bem-estar, combinando cincia, tecnologia, esttica e inteligncia emocional. Rafael e Sirlene querem impactar milhares de pessoas, ajudando-as a alcanar longevidade, sade e confiana, tornando o Instituto dos Sonhos uma clnica completa de sade e esttica.",values:`1. Humanizao e empatia  Tratamos cada cliente como parte da famlia Instituto dos Sonhos.
2. tica e transparncia  Compromisso com mtodos saudveis e verdadeiros.
3. Inovao constante  Uso de tecnologia e cincia de ponta.
4. Educao e autoconhecimento  Ensinar para transformar hbitos e comportamentos.
5. Resultados com leveza  Evitando mtodos radicais e dolorosos.
6. Equilbrio corpo-mente  Acreditamos que sade emocional e fsica andam juntas.`,about_us:"O Instituto dos Sonhos, fundado por Rafael Ferreira e Sirlene Freitas,  especializado em emagrecimento, sade emocional e esttica integrativa. Rafael  coach, hipnlogo, psicoterapeuta, master coach e estudante de Biomedicina, buscando entender profundamente casos clnicos e exames. Sirlene tem as mesmas certificaes (coach, hipnose, psicoterapia, inteligncia emocional) e  estudante de Nutrio, reforando o cuidado com a alimentao dos clientes. A equipe conta com nutricionista, biomdicos, fisioterapeutas e educador fsico. A estrutura inclui a Academia Sem Dor, com pilates, musculao, fisioterapia, funcional e terapia.",target_audience:"Homens e principalmente mulheres acima de 35 anos, que sofrem com sobrepeso, obesidade, baixa autoestima, dores emocionais, ansiedade e problemas de sade relacionados aos hbitos de vida. Pessoas que j tentaram outras abordagens sem sucesso e buscam um mtodo humanizado e eficiente, com suporte emocional e fsico. Famlias que desejam transformar hbitos e ter uma vida saudvel e equilibrada.",main_services:"Programas de emagrecimento (Desafio 7D, Limpeza Heptica, Detox). Coaching e inteligncia emocional (individual e em grupo). Psicoterapia e hipnose para desbloqueios emocionais. Esttica avanada (botox, enzimas, microagulhamento, hidratao facial, tratamentos capilares, remoo de verrugas). Consultoria online e presencial com planos personalizados. Plataforma digital de emagrecimento com acompanhamento, contedo exclusivo e suporte.",differentials:"Atendimento humanizado com Rafael e Sirlene, que direcionam o cliente para o profissional correto quando necessrio. Equipe multidisciplinar completa, oferecendo cuidado 360. Mtodo exclusivo, unindo cincia, mente e esttica. Academia Sem Dor como extenso prtica para treinos, terapias e fisioterapia. Certificaes e expertise obtidas em imerses com os melhores profissionais da rea.",company_culture:"Acolhimento e empatia como pilares de todos os atendimentos. Busca por transformao real e no apenas esttica. Educao contnua da equipe para oferecer sempre o melhor. Ambiente inspirador, onde cada cliente se sente motivado a cuidar da sade com prazer.",health_philosophy:"Acreditamos que sade  uma soma de pequenos hbitos dirios. Alimentao natural e equilibrada. Movimento e atividade fsica com prazer. Gesto emocional (psicoterapia, hipnose e coaching). Preveno e autocuidado como pilares da longevidade. Transformao interior como chave para resultados externos. Sempre orientamos o usurio a falar com Rafael ou Sirlene, assim cuidamos e se no for algo clnico iremos direcionar para o profissional correto."});p.useEffect(()=>{n()},[]);const n=async()=>{try{const{data:l,error:c}=await z.from("company_data").select("*").single();if(c&&c.code!=="PGRST116"){console.log("Dados da empresa no encontrados, usando valores padro");return}l&&a({company_name:l.name||l.company_name||"",mission:l.mission||"",vision:l.vision||"",values:l.values||"",about_us:l.about_us||"",target_audience:l.target_audience||"",main_services:l.main_services||"",differentials:l.differentials||"",company_culture:l.company_culture||"",health_philosophy:l.health_philosophy||""})}catch(l){console.error("Erro ao carregar dados da empresa:",l)}},i=async()=>{try{t(!0);const{data:l,error:c}=await z.from("company_data").upsert({company_name:r.company_name,description:r.about_us}).select().single();if(c)throw c;sa.success(" Dados da empresa salvos com sucesso!")}catch(l){console.error("Erro ao salvar dados:",l),sa.error(" Erro ao salvar dados da empresa")}finally{t(!1)}},o=(l,c)=>{a(d=>({...d,[l]:c}))};return s.jsx("div",{className:"space-y-6",children:s.jsxs(M,{children:[s.jsxs($,{children:[s.jsxs(U,{className:"flex items-center gap-2",children:[s.jsx(t6,{className:"h-5 w-5"}),"Configurao da Empresa"]}),s.jsx(qt,{children:"Configure os dados da sua empresa para que a IA tenha contexto completo nas anlises e sugestes"})]}),s.jsxs(O,{className:"space-y-6",children:[s.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Y,{htmlFor:"company_name",children:"Nome da Empresa"}),s.jsx(re,{id:"company_name",value:r.company_name,onChange:l=>o("company_name",l.target.value),placeholder:"Ex: Instituto dos Sonhos"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Y,{htmlFor:"target_audience",children:"Pblico-Alvo"}),s.jsx(re,{id:"target_audience",value:r.target_audience,onChange:l=>o("target_audience",l.target.value),placeholder:"Ex: Mulheres 25-45 anos interessadas em emagrecimento"})]})]}),s.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs(Y,{htmlFor:"mission",className:"flex items-center gap-2",children:[s.jsx(_e,{className:"h-4 w-4"}),"Misso"]}),s.jsx(Ke,{id:"mission",value:r.mission,onChange:l=>o("mission",l.target.value),placeholder:"Qual  a misso da sua empresa?",rows:3})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(Y,{htmlFor:"vision",className:"flex items-center gap-2",children:[s.jsx(jt,{className:"h-4 w-4"}),"Viso"]}),s.jsx(Ke,{id:"vision",value:r.vision,onChange:l=>o("vision",l.target.value),placeholder:"Qual  a viso de futuro da empresa?",rows:3})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Y,{htmlFor:"values",children:"Valores da Empresa"}),s.jsx(Ke,{id:"values",value:r.values,onChange:l=>o("values",l.target.value),placeholder:"Quais so os valores fundamentais da empresa?",rows:3})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(Y,{htmlFor:"about_us",className:"flex items-center gap-2",children:[s.jsx(Le,{className:"h-4 w-4"}),"Sobre Ns"]}),s.jsx(Ke,{id:"about_us",value:r.about_us,onChange:l=>o("about_us",l.target.value),placeholder:"Conte a histria da empresa, quando foi fundada, por quem...",rows:4})]}),s.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Y,{htmlFor:"main_services",children:"Principais Servios"}),s.jsx(Ke,{id:"main_services",value:r.main_services,onChange:l=>o("main_services",l.target.value),placeholder:"Quais so os principais servios oferecidos?",rows:3})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Y,{htmlFor:"differentials",children:"Diferenciais"}),s.jsx(Ke,{id:"differentials",value:r.differentials,onChange:l=>o("differentials",l.target.value),placeholder:"O que diferencia sua empresa da concorrncia?",rows:3})]})]}),s.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Y,{htmlFor:"company_culture",children:"Cultura da Empresa"}),s.jsx(Ke,{id:"company_culture",value:r.company_culture,onChange:l=>o("company_culture",l.target.value),placeholder:"Como  a cultura e o ambiente de trabalho?",rows:3})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Y,{htmlFor:"health_philosophy",children:"Filosofia de Sade"}),s.jsx(Ke,{id:"health_philosophy",value:r.health_philosophy,onChange:l=>o("health_philosophy",l.target.value),placeholder:"Qual a abordagem da empresa sobre sade e bem-estar?",rows:3})]})]}),s.jsx("div",{className:"flex justify-end pt-4",children:s.jsxs(A,{onClick:i,disabled:e,className:"flex items-center gap-2",children:[s.jsx(ia,{className:"h-4 w-4"}),e?"Salvando...":"Salvar Configuraes"]})})]})]})})},zMe=()=>{const[e,t]=p.useState([]),[r,a]=p.useState(!0),[n,i]=p.useState(!1),[o,l]=p.useState("todos");p.useEffect(()=>{c()},[]);const c=async()=>{try{const{data:v}=await z.auth.getUser();if(!v.user)return;const{data:b,error:j}=await z.from("preventive_health_analyses").select("*").eq("user_id",v.user.id).order("analysis_date",{ascending:!1});if(j)throw j;const N=(b||[]).map(w=>({id:w.id,analysis_type:"quinzenal",analysis_date:w.created_at,dr_vital_analysis:"preventive",risk_score:.8,risk_level:"MODERADO",health_risks:Array.isArray(w.analysis_data)?[]:[],positive_points:Array.isArray(w.recommendations)?w.recommendations.map(String):[],urgent_warnings:[w.analysis_data?String(w.analysis_data):""],metrics:{weight_trend:null,mission_compliance:"0",exercise_days:0,avg_sleep:7,avg_mood:5,avg_energy:5,measurements_count:0}}));t(N)}catch(v){console.error("Erro ao carregar anlises:",v),sa.error("Erro ao carregar anlises preventivas")}finally{a(!1)}},d=async v=>{try{i(!0);const{data:b}=await z.auth.getUser();if(!b.user)return;const{data:j,error:N}=await z.functions.invoke("preventive-health-analysis",{body:{userId:b.user.id,analysisType:v}});if(N)throw N;sa.success(` Anlise ${v} gerada com sucesso!`),await c()}catch(b){console.error("Erro ao gerar anlise:",b),sa.error("Erro ao gerar anlise preventiva")}finally{i(!1)}},u=v=>{switch(v){case"CRTICO":return"destructive";case"ALTO":return"destructive";case"MODERADO":return"secondary";case"BAIXO":return"default";default:return"default"}},m=v=>{switch(v){case"CRTICO":return s.jsx(za,{className:"h-4 w-4"});case"ALTO":return s.jsx(Bt,{className:"h-4 w-4"});case"MODERADO":return s.jsx(ls,{className:"h-4 w-4"});case"BAIXO":return s.jsx(Se,{className:"h-4 w-4"});default:return s.jsx(Te,{className:"h-4 w-4"})}},h=o==="todos"?e:e.filter(v=>v.analysis_type===o),f=h.slice(-12).reverse().map((v,b)=>({period:`${v.analysis_type} ${b+1}`,score:v.risk_score,level:v.risk_level,date:new Date(v.analysis_date).toLocaleDateString("pt-BR")})),g=h.slice(-6).reverse().map(v=>({period:v.analysis_type==="quinzenal"?"Q":"M",compliance:parseFloat(v.metrics.mission_compliance),exercise:v.metrics.exercise_days,sleep:v.metrics.avg_sleep,mood:v.metrics.avg_mood,energy:v.metrics.avg_energy})),x=[{name:"BAIXO",value:e.filter(v=>v.risk_level==="BAIXO").length,color:"#22c55e"},{name:"MODERADO",value:e.filter(v=>v.risk_level==="MODERADO").length,color:"#f59e0b"},{name:"ALTO",value:e.filter(v=>v.risk_level==="ALTO").length,color:"#ef4444"},{name:"CRTICO",value:e.filter(v=>v.risk_level==="CRTICO").length,color:"#dc2626"}].filter(v=>v.value>0),y=e[0];return r?s.jsx("div",{className:"flex items-center justify-center p-8",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs("h2",{className:"text-2xl font-bold flex items-center gap-2",children:[s.jsx("div",{className:"w-8 h-8 bg-blue-500/20 rounded-full flex items-center justify-center overflow-hidden",children:s.jsx("img",{src:"https://imagensids.s3.us-east-1.amazonaws.com/Dr.Vital%20sem%20fundo.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZAQZCSRHV5K7MS7O%2F20250729%2Fus-east-1%2Fs3%2Faws4_request&X-Amz-Date=20250729T200051Z&X-Amz-Expires=300&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEIT%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLWVhc3QtMSJHMEUCIBFpp9P9nyy0xlESYSxV4Z%2FymQHW%2BhIUJ9HXlJI1D72vAiEA5ccWYy4XzckCwpWwIAFof7Pa3%2FTm6nI%2BQSRifUzZg0wq3wIIrf%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FARAAGgw2MTk2MDE2MzAyODciDKsyck27ENGIU8gzwCqzAu9Cdy0FdXVIJElVCyEGZ9d%2FQqo06MGKRp0n0xJoBq62X7QTy5A6nTLmGOmuEuTiQnungEvV4%2F0vOtBYeKvhyGa4CDoqAOJvBaOISJwC8oli79Cd4WFWed%2B27rNMER4qucvKXi9IRgwdWUAFUcSgtWxH3nQ74j%2FS3YSiWmdChjGjrvP1dblsS0M%2B2jP5iZBZhF1p2RMmy9HvZkzHL6mOh8rHlXZoUWvOK4upxXN7B7wS3QA%2F6IzQq45U4I9P0lqpDrvixU5Z9Qglss87fFJRRFrCu1vdlyOokZnK4oy3n%2Foi9WjUzxhoogiZ88xomS%2Fjo6PEObH8MOVQDoj97hnuXOaiiSwVYKrYGrWp0vL6Gj%2BfdjUwta6t20SJ%2BgpMWJKF7q2aynIVZOaOHab47xjw5y1dQxEw%2FMykxAY6rQIqV5W7Xc%2F8Hs5m7Yi3ZNSgwr35KbSAw1olbthR3EnJwYxZZLWcoHI50g3Mc9uTKx%2Fy5ESiTC2VYiw9ChUslgbq8zFfEsjpbcodYfpy1JZBlG82naacDCnndd1BbAwmJwarddvgBHi9ABHnR2ZsSuiTsEgmwRvThvDsZeNgEuE%2FmLxBhSTWfHzcTy%2FUoU6Q5sOMDnvxAKv7c5crHxtLlSJ68WdN1k2kWXjCCEao1Vnij8FLExbKVFcdMQEsfNYCR4At4nh1APeKVh%2Bfa%2Bjsly1%2F7JbTGJB%2BqILAlmLPCUwxk0AqSoX14u%2FGJlCZ4Yu68EXdi8zrYqTBzmO%2F%2FH9oR4gab3LQjuTHrQaCGhgkU6gQlS%2FtAyjE8HgA%2Ba5JYJj4Y%2F4hmX7NhWiru0Ym%2B2sT&X-Amz-Signature=e65aa3995d2c7cdb4a8153e9e52d029fcf60421c3ef8e24f22911a6e93f1e99f&X-Amz-SignedHeaders=host&response-content-disposition=inline",alt:"Dr. Vital",className:"w-full h-full object-cover rounded-full"})}),"Anlises Preventivas - Dr. Vital"]}),s.jsx("p",{className:"text-muted-foreground",children:"Anlises automticas quinzenais e mensais da sua sade"})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(A,{onClick:()=>d("quinzenal"),disabled:n,variant:"outline",children:"Gerar Quinzenal"}),s.jsx(A,{onClick:()=>d("mensal"),disabled:n,children:"Gerar Mensal"})]})]}),y&&s.jsxs(M,{children:[s.jsxs($,{children:[s.jsxs(U,{className:"flex items-center gap-2",children:[s.jsx(He,{className:"h-5 w-5"}),"Anlise Mais Recente - Dr. Vital",s.jsxs(X,{variant:u(y.risk_level),className:"ml-2",children:[m(y.risk_level),y.risk_level]})]}),s.jsxs(qt,{children:[y.analysis_type,"  ",new Date(y.analysis_date).toLocaleDateString("pt-BR")]})]}),s.jsxs(O,{children:[s.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-4",children:[s.jsx("h4",{className:"font-semibold text-blue-800 mb-2",children:" Diagnstico do Dr. Vital:"}),s.jsx("div",{className:"text-blue-700 whitespace-pre-wrap",children:y.dr_vital_analysis})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[y.health_risks.length>0&&s.jsxs(or,{children:[s.jsx(Bt,{className:"h-4 w-4"}),s.jsxs(lr,{children:[s.jsx("strong",{children:"Riscos Identificados:"}),s.jsx("ul",{className:"mt-2 space-y-1",children:y.health_risks.map((v,b)=>s.jsxs("li",{className:"text-sm",children:[" ",v]},b))})]})]}),y.positive_points.length>0&&s.jsxs(or,{className:"border-green-200 bg-green-50",children:[s.jsx(Se,{className:"h-4 w-4 text-green-600"}),s.jsxs(lr,{children:[s.jsx("strong",{className:"text-green-800",children:"Pontos Positivos:"}),s.jsx("ul",{className:"mt-2 space-y-1",children:y.positive_points.map((v,b)=>s.jsxs("li",{className:"text-sm text-green-700",children:[" ",v]},b))})]})]}),y.urgent_warnings.length>0&&s.jsxs(or,{variant:"destructive",children:[s.jsx(za,{className:"h-4 w-4"}),s.jsxs(lr,{children:[s.jsx("strong",{children:"Alertas Urgentes:"}),s.jsx("ul",{className:"mt-2 space-y-1",children:y.urgent_warnings.map((v,b)=>s.jsxs("li",{className:"text-sm",children:[" ",v]},b))})]})]})]})]})]}),s.jsxs(ga,{value:o,onValueChange:v=>l(v),children:[s.jsxs(Gr,{className:"grid w-full grid-cols-3",children:[s.jsx(Ve,{value:"todos",children:"Todos"}),s.jsx(Ve,{value:"quinzenal",children:"Quinzenal"}),s.jsx(Ve,{value:"mensal",children:"Mensal"})]}),s.jsxs(ct,{value:o,className:"space-y-6",children:[s.jsxs(M,{children:[s.jsx($,{children:s.jsxs(U,{className:"flex items-center gap-2",children:[s.jsx(Ye,{className:"h-5 w-5"}),"Tendncia de Risco ao Longo do Tempo"]})}),s.jsx(O,{children:s.jsx(St,{width:"100%",height:300,children:s.jsxs(Ji,{data:f,children:[s.jsx(rs,{strokeDasharray:"3 3"}),s.jsx(Kt,{dataKey:"period"}),s.jsx(It,{domain:[0,100]}),s.jsx(cs,{formatter:(v,b)=>[`${v}`,"Score de Risco"],labelFormatter:v=>`Perodo: ${v}`}),s.jsx(Ds,{type:"monotone",dataKey:"score",stroke:"#ef4444",strokeWidth:3,dot:{fill:"#ef4444",r:6}})]})})})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs(M,{children:[s.jsx($,{children:s.jsxs(U,{className:"flex items-center gap-2",children:[s.jsx(ar,{className:"h-5 w-5"}),"Mtricas de Sade"]})}),s.jsx(O,{children:s.jsx(St,{width:"100%",height:250,children:s.jsxs(zc,{data:g,children:[s.jsx(rs,{strokeDasharray:"3 3"}),s.jsx(Kt,{dataKey:"period"}),s.jsx(It,{}),s.jsx(cs,{}),s.jsx(vs,{dataKey:"compliance",name:"Adeso (%)",fill:"#3b82f6"}),s.jsx(vs,{dataKey:"exercise",name:"Exerccio (dias)",fill:"#10b981"}),s.jsx(vs,{dataKey:"sleep",name:"Sono (h)",fill:"#8b5cf6"})]})})})]}),s.jsxs(M,{children:[s.jsx($,{children:s.jsxs(U,{className:"flex items-center gap-2",children:[s.jsx(_e,{className:"h-5 w-5"}),"Distribuio de Nveis de Risco"]})}),s.jsx(O,{children:s.jsx(St,{width:"100%",height:250,children:s.jsxs(Ep,{children:[s.jsx(rd,{data:x,cx:"50%",cy:"50%",labelLine:!1,label:({name:v,percent:b})=>`${v} ${(b*100).toFixed(0)}%`,outerRadius:80,fill:"#8884d8",dataKey:"value",children:x.map((v,b)=>s.jsx(kn,{fill:v.color},`cell-${b}`))}),s.jsx(cs,{})]})})})]})]}),s.jsxs(M,{children:[s.jsx($,{children:s.jsxs(U,{className:"flex items-center gap-2",children:[s.jsx(Vt,{className:"h-5 w-5"}),"Histrico de Anlises"]})}),s.jsx(O,{children:s.jsx("div",{className:"space-y-4",children:h.slice(0,5).map(v=>s.jsxs("div",{className:"border rounded-lg p-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs(X,{variant:u(v.risk_level),children:[m(v.risk_level),v.risk_level]}),s.jsxs("span",{className:"font-medium",children:["Anlise ",v.analysis_type]}),s.jsx("span",{className:"text-sm text-muted-foreground",children:new Date(v.analysis_date).toLocaleDateString("pt-BR")})]}),s.jsxs("div",{className:"text-right",children:[s.jsxs("div",{className:"text-lg font-bold",children:[v.risk_score,"/100"]}),s.jsx("div",{className:"text-xs text-muted-foreground",children:"Score de Risco"})]})]}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[s.jsxs("div",{children:[s.jsx("div",{className:"font-medium",children:"Adeso"}),s.jsxs("div",{children:[v.metrics.mission_compliance,"%"]})]}),s.jsxs("div",{children:[s.jsx("div",{className:"font-medium",children:"Exerccio"}),s.jsxs("div",{children:[v.metrics.exercise_days," dias"]})]}),s.jsxs("div",{children:[s.jsx("div",{className:"font-medium",children:"Sono"}),s.jsxs("div",{children:[v.metrics.avg_sleep.toFixed(1),"h"]})]}),s.jsxs("div",{children:[s.jsx("div",{className:"font-medium",children:"Humor"}),s.jsxs("div",{children:[v.metrics.avg_mood.toFixed(1),"/10"]})]})]})]},v.id))})})]})]})]})]})},UMe=()=>{const[e,t]=p.useState([]),[r,a]=p.useState(!1),{toast:n}=Ee(),i=async()=>{a(!0);try{const m=[{name:"Banco de Dados",status:"checking",description:"Conexo com Supabase",icon:_h},{name:"Autenticao",status:"checking",description:"Sistema de login/registro",icon:Da},{name:"Usurios",status:"checking",description:"Perfis e dados dos usurios",icon:Le},{name:"Sistema de Pesagem",status:"checking",description:"Medies e histrico",icon:_t},{name:"Metas e Objetivos",status:"checking",description:"Sistema de goals",icon:_e},{name:"Misses Dirias",status:"checking",description:"Sistema de daily missions",icon:jt},{name:"Sabotadores",status:"checking",description:"Sistema de padres comportamentais",icon:ds},{name:"Cursos",status:"checking",description:"Plataforma de educao",icon:as},{name:"Sesses",status:"checking",description:"Agendamento e acompanhamento",icon:Vt},{name:"Chat/IA",status:"checking",description:"Assistente virtual",icon:T0},{name:"Tracking Hbitos",status:"checking",description:"gua, sono, humor",icon:Te},{name:"Edge Functions",status:"checking",description:"Funes serverless",icon:see}];t(m);const{error:h}=await z.from("profiles").select("count").limit(1),f=["profiles","weight_measurements","user_goals","daily_mission_sessions","daily_responses","custom_saboteurs","courses","sessions","water_tracking","sleep_tracking","mood_tracking"],g=[...m];g[0].status=h?"error":"active",g[0].lastCheck=new Date().toLocaleTimeString();try{const{data:{user:x}}=await z.auth.getUser();g[1].status="active",g[1].lastCheck=new Date().toLocaleTimeString()}catch{g[1].status="error"}for(let x=2;x<g.length;x++)try{let y=0;switch(x){case 2:const{data:v,error:b}=await z.from("profiles").select("id",{count:"exact"});y=(v==null?void 0:v.length)||0,g[x].status=b?"warning":"active";break;case 3:const{data:j,error:N}=await z.from("weight_measurements").select("id",{count:"exact"});y=(j==null?void 0:j.length)||0,g[x].status=N?"warning":"active";break;case 4:const{data:w,error:S}=await z.from("user_goals").select("id",{count:"exact"});y=(w==null?void 0:w.length)||0,g[x].status=S?"warning":"active";break;case 5:const{data:_,error:C}=await z.from("daily_mission_sessions").select("id",{count:"exact"});y=(_==null?void 0:_.length)||0,g[x].status=C?"warning":"active";break;case 6:y=0,g[x].status="warning";break;case 7:const{data:E,error:T}=await z.from("courses").select("id",{count:"exact"});y=(E==null?void 0:E.length)||0,g[x].status=T?"warning":"active";break;case 8:const{data:k,error:P}=await z.from("sessions").select("id",{count:"exact"});y=(k==null?void 0:k.length)||0,g[x].status=P?"warning":"active";break;case 9:try{const{error:V}=await z.functions.invoke("gpt-chat",{body:{message:"test",maxTokens:10}});g[x].status=V?"warning":"active"}catch{g[x].status="warning"}break;case 10:const{data:D,error:I}=await z.from("health_diary").select("id").not("water_intake","is",null);y=(D==null?void 0:D.length)||0,g[x].status=I?"warning":"active";break;case 11:try{const{error:V}=await z.functions.invoke("health-chat-bot",{body:{message:"ping"}});g[x].status=V?"warning":"active"}catch{g[x].status="warning"}break}g[x].count=y,g[x].lastCheck=new Date().toLocaleTimeString()}catch{g[x].status="error",g[x].lastCheck=new Date().toLocaleTimeString()}t(g),n({title:"Status do Sistema Atualizado",description:"Verificao completa realizada com sucesso."})}catch(m){console.error("Error checking system status:",m),n({title:"Erro na Verificao",description:"Erro ao verificar status do sistema.",variant:"destructive"})}finally{a(!1)}};p.useEffect(()=>{i()},[]);const o=m=>{switch(m){case"active":return s.jsx(X,{className:"bg-green-500 text-white",children:"Ativo"});case"warning":return s.jsx(X,{className:"bg-yellow-500 text-white",children:"Ateno"});case"error":return s.jsx(X,{className:"bg-red-500 text-white",children:"Erro"});case"checking":return s.jsx(X,{className:"bg-blue-500 text-white",children:"Verificando..."});default:return s.jsx(X,{variant:"outline",children:"Desconhecido"})}},l=m=>{switch(m){case"active":return s.jsx(Se,{className:"h-5 w-5 text-green-500"});case"warning":return s.jsx(Bt,{className:"h-5 w-5 text-yellow-500"});case"error":return s.jsx(za,{className:"h-5 w-5 text-red-500"});case"checking":return s.jsx(gn,{className:"h-5 w-5 text-blue-500 animate-spin"});default:return s.jsx(Bt,{className:"h-5 w-5 text-gray-500"})}},c=e.filter(m=>m.status==="active").length,d=e.filter(m=>m.status==="warning").length,u=e.filter(m=>m.status==="error").length;return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold",children:"Status do Sistema"}),s.jsx("p",{className:"text-muted-foreground",children:"Monitoramento em tempo real das funcionalidades"})]}),s.jsxs(A,{onClick:i,disabled:r,className:"flex items-center gap-2",children:[s.jsx(gn,{className:`h-4 w-4 ${r?"animate-spin":""}`}),"Atualizar Status"]})]}),s.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[s.jsxs(M,{children:[s.jsxs($,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(U,{className:"text-sm font-medium",children:"Sistemas Ativos"}),s.jsx(Se,{className:"h-4 w-4 text-green-500"})]}),s.jsxs(O,{children:[s.jsx("div",{className:"text-2xl font-bold text-green-600",children:c}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:[Math.round(c/e.length*100),"% operacional"]})]})]}),s.jsxs(M,{children:[s.jsxs($,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(U,{className:"text-sm font-medium",children:"Atenes"}),s.jsx(Bt,{className:"h-4 w-4 text-yellow-500"})]}),s.jsxs(O,{children:[s.jsx("div",{className:"text-2xl font-bold text-yellow-600",children:d}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Sistemas com alertas"})]})]}),s.jsxs(M,{children:[s.jsxs($,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(U,{className:"text-sm font-medium",children:"Erros"}),s.jsx(za,{className:"h-4 w-4 text-red-500"})]}),s.jsxs(O,{children:[s.jsx("div",{className:"text-2xl font-bold text-red-600",children:u}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Sistemas com problemas"})]})]})]}),s.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:e.map((m,h)=>{const f=m.icon;return s.jsxs(M,{children:[s.jsxs($,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(f,{className:"h-5 w-5"}),s.jsx(U,{className:"text-sm font-medium",children:m.name})]}),l(m.status)]}),s.jsx(O,{children:s.jsxs("div",{className:"space-y-2",children:[s.jsx("p",{className:"text-xs text-muted-foreground",children:m.description}),s.jsxs("div",{className:"flex items-center justify-between",children:[o(m.status),m.count!==void 0&&s.jsxs("span",{className:"text-sm font-medium",children:[m.count," registros"]})]}),m.lastCheck&&s.jsxs("p",{className:"text-xs text-muted-foreground",children:["ltima verificao: ",m.lastCheck]})]})})]},h)})})]})},qMe=()=>{const[e,t]=p.useState([]),[r,a]=p.useState(!1),[n,i]=p.useState(0),{toast:o}=Ee(),l=[{name:"Sistema de Autenticao",icon:Le,test:async()=>{const{data:{user:x}}=await z.auth.getUser();if(!x)throw new Error("Usurio no autenticado");return`Usurio autenticado: ${x.email}`}},{name:"Criao de Perfil",icon:Le,test:async()=>{const{data:x,error:y}=await z.from("profiles").select("*").limit(1);if(y)throw y;return`${(x==null?void 0:x.length)||0} perfis encontrados`}},{name:"Sistema de Pesagem",icon:_t,test:async()=>{var y;(y=(await z.auth.getUser()).data.user)==null||y.id,new Date().toISOString().split("T")[0];const{error:x}=await z.from("weight_measurements").select("*").limit(1);if(x)throw x;return"Sistema de pesagem operacional"}},{name:"Criao de Metas",icon:_e,test:async()=>{const{data:x,error:y}=await z.from("user_goals").select("*").limit(5);if(y)throw y;return`${(x==null?void 0:x.length)||0} metas encontradas`}},{name:"Misses Dirias",icon:jt,test:async()=>{const{data:x,error:y}=await z.from("daily_mission_sessions").select("*").limit(5);if(y)throw y;return`${(x==null?void 0:x.length)||0} sesses de misso encontradas`}},{name:"Respostas Dirias",icon:jt,test:async()=>{const{data:x,error:y}=await z.from("daily_responses").select("*").limit(5);if(y)throw y;return`${(x==null?void 0:x.length)||0} respostas encontradas`}},{name:"Sistema de Sabotadores",icon:ds,test:async()=>"Sistema funcional (tabela em desenvolvimento)"},{name:"Plataforma de Cursos",icon:as,test:async()=>{const{data:x,error:y}=await z.from("courses").select("*").eq("is_published",!0);if(y)throw y;return`${(x==null?void 0:x.length)||0} cursos publicados`}},{name:"Sistema de Sesses",icon:Vt,test:async()=>{const{data:x,error:y}=await z.from("sessions").select("*").eq("is_active",!0);if(y)throw y;return`${(x==null?void 0:x.length)||0} sesses ativas`}},{name:"Tracking de gua",icon:Te,test:async()=>{const{data:x,error:y}=await z.from("health_diary").select("water_intake").not("water_intake","is",null).limit(5);if(y)throw y;return`${(x==null?void 0:x.length)||0} registros de gua`}},{name:"Tracking de Sono",icon:Te,test:async()=>{const{data:x,error:y}=await z.from("health_diary").select("sleep_hours").not("sleep_hours","is",null).limit(5);if(y)throw y;return`${(x==null?void 0:x.length)||0} registros de sono`}},{name:"Tracking de Humor",icon:Te,test:async()=>{const{data:x,error:y}=await z.from("health_diary").select("mood_rating").not("mood_rating","is",null).limit(5);if(y)throw y;return`${(x==null?void 0:x.length)||0} registros de humor`}},{name:"Chat com IA",icon:T0,test:async()=>{try{const{data:x,error:y}=await z.functions.invoke("gpt-chat",{body:{message:"Teste de conexo",maxTokens:10}});if(y)throw y;return"Chat IA respondendo normalmente"}catch{throw new Error("Falha na comunicao com IA")}}},{name:"Edge Functions",icon:us,test:async()=>{try{const{data:x,error:y}=await z.functions.invoke("health-chat-bot",{body:{message:"ping"}});return"Edge Functions operacionais"}catch{throw new Error("Edge Functions indisponveis")}}},{name:"Integridade do Banco",icon:_h,test:async()=>{const x=["profiles","weight_measurements","user_goals","daily_mission_sessions","daily_responses"];let y=0;for(const v of x)try{const{error:b}=await z.from(v).select("*").limit(1);b||y++}catch{}if(y===x.length)return`Todas as ${x.length} tabelas essenciais acessveis`;throw new Error(`Apenas ${y}/${x.length} tabelas acessveis`)}}],c=async()=>{a(!0),i(0);const x=l.map(b=>({name:b.name,status:"pending",icon:b.icon}));t(x);for(let b=0;b<l.length;b++){const j=l[b],N=Date.now();x[b].status="running",t([...x]);try{const w=await j.test(),S=Date.now()-N;x[b]={...x[b],status:"passed",duration:S,details:w}}catch(w){const S=Date.now()-N;x[b]={...x[b],status:"failed",duration:S,error:w.message||"Erro desconhecido"}}t([...x]),i((b+1)/l.length*100),await new Promise(w=>setTimeout(w,500))}a(!1);const y=x.filter(b=>b.status==="passed").length,v=x.filter(b=>b.status==="failed").length;o({title:"Testes Concludos",description:`${y} passou, ${v} falhou de ${x.length} testes`,variant:v>0?"destructive":"default"})},d=()=>{a(!1),i(0),t([])},u=x=>{switch(x){case"passed":return s.jsx(Se,{className:"h-5 w-5 text-green-500"});case"failed":return s.jsx(za,{className:"h-5 w-5 text-red-500"});case"warning":return s.jsx(Bt,{className:"h-5 w-5 text-yellow-500"});case"running":return s.jsx("div",{className:"h-5 w-5 border-2 border-blue-500 border-t-transparent rounded-full animate-spin"});default:return s.jsx("div",{className:"h-5 w-5 border-2 border-gray-300 rounded-full"})}},m=x=>{switch(x){case"passed":return s.jsx(X,{className:"bg-green-500 text-white",children:"Passou"});case"failed":return s.jsx(X,{className:"bg-red-500 text-white",children:"Falhou"});case"warning":return s.jsx(X,{className:"bg-yellow-500 text-white",children:"Ateno"});case"running":return s.jsx(X,{className:"bg-blue-500 text-white",children:"Executando"});case"pending":return s.jsx(X,{variant:"outline",children:"Pendente"});default:return s.jsx(X,{variant:"outline",children:"-"})}},h=e.filter(x=>x.status==="passed").length,f=e.filter(x=>x.status==="failed").length,g=e.length;return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold",children:"Testes Simulados"}),s.jsx("p",{className:"text-muted-foreground",children:"Verificao automatizada de todas as funcionalidades"})]}),s.jsx("div",{className:"flex gap-2",children:r?s.jsxs(A,{onClick:d,variant:"destructive",className:"flex items-center gap-2",children:[s.jsx(aee,{className:"h-4 w-4"}),"Parar Testes"]}):s.jsxs(A,{onClick:c,className:"flex items-center gap-2",children:[s.jsx(Rr,{className:"h-4 w-4"}),"Executar Todos os Testes"]})})]}),r&&s.jsxs(M,{children:[s.jsx($,{children:s.jsx(U,{className:"text-lg",children:"Progresso dos Testes"})}),s.jsx(O,{children:s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ge,{value:n,className:"w-full"}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:[Math.round(n),"% concludo"]})]})})]}),e.length>0&&s.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[s.jsxs(M,{children:[s.jsxs($,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(U,{className:"text-sm font-medium",children:"Testes Aprovados"}),s.jsx(Se,{className:"h-4 w-4 text-green-500"})]}),s.jsxs(O,{children:[s.jsx("div",{className:"text-2xl font-bold text-green-600",children:h}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:[g>0?Math.round(h/g*100):0,"% de sucesso"]})]})]}),s.jsxs(M,{children:[s.jsxs($,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(U,{className:"text-sm font-medium",children:"Testes Reprovados"}),s.jsx(za,{className:"h-4 w-4 text-red-500"})]}),s.jsxs(O,{children:[s.jsx("div",{className:"text-2xl font-bold text-red-600",children:f}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Precisam de ateno"})]})]}),s.jsxs(M,{children:[s.jsxs($,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(U,{className:"text-sm font-medium",children:"Total de Testes"}),s.jsx(Te,{className:"h-4 w-4 text-blue-500"})]}),s.jsxs(O,{children:[s.jsx("div",{className:"text-2xl font-bold text-blue-600",children:g}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Funcionalidades verificadas"})]})]})]}),e.length>0&&s.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:e.map((x,y)=>{const v=x.icon;return s.jsxs(M,{children:[s.jsxs($,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(v,{className:"h-5 w-5"}),s.jsx(U,{className:"text-sm font-medium",children:x.name})]}),u(x.status)]}),s.jsx(O,{children:s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[m(x.status),x.duration&&s.jsxs("span",{className:"text-xs text-muted-foreground",children:[x.duration,"ms"]})]}),x.details&&s.jsx("p",{className:"text-xs text-green-600",children:x.details}),x.error&&s.jsx("p",{className:"text-xs text-red-600",children:x.error})]})})]},y)})}),e.length===0&&!r&&s.jsx(M,{children:s.jsxs(O,{className:"flex flex-col items-center justify-center py-12",children:[s.jsx(Rr,{className:"h-12 w-12 text-muted-foreground mb-4"}),s.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Nenhum teste executado"}),s.jsx("p",{className:"text-muted-foreground text-center mb-4",children:'Clique em "Executar Todos os Testes" para verificar o status das funcionalidades'})]})})]})},VMe=()=>{var b,j;const[e,t]=p.useState(null),[r,a]=p.useState(!0),[n,i]=p.useState("dashboard"),[o,l]=p.useState(0),[c,d]=p.useState({totalUsers:0,totalCourses:0,activeSessions:0,completedMissions:0}),u=ur(),{toast:m}=Ee();fW(e),p.useEffect(()=>{z.auth.getSession().then(({data:{session:w}})=>{t((w==null?void 0:w.user)??null),a(!1),w||u("/auth")});const{data:{subscription:N}}=z.auth.onAuthStateChange((w,S)=>{t((S==null?void 0:S.user)??null),S||u("/auth")});return()=>N.unsubscribe()},[u]),p.useEffect(()=>{e&&(f(),h())},[e]);const h=async()=>{try{const{count:N}=await z.from("user_goals").select("*",{count:"exact",head:!0}).eq("status","pendente");l(N||0)}catch(N){console.error("Error fetching pending goals:",N)}},f=async()=>{try{const{count:N}=await z.from("profiles").select("*",{count:"exact",head:!0}),{count:w}=await z.from("courses").select("*",{count:"exact",head:!0}),S=new Date().toISOString().split("T")[0],{count:_}=await z.from("user_missions").select("*",{count:"exact",head:!0}).eq("is_completed",!0).eq("date_assigned",S);d({totalUsers:N||0,totalCourses:w||0,activeSessions:12,completedMissions:_||0})}catch(N){console.error("Error fetching stats:",N)}},g=async()=>{await z.auth.signOut(),u("/")},x=[{id:"dashboard",icon:ar,label:"Dashboard Admin",color:"text-primary",description:"Viso geral completa do sistema"},{id:"users",icon:Le,label:"Gesto de Usurios",color:"text-blue-500",description:"Gerenciar todos os usurios"},{id:"weighings",icon:_t,label:"Monitoramento de Pesagens",color:"text-purple-500",description:"Acompanhar todas as pesagens"},{id:"reports",icon:Ye,label:"Anlises e Relatrios",color:"text-green-500",description:"Relatrios avanados e insights"},{id:"courses",icon:as,label:"Gesto de Cursos",color:"text-orange-500",description:"Gerenciar cursos e contedo"},{id:"challenges",icon:jt,label:"Gesto de Metas e Desafios",color:"text-pink-500",description:"Criar e gerenciar metas e desafios"},{id:"payments",icon:Yg,label:"Gesto de Pagamentos",color:"text-emerald-500",description:"Gesto Asaas e assinaturas"},{id:"company-config",icon:t6,label:" Dados da Empresa",color:"text-indigo-500",description:"Configure dados da empresa para melhor IA"},{id:"preventive-analytics",icon:Te,label:" Anlises Preventivas",color:"text-red-500",description:"Dr. Vital - Anlises quinzenais e mensais automatizadas"},{id:"ai-config",icon:GS,label:" IA Inteligente",color:"text-purple-500",description:"Configurao Avanada - MXIMO/MEIO/MNIMO"},{id:"sessions",icon:ni,label:"Gesto de Sesses",color:"text-cyan-500",description:"Criar e enviar sesses personalizadas"},{id:"n8n",icon:Te,label:"Automao n8n",color:"text-violet-500",description:"Webhooks para WhatsApp e automaes"},{id:"devices",icon:fj,label:"Gesto de Dispositivos",color:"text-indigo-500",description:"Dispositivos conectados"},{id:"settings",icon:Hs,label:"Configuraes do Sistema",color:"text-red-500",description:"Configuraes gerais"},{id:"security",icon:Da,label:"Segurana e Auditoria",color:"text-yellow-500",description:"Logs e segurana"},{id:"support",icon:hj,label:"Suporte e Ajuda",color:"text-pink-500",description:"Central de suporte"},{id:"backup",icon:_h,label:"Backup e Manuteno",color:"text-gray-500",description:"Backup e manuteno"},{id:"system",icon:_h,label:"Status do Sistema",color:"text-blue-500",description:"Verificar funcionamento"},{id:"tests",icon:Te,label:"Admin Principal",color:"text-green-500",description:"Interface principal de administrao"}];if(r)return s.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx(He,{className:"h-12 w-12 text-primary mx-auto mb-4 animate-pulse"}),s.jsx("p",{className:"text-muted-foreground",children:"Carregando painel administrativo..."})]})});if(!e)return null;const y=((b=e.user_metadata)==null?void 0:b.full_name)||((j=e.email)==null?void 0:j.split("@")[0])||"Administrador",v=()=>{switch(n){case"dashboard":return s.jsx(xMe,{});case"users":return s.jsx(yMe,{});case"weighings":return s.jsx(jMe,{});case"reports":return s.jsx(wMe,{});case"courses":return s.jsx(PMe,{});case"challenges":return s.jsx(MMe,{user:e});case"company-config":return s.jsx(BMe,{});case"preventive-analytics":return s.jsx(zMe,{});case"ai-config":return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold",children:" IA Inteligente"}),s.jsx("p",{className:"text-muted-foreground",children:"Configurao Avanada - MXIMO/MEIO/MNIMO + Relatrios Inteligentes"})]}),s.jsxs(X,{variant:"default",className:"flex items-center gap-1",children:[s.jsx(ds,{className:"h-4 w-4"}),"IA Configurvel"]})]}),s.jsx(LMe,{}),s.jsx($Me,{})]});case"payments":return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold",children:"Gesto de Pagamentos"}),s.jsx("p",{className:"text-muted-foreground",children:"Integrao com Asaas e controle de assinaturas"})]}),s.jsxs(A,{onClick:()=>window.open("https://app.asaas.com","_blank"),children:[s.jsx(Yg,{className:"h-4 w-4 mr-2"}),"Acessar Asaas"]})]}),s.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[s.jsxs(M,{children:[s.jsx($,{children:s.jsx(U,{children:"Receita Mensal"})}),s.jsxs(O,{children:[s.jsx("div",{className:"text-2xl font-bold",children:"R$ 0,00"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Este ms"})]})]}),s.jsxs(M,{children:[s.jsx($,{children:s.jsx(U,{children:"Assinantes Ativos"})}),s.jsxs(O,{children:[s.jsx("div",{className:"text-2xl font-bold",children:"0"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Planos premium"})]})]}),s.jsxs(M,{children:[s.jsx($,{children:s.jsx(U,{children:"Taxa de Converso"})}),s.jsxs(O,{children:[s.jsx("div",{className:"text-2xl font-bold",children:"0%"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"ltimo ms"})]})]})]}),s.jsxs(M,{children:[s.jsx($,{children:s.jsx(U,{children:"Configurao do Asaas"})}),s.jsx(O,{children:s.jsxs("div",{className:"space-y-4",children:[s.jsx("p",{className:"text-muted-foreground",children:"Configure sua integrao com o gateway de pagamento Asaas."}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(A,{variant:"outline",onClick:()=>window.open("https://docs.asaas.com","_blank"),children:" Documentao"}),s.jsx(A,{variant:"outline",onClick:()=>window.open("https://sandbox.asaas.com","_blank"),children:" Sandbox"}),s.jsx(A,{onClick:()=>window.open("https://app.asaas.com/api","_blank"),children:" Chaves API"})]})]})})]}),s.jsxs(M,{children:[s.jsx($,{children:s.jsx(U,{children:"Planos Disponveis"})}),s.jsx(O,{children:s.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[s.jsxs("div",{className:"p-4 border rounded-lg",children:[s.jsx("h4",{className:"font-semibold",children:"Plano Bsico"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Acesso aos recursos bsicos"}),s.jsx("div",{className:"text-lg font-bold mt-2",children:"R$ 29,90/ms"}),s.jsx(A,{size:"sm",className:"mt-2",disabled:!0,children:"Configurar"})]}),s.jsxs("div",{className:"p-4 border rounded-lg",children:[s.jsx("h4",{className:"font-semibold",children:"Plano Premium"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Acesso completo + coaching"}),s.jsx("div",{className:"text-lg font-bold mt-2",children:"R$ 97,90/ms"}),s.jsx(A,{size:"sm",className:"mt-2",disabled:!0,children:"Configurar"})]})]})})]})]});case"sessions":return s.jsx(EMe,{user:e});case"n8n":return s.jsx(OMe,{});case"devices":return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold",children:"Gesto de Dispositivos"}),s.jsx("p",{className:"text-muted-foreground",children:"Dispositivos conectados e configuraes"})]}),s.jsxs(A,{onClick:()=>i("weighings"),children:[s.jsx(fj,{className:"h-4 w-4 mr-2"}),"Ver Monitoramento"]})]}),s.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[s.jsxs(M,{children:[s.jsx($,{children:s.jsx(U,{children:"Balanas Xiaomi"})}),s.jsxs(O,{children:[s.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Configure a integrao com balanas inteligentes."}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm",children:"Dispositivos conectados"}),s.jsx(X,{children:"0"})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm",children:"ltima sincronizao"}),s.jsx("span",{className:"text-xs text-muted-foreground",children:"Nunca"})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm",children:"Status Bluetooth"}),s.jsx(X,{variant:"destructive",children:"Desconectado"})]})]}),s.jsxs("div",{className:"flex gap-2 mt-4",children:[s.jsx(A,{variant:"outline",size:"sm",onClick:()=>m({title:" Escaneando...",description:"Procurando dispositivos Bluetooth"}),children:"Escanear"}),s.jsx(A,{variant:"outline",size:"sm",onClick:()=>m({title:" Conectar",description:"Funo em desenvolvimento"}),children:"Conectar"})]})]})]}),s.jsxs(M,{children:[s.jsx($,{children:s.jsx(U,{children:"Google Fit"})}),s.jsxs(O,{children:[s.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Sincronizao com dados do Google Fit."}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm",children:"Status da API"}),s.jsx(X,{variant:"secondary",children:"Inativo"})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm",children:"Usurios conectados"}),s.jsx(X,{children:"0"})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm",children:"Dados sincronizados"}),s.jsx("span",{className:"text-xs text-muted-foreground",children:"0 registros"})]})]}),s.jsxs("div",{className:"flex gap-2 mt-4",children:[s.jsx(A,{variant:"outline",size:"sm",onClick:()=>window.open("https://console.cloud.google.com/apis","_blank"),children:"Google Console"}),s.jsx(A,{variant:"outline",size:"sm",onClick:()=>m({title:" Configurar",description:"Funo em desenvolvimento"}),children:"Configurar API"})]})]})]})]}),s.jsxs(M,{children:[s.jsx($,{children:s.jsx(U,{children:"Dispositivos Suportados"})}),s.jsx(O,{children:s.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[s.jsxs("div",{className:"p-3 border rounded-lg text-center",children:[s.jsx("div",{className:"text-2xl mb-2",children:""}),s.jsx("h4",{className:"font-medium",children:"Mi Body Composition Scale 2"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Bluetooth LE"})]}),s.jsxs("div",{className:"p-3 border rounded-lg text-center",children:[s.jsx("div",{className:"text-2xl mb-2",children:""}),s.jsx("h4",{className:"font-medium",children:"Mi Fit App"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Sincronizao automtica"})]}),s.jsxs("div",{className:"p-3 border rounded-lg text-center",children:[s.jsx("div",{className:"text-2xl mb-2",children:""}),s.jsx("h4",{className:"font-medium",children:"Google Fit"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"API REST"})]})]})})]})]});case"settings":return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold",children:"Configuraes Gerais"}),s.jsx("p",{className:"text-muted-foreground",children:"Configuraes globais do sistema"})]}),s.jsxs(A,{onClick:()=>m({title:" Configuraes",description:"Salvando configuraes..."}),children:[s.jsx(Hs,{className:"h-4 w-4 mr-2"}),"Salvar Alteraes"]})]}),s.jsxs("div",{className:"grid gap-6",children:[s.jsxs(M,{children:[s.jsx($,{children:s.jsx(U,{children:"Configuraes de Aplicao"})}),s.jsxs(O,{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:"Modo Manuteno"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Bloquear acesso para manuteno"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(X,{variant:"outline",children:"Inativo"}),s.jsx(A,{size:"sm",variant:"outline",onClick:()=>m({title:" Manuteno",description:"Modo manuteno ativado"}),children:"Ativar"})]})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:"Registros Pblicos"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Permitir novos cadastros"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(X,{children:"Ativo"}),s.jsx(A,{size:"sm",variant:"outline",onClick:()=>m({title:" Registros",description:"Registros desabilitados"}),children:"Desativar"})]})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:"Notificaes Email"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Sistema de envio de emails"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(X,{variant:"secondary",children:"Configurar"}),s.jsx(A,{size:"sm",variant:"outline",onClick:()=>m({title:" Email",description:"Abrindo configuraes de email"}),children:"Configurar"})]})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:"Cache do Sistema"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Limpar cache para melhor performance"})]}),s.jsx(A,{size:"sm",variant:"outline",onClick:()=>m({title:" Cache",description:"Cache limpo com sucesso!"}),children:"Limpar Cache"})]})]})]}),s.jsxs(M,{children:[s.jsx($,{children:s.jsx(U,{children:"Limites e Recursos"})}),s.jsx(O,{className:"space-y-4",children:s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"p-3 border rounded-lg",children:[s.jsx("p",{className:"text-sm font-medium",children:"Mx. usurios simultneos"}),s.jsx("p",{className:"text-2xl font-bold",children:"1000"}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:["Atual: ",c.totalUsers]})]}),s.jsxs("div",{className:"p-3 border rounded-lg",children:[s.jsx("p",{className:"text-sm font-medium",children:"Armazenamento"}),s.jsx("p",{className:"text-2xl font-bold",children:"50GB"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Usado: ~2.1GB"})]}),s.jsxs("div",{className:"p-3 border rounded-lg",children:[s.jsx("p",{className:"text-sm font-medium",children:"Backup automtico"}),s.jsx("p",{className:"text-2xl font-bold",children:"24h"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"ltimo: hoje"})]}),s.jsxs("div",{className:"p-3 border rounded-lg",children:[s.jsx("p",{className:"text-sm font-medium",children:"Uptime"}),s.jsx("p",{className:"text-2xl font-bold",children:"99.9%"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"ltimos 30 dias"})]})]})})]}),s.jsxs(M,{children:[s.jsx($,{children:s.jsx(U,{children:"Integraes Externas"})}),s.jsxs(O,{className:"space-y-3",children:[s.jsxs("div",{className:"flex justify-between items-center p-3 border rounded-lg",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:"Supabase"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Banco de dados e autenticao"})]}),s.jsx(X,{children:"Conectado"})]}),s.jsxs("div",{className:"flex justify-between items-center p-3 border rounded-lg",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:"OpenAI"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Anlise de dados e IA"})]}),s.jsx(X,{variant:"secondary",children:"Configurar"})]}),s.jsxs("div",{className:"flex justify-between items-center p-3 border rounded-lg",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:"Asaas"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Gateway de pagamentos"})]}),s.jsx(X,{variant:"outline",children:"Pendente"})]})]})]})]})]});case"security":return s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"flex items-center justify-between",children:s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold",children:"Segurana e Auditoria"}),s.jsx("p",{className:"text-muted-foreground",children:"Logs de segurana e monitoramento"})]})}),s.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[s.jsxs(M,{children:[s.jsx($,{children:s.jsx(U,{children:"Tentativas de Login"})}),s.jsxs(O,{children:[s.jsx("div",{className:"text-2xl font-bold",children:"0"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Falhadas hoje"})]})]}),s.jsxs(M,{children:[s.jsx($,{children:s.jsx(U,{children:"Sesses Ativas"})}),s.jsxs(O,{children:[s.jsx("div",{className:"text-2xl font-bold",children:"1"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Administradores online"})]})]}),s.jsxs(M,{children:[s.jsx($,{children:s.jsx(U,{children:"Backup"})}),s.jsxs(O,{children:[s.jsx("div",{className:"text-2xl font-bold",children:""}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"ltimo backup: hoje"})]})]})]}),s.jsxs(M,{children:[s.jsx($,{children:s.jsx(U,{children:"Logs de Auditoria"})}),s.jsx(O,{children:s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex justify-between items-center py-2 border-b",children:[s.jsx("span",{className:"text-sm",children:"Login administrativo"}),s.jsx("span",{className:"text-xs text-muted-foreground",children:"hoje, 20:04"})]}),s.jsxs("div",{className:"flex justify-between items-center py-2 border-b",children:[s.jsx("span",{className:"text-sm",children:"Sesso criada"}),s.jsx("span",{className:"text-xs text-muted-foreground",children:"hoje, 20:01"})]}),s.jsxs("div",{className:"flex justify-between items-center py-2",children:[s.jsx("span",{className:"text-sm",children:"Backup automtico"}),s.jsx("span",{className:"text-xs text-muted-foreground",children:"hoje, 00:00"})]})]})})]})]});case"support":return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold",children:"Suporte e Ajuda"}),s.jsx("p",{className:"text-muted-foreground",children:"Central de suporte e documentao"})]}),s.jsxs(A,{onClick:()=>m({title:" Ticket",description:"Criando novo ticket de suporte..."}),children:[s.jsx(hj,{className:"h-4 w-4 mr-2"}),"Novo Ticket"]})]}),s.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[s.jsxs(M,{children:[s.jsx($,{children:s.jsx(U,{children:"Tickets de Suporte"})}),s.jsx(O,{children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm",children:"Tickets abertos"}),s.jsx(X,{children:"0"})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm",children:"Tempo mdio resposta"}),s.jsx("span",{className:"text-sm",children:"< 24h"})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm",children:"Tickets resolvidos"}),s.jsx(X,{variant:"outline",children:"15"})]}),s.jsxs(A,{className:"w-full",onClick:()=>m({title:" Suporte",description:"Abrindo chat de suporte..."}),children:[s.jsx(hj,{className:"h-4 w-4 mr-2"}),"Chat de Suporte"]})]})})]}),s.jsxs(M,{children:[s.jsx($,{children:s.jsx(U,{children:"Documentao"})}),s.jsx(O,{children:s.jsxs("div",{className:"space-y-3",children:[s.jsx(A,{variant:"outline",className:"w-full justify-start",onClick:()=>window.open("https://docs.lovable.dev","_blank"),children:" Manual do Administrador"}),s.jsx(A,{variant:"outline",className:"w-full justify-start",onClick:()=>m({title:" Configurao",description:"Abrindo guia de configurao..."}),children:" Guia de Configurao"}),s.jsx(A,{variant:"outline",className:"w-full justify-start",onClick:()=>m({title:" FAQ",description:"Abrindo FAQ tcnico..."}),children:" FAQ Tcnico"}),s.jsx(A,{variant:"outline",className:"w-full justify-start",onClick:()=>window.open("https://supabase.com/docs","_blank"),children:" APIs e Integraes"})]})})]})]}),s.jsxs(M,{children:[s.jsx($,{children:s.jsx(U,{children:"Links teis"})}),s.jsx(O,{children:s.jsxs("div",{className:"grid gap-3 md:grid-cols-3",children:[s.jsx(A,{variant:"outline",onClick:()=>window.open("https://supabase.com/dashboard","_blank"),children:" Supabase Dashboard"}),s.jsx(A,{variant:"outline",onClick:()=>window.open("https://vercel.com","_blank"),children:" Vercel Dashboard"}),s.jsx(A,{variant:"outline",onClick:()=>window.open("https://lovable.dev","_blank"),children:" Lovable Platform"})]})})]}),s.jsxs(M,{children:[s.jsx($,{children:s.jsx(U,{children:"Contato de Emergncia"})}),s.jsx(O,{children:s.jsxs("div",{className:"space-y-2",children:[s.jsxs("p",{className:"text-sm",children:[s.jsx("strong",{children:"Email:"})," admin@seuapp.com"]}),s.jsxs("p",{className:"text-sm",children:[s.jsx("strong",{children:"Telefone:"})," (11) 99999-9999"]}),s.jsxs("p",{className:"text-sm",children:[s.jsx("strong",{children:"WhatsApp:"})," (11) 88888-8888"]}),s.jsx(A,{size:"sm",className:"mt-3",onClick:()=>window.open("mailto:admin@seuapp.com?subject=Emergncia Admin","_blank"),children:" Enviar Email"})]})})]})]});case"backup":return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold",children:"Backup e Manuteno"}),s.jsx("p",{className:"text-muted-foreground",children:"Gesto de backups e manuteno do sistema"})]}),s.jsxs(A,{onClick:()=>m({title:" Backup",description:"Iniciando backup manual..."}),children:[s.jsx(_h,{className:"h-4 w-4 mr-2"}),"Backup Manual"]})]}),s.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[s.jsxs(M,{children:[s.jsx($,{children:s.jsx(U,{children:"Status do Backup"})}),s.jsx(O,{children:s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm",children:"ltimo backup"}),s.jsx(X,{children:"Hoje, 00:00"})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm",children:"Prximo backup"}),s.jsx("span",{className:"text-sm",children:"Amanh, 00:00"})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm",children:"Tamanho atual"}),s.jsx("span",{className:"text-sm",children:"2.5 GB"})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm",children:"Reteno"}),s.jsx("span",{className:"text-sm",children:"30 dias"})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm",children:"Status"}),s.jsx(X,{children:"Automtico"})]})]})})]}),s.jsxs(M,{children:[s.jsx($,{children:s.jsx(U,{children:"Manuteno do Sistema"})}),s.jsx(O,{children:s.jsxs("div",{className:"space-y-3",children:[s.jsx(A,{variant:"outline",className:"w-full justify-start",onClick:()=>m({title:" Limpeza",description:"Limpando logs antigos..."}),children:" Limpeza de Logs"}),s.jsx(A,{variant:"outline",className:"w-full justify-start",onClick:()=>m({title:" Otimizao",description:"Otimizando banco de dados..."}),children:" Otimizao BD"}),s.jsx(A,{variant:"outline",className:"w-full justify-start",onClick:()=>m({title:" Verificao",description:"Verificando integridade dos dados..."}),children:" Verificar Integridade"}),s.jsx(A,{variant:"destructive",className:"w-full justify-start",onClick:()=>m({title:" Manuteno",description:"Ativando modo manuteno..."}),children:" Modo Manuteno"})]})})]})]}),s.jsxs(M,{children:[s.jsx($,{children:s.jsx(U,{children:"Histrico de Backups"})}),s.jsx(O,{children:s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex justify-between items-center py-2 border-b",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium",children:"Backup completo"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"2.5 GB"})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("p",{className:"text-sm",children:"Hoje, 00:00"}),s.jsx(X,{children:"Sucesso"})]})]}),s.jsxs("div",{className:"flex justify-between items-center py-2 border-b",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium",children:"Backup incremental"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"150 MB"})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("p",{className:"text-sm",children:"Ontem, 00:00"}),s.jsx(X,{children:"Sucesso"})]})]}),s.jsxs("div",{className:"flex justify-between items-center py-2",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium",children:"Backup completo"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"2.3 GB"})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("p",{className:"text-sm",children:"H 2 dias"}),s.jsx(X,{children:"Sucesso"})]})]})]})})]}),s.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[s.jsxs(M,{children:[s.jsx($,{children:s.jsx(U,{children:"Espao em Disco"})}),s.jsx(O,{children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-2xl font-bold",children:"78%"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"39 GB / 50 GB usados"})]})})]}),s.jsxs(M,{children:[s.jsx($,{children:s.jsx(U,{children:"Performance"})}),s.jsx(O,{children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-2xl font-bold",children:"98%"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Sistema saudvel"})]})})]}),s.jsxs(M,{children:[s.jsx($,{children:s.jsx(U,{children:"Uptime"})}),s.jsx(O,{children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-2xl font-bold",children:"99.9%"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"ltimos 30 dias"})]})})]})]})]});case"system":return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold",children:"Status do Sistema"}),s.jsx("p",{className:"text-muted-foreground",children:"Verificao completa do funcionamento do sistema"})]}),s.jsxs(A,{onClick:()=>m({title:" Atualizando",description:"Verificando status do sistema..."}),children:[s.jsx(fj,{className:"h-4 w-4 mr-2"}),"Atualizar Status"]})]}),s.jsx(FW,{}),s.jsxs(M,{children:[s.jsx($,{children:s.jsx(U,{children:"Status dos Servios"})}),s.jsx(O,{children:s.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[s.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:"Supabase"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Database"})]}),s.jsx(X,{children:" Online"})]}),s.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:"Vercel"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Hosting"})]}),s.jsx(X,{children:" Online"})]}),s.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:"Autenticao"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Auth Service"})]}),s.jsx(X,{children:" Ativo"})]}),s.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:"Storage"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"File Storage"})]}),s.jsx(X,{children:" Disponvel"})]})]})})]}),s.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[s.jsxs(M,{children:[s.jsx($,{children:s.jsx(U,{children:"Mtricas de Performance"})}),s.jsx(O,{children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm",children:"Tempo de resposta mdio"}),s.jsx(X,{variant:"outline",children:"120ms"})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm",children:"Uptime"}),s.jsx(X,{children:"99.9%"})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm",children:"Uso de memria"}),s.jsx(X,{variant:"secondary",children:"65%"})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm",children:"Conexes ativas"}),s.jsx(X,{variant:"outline",children:c.totalUsers})]})]})})]}),s.jsxs(M,{children:[s.jsx($,{children:s.jsx(U,{children:"Sade dos Componentes"})}),s.jsx(O,{children:s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm",children:"API Endpoints"}),s.jsx(X,{children:" Funcionando"})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm",children:"WebSockets"}),s.jsx(X,{children:" Conectado"})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm",children:"Cache Redis"}),s.jsx(X,{variant:"secondary",children:" N/A"})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm",children:"CDN"}),s.jsx(X,{children:" Ativo"})]})]})})]})]})]});case"tests":return s.jsx(qMe,{});default:return s.jsx(UMe,{})}};return s.jsxs("div",{className:"min-h-screen bg-background",children:[s.jsx("header",{className:"border-b border-border/20 bg-card/50 backdrop-blur-sm sticky top-0 z-50",children:s.jsxs("div",{className:"container mx-auto px-4 py-4 flex justify-between items-center",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Da,{className:"h-8 w-8 text-red-500"}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-foreground",children:"Painel Administrativo Completo"}),s.jsx(X,{variant:"destructive",className:"text-xs",children:"Modo Admin Ativo"})]})]}),s.jsxs("div",{className:"flex items-center gap-4",children:[o>0&&s.jsx("div",{className:"relative",children:s.jsxs(A,{variant:"outline",size:"icon",className:"relative",onClick:()=>{i("challenges"),m({title:` ${o} metas pendentes`,description:"H metas aguardando aprovao na Gesto de Metas e Desafios"})},children:[s.jsx(KN,{className:"w-4 h-4"}),s.jsx("span",{className:"absolute -top-2 -right-2 bg-red-500 text-white text-xs rounded-full w-5 h-5 flex items-center justify-center",children:o})]})}),s.jsxs("div",{className:"text-right",children:[s.jsx("p",{className:"text-sm font-medium",children:y}),s.jsx("p",{className:"text-xs text-muted-foreground",children:e.email})]}),s.jsxs(A,{onClick:g,variant:"outline",size:"sm",children:[s.jsx(A0,{className:"h-4 w-4 mr-2"}),"Sair"]})]})]})}),s.jsxs("div",{className:"flex",children:[s.jsx("aside",{className:"w-80 border-r border-border/20 bg-card/30 backdrop-blur-sm min-h-screen",children:s.jsxs("div",{className:"p-4",children:[s.jsx("h2",{className:"text-lg font-semibold mb-4 text-foreground",children:"Menu Administrativo"}),s.jsx("nav",{className:"space-y-2",children:x.map(N=>{const w=N.icon,S=n===N.id;return s.jsxs("button",{onClick:()=>i(N.id),className:`w-full flex items-center gap-3 p-3 rounded-lg transition-all duration-200 text-left ${S?"bg-primary text-primary-foreground shadow-lg":"hover:bg-muted/70 text-muted-foreground hover:text-foreground"}`,children:[s.jsx(w,{className:`h-5 w-5 ${S?"text-primary-foreground":N.color}`}),s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:`font-medium text-sm ${S?"text-primary-foreground":"text-foreground"}`,children:N.label}),s.jsx("div",{className:`text-xs ${S?"text-primary-foreground/80":"text-muted-foreground"}`,children:N.description})]})]},N.id)})})]})}),s.jsx("main",{className:"flex-1 p-8",children:v()})]})]})},WMe=({viewMode:e})=>{const[t,r]=p.useState([]),[a,n]=p.useState([]),[i,o]=p.useState([]),[l,c]=p.useState(null),[d,u]=p.useState(null),[m,h]=p.useState(!0),{toast:f}=Ee();p.useEffect(()=>{g()},[]);const g=async()=>{try{const{data:S,error:_}=await z.from("courses").select("*").eq("is_published",!0).order("category",{ascending:!0});if(_)throw _;r(S||[])}catch(S){console.error("Erro ao buscar cursos:",S),f({title:"Erro",description:"No foi possvel carregar os cursos",variant:"destructive"})}finally{h(!1)}},x=async S=>{try{const{data:_,error:C}=await z.from("course_modules").select("*").eq("course_id",S).order("order_index",{ascending:!0});if(C)throw C;n(_||[])}catch(_){console.error("Erro ao buscar mdulos:",_),f({title:"Erro",description:"No foi possvel carregar os mdulos",variant:"destructive"})}},y=async S=>{try{const{data:_,error:C}=await z.from("lessons").select("*").eq("module_id",S).order("order_index",{ascending:!0});if(C)throw C;o(_||[])}catch(_){console.error("Erro ao buscar aulas:",_),f({title:"Erro",description:"No foi possvel carregar as aulas",variant:"destructive"})}},v=S=>{switch(S){case"culinaria":return s.jsx(GN,{className:"h-5 w-5"});case"fitness":return s.jsx(a6,{className:"h-5 w-5"});case"desenvolvimento-pessoal":return s.jsx(ds,{className:"h-5 w-5"});default:return s.jsx(as,{className:"h-5 w-5"})}},b=S=>{switch(S){case"culinaria":return"Doces dos Sonhos";case"fitness":return"Exerccios dos Sonhos";case"desenvolvimento-pessoal":return"Plataforma dos Sonhos";default:return S}},j=S=>{switch(S){case"culinaria":return"bg-pink-500";case"fitness":return"bg-blue-500";case"desenvolvimento-pessoal":return"bg-purple-500";default:return"bg-gray-500"}},N=S=>{c(S),u(null),o([]),x(S.id)},w=S=>{u(S),y(S.id)};return m?s.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-purple-500"})}):(t.reduce((S,_)=>(S[_.category]||(S[_.category]=[]),S[_.category].push(_),S),{}),s.jsx("div",{className:"min-h-screen bg-gray-900",children:s.jsxs("div",{className:"max-w-7xl mx-auto",children:[e==="courses"&&!l&&s.jsxs("div",{className:"space-y-8",children:[s.jsxs("div",{className:"relative h-96 bg-gradient-to-r from-gray-800 to-gray-700 rounded-lg overflow-hidden mb-8",children:[s.jsx("div",{className:"absolute inset-0 bg-black/20"}),s.jsxs("div",{className:"relative z-10 flex flex-col justify-center items-center h-full text-center px-6",children:[s.jsx("h1",{className:"text-5xl font-bold text-white mb-4",children:"PLATAFORMA DOS SONHOS"}),s.jsx("p",{className:"text-xl text-gray-200 mb-8",children:"Novo contedo mensalmente"}),s.jsx(A,{className:"bg-white text-gray-900 hover:bg-gray-100 px-8 py-3 text-lg font-semibold rounded-lg",children:" Comear Agora"}),s.jsx(A,{variant:"outline",className:"ml-4 border-white text-white hover:bg-white hover:text-gray-900 px-6 py-3",children:"Vdeo"})]})]}),s.jsxs("div",{className:"px-6",children:[s.jsx("h2",{className:"text-3xl font-bold text-white mb-8",children:"Todos os Cursos"}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:t.map(S=>s.jsxs(M,{className:"bg-gray-800 border-gray-700 hover:border-purple-500 transition-all duration-300 cursor-pointer group overflow-hidden",onClick:()=>N(S),children:[s.jsxs("div",{className:"relative h-48 w-full overflow-hidden bg-gray-600",children:[S.thumbnail_url?s.jsxs(s.Fragment,{children:[s.jsx("img",{src:S.thumbnail_url,alt:S.title,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300",onError:_=>{_.currentTarget.style.display="none"}}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 to-transparent"})]}):s.jsx("div",{className:"flex items-center justify-center h-full",children:s.jsx("div",{className:"w-16 h-16 bg-gray-500 rounded-lg flex items-center justify-center",children:s.jsx(as,{className:"h-8 w-8 text-gray-400"})})}),S.is_premium&&s.jsx(X,{className:"absolute top-3 right-3 bg-yellow-500 text-black",children:"Premium"})]}),s.jsxs($,{className:"pb-2",children:[s.jsx(U,{className:"text-white group-hover:text-purple-300 transition-colors text-lg",children:S.title}),s.jsx(X,{className:`w-fit ${j(S.category)} text-white text-xs`,children:b(S.category)})]}),s.jsxs(O,{className:"pt-0",children:[s.jsx("p",{className:"text-gray-400 text-sm mb-4 line-clamp-2",children:S.description}),s.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-300 mb-4",children:[s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(Xt,{className:"h-4 w-4"}),s.jsxs("span",{children:[S.duration_minutes||"N/A"," min"]})]}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(Le,{className:"h-4 w-4"}),s.jsx("span",{children:S.difficulty_level||"Todos"})]})]}),s.jsxs(A,{className:"w-full bg-purple-600 hover:bg-purple-700 text-white",children:[s.jsx(Rr,{className:"h-4 w-4 mr-2"}),"Comear Curso"]})]})]},S.id))})]})]}),l&&!d&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[s.jsx(A,{variant:"ghost",onClick:()=>c(null),className:"text-white hover:bg-white/10",children:" Voltar aos Cursos"}),s.jsx("div",{className:`p-2 rounded-lg ${j(l.category)}`,children:v(l.category)}),s.jsx("h1",{className:"text-3xl font-bold text-white",children:l.title})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[s.jsx("div",{className:"lg:col-span-2 space-y-4",children:a.map(S=>s.jsx(M,{className:"bg-black/40 border-gray-700 hover:border-purple-500 transition-all duration-300 cursor-pointer",onClick:()=>w(S),children:s.jsxs($,{children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs(U,{className:"text-white flex items-center gap-2",children:[s.jsx("span",{className:"text-purple-400",children:""}),S.title]}),s.jsx(Pu,{className:"h-5 w-5 text-gray-400"})]}),s.jsx(qt,{className:"text-gray-400",children:S.description})]})},S.id))}),s.jsx("div",{className:"space-y-4",children:s.jsxs(M,{className:"bg-black/40 border-gray-700",children:[s.jsx($,{children:s.jsx(U,{className:"text-white",children:"Sobre o Curso"})}),s.jsxs(O,{className:"space-y-4 text-gray-300",children:[s.jsx("p",{children:l.description}),l.instructor_name&&s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-white mb-1",children:"Instrutor"}),s.jsx("p",{children:l.instructor_name})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-white mb-1",children:"Categoria"}),s.jsx(X,{className:`${j(l.category)} text-white`,children:b(l.category)})]})]})]})})]})]}),d&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[s.jsx(A,{variant:"ghost",onClick:()=>u(null),className:"text-white hover:bg-white/10",children:" Voltar aos Mdulos"}),s.jsx("span",{className:"text-purple-400",children:""}),s.jsx("h1",{className:"text-3xl font-bold text-white",children:d.title})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[s.jsx("div",{className:"lg:col-span-2 space-y-4",children:i.map(S=>s.jsxs(M,{className:"bg-black/40 border-gray-700 hover:border-purple-500 transition-all duration-300",children:[s.jsxs($,{children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs(U,{className:"text-white flex items-center gap-2",children:[S.is_free?s.jsx(Rr,{className:"h-5 w-5 text-purple-400"}):s.jsx(af,{className:"h-5 w-5 text-yellow-500"}),S.title]}),s.jsx("div",{className:"flex items-center gap-2",children:S.duration_minutes&&s.jsxs(X,{variant:"secondary",className:"text-xs",children:[S.duration_minutes," min"]})})]}),S.description&&s.jsx(qt,{className:"text-gray-400",children:S.description})]}),s.jsx(O,{children:s.jsx(A,{className:"w-full bg-purple-600 hover:bg-purple-700",disabled:!S.is_free,children:S.is_free?s.jsxs(s.Fragment,{children:[s.jsx(Rr,{className:"h-4 w-4 mr-2"}),"Comear Aula"]}):s.jsxs(s.Fragment,{children:[s.jsx(af,{className:"h-4 w-4 mr-2"}),"Premium"]})})})]},S.id))}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs(M,{className:"bg-black/40 border-gray-700",children:[s.jsx($,{children:s.jsx(U,{className:"text-white",children:"Progresso do Mdulo"})}),s.jsx(O,{children:s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex justify-between text-sm text-gray-300",children:[s.jsx("span",{children:"Concludo"}),s.jsxs("span",{children:["0/",i.length]})]}),s.jsx(Ge,{value:0,className:"h-2"})]})})]}),s.jsxs(M,{className:"bg-black/40 border-gray-700",children:[s.jsx($,{children:s.jsx(U,{className:"text-white",children:"Sobre o Mdulo"})}),s.jsx(O,{children:s.jsx("p",{className:"text-gray-300",children:d.description})})]})]})]})]})]})}))},HMe=[{id:1,title:"Hidratao Perfeita",description:"Beba 2L de gua hoje",points:50,category:"hidratacao",progress:1800,target:2e3,unit:"ml",icon:Bi,color:"text-health-hydration",completed:!1,timeRemaining:"4h restantes"},{id:2,title:"Exerccio Matinal",description:"Faa 30min de exerccio",points:75,category:"exercicio",progress:45,target:30,unit:"min",icon:Te,color:"text-health-steps",completed:!0},{id:3,title:"Momento Mindfulness",description:"Medite por 10 minutos",points:30,category:"mente",progress:0,target:10,unit:"min",icon:ds,color:"text-accent",completed:!1,timeRemaining:"Todo o dia"},{id:4,title:"Alimentao Consciente",description:"5 pores de frutas/vegetais",points:60,category:"nutricao",progress:3,target:5,unit:"pores",icon:KS,color:"text-success",completed:!1,timeRemaining:"8h restantes"},{id:5,title:"Sono Reparador",description:"Dormir 8 horas de qualidade",points:40,category:"sono",progress:0,target:8,unit:"horas",icon:ii,color:"text-warning",completed:!1,timeRemaining:"Hoje  noite"}],Xr={totalPoints:1250,weeklyGoal:2e3,streak:5,level:8,nextLevelPoints:300},KMe=[{id:1,title:"Hidratao Master",description:"7 dias seguidos de meta de gua",icon:Bi,unlocked:!0},{id:2,title:"Guerreiro Fitness",description:"30 dias de exerccio",icon:Be,unlocked:!0},{id:3,title:"Mente Zen",description:"14 dias de meditao",icon:ds,unlocked:!1},{id:4,title:"Nutrio Perfect",description:"21 dias de alimentao saudvel",icon:KS,unlocked:!1}],GMe=({mission:e,onUpdateProgress:t})=>{const r=e.icon,a=Math.min(e.progress/e.target*100,100),n=()=>{if(!e.completed){const o=e.category==="hidratacao"?250:1;t(e.id,Math.min(e.progress+o,e.target))}},i=()=>{if(!e.completed){const o=e.category==="hidratacao"?250:1;t(e.id,Math.max(e.progress-o,0))}};return s.jsxs(M,{className:xe("mission-card relative overflow-hidden",e.completed&&"bg-success/5 border-success/20"),children:[e.completed&&s.jsx("div",{className:"absolute top-3 right-3 bg-success text-white p-1 rounded-full",children:s.jsx(Dc,{className:"w-3 h-3"})}),s.jsx($,{className:"pb-3",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:xe("p-2 rounded-lg bg-gradient-to-br from-primary/20 to-primary/5",e.completed&&"from-success/20 to-success/5"),children:s.jsx(r,{className:xe("w-5 h-5",e.color)})}),s.jsxs("div",{children:[s.jsx(U,{className:"text-sm font-semibold",children:e.title}),s.jsx(qt,{className:"text-xs",children:e.description})]})]}),s.jsxs(X,{variant:e.completed?"default":"secondary",className:"text-xs",children:["+",e.points," pts"]})]})}),s.jsxs(O,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsxs("span",{className:"text-muted-foreground",children:[e.progress," / ",e.target," ",e.unit]}),s.jsxs("span",{className:"font-medium",children:[Math.round(a),"%"]})]}),s.jsx(Ge,{value:a,className:xe("h-2",e.completed&&"bg-success/20")})]}),!e.completed&&s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(A,{size:"icon",variant:"outline",className:"h-8 w-8",onClick:i,disabled:e.progress===0,children:s.jsx(YN,{className:"w-3 h-3"})}),s.jsx(A,{size:"icon",variant:"outline",className:"h-8 w-8",onClick:n,disabled:e.progress>=e.target,children:s.jsx(_s,{className:"w-3 h-3"})})]}),e.timeRemaining&&s.jsxs("div",{className:"flex items-center space-x-1 text-xs text-muted-foreground",children:[s.jsx(Xt,{className:"w-3 h-3"}),s.jsx("span",{children:e.timeRemaining})]})]}),e.completed&&s.jsxs("div",{className:"flex items-center justify-center space-x-2 text-success text-sm font-medium",children:[s.jsx(Dc,{className:"w-4 h-4"}),s.jsx("span",{children:"Misso Completa!"})]})]})]})};function YMe({user:e}={}){const[t,r]=p.useState(HMe),[a,n]=p.useState([]),[i,o]=p.useState(!0),{toast:l}=Ee();p.useEffect(()=>{e&&c()},[e]);const c=async()=>{try{const f=new Date().toISOString().split("T")[0],g=[],x=null;n(g||[]),(!g||g.length===0)&&await d()}catch(f){console.error("Erro ao carregar misses:",f)}finally{o(!1)}},d=async()=>{try{const f=new Date().toISOString().split("T")[0],g=[{user_id:e==null?void 0:e.id,date:f,mission_type:"hidratacao",title:"Hidratao Perfeita",description:"Beba 2L de gua hoje",target_value:2e3,current_value:0,points_reward:50},{user_id:e==null?void 0:e.id,date:f,mission_type:"exercicio",title:"Exerccio Dirio",description:"Faa 30min de exerccio",target_value:30,current_value:0,points_reward:75},{user_id:e==null?void 0:e.id,date:f,mission_type:"mindfulness",title:"Momento Mindfulness",description:"Medite por 10 minutos",target_value:10,current_value:0,points_reward:30}],x=null;l({title:"Misses Criadas! ",description:"Suas misses dirias foram geradas"}),c()}catch(f){console.error("Erro ao criar misses:",f)}},u=(f,g)=>{r(x=>x.map(y=>{if(y.id===f){const v=g>=y.target;return{...y,progress:g,completed:v}}return y}))},m=t.filter(f=>f.completed).length,h=t.filter(f=>f.completed).reduce((f,g)=>f+g.points,0);return s.jsxs("div",{className:"p-6 space-y-6 animate-fade-up",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-3xl font-bold text-foreground flex items-center space-x-2",children:[s.jsx(us,{className:"w-8 h-8 text-primary"}),s.jsx("span",{children:"Misso do Dia"})]}),s.jsx("p",{className:"text-muted-foreground",children:"Complete suas misses e ganhe pontos"})]}),s.jsxs("div",{className:"text-right",children:[s.jsxs("div",{className:"text-2xl font-bold text-primary",children:[h," pts"]}),s.jsx("div",{className:"text-sm text-muted-foreground",children:"Pontos hoje"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsx(M,{className:"stat-card",children:s.jsxs(O,{className:"flex items-center space-x-4 p-4",children:[s.jsx("div",{className:"p-2 bg-primary/10 rounded-lg",children:s.jsx(_e,{className:"w-5 h-5 text-primary"})}),s.jsxs("div",{children:[s.jsxs("div",{className:"text-2xl font-bold text-foreground",children:[m,"/5"]}),s.jsx("div",{className:"text-sm text-muted-foreground",children:"Misses Completas"})]})]})}),s.jsx(M,{className:"stat-card",children:s.jsxs(O,{className:"flex items-center space-x-4 p-4",children:[s.jsx("div",{className:"p-2 bg-success/10 rounded-lg",children:s.jsx(jt,{className:"w-5 h-5 text-success"})}),s.jsxs("div",{children:[s.jsx("div",{className:"text-2xl font-bold text-foreground",children:Xr.streak}),s.jsx("div",{className:"text-sm text-muted-foreground",children:"Dias Consecutivos"})]})]})}),s.jsx(M,{className:"stat-card",children:s.jsxs(O,{className:"flex items-center space-x-4 p-4",children:[s.jsx("div",{className:"p-2 bg-accent/10 rounded-lg",children:s.jsx(kt,{className:"w-5 h-5 text-accent"})}),s.jsxs("div",{children:[s.jsxs("div",{className:"text-2xl font-bold text-foreground",children:["Nvel ",Xr.level]}),s.jsxs("div",{className:"text-sm text-muted-foreground",children:[Xr.nextLevelPoints," pts prximo"]})]})]})}),s.jsx(M,{className:"stat-card",children:s.jsxs(O,{className:"flex items-center space-x-4 p-4",children:[s.jsx("div",{className:"p-2 bg-warning/10 rounded-lg",children:s.jsx(Be,{className:"w-5 h-5 text-warning"})}),s.jsxs("div",{children:[s.jsx("div",{className:"text-2xl font-bold text-foreground",children:Xr.totalPoints}),s.jsx("div",{className:"text-sm text-muted-foreground",children:"Pontos esta semana"})]})]})})]}),s.jsxs(M,{className:"health-card",children:[s.jsxs($,{children:[s.jsxs(U,{className:"flex items-center space-x-2",children:[s.jsx(Be,{className:"w-5 h-5 text-warning"}),s.jsx("span",{children:"Progresso Semanal"})]}),s.jsxs(qt,{children:["Meta semanal: ",Xr.weeklyGoal," pontos"]})]}),s.jsx(O,{children:s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsxs("span",{children:[Xr.totalPoints," / ",Xr.weeklyGoal," pontos"]}),s.jsxs("span",{children:[Math.round(Xr.totalPoints/Xr.weeklyGoal*100),"%"]})]}),s.jsx(Ge,{value:Xr.totalPoints/Xr.weeklyGoal*100,className:"h-3"}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:["Faltam ",Xr.weeklyGoal-Xr.totalPoints," pontos para atingir sua meta semanal"]})]})})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h2",{className:"text-xl font-semibold text-foreground",children:"Misses de Hoje"}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:t.map(f=>s.jsx(GMe,{mission:f,onUpdateProgress:u},f.id))})]}),s.jsxs(M,{className:"health-card",children:[s.jsxs($,{children:[s.jsxs(U,{className:"flex items-center space-x-2",children:[s.jsx(jt,{className:"w-5 h-5 text-warning"}),s.jsx("span",{children:"Conquistas"})]}),s.jsx(qt,{children:"Desbloqueie achievements especiais"})]}),s.jsx(O,{children:s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:KMe.map(f=>{const g=f.icon;return s.jsxs("div",{className:xe("flex items-center space-x-3 p-3 rounded-lg border transition-smooth",f.unlocked?"bg-success/5 border-success/20":"bg-muted/20 border-border/20 opacity-60"),children:[s.jsx("div",{className:xe("p-2 rounded-lg",f.unlocked?"bg-success/20 text-success":"bg-muted/20 text-muted-foreground"),children:s.jsx(g,{className:"w-5 h-5"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h4",{className:"font-medium text-sm",children:f.title}),s.jsx("p",{className:"text-xs text-muted-foreground",children:f.description})]}),f.unlocked&&s.jsx(Dc,{className:"w-5 h-5 text-success"})]},f.id)})})})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsx(M,{className:"mission-card cursor-pointer hover:scale-105 transition-transform",children:s.jsxs(O,{className:"flex items-center justify-between p-6",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"p-3 bg-primary/10 rounded-lg",children:s.jsx(He,{className:"w-6 h-6 text-primary"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold",children:"Registro de Peso"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Atualize sua pesagem"})]})]}),s.jsx(Pu,{className:"w-5 h-5 text-muted-foreground"})]})}),s.jsx(M,{className:"mission-card cursor-pointer hover:scale-105 transition-transform",children:s.jsxs(O,{className:"flex items-center justify-between p-6",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"p-3 bg-accent/10 rounded-lg",children:s.jsx(tp,{className:"w-6 h-6 text-accent"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold",children:"Dirio de Humor"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Como voc est se sentindo?"})]})]}),s.jsx(Pu,{className:"w-5 h-5 text-muted-foreground"})]})})]})]})}function o5(){return s.jsx("div",{className:"container mx-auto px-4 py-6",children:s.jsx(TP,{})})}const XMe=()=>{const e=am();return p.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",e.pathname)},[e.pathname]),s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:s.jsxs("div",{className:"text-center",children:[s.jsx("h1",{className:"text-4xl font-bold mb-4",children:"404"}),s.jsx("p",{className:"text-xl text-gray-600 mb-4",children:"Oops! Page not found"}),s.jsx("a",{href:"/",className:"text-blue-500 hover:text-blue-700 underline",children:"Return to Home"})]})})},QMe=()=>s.jsxs("div",{className:"p-8 space-y-4",children:[s.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"Teste de Cores"}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[s.jsxs("div",{className:"bg-primary text-primary-foreground p-4 rounded-lg",children:[s.jsx("h3",{className:"font-bold",children:"Primary"}),s.jsx("p",{children:"Cor primria"})]}),s.jsxs("div",{className:"bg-secondary text-secondary-foreground p-4 rounded-lg",children:[s.jsx("h3",{className:"font-bold",children:"Secondary"}),s.jsx("p",{children:"Cor secundria"})]}),s.jsxs("div",{className:"bg-accent text-accent-foreground p-4 rounded-lg",children:[s.jsx("h3",{className:"font-bold",children:"Accent"}),s.jsx("p",{children:"Cor de destaque"})]}),s.jsxs("div",{className:"bg-muted text-muted-foreground p-4 rounded-lg",children:[s.jsx("h3",{className:"font-bold",children:"Muted"}),s.jsx("p",{children:"Cor suave"})]}),s.jsxs("div",{className:"bg-destructive text-destructive-foreground p-4 rounded-lg",children:[s.jsx("h3",{className:"font-bold",children:"Destructive"}),s.jsx("p",{children:"Cor de erro"})]}),s.jsxs("div",{className:"bg-success text-success-foreground p-4 rounded-lg",children:[s.jsx("h3",{className:"font-bold",children:"Success"}),s.jsx("p",{children:"Cor de sucesso"})]}),s.jsxs("div",{className:"bg-warning text-warning-foreground p-4 rounded-lg",children:[s.jsx("h3",{className:"font-bold",children:"Warning"}),s.jsx("p",{children:"Cor de aviso"})]}),s.jsxs("div",{className:"bg-card text-card-foreground p-4 rounded-lg border",children:[s.jsx("h3",{className:"font-bold",children:"Card"}),s.jsx("p",{children:"Cor do card"})]})]}),s.jsxs("div",{className:"mt-8",children:[s.jsx("h2",{className:"text-2xl font-bold text-foreground mb-4",children:"Cores do Instituto"}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[s.jsx("div",{className:"bg-instituto-blue text-white p-4 rounded-lg",children:s.jsx("h3",{className:"font-bold",children:"Instituto Blue"})}),s.jsx("div",{className:"bg-instituto-green text-white p-4 rounded-lg",children:s.jsx("h3",{className:"font-bold",children:"Instituto Green"})}),s.jsx("div",{className:"bg-instituto-red text-white p-4 rounded-lg",children:s.jsx("h3",{className:"font-bold",children:"Instituto Red"})}),s.jsx("div",{className:"bg-instituto-gray text-white p-4 rounded-lg",children:s.jsx("h3",{className:"font-bold",children:"Instituto Gray"})})]})]}),s.jsxs("div",{className:"mt-8",children:[s.jsx("h2",{className:"text-2xl font-bold text-foreground mb-4",children:"Cores de Sade"}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[s.jsx("div",{className:"bg-health-heart text-white p-4 rounded-lg",children:s.jsx("h3",{className:"font-bold",children:"Heart"})}),s.jsx("div",{className:"bg-health-steps text-white p-4 rounded-lg",children:s.jsx("h3",{className:"font-bold",children:"Steps"})}),s.jsx("div",{className:"bg-health-calories text-white p-4 rounded-lg",children:s.jsx("h3",{className:"font-bold",children:"Calories"})}),s.jsx("div",{className:"bg-health-hydration text-white p-4 rounded-lg",children:s.jsx("h3",{className:"font-bold",children:"Hydration"})})]})]}),s.jsxs("div",{className:"mt-8",children:[s.jsx("h2",{className:"text-2xl font-bold text-foreground mb-4",children:"Gradientes"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsx("div",{className:"bg-gradient-primary text-white p-8 rounded-lg",children:s.jsx("h3",{className:"font-bold text-xl",children:"Gradient Primary"})}),s.jsx("div",{className:"bg-gradient-dark text-white p-8 rounded-lg",children:s.jsx("h3",{className:"font-bold text-xl",children:"Gradient Dark"})}),s.jsx("div",{className:"bg-gradient-card text-white p-8 rounded-lg",children:s.jsx("h3",{className:"font-bold text-xl",children:"Gradient Card"})}),s.jsx("div",{className:"bg-gradient-accent text-white p-8 rounded-lg",children:s.jsx("h3",{className:"font-bold text-xl",children:"Gradient Accent"})})]})]})]}),JMe=()=>{const[e,t]=p.useState({});return p.useEffect(()=>{const r=document.documentElement,a=getComputedStyle(r),n={"--background":a.getPropertyValue("--background"),"--foreground":a.getPropertyValue("--foreground"),"--primary":a.getPropertyValue("--primary"),"--secondary":a.getPropertyValue("--secondary"),"--accent":a.getPropertyValue("--accent"),"--muted":a.getPropertyValue("--muted"),"--destructive":a.getPropertyValue("--destructive"),"--success":a.getPropertyValue("--success"),"--warning":a.getPropertyValue("--warning"),"--card":a.getPropertyValue("--card"),"--card-foreground":a.getPropertyValue("--card-foreground"),"--instituto-blue":a.getPropertyValue("--instituto-blue"),"--instituto-green":a.getPropertyValue("--instituto-green"),"--instituto-red":a.getPropertyValue("--instituto-red"),"--instituto-gray":a.getPropertyValue("--instituto-gray"),"--health-heart":a.getPropertyValue("--health-heart"),"--health-steps":a.getPropertyValue("--health-steps"),"--health-calories":a.getPropertyValue("--health-calories"),"--health-hydration":a.getPropertyValue("--health-hydration")};t(n)},[]),s.jsxs("div",{className:"p-8 space-y-6",children:[s.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"Debug de Variveis CSS"}),s.jsxs("div",{className:"bg-card p-6 rounded-lg border",children:[s.jsx("h2",{className:"text-xl font-bold mb-4",children:"Variveis CSS Detectadas:"}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:Object.entries(e).map(([r,a])=>s.jsxs("div",{className:"bg-muted p-3 rounded",children:[s.jsx("div",{className:"font-mono text-sm text-muted-foreground",children:r}),s.jsx("div",{className:"font-mono text-sm font-bold",children:a||"no definida"})]},r))})]}),s.jsxs("div",{className:"bg-card p-6 rounded-lg border",children:[s.jsx("h2",{className:"text-xl font-bold mb-4",children:"Teste de Cores com HSL:"}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[s.jsx("div",{className:"p-4 rounded-lg text-white",style:{backgroundColor:`hsl(${e["--primary"]})`},children:"Primary"}),s.jsx("div",{className:"p-4 rounded-lg text-white",style:{backgroundColor:`hsl(${e["--secondary"]})`},children:"Secondary"}),s.jsx("div",{className:"p-4 rounded-lg text-white",style:{backgroundColor:`hsl(${e["--accent"]})`},children:"Accent"}),s.jsx("div",{className:"p-4 rounded-lg text-white",style:{backgroundColor:`hsl(${e["--destructive"]})`},children:"Destructive"})]})]}),s.jsxs("div",{className:"bg-card p-6 rounded-lg border",children:[s.jsx("h2",{className:"text-xl font-bold mb-4",children:"Teste de Classes Tailwind:"}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[s.jsx("div",{className:"bg-primary text-primary-foreground p-4 rounded-lg",children:"bg-primary"}),s.jsx("div",{className:"bg-secondary text-secondary-foreground p-4 rounded-lg",children:"bg-secondary"}),s.jsx("div",{className:"bg-accent text-accent-foreground p-4 rounded-lg",children:"bg-accent"}),s.jsx("div",{className:"bg-destructive text-destructive-foreground p-4 rounded-lg",children:"bg-destructive"})]})]}),s.jsxs("div",{className:"bg-card p-6 rounded-lg border",children:[s.jsx("h2",{className:"text-xl font-bold mb-4",children:"Teste de Cores do Instituto:"}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[s.jsx("div",{className:"bg-instituto-blue text-white p-4 rounded-lg",children:"bg-instituto-blue"}),s.jsx("div",{className:"bg-instituto-green text-white p-4 rounded-lg",children:"bg-instituto-green"}),s.jsx("div",{className:"bg-instituto-red text-white p-4 rounded-lg",children:"bg-instituto-red"}),s.jsx("div",{className:"bg-instituto-gray text-white p-4 rounded-lg",children:"bg-instituto-gray"})]})]}),s.jsxs("div",{className:"bg-card p-6 rounded-lg border",children:[s.jsx("h2",{className:"text-xl font-bold mb-4",children:"Teste de Cores de Sade:"}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[s.jsx("div",{className:"bg-health-heart text-white p-4 rounded-lg",children:"bg-health-heart"}),s.jsx("div",{className:"bg-health-steps text-white p-4 rounded-lg",children:"bg-health-steps"}),s.jsx("div",{className:"bg-health-calories text-white p-4 rounded-lg",children:"bg-health-calories"}),s.jsx("div",{className:"bg-health-hydration text-white p-4 rounded-lg",children:"bg-health-hydration"})]})]})]})},ZMe=({title:e,data:t,showRisk:r=!0,showSymptoms:a=!0,className:n=""})=>{var l,c;const i=d=>d<18.5?{status:"Baixo Peso",color:"#3B82F6"}:d<25?{status:"Normal",color:"#10B981"}:d<30?{status:"Sobrepeso",color:"#F59E0B"}:d<35?{status:"Obesidade I",color:"#F97316"}:{status:"Obesidade II/III",color:"#EF4444"},o=t.imc?i(t.imc):null;return s.jsxs(M,{className:`bg-black text-white border-gray-800 ${n}`,children:[s.jsx($,{children:s.jsx(U,{className:"text-yellow-400 text-center",children:e})}),s.jsxs(O,{className:"p-6",children:[s.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-6",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-yellow-400 text-sm font-medium",children:"IMC"}),s.jsxs("div",{className:"text-white text-lg font-bold",children:[(l=t.imc)==null?void 0:l.toFixed(1)," Kg/m"]})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-yellow-400 text-sm font-medium",children:"Idade"}),s.jsxs("div",{className:"text-white text-lg font-bold",children:[t.idade," anos"]})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-yellow-400 text-sm font-medium",children:"Taxa Metablica Basal"}),s.jsxs("div",{className:"text-white text-lg font-bold",children:[(c=t.tmb)==null?void 0:c.toLocaleString()," kcal/24h"]})]})]}),s.jsxs("div",{className:"relative flex justify-center items-center mb-6",children:[s.jsxs("div",{className:"absolute left-4 top-0 h-full flex flex-col items-center",children:[s.jsx("div",{className:"w-1 h-full bg-gray-600"}),s.jsxs("div",{className:"text-white text-sm mt-2",children:[t.altura," cm"]})]}),s.jsxs("div",{className:"relative",children:[s.jsx("img",{src:"/images/silhueta.svg",alt:"Silhueta Humana",width:"200",height:"300",className:"text-white",style:{opacity:.8,filter:"brightness(0) invert(1)"}}),t.circunferencia&&s.jsx("svg",{width:"200",height:"300",viewBox:"0 0 200 300",className:"absolute inset-0 pointer-events-none",children:s.jsx("line",{x1:"50",y1:"140",x2:"150",y2:"140",stroke:"#F97316",strokeWidth:"3",strokeDasharray:"5,5"})})]}),t.circunferencia&&s.jsx("div",{className:"absolute top-32 right-0 transform translate-x-4",children:s.jsxs("div",{className:"text-white text-sm font-bold",children:[t.circunferencia," cm"]})}),t.peso&&s.jsx("div",{className:"absolute bottom-0 right-0 transform translate-x-4",children:s.jsxs("div",{className:"text-white text-sm font-bold",children:[t.peso," kg"]})})]}),s.jsxs("div",{className:"flex flex-col gap-2",children:[s.jsxs("button",{className:"bg-red-600 text-white px-4 py-2 rounded flex items-center gap-2",children:[s.jsx(ch,{size:"sm",variant:"filled",color:"white"}),s.jsx("span",{children:"avva"})]}),r&&s.jsxs("button",{className:"bg-blue-600 text-white px-4 py-2 rounded flex items-center gap-2",children:[s.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})}),s.jsx("span",{children:"Risco"})]}),a&&s.jsxs("button",{className:"bg-green-600 text-white px-4 py-2 rounded flex items-center gap-2",children:[s.jsxs("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 3.055A9.001 9.001 0 1020.945 13H11V3.055z"}),s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20.488 9H15V3.512A9.025 9.025 0 0120.488 9z"})]}),s.jsx("span",{children:"Sintomas"})]})]}),o&&s.jsxs("div",{className:"mt-4 text-center",children:[s.jsx("div",{className:"text-sm text-gray-400",children:"Status IMC:"}),s.jsx("div",{className:"text-lg font-bold",style:{color:o.color},children:o.status})]})]})]})},eOe=({data:e,className:t=""})=>s.jsxs(M,{className:`bg-black text-white border-gray-800 ${t}`,children:[s.jsx($,{children:s.jsx(U,{className:"text-yellow-400 text-center",children:"Composio Corporal"})}),s.jsxs(O,{className:"p-6",children:[s.jsxs("div",{className:"relative flex justify-center items-center",children:[s.jsx("img",{src:"/images/silhueta.svg",alt:"Silhueta Humana",width:"200",height:"300",className:"text-white",style:{opacity:.8,filter:"brightness(0) invert(1)"}}),s.jsxs("svg",{width:"200",height:"300",viewBox:"0 0 200 300",className:"absolute inset-0 pointer-events-none",children:[s.jsx("defs",{children:s.jsxs("linearGradient",{id:"bodyGradient",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[s.jsx("stop",{offset:"0%",stopColor:"#F59E0B",stopOpacity:"0.3"}),s.jsx("stop",{offset:"25%",stopColor:"#10B981",stopOpacity:"0.3"}),s.jsx("stop",{offset:"50%",stopColor:"#3B82F6",stopOpacity:"0.3"}),s.jsx("stop",{offset:"75%",stopColor:"#8B5CF6",stopOpacity:"0.3"}),s.jsx("stop",{offset:"100%",stopColor:"#F59E0B",stopOpacity:"0.3"})]})}),s.jsx("rect",{x:"0",y:"0",width:"200",height:"300",fill:"url(#bodyGradient)"})]}),s.jsxs("div",{className:"absolute inset-0 pointer-events-none",children:[s.jsxs("div",{className:"absolute top-4 right-4 flex flex-col items-center bg-black/90 p-3 rounded-lg backdrop-blur-sm border border-yellow-500/30",children:[s.jsx("div",{className:"w-3 h-3 bg-yellow-500 rounded-full mb-1"}),s.jsxs("span",{className:"text-yellow-400 text-lg font-bold",children:[e.gordura.toFixed(1),"%"]}),s.jsx("span",{className:"text-yellow-400 text-xs",children:"Gordura"})]}),s.jsxs("div",{className:"absolute top-4 left-4 flex flex-col items-center bg-black/90 p-3 rounded-lg backdrop-blur-sm border border-green-500/30",children:[s.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full mb-1"}),s.jsxs("span",{className:"text-green-400 text-lg font-bold",children:[e.musculo.toFixed(1),"%"]}),s.jsx("span",{className:"text-green-400 text-xs",children:"Msculo"})]}),s.jsxs("div",{className:"absolute bottom-4 right-4 flex flex-col items-center bg-black/90 p-3 rounded-lg backdrop-blur-sm border border-blue-500/30",children:[s.jsx("div",{className:"w-3 h-3 bg-blue-500 rounded-full mb-1"}),s.jsxs("span",{className:"text-blue-400 text-lg font-bold",children:[e.agua.toFixed(1),"%"]}),s.jsx("span",{className:"text-blue-400 text-xs",children:"gua"})]}),s.jsxs("div",{className:"absolute bottom-4 left-4 flex flex-col items-center bg-black/90 p-3 rounded-lg backdrop-blur-sm border border-purple-500/30",children:[s.jsx("div",{className:"w-3 h-3 bg-purple-500 rounded-full mb-1"}),s.jsxs("span",{className:"text-purple-400 text-lg font-bold",children:[e.osso.toFixed(1),"%"]}),s.jsx("span",{className:"text-purple-400 text-xs",children:"Osso"})]})]})]}),s.jsxs("div",{className:"mt-6 grid grid-cols-2 gap-6 text-center",children:[s.jsxs("div",{className:"bg-yellow-500/10 rounded-lg p-4 border border-yellow-500/20",children:[s.jsx("div",{className:"text-yellow-400 text-xs font-medium mb-1",children:"Gordura Corporal"}),s.jsxs("div",{className:"text-yellow-400 text-2xl font-bold",children:[e.gordura.toFixed(1),"%"]})]}),s.jsxs("div",{className:"bg-green-500/10 rounded-lg p-4 border border-green-500/20",children:[s.jsx("div",{className:"text-green-400 text-xs font-medium mb-1",children:"Massa Muscular"}),s.jsxs("div",{className:"text-green-400 text-2xl font-bold",children:[e.musculo.toFixed(1),"%"]})]}),s.jsxs("div",{className:"bg-blue-500/10 rounded-lg p-4 border border-blue-500/20",children:[s.jsx("div",{className:"text-blue-400 text-xs font-medium mb-1",children:"gua Corporal"}),s.jsxs("div",{className:"text-blue-400 text-2xl font-bold",children:[e.agua.toFixed(1),"%"]})]}),s.jsxs("div",{className:"bg-purple-500/10 rounded-lg p-4 border border-purple-500/20",children:[s.jsx("div",{className:"text-purple-400 text-xs font-medium mb-1",children:"Massa ssea"}),s.jsxs("div",{className:"text-purple-400 text-2xl font-bold",children:[e.osso.toFixed(1),"%"]})]})]})]})]}),Nw=({data:e,className:t=""})=>{var l,c;const r=Math.max(...e.map(d=>d.value)),a=Math.min(...e.map(d=>d.value)),n=r-a,i=d=>{switch(d){case"peso":return"#F97316";case"imc":return"#3B82F6";case"gordura":return"#F59E0B";default:return"#10B981"}},o=[...e].reverse();return s.jsxs(M,{className:`bg-black text-white border-gray-800 ${t}`,children:[s.jsx($,{children:s.jsx(U,{className:"text-yellow-400 text-center",children:"Evoluo Corporal"})}),s.jsxs(O,{className:"p-6",children:[s.jsxs("div",{className:"relative flex justify-center items-center",children:[s.jsx("img",{src:"/images/silhueta.svg",alt:"Silhueta Humana",width:"200",height:"300",className:"text-white",style:{opacity:.3,filter:"brightness(0) invert(1)"}}),s.jsxs("svg",{width:"200",height:"300",viewBox:"0 0 200 300",className:"absolute inset-0 pointer-events-none",children:[s.jsx("polyline",{points:o.map((d,u)=>{const m=70+u/(o.length-1)*60,f=170-(d.value-a)/n*100;return`${m},${f}`}).join(" "),fill:"none",stroke:i(((l=o[0])==null?void 0:l.type)||"peso"),strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round"}),o.map((d,u)=>{const m=70+u/(o.length-1)*60,f=170-(d.value-a)/n*100,g=u===0?8:Math.max(3,8-u*1.5);return s.jsx("circle",{cx:m,cy:f,r:g,fill:i(d.type),stroke:"white",strokeWidth:"2"},u)})]}),s.jsx("div",{className:"absolute right-0 top-0 space-y-2",children:o.map((d,u)=>s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:`rounded-full ${u===0?"w-4 h-4":"w-3 h-3"}`,style:{backgroundColor:i(d.type)}}),s.jsxs("div",{className:"text-sm",children:[s.jsxs("div",{className:`${u===0?"font-bold text-yellow-400":"text-gray-300"}`,children:[d.value.toFixed(1)," kg"]}),s.jsxs("div",{className:"text-xs text-gray-400",children:[d.date," s ",d.time]})]})]},u))})]}),s.jsxs("div",{className:"mt-4 text-center",children:[s.jsx("div",{className:"text-yellow-400 text-sm",children:"Tendncia"}),s.jsx("div",{className:"text-white text-lg font-bold",children:o.length>1?o[0].value>o[o.length-1].value?" Aumentando":" Diminuindo":" Estvel"}),s.jsxs("div",{className:"text-sm text-gray-400 mt-1",children:["Peso atual: ",s.jsxs("span",{className:"text-yellow-400 font-bold",children:[(c=o[0])==null?void 0:c.value.toFixed(1)," kg"]})]})]})]})]})},tOe=()=>{const e={imc:33.9,idade:43,tmb:1459,peso:90.1,altura:163,circunferencia:99},t={gordura:44.1,musculo:24,agua:39.9,osso:15},r=[{date:"15/01",time:"08:30",value:88.5,type:"peso"},{date:"22/01",time:"09:15",value:89.2,type:"peso"},{date:"29/01",time:"08:45",value:89.8,type:"peso"},{date:"05/02",time:"09:00",value:90.3,type:"peso"},{date:"12/02",time:"08:30",value:90.1,type:"peso"}],a=[{date:"15/01",time:"08:30",value:33.2,type:"imc"},{date:"22/01",time:"09:15",value:33.5,type:"imc"},{date:"29/01",time:"08:45",value:33.8,type:"imc"},{date:"05/02",time:"09:00",value:34.1,type:"imc"},{date:"12/02",time:"08:30",value:33.9,type:"imc"}],n=[{date:"15/01",time:"08:30",value:42.1,type:"gordura"},{date:"22/01",time:"09:15",value:42.8,type:"gordura"},{date:"29/01",time:"08:45",value:43.2,type:"gordura"},{date:"05/02",time:"09:00",value:43.8,type:"gordura"},{date:"12/02",time:"08:30",value:44.1,type:"gordura"}];return s.jsx("div",{className:"min-h-screen bg-background p-6",children:s.jsxs("div",{className:"max-w-7xl mx-auto space-y-6",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("h1",{className:"text-4xl font-bold text-foreground mb-2",children:"Grficos Dentro do Corpo"}),s.jsx("p",{className:"text-muted-foreground text-lg",children:"Visualizao inovadora de dados de sade representados dentro de silhuetas humanas, criando uma experincia mais intuitiva e personalizada."})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-xl font-semibold mb-4",children:"Grfico Principal - Peso, Altura e TMB"}),s.jsx(ZMe,{title:"Peso, Altura e TMB",data:e,showRisk:!0,showSymptoms:!0})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-xl font-semibold mb-4",children:"Composio Corporal"}),s.jsx(eOe,{data:t})]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-xl font-semibold mb-4",children:"Evoluo do Peso"}),s.jsx(Nw,{data:r})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-xl font-semibold mb-4",children:"Evoluo do IMC"}),s.jsx(Nw,{data:a})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-xl font-semibold mb-4",children:"Evoluo da Gordura Corporal"}),s.jsx(Nw,{data:n})]})]}),s.jsxs(M,{children:[s.jsx($,{children:s.jsx(U,{children:"Caractersticas dos Grficos Dentro do Corpo"})}),s.jsx(O,{children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold mb-2",children:" Visualizao Intuitiva"}),s.jsxs("ul",{className:"text-sm text-muted-foreground space-y-1",children:[s.jsx("li",{children:" Dados representados dentro da silhueta humana"}),s.jsx("li",{children:" Fcil compreenso da localizao dos dados"}),s.jsx("li",{children:" Conexo visual entre dados e corpo"}),s.jsx("li",{children:" Medidas posicionadas corretamente"})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold mb-2",children:" Design Moderno"}),s.jsxs("ul",{className:"text-sm text-muted-foreground space-y-1",children:[s.jsx("li",{children:" Tema escuro profissional"}),s.jsx("li",{children:" Cores contrastantes e legveis"}),s.jsx("li",{children:" Interface limpa e organizada"}),s.jsx("li",{children:" Gradientes coloridos para composio"})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold mb-2",children:" Dados Contextuais"}),s.jsxs("ul",{className:"text-sm text-muted-foreground space-y-1",children:[s.jsx("li",{children:" Linhas de referncia na silhueta"}),s.jsx("li",{children:" Informaes complementares"}),s.jsx("li",{children:" Botes de ao integrados"}),s.jsx("li",{children:" Status de sade em tempo real"})]})]})]})})]}),s.jsxs(M,{children:[s.jsx($,{children:s.jsx(U,{children:"Como Implementar"})}),s.jsx(O,{children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold mb-2",children:"1. Importar Componentes"}),s.jsx("pre",{className:"bg-muted p-3 rounded text-sm overflow-x-auto",children:"import { BodyChart, BodyCompositionChart, BodyTrendChart } from '@/components/ui/body-chart';"})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold mb-2",children:"2. Preparar Dados"}),s.jsx("pre",{className:"bg-muted p-3 rounded text-sm overflow-x-auto",children:`const bodyData = {
  imc: 33.9,
  idade: 43,
  tmb: 1459,
  peso: 90.1,
  altura: 163,
  circunferencia: 99.0
};`})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold mb-2",children:"3. Usar Componente"}),s.jsx("pre",{className:"bg-muted p-3 rounded text-sm overflow-x-auto",children:`<BodyChart 
  title="Peso, Altura e TMB" 
  data={bodyData} 
  showRisk={true} 
  showSymptoms={true} 
/>`})]})]})})]}),s.jsxs(M,{children:[s.jsx($,{children:s.jsx(U,{children:"Vantagens dos Grficos Dentro do Corpo"})}),s.jsx(O,{children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold",children:" Experincia Personalizada"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Os dados so representados dentro de uma silhueta humana, criando uma conexo emocional e personalizada com o usurio."})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold",children:" Compreenso Intuitiva"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"A localizao dos dados dentro da silhueta facilita a compreenso da relao entre as medidas e o corpo."})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold",children:" Design Inovador"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Interface moderna com tema escuro e cores contrastantes, criando uma experincia visual nica."})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold",children:" Dados Contextuais"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Medidas posicionadas corretamente na silhueta, com linhas de referncia e informaes complementares."})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold",children:" Interatividade"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Botes de ao integrados para anlise de risco, sintomas e outras funcionalidades de sade."})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold",children:" Flexibilidade"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Mltiplos tipos de grficos (composio, tendncias, medidas) que podem ser facilmente personalizados."})]})]})]})})]})]})})},sOe=()=>{const{physicalData:e}=CP(),{toast:t}=Ee(),[r,a]=p.useState({peso_kg:"",circunferencia_abdominal_cm:""}),[n,i]=p.useState(165),[o,l]=p.useState(!1);p.useEffect(()=>{e!=null&&e.altura_cm&&i(e.altura_cm)},[e]);const c=async h=>{var f;if(h.preventDefault(),!r.peso_kg){t({title:"Campo obrigatrio",description:"Por favor, informe seu peso.",variant:"destructive"});return}try{l(!0);const{data:{user:g}}=await z.auth.getUser();if(!g)throw new Error("Usurio no autenticado");if(console.log("Iniciando salvamento de pesagem..."),console.log("Usurio:",g.id),console.log("Dados fsicos existentes:",e),!e){console.log("Criando dados fsicos...");const{data:N,error:w}=await z.from("user_physical_data").upsert({user_id:g.id,altura_cm:n,idade:30,sexo:"masculino",nivel_atividade:"moderado"}).select().single();if(w)throw console.error("Erro ao criar dados fsicos:",w),new Error(`Erro ao criar dados fsicos: ${w.message}`);console.log("Dados fsicos criados:",N)}const x=n/100,y=parseFloat(r.peso_kg)/(x*x);console.log("Salvando pesagem..."),console.log("Peso:",r.peso_kg),console.log("Altura:",n),console.log("IMC calculado:",y);let v="normal";y<18.5?v="baixo_peso":y>=25&&y<30?v="sobrepeso":y>=30&&y<35?v="obesidade_grau1":y>=35&&y<40?v="obesidade_grau2":y>=40&&(v="obesidade_grau3");const{data:b,error:j}=await z.from("weight_measurements").insert({user_id:g.id,peso_kg:parseFloat(r.peso_kg),circunferencia_abdominal_cm:r.circunferencia_abdominal_cm?parseFloat(r.circunferencia_abdominal_cm):void 0,imc:y,risco_metabolico:v,device_type:"manual",notes:"Entrada manual",measurement_date:new Date().toISOString()}).select().single();if(j)throw console.error("Erro ao salvar pesagem:",j),new Error(`Erro ao salvar pesagem: ${j.message}`);console.log("Pesagem salva com sucesso:",b),a({peso_kg:"",circunferencia_abdominal_cm:""}),t({title:"Pesagem salva!",description:`Peso: ${b.peso_kg}kg | IMC: ${(f=b.imc)==null?void 0:f.toFixed(1)} registrado com sucesso. A pgina ser atualizada em 7 segundos.`}),setTimeout(()=>{window.location.reload()},7e3)}catch(g){console.error("Erro completo:",g),t({title:"Erro",description:g instanceof Error?g.message:"Erro ao salvar pesagem. Tente novamente.",variant:"destructive"})}finally{l(!1)}},d=h=>{const f=n/100;return h/(f*f)},u=h=>h<18.5?{text:"Abaixo do peso",color:"text-blue-500"}:h<25?{text:"Peso normal",color:"text-green-500"}:h<30?{text:"Sobrepeso",color:"text-yellow-500"}:{text:"Obesidade",color:"text-red-500"},m=r.peso_kg?d(parseFloat(r.peso_kg)):null;return s.jsxs(M,{className:"w-full max-w-md mx-auto",children:[s.jsx($,{children:s.jsxs(U,{className:"flex items-center gap-2",children:[s.jsx(_t,{className:"h-5 w-5"}),"Nova Pesagem Manual"]})}),s.jsx(O,{children:s.jsxs("form",{onSubmit:c,className:"space-y-6",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs(Y,{htmlFor:"altura",className:"flex items-center gap-2",children:[s.jsx(of,{className:"h-4 w-4"}),"Altura (cm)"]}),s.jsx(re,{id:"altura",type:"number",step:"0.1",min:"100",max:"250",value:n,onChange:h=>i(parseFloat(h.target.value)||165),placeholder:"165",disabled:!!(e!=null&&e.altura_cm)}),e!=null&&e.altura_cm?s.jsxs("p",{className:"text-xs text-muted-foreground",children:["Altura cadastrada: ",e.altura_cm,"cm"]}):s.jsx("p",{className:"text-xs text-muted-foreground",children:"Altura padro: 165cm (ser salva automaticamente)"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(Y,{htmlFor:"peso",className:"flex items-center gap-2 text-primary",children:[s.jsx(_t,{className:"h-4 w-4"}),"Peso (kg) *"]}),s.jsx(re,{id:"peso",type:"number",step:"0.1",min:"30",max:"300",value:r.peso_kg,onChange:h=>a({...r,peso_kg:h.target.value}),placeholder:"72.5",required:!0,className:"text-lg"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(Y,{htmlFor:"cintura",className:"flex items-center gap-2",children:[s.jsx(of,{className:"h-4 w-4"}),"Permetro da Cintura (cm)"]}),s.jsx(re,{id:"cintura",type:"number",step:"0.1",min:"50",max:"150",value:r.circunferencia_abdominal_cm,onChange:h=>a({...r,circunferencia_abdominal_cm:h.target.value}),placeholder:"85.5"})]}),m&&s.jsxs("div",{className:"p-4 bg-muted rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(GZ,{className:"h-4 w-4"}),s.jsx("span",{className:"font-medium",children:"IMC Calculado"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-2xl font-bold",children:m.toFixed(1)}),s.jsx("p",{className:`text-sm ${u(m).color}`,children:u(m).text})]})]}),s.jsx(A,{type:"submit",disabled:o,className:"w-full",children:o?"Salvando...":"Salvar Pesagem"})]})})]})},rOe=({trigger:e,onDataReceived:t})=>{var D;const[r,a]=p.useState(!1),[n,i]=p.useState(!1),[o,l]=p.useState(null),[c,d]=p.useState(null),[u,m]=p.useState(null),[h,f]=p.useState(null),[g,x]=p.useState(!1),[y,v]=p.useState(!1),{toast:b}=Ee(),j=async()=>{var I;try{i(!0);const V=await navigator.bluetooth.requestDevice({acceptAllDevices:!0,optionalServices:["0000181d-0000-1000-8000-00805f9b34fb","0000180f-0000-1000-8000-00805f9b34fb","0000181b-0000-1000-8000-00805f9b34fb"]});if(V){const W=await((I=V.gatt)==null?void 0:I.connect());W&&(l(V),d(W),a(!0),await N(W),await _(W),b({title:"Balana conectada!",description:`Conectado com ${V.name}`}))}}catch(V){console.error("Erro ao conectar:",V),b({title:"Erro de conexo",description:V.message,variant:"destructive"})}finally{i(!1)}},N=async I=>{try{const W=await(await I.getPrimaryService("0000181d-0000-1000-8000-00805f9b34fb")).getCharacteristic("00002a98-0000-1000-8000-00805f9b34fb");await W.startNotifications(),W.addEventListener("characteristicvaluechanged",w)}catch(V){console.log("Erro ao configurar notificaes:",V)}},w=I=>{var R;const V=I.target.value,W=S(V);W.weight&&(f(W),t==null||t(W),b({title:"Peso registrado!",description:`${W.weight}kg - IMC: ${(R=W.bmi)==null?void 0:R.toFixed(1)}`}))},S=I=>{const V=new Uint8Array(I.buffer),W=V[1]+(V[2]<<8)/100,R=V[3],F=V[4]+(V[5]<<8)/100,H=V[6],Z=V[7]/100,K=W/Math.pow(170/100,2);return{weight:W,bodyFat:R,muscleMass:F,waterPercentage:H,boneMass:Z,bmi:K,timestamp:new Date}},_=async I=>{try{const F=(await(await(await I.getPrimaryService("0000180f-0000-1000-8000-00805f9b34fb")).getCharacteristic("00002a19-0000-1000-8000-00805f9b34fb")).readValue()).getUint8(0);m(F)}catch(V){console.log("Erro ao verificar bateria:",V)}},C=async()=>{if(!r){b({title:"Balana no conectada",description:"Conecte a balana primeiro",variant:"destructive"});return}x(!0),b({title:"Iniciando pesagem...",description:"Suba na balana para medir"}),setTimeout(()=>{x(!1)},1e4)},E=async()=>{var I;o&&((I=o.gatt)!=null&&I.connected)&&await o.gatt.disconnect(),a(!1),l(null),d(null),m(null),f(null),b({title:"Balana desconectada",description:"Conexo encerrada"})},k=n?{text:"Conectando...",color:"text-blue-500",icon:Te}:r?{text:"Conectado",color:"text-green-500",icon:Se}:{text:"Desconectado",color:"text-red-500",icon:za},P=k.icon;return s.jsxs(gt,{open:y,onOpenChange:v,children:[s.jsx(ir,{asChild:!0,children:e||s.jsxs(A,{variant:"outline",className:"w-full",children:[s.jsx(rf,{className:"mr-2 h-4 w-4"}),r?"Balana Conectada":"Conectar Balana"]})}),s.jsxs(vt,{className:"max-w-md",children:[s.jsxs(yt,{children:[s.jsxs(bt,{className:"flex items-center gap-2",children:[s.jsx(_t,{className:"h-5 w-5"}),"Balana Xiaomi"]}),s.jsx(Zi,{children:"Conecte e use sua balana Xiaomi Mi Body Scale 2"})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx(M,{children:s.jsxs(O,{className:"p-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(P,{className:`h-4 w-4 ${k.color}`}),s.jsx("span",{className:"font-medium",children:k.text})]}),r&&s.jsx(X,{variant:"secondary",children:(o==null?void 0:o.name)||"Balana"})]}),u!==null&&s.jsxs("div",{className:"mt-2 flex items-center gap-2",children:[s.jsx(e6,{className:"h-4 w-4 text-green-500"}),s.jsxs("span",{className:"text-sm",children:["Bateria: ",u,"%"]})]})]})}),h&&s.jsxs(M,{children:[s.jsx($,{children:s.jsx(U,{className:"text-sm",children:"ltima Pesagem"})}),s.jsx(O,{children:s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Peso:"}),s.jsxs("span",{className:"font-medium",children:[h.weight,"kg"]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"IMC:"}),s.jsx("span",{className:"font-medium",children:(D=h.bmi)==null?void 0:D.toFixed(1)})]}),h.bodyFat&&s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Gordura:"}),s.jsxs("span",{className:"font-medium",children:[h.bodyFat,"%"]})]}),h.muscleMass&&s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Msculo:"}),s.jsxs("span",{className:"font-medium",children:[h.muscleMass,"kg"]})]})]})})]}),s.jsx("div",{className:"space-y-2",children:r?s.jsxs(s.Fragment,{children:[s.jsx(A,{onClick:C,disabled:g,className:"w-full",children:g?s.jsxs(s.Fragment,{children:[s.jsx(Te,{className:"mr-2 h-4 w-4 animate-spin"}),"Pesando..."]}):s.jsxs(s.Fragment,{children:[s.jsx(Rr,{className:"mr-2 h-4 w-4"}),"Iniciar Pesagem"]})}),s.jsxs(A,{variant:"outline",onClick:E,className:"w-full",children:[s.jsx(o6,{className:"mr-2 h-4 w-4"}),"Desconectar"]})]}):s.jsx(A,{onClick:j,disabled:n,className:"w-full",children:n?s.jsxs(s.Fragment,{children:[s.jsx(Te,{className:"mr-2 h-4 w-4 animate-spin"}),"Conectando..."]}):s.jsxs(s.Fragment,{children:[s.jsx(rf,{className:"mr-2 h-4 w-4"}),"Conectar Balana"]})})}),s.jsx(M,{className:"bg-blue-50 border-blue-200",children:s.jsxs(O,{className:"p-4",children:[s.jsx("h4",{className:"font-medium text-blue-800 mb-2",children:" Instrues"}),s.jsxs("div",{className:"space-y-1 text-sm text-blue-700",children:[s.jsx("p",{children:" Certifique-se de que a balana est ligada"}),s.jsx("p",{children:" Fique prximo  balana durante a conexo"}),s.jsx("p",{children:" Suba na balana quando iniciar a pesagem"}),s.jsx("p",{children:" Aguarde a medio completa"})]})]})})]})]})]})},aOe=()=>{const[e,t]=p.useState(!1),[r,a]=p.useState(!1),[n,i]=p.useState({}),{toast:o}=Ee(),[l,c]=p.useState([{id:"bluetooth-support",title:"Verificar Suporte Bluetooth",description:"Testar se o navegador suporta Web Bluetooth API",status:"pending",action:async()=>{try{if(!navigator.bluetooth)throw new Error("Web Bluetooth no suportado");return i(x=>({...x,bluetoothSupported:!0})),Promise.resolve()}catch{throw new Error("Web Bluetooth no disponvel")}},solution:"Use Chrome, Edge ou Safari no macOS"},{id:"device-discovery",title:"Descoberta de Dispositivos",description:"Procurar por dispositivos Bluetooth prximos",status:"pending",action:async()=>{try{const x=await navigator.bluetooth.requestDevice({acceptAllDevices:!0,optionalServices:["0000181d-0000-1000-8000-00805f9b34fb"]});if(x)return i(y=>({...y,deviceFound:x.name})),Promise.resolve();throw new Error("Nenhum dispositivo encontrado")}catch(x){throw new Error("Erro na descoberta: "+x.message)}},solution:"Certifique-se de que a balana est ligada e prxima"},{id:"connection-test",title:"Teste de Conexo",description:"Tentar conectar com o dispositivo",status:"pending",action:async()=>{var x;try{if(await((x=(await navigator.bluetooth.requestDevice({acceptAllDevices:!0,optionalServices:["0000181d-0000-1000-8000-00805f9b34fb"]})).gatt)==null?void 0:x.connect()))return i(b=>({...b,connectionSuccessful:!0})),Promise.resolve();throw new Error("Falha na conexo GATT")}catch(y){throw new Error("Erro de conexo: "+y.message)}},solution:"Verifique se a balana no est conectada a outro dispositivo"},{id:"service-discovery",title:"Descoberta de Servios",description:"Verificar servios disponveis no dispositivo",status:"pending",action:async()=>{var x;try{const v=await((x=(await navigator.bluetooth.requestDevice({acceptAllDevices:!0,optionalServices:["0000181d-0000-1000-8000-00805f9b34fb","0000180f-0000-1000-8000-00805f9b34fb","0000181b-0000-1000-8000-00805f9b34fb"]})).gatt)==null?void 0:x.connect()),b=await(v==null?void 0:v.getPrimaryServices());if(b&&b.length>0)return i(j=>({...j,servicesFound:b.length})),Promise.resolve();throw new Error("Nenhum servio encontrado")}catch(y){throw new Error("Erro na descoberta de servios: "+y.message)}},solution:"A balana pode no estar no modo de descoberta"},{id:"battery-check",title:"Verificao de Bateria",description:"Verificar nvel de bateria da balana",status:"pending",action:async()=>{var x;try{const v=await((x=(await navigator.bluetooth.requestDevice({acceptAllDevices:!0,optionalServices:["0000180f-0000-1000-8000-00805f9b34fb"]})).gatt)==null?void 0:x.connect()),b=await(v==null?void 0:v.getPrimaryService("0000180f-0000-1000-8000-00805f9b34fb")),j=await(b==null?void 0:b.getCharacteristic("00002a19-0000-1000-8000-00805f9b34fb")),N=await(j==null?void 0:j.readValue());if(N){const w=N.getUint8(0);if(i(S=>({...S,batteryLevel:w})),w<20)throw new Error("Bateria baixa: "+w+"%");return Promise.resolve()}throw new Error("No foi possvel ler a bateria")}catch(y){throw new Error("Erro na verificao de bateria: "+y.message)}},solution:"Recarregue a balana se a bateria estiver baixa"},{id:"data-reception",title:"Teste de Recepo de Dados",description:"Verificar se os dados so recebidos corretamente",status:"pending",action:async()=>{try{return await new Promise(x=>setTimeout(x,2e3)),i(x=>({...x,dataReceptionTested:!0})),Promise.resolve()}catch{throw new Error("Erro no teste de recepo")}},solution:"Suba na balana para gerar dados de teste"}]),d=async()=>{a(!0);for(let x=0;x<l.length;x++){const y=l[x];c(v=>v.map((b,j)=>j===x?{...b,status:"running"}:b));try{y.action&&await y.action(),c(v=>v.map((b,j)=>j===x?{...b,status:"success"}:b))}catch(v){c(b=>b.map((j,N)=>N===x?{...j,status:"error"}:j)),o({title:`Problema detectado: ${y.title}`,description:v.message,variant:"destructive"})}}a(!1)},u=()=>{c(x=>x.map(y=>({...y,status:"pending"}))),i({})},m=x=>{switch(x){case"running":return s.jsx(Te,{className:"h-4 w-4 animate-spin"});case"success":return s.jsx(Se,{className:"h-4 w-4 text-green-500"});case"error":return s.jsx(za,{className:"h-4 w-4 text-red-500"});case"warning":return s.jsx(Bt,{className:"h-4 w-4 text-yellow-500"});default:return s.jsx(cg,{className:"h-4 w-4 text-gray-400"})}},h=x=>{switch(x){case"running":return"border-blue-500 bg-blue-50";case"success":return"border-green-500 bg-green-50";case"error":return"border-red-500 bg-red-50";case"warning":return"border-yellow-500 bg-yellow-50";default:return"border-gray-200 bg-gray-50"}},f=l.filter(x=>x.status==="success").length,g=l.filter(x=>x.status==="error").length;return l.length,s.jsxs(gt,{open:e,onOpenChange:t,children:[s.jsx(ir,{asChild:!0,children:s.jsxs(A,{variant:"outline",className:"w-full",children:[s.jsx(cg,{className:"mr-2 h-4 w-4"})," Diagnosticar Problemas"]})}),s.jsxs(vt,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[s.jsxs(yt,{children:[s.jsxs(bt,{className:"flex items-center gap-2",children:[s.jsx(cg,{className:"h-5 w-5"}),"Diagnstico da Balana Xiaomi"]}),s.jsx(Zi,{children:"Identifique e resolva problemas de conexo com sua balana Xiaomi"})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsx(M,{className:"bg-gradient-to-r from-blue-50 to-purple-50 border-blue-200",children:s.jsx(O,{className:"p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-blue-800",children:"Status do Diagnstico"}),s.jsxs("p",{className:"text-sm text-blue-600",children:[f," OK, ",g," problemas encontrados"]})]}),s.jsx(X,{variant:g===0?"default":"destructive",children:g===0?"Tudo OK":`${g} Problemas`})]})})}),s.jsx("div",{className:"space-y-3",children:l.map((x,y)=>s.jsx(M,{className:`border-2 ${h(x.status)}`,children:s.jsx(O,{className:"p-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[m(x.status),s.jsxs("div",{className:"flex-1",children:[s.jsx("h4",{className:"font-medium",children:x.title}),s.jsx("p",{className:"text-sm text-muted-foreground",children:x.description}),x.status==="error"&&x.solution&&s.jsx("div",{className:"mt-2 p-2 bg-yellow-50 border border-yellow-200 rounded",children:s.jsxs("div",{className:"flex items-center gap-1 text-yellow-700",children:[s.jsx(QS,{className:"h-3 w-3"}),s.jsxs("span",{className:"text-xs font-medium",children:["Soluo: ",x.solution]})]})})]}),s.jsxs(X,{variant:x.status==="error"?"destructive":"secondary",children:[x.status==="pending"&&"Pendente",x.status==="running"&&"Testando",x.status==="success"&&"OK",x.status==="error"&&"Erro",x.status==="warning"&&"Aviso"]})]})})},x.id))}),Object.keys(n).length>0&&s.jsxs(M,{children:[s.jsx($,{children:s.jsx(U,{className:"text-lg",children:"Resultados do Diagnstico"})}),s.jsx(O,{children:s.jsxs("div",{className:"space-y-2 text-sm",children:[n.bluetoothSupported&&s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(rf,{className:"h-4 w-4 text-green-500"}),s.jsx("span",{children:"Web Bluetooth suportado"})]}),n.deviceFound&&s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(_t,{className:"h-4 w-4 text-green-500"}),s.jsxs("span",{children:["Dispositivo encontrado: ",n.deviceFound]})]}),n.connectionSuccessful&&s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Se,{className:"h-4 w-4 text-green-500"}),s.jsx("span",{children:"Conexo estabelecida com sucesso"})]}),n.servicesFound&&s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(m6,{className:"h-4 w-4 text-green-500"}),s.jsxs("span",{children:[n.servicesFound," servios descobertos"]})]}),n.batteryLevel!==void 0&&s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(e6,{className:"h-4 w-4 text-green-500"}),s.jsxs("span",{children:["Bateria: ",n.batteryLevel,"%"]})]}),n.dataReceptionTested&&s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Te,{className:"h-4 w-4 text-green-500"}),s.jsx("span",{children:"Recepo de dados testada"})]})]})})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(A,{onClick:d,disabled:r,className:"flex-1",children:r?s.jsxs(s.Fragment,{children:[s.jsx(Te,{className:"mr-2 h-4 w-4 animate-spin"}),"Diagnosticando..."]}):s.jsxs(s.Fragment,{children:[s.jsx(um,{className:"mr-2 h-4 w-4"}),"Executar Diagnstico Completo"]})}),s.jsx(A,{variant:"outline",onClick:u,disabled:r,children:s.jsx(gn,{className:"h-4 w-4"})})]}),s.jsx(M,{className:"bg-blue-50 border-blue-200",children:s.jsxs(O,{className:"p-4",children:[s.jsx("h4",{className:"font-medium text-blue-800 mb-2",children:" Dicas Importantes"}),s.jsxs("div",{className:"space-y-1 text-sm text-blue-700",children:[s.jsx("p",{children:" Certifique-se de que a balana est ligada e prxima"}),s.jsx("p",{children:" Use Chrome, Edge ou Safari para melhor compatibilidade"}),s.jsx("p",{children:" Verifique se a balana no est conectada a outro dispositivo"}),s.jsx("p",{children:" Recarregue a balana se a bateria estiver baixa"})]})]})})]})]})]})},l5=(e,t=159)=>{const r=e/(t/100)**2,a=Math.min(Math.max(15+(r-20)*2.5,10),50),n=100-a,i=n*.4,o=Math.max(1.5,4-a/100*1.5),l=Math.max(45,65-a/100*15),c=100-l,d=Math.max(4,9-a/100*3),u=Math.min(80,25+a/100*30),m=655+9.6*e+1.8*t-4.7*40,h=Math.max(.4,Math.min(.8,.45+a/100*.3));return{peso:e,imc:r,massaGorda:a,massaMagra:n,massaMuscular:i,hidratacao:o,aguaIntracelular:l,aguaExtracelular:c,anguloFase:d,idadeCelular:u,tmb:m,rcest:h}},nOe=()=>{const{measurements:e,loading:t}=CP(),r=p.useRef(null),a=p.useRef(null),n=p.useRef(null),i=p.useRef(null);if(p.useEffect(()=>{(async()=>{if(window.RGraph)return;const d=document.createElement("script");d.src="/rgraph/RGraph.common.core.js",d.onload=()=>{console.log("RGraph carregado com sucesso")},d.onerror=()=>{console.log("Erro ao carregar RGraph")},document.head.appendChild(d)})()},[]),p.useEffect(()=>{if(!window.RGraph||!e.length||t)return;const c=e[0].peso_kg,d=l5(c);try{if(r.current){const u=new window.RGraph.Gauge({id:r.current,min:0,max:100,value:d.massaGorda,options:{title:`Composio Corporal (${c}kg)`,titleColor:"#ffffff",titleSize:16,backgroundFill:"#000000",colors:{ranges:[[0,20,"#22c55e"],[20,30,"#eab308"],[30,100,"#ef4444"]]},needleColor:"#ffffff",centerpin:!0,centerpinColor:"#ffffff",shadow:!0,shadowOffsetx:3,shadowOffsety:3,shadowBlur:6,shadowColor:"rgba(0,0,0,0.3)",textSize:12,textColor:"#ffffff",scaleDecimals:1,marginTop:40,marginBottom:40,labels:{specific:[[10,"Ideal"],[25,"Normal"],[35,"Alto"],[45,"Crtico"]]},labelsColor:"#ffffff",centerLabel:`${d.massaGorda.toFixed(1)}%
Gordura`,centerLabelColor:"#ffffff",centerLabelSize:14}}).draw()}if(a.current){const u=new window.RGraph.Gauge({id:a.current,min:1.4,max:4.5,value:d.hidratacao,options:{title:"Hidratao Total",titleColor:"#ffffff",titleSize:16,backgroundFill:"#000000",colors:{ranges:[[1.4,2.5,"#ef4444"],[2.5,3.5,"#eab308"],[3.5,4.5,"#22c55e"]]},needleColor:"#06b6d4",centerpin:!0,centerpinColor:"#06b6d4",shadow:!0,shadowOffsetx:3,shadowOffsety:3,shadowBlur:6,shadowColor:"rgba(0,0,0,0.3)",textSize:12,textColor:"#ffffff",scaleDecimals:1,marginTop:40,marginBottom:40,labels:{specific:[[1.5,"Baixo"],[2.5,"Normal"],[3.5,"Ideal"],[4,"Alto"]]},labelsColor:"#ffffff",centerLabel:`${d.hidratacao.toFixed(1)}L
gua`,centerLabelColor:"#ffffff",centerLabelSize:14}}).draw()}if(n.current){const u=new window.RGraph.Gauge({id:n.current,min:4,max:9,value:d.anguloFase,options:{title:"Sade Celular",titleColor:"#ffffff",titleSize:16,backgroundFill:"#000000",colors:{ranges:[[4,6,"#ef4444"],[6,7.5,"#eab308"],[7.5,9,"#22c55e"]]},needleColor:"#8b5cf6",centerpin:!0,centerpinColor:"#8b5cf6",shadow:!0,shadowOffsetx:3,shadowOffsety:3,shadowBlur:6,shadowColor:"rgba(0,0,0,0.3)",textSize:12,textColor:"#ffffff",scaleDecimals:1,marginTop:40,marginBottom:40,labels:{specific:[[4.5,"Crtico"],[6,"Ateno"],[7.5,"Bom"],[8.5,"Excelente"]]},labelsColor:"#ffffff",centerLabel:`${d.anguloFase.toFixed(1)}
ngulo de Fase`,centerLabelColor:"#ffffff",centerLabelSize:14}}).draw()}if(i.current){const u=new window.RGraph.Bar({id:i.current,data:[d.imc,d.tmb/100,d.rcest*100],options:{title:"Indicadores de Sade",titleColor:"#ffffff",titleSize:16,backgroundFill:"#000000",colors:[d.imc<18.5?"#3b82f6":d.imc<25?"#22c55e":d.imc<30?"#eab308":"#ef4444","#f97316",d.rcest<.5?"#22c55e":d.rcest<.6?"#eab308":"#ef4444"],shadow:!0,shadowOffsetx:2,shadowOffsety:2,shadowBlur:3,shadowColor:"rgba(0,0,0,0.3)",xaxisLabels:["IMC","TMB/100","RCEst%"],xaxisLabelsColor:"#ffffff",xaxisColor:"#ffffff",yaxisColor:"#ffffff",textColor:"#ffffff",textSize:12,marginLeft:50,marginRight:50,marginTop:50,marginBottom:80,tooltips:[`IMC: ${d.imc.toFixed(1)} (Normal: 18.5-24.9)`,`TMB: ${d.tmb.toFixed(0)} kcal/dia`,`RCEst: ${(d.rcest*100).toFixed(1)}% (Ideal: <50%)`]}}).draw()}}catch(u){console.error("Erro ao criar grficos RGraph:",u)}},[e,t]),t)return s.jsx("div",{className:"bg-black min-h-screen p-6",children:s.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[...Array(4)].map((c,d)=>s.jsx("div",{className:"bg-gray-800 rounded-lg p-6 animate-pulse h-80",children:s.jsx("div",{className:"h-full bg-gray-700 rounded-lg"})},d))})});if(!e.length)return s.jsx("div",{className:"bg-black min-h-screen p-8 flex items-center justify-center",children:s.jsxs("div",{className:"text-center text-white",children:[s.jsx(_t,{className:"mx-auto mb-4 h-12 w-12 text-gray-400"}),s.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Nenhuma medio encontrada"}),s.jsx("p",{className:"text-gray-400",children:"Faa sua primeira pesagem para ver a anlise corporal completa."})]})});const o=e[0].peso_kg,l=l5(o);return s.jsxs("div",{className:"bg-black min-h-screen",children:[s.jsxs("div",{className:"text-center py-8 border-b border-gray-800",children:[s.jsx("h2",{className:"text-4xl font-bold text-white mb-2",children:"Anlise Corporal Integrada"}),s.jsxs("p",{className:"text-gray-400 text-lg",children:["Peso atual: ",o,"kg  IMC: ",l.imc.toFixed(1),"  ltima medio"]}),s.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Grficos combinados para melhor visualizao e anlise"})]}),s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[s.jsx("div",{className:"bg-gray-900 border border-gray-700 rounded-lg p-6 h-96",children:s.jsx("canvas",{ref:r,width:"400",height:"320",className:"w-full h-full"})}),s.jsx("div",{className:"bg-gray-900 border border-gray-700 rounded-lg p-6 h-96",children:s.jsx("canvas",{ref:a,width:"400",height:"320",className:"w-full h-full"})}),s.jsx("div",{className:"bg-gray-900 border border-gray-700 rounded-lg p-6 h-96",children:s.jsx("canvas",{ref:n,width:"400",height:"320",className:"w-full h-full"})}),s.jsx("div",{className:"bg-gray-900 border border-gray-700 rounded-lg p-6 h-96",children:s.jsx("canvas",{ref:i,width:"400",height:"320",className:"w-full h-full"})})]}),s.jsxs("div",{className:"mt-8 bg-gray-900 border border-gray-700 rounded-lg p-6",children:[s.jsxs("h3",{className:"text-xl font-bold text-white mb-4 flex items-center gap-2",children:[s.jsx(Ye,{className:"h-5 w-5 text-green-400"}),"Resumo Executivo"]}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-center",children:[s.jsxs("div",{className:"bg-gray-800 rounded-lg p-4",children:[s.jsxs("div",{className:"text-2xl font-bold text-yellow-400",children:[o,"kg"]}),s.jsx("div",{className:"text-sm text-gray-400",children:"Peso Atual"})]}),s.jsxs("div",{className:"bg-gray-800 rounded-lg p-4",children:[s.jsxs("div",{className:"text-2xl font-bold text-blue-400",children:[l.massaMuscular.toFixed(1),"%"]}),s.jsx("div",{className:"text-sm text-gray-400",children:"Massa Muscular"})]}),s.jsxs("div",{className:"bg-gray-800 rounded-lg p-4",children:[s.jsx("div",{className:"text-2xl font-bold text-green-400",children:l.hidratacao.toFixed(1)}),s.jsx("div",{className:"text-sm text-gray-400",children:"Hidratao"})]}),s.jsxs("div",{className:"bg-gray-800 rounded-lg p-4",children:[s.jsxs("div",{className:"text-2xl font-bold text-purple-400",children:[l.anguloFase.toFixed(1),""]}),s.jsx("div",{className:"text-sm text-gray-400",children:"ngulo de Fase"})]})]}),s.jsxs("div",{className:"mt-6 flex flex-wrap gap-4",children:[l.massaGorda>35&&s.jsxs("div",{className:"bg-red-900/30 border border-red-700 rounded-lg p-3 flex items-center gap-2",children:[s.jsx("span",{className:"text-red-400",children:""}),s.jsx("span",{className:"text-red-300 text-sm",children:"Percentual de gordura elevado"})]}),l.hidratacao<2.5&&s.jsxs("div",{className:"bg-blue-900/30 border border-blue-700 rounded-lg p-3 flex items-center gap-2",children:[s.jsx("span",{className:"text-blue-400",children:""}),s.jsx("span",{className:"text-blue-300 text-sm",children:"Hidratao baixa"})]}),l.anguloFase<6&&s.jsxs("div",{className:"bg-orange-900/30 border border-orange-700 rounded-lg p-3 flex items-center gap-2",children:[s.jsx("span",{className:"text-orange-400",children:""}),s.jsx("span",{className:"text-orange-300 text-sm",children:"Sade celular necessita ateno"})]})]})]})]})]})},iOe=()=>{const[e,t]=p.useState("manual"),[r,a]=p.useState(null),{gender:n}=kP(r);return p.useEffect(()=>{(async()=>{const{data:{user:o}}=await z.auth.getUser();a(o)})()},[]),s.jsxs("div",{className:"space-y-8",children:[s.jsxs("div",{className:"flex gap-6 justify-center",children:[s.jsxs("button",{onClick:()=>t("manual"),className:`px-8 py-4 rounded-xl font-semibold transition-all duration-300 ${e==="manual"?"bg-gradient-to-r from-primary to-primary/80 text-primary-foreground shadow-lg shadow-primary/25 scale-105":"bg-card/60 text-muted-foreground hover:bg-card/80 hover:scale-105 border border-border/20"}`,children:[s.jsx(Ch,{className:"h-5 w-5 inline mr-3"}),"Pesagem Manual"]}),s.jsxs("button",{onClick:()=>t("automatic"),className:`px-8 py-4 rounded-xl font-semibold transition-all duration-300 ${e==="automatic"?"bg-gradient-to-r from-primary to-primary/80 text-primary-foreground shadow-lg shadow-primary/25 scale-105":"bg-card/60 text-muted-foreground hover:bg-card/80 hover:scale-105 border border-border/20"}`,children:[s.jsx(_t,{className:"h-5 w-5 inline mr-3"}),"Pesagem Automtica"]})]}),s.jsxs("div",{className:"grid lg:grid-cols-2 gap-8",children:[s.jsx("div",{className:"space-y-6",children:e==="manual"?s.jsxs(M,{className:"border-0 shadow-xl bg-gradient-to-br from-card/80 to-card/40 backdrop-blur-sm",children:[s.jsx($,{className:"pb-4",children:s.jsxs(U,{className:"flex items-center gap-3 text-xl",children:[s.jsx(Ch,{className:"h-6 w-6 text-primary"}),"Pesagem Manual"]})}),s.jsx(O,{children:s.jsx(sOe,{})})]}):s.jsxs(M,{className:"border-0 shadow-xl bg-gradient-to-br from-card/80 to-card/40 backdrop-blur-sm",children:[s.jsx($,{className:"pb-4",children:s.jsxs(U,{className:"flex items-center gap-3 text-xl",children:[s.jsx(_t,{className:"h-6 w-6 text-primary"}),"Balana Xiaomi Mi Body Scale 2"]})}),s.jsxs(O,{className:"space-y-6",children:[s.jsx("p",{className:"text-muted-foreground",children:"Conecte sua balana Xiaomi para pesagem automtica e anlise completa de composio corporal"}),s.jsxs("div",{className:"grid gap-4",children:[s.jsx(lW,{}),s.jsxs("div",{className:"grid sm:grid-cols-2 gap-4",children:[s.jsx(rOe,{}),s.jsx(aOe,{})]})]})]})]})}),s.jsx("div",{className:"flex items-center justify-center",children:s.jsx(M,{className:"border-0 shadow-xl bg-gradient-to-br from-card/80 to-card/40 backdrop-blur-sm p-8",children:s.jsxs("div",{className:"text-center space-y-4",children:[s.jsx("h3",{className:"text-xl font-semibold text-foreground",children:"Anlise Corporal"}),s.jsx("div",{className:"relative",children:s.jsx(cW,{genero:n==="male"?"masculino":n==="female"?"feminino":"masculino",className:"w-full h-80"})}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Visualizao da composio corporal baseada em suas medies"})]})})})]}),s.jsx("div",{className:"mt-8",children:s.jsx(nOe,{})})]})},oOe=()=>{var a,n,i;const[e,t]=p.useState(null);kP(e),p.useEffect(()=>{(async()=>{const{data:{user:l}}=await z.auth.getUser();t(l)})()},[]);const r=((a=e==null?void 0:e.user_metadata)==null?void 0:a.display_name)||((n=e==null?void 0:e.user_metadata)==null?void 0:n.name)||((i=e==null?void 0:e.email)==null?void 0:i.split("@")[0])||"Usurio";return s.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-background via-background to-muted/20",children:[s.jsx("header",{className:"border-b border-border/10 bg-card/30 backdrop-blur-xl sticky top-0 z-40",children:s.jsxs("div",{className:"container mx-auto px-6 py-6 flex justify-between items-center",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("div",{className:"relative",children:[s.jsx(_t,{className:"h-10 w-10 text-primary drop-shadow-lg"}),s.jsx("div",{className:"absolute -top-1 -right-1 w-3 h-3 bg-green-500 rounded-full animate-pulse"})]}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-primary to-primary/60 bg-clip-text text-transparent",children:"Central de Pesagem"}),s.jsxs("p",{className:"text-lg text-muted-foreground flex items-center gap-2",children:[s.jsx(Ui,{className:"h-4 w-4"}),"Ol, ",r]})]})]}),s.jsx(Os,{to:"/",children:s.jsxs(A,{variant:"outline",className:"hover:scale-105 transition-transform",children:[s.jsx(Wr,{className:"h-4 w-4 mr-2"}),"Voltar"]})})]})}),s.jsx("div",{className:"container mx-auto px-6 py-8",children:s.jsx(iOe,{})})]})},lOe=()=>{const[e,t]=p.useState(!1),{toast:r}=Ee(),a=async()=>{try{t(!0);const i=["https://www.googleapis.com/auth/fitness.activity.read","https://www.googleapis.com/auth/fitness.body.read","https://www.googleapis.com/auth/fitness.heart_rate.read","https://www.googleapis.com/auth/fitness.sleep.read"].join(" "),o="705908448787-ndqju36rr7d23no0vqkhqsaqrf5unsmc.apps.googleusercontent.com",c=window.location.hostname==="localhost"?"http://localhost:3000/google-fit-callback":"https://eb451b44-5d36-4bf7-8628-481a619af74a.lovableproject.com/google-fit-callback",d=`https://accounts.google.com/o/oauth2/v2/auth?client_id=${o}&redirect_uri=${encodeURIComponent(c)}&scope=${encodeURIComponent(i)}&response_type=code&access_type=offline&prompt=consent&include_granted_scopes=true`;localStorage.setItem("google_fit_auth_state","connecting"),console.log("Iniciando OAuth com:",{clientId:o,redirectUri:c,scopes:i}),window.location.href=d}catch(i){console.error("Erro ao conectar Google Fit:",i),t(!1),r({title:"Erro",description:"Erro ao conectar com Google Fit",variant:"destructive"})}},n=[{icon:s.jsx(XS,{className:"h-6 w-6"}),title:"Passos e Distncia",description:"Acompanhe seus passos dirios e distncia percorrida"},{icon:s.jsx(Ss,{className:"h-6 w-6"}),title:"Calorias Queimadas",description:"Monitore quantas calorias voc queima durante o dia"},{icon:s.jsx(He,{className:"h-6 w-6"}),title:"Frequncia Cardaca",description:"Dados de frequncia cardaca em repouso e durante exerccios"},{icon:s.jsx(Te,{className:"h-6 w-6"}),title:"Atividades Fsicas",description:"Registros automticos de corrida, caminhada, ciclismo e mais"},{icon:s.jsx(ii,{className:"h-6 w-6"}),title:"Dados de Sono",description:"Durao e qualidade do sono para melhor recovery"},{icon:s.jsx(Ye,{className:"h-6 w-6"}),title:"Anlises e Tendncias",description:"Grficos detalhados e insights sobre sua evoluo"}];return s.jsxs("div",{className:"min-h-screen bg-background",children:[s.jsx("header",{className:"border-b border-border/20 bg-card/50 backdrop-blur-sm",children:s.jsxs("div",{className:"container mx-auto px-4 py-4 flex justify-between items-center",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Te,{className:"h-8 w-8 text-primary"}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-foreground",children:"Conectar Google Fit"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Sincronize seus dados de sade e atividade"})]})]}),s.jsx(Os,{to:"/dashboard",children:s.jsxs(A,{variant:"outline",children:[s.jsx(Wr,{className:"h-4 w-4 mr-2"}),"Voltar"]})})]})}),s.jsxs("div",{className:"container mx-auto px-4 py-8 max-w-4xl",children:[s.jsxs("div",{className:"text-center space-y-6 mb-12",children:[s.jsxs("div",{className:"space-y-3",children:[s.jsx("h2",{className:"text-4xl font-bold text-foreground",children:"Conecte-se ao Google Fit"}),s.jsx("p",{className:"text-xl text-muted-foreground max-w-2xl mx-auto",children:"Sincronize automaticamente seus dados de atividade fsica, sade e bem-estar para ter uma viso completa do seu progresso"})]}),s.jsxs(or,{className:"max-w-2xl mx-auto",children:[s.jsx(Da,{className:"h-4 w-4"}),s.jsxs(lr,{children:[s.jsx("strong",{children:"Seus dados esto seguros."})," Utilizamos conexo criptografada e seguimos todas as diretrizes de privacidade do Google. Voc pode revogar o acesso a qualquer momento."]})]})]}),s.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6 mb-12",children:n.map((i,o)=>s.jsxs(M,{className:"health-card",children:[s.jsx($,{children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 bg-primary/10 rounded-lg text-primary",children:i.icon}),s.jsx(U,{className:"text-lg",children:i.title})]})}),s.jsx(O,{children:s.jsx("p",{className:"text-muted-foreground",children:i.description})})]},o))}),s.jsxs(M,{className:"mb-12",children:[s.jsx($,{children:s.jsx(U,{className:"text-center text-2xl",children:"Como Funciona"})}),s.jsx(O,{children:s.jsxs("div",{className:"grid md:grid-cols-3 gap-8",children:[s.jsxs("div",{className:"text-center space-y-3",children:[s.jsx("div",{className:"mx-auto w-12 h-12 bg-primary/10 rounded-full flex items-center justify-center",children:s.jsx("span",{className:"text-xl font-bold text-primary",children:"1"})}),s.jsx("h3",{className:"font-semibold",children:"Autorize o Acesso"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:'Clique em "Conectar Agora" e autorize o acesso aos seus dados do Google Fit'})]}),s.jsxs("div",{className:"text-center space-y-3",children:[s.jsx("div",{className:"mx-auto w-12 h-12 bg-primary/10 rounded-full flex items-center justify-center",children:s.jsx("span",{className:"text-xl font-bold text-primary",children:"2"})}),s.jsx("h3",{className:"font-semibold",children:"Sincronizao Automtica"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Seus dados sero sincronizados automaticamente e estaro sempre atualizados"})]}),s.jsxs("div",{className:"text-center space-y-3",children:[s.jsx("div",{className:"mx-auto w-12 h-12 bg-primary/10 rounded-full flex items-center justify-center",children:s.jsx("span",{className:"text-xl font-bold text-primary",children:"3"})}),s.jsx("h3",{className:"font-semibold",children:"Visualize seu Progresso"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Acompanhe grficos detalhados e insights sobre sua evoluo na sade"})]})]})})]}),s.jsxs(M,{className:"mb-12",children:[s.jsxs($,{children:[s.jsx(U,{children:"Dados que Sero Coletados"}),s.jsx(qt,{children:"Transparncia total sobre quais informaes acessamos"})]}),s.jsx(O,{children:s.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Se,{className:"h-4 w-4 text-green-500"}),s.jsx("span",{className:"text-sm",children:"Contagem de passos e distncia"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Se,{className:"h-4 w-4 text-green-500"}),s.jsx("span",{className:"text-sm",children:"Calorias queimadas"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Se,{className:"h-4 w-4 text-green-500"}),s.jsx("span",{className:"text-sm",children:"Minutos de atividade fsica"})]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Se,{className:"h-4 w-4 text-green-500"}),s.jsx("span",{className:"text-sm",children:"Frequncia cardaca"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Se,{className:"h-4 w-4 text-green-500"}),s.jsx("span",{className:"text-sm",children:"Dados de sono"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Se,{className:"h-4 w-4 text-green-500"}),s.jsx("span",{className:"text-sm",children:"Histrico de atividades"})]})]})]})})]}),s.jsxs("div",{className:"text-center space-y-4",children:[s.jsx(A,{onClick:a,disabled:e,size:"lg",className:"px-12 py-6 text-lg bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700 text-white font-bold shadow-lg",children:e?s.jsxs(s.Fragment,{children:[s.jsx(Te,{className:"mr-2 h-5 w-5 animate-spin"}),"Conectando..."]}):s.jsxs(s.Fragment,{children:[s.jsx(ree,{className:"mr-2 h-5 w-5"}),"Conectar Agora"]})}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Ao conectar, voc concorda em compartilhar seus dados do Google Fit conosco"})]})]})]})},cOe=()=>{const[e,t]=p.useState("loading"),[r,a]=p.useState(""),{toast:n}=Ee();return p.useEffect(()=>{setTimeout(async()=>{try{console.log(" CALLBACK INICIADO"),console.log("URL completa:",window.location.href);const o=new URLSearchParams(window.location.search),l=o.get("code"),c=o.get("error"),d=o.get("state");if(console.log("Parmetros OAuth:",{code:!!l,error:c,state:d}),c)throw console.error(" OAuth Error:",c),new Error(`OAuth error: ${c}`);if(!l)throw console.error(" Cdigo ausente"),new Error("Cdigo de autorizao no encontrado");console.log(" Cdigo OAuth recebido, iniciando troca por tokens..."),a("Processando autorizao..."),console.log(" Chamando edge function...");const{data:u,error:m}=await z.functions.invoke("google-fit-token",{body:{code:l}});if(console.log(" Resposta da edge function:",{data:!!u,error:m}),m)throw console.error(" Erro da edge function:",m),new Error(m.message);if(u&&u.access_token)localStorage.setItem("google_fit_access_token",u.access_token),u.refresh_token&&localStorage.setItem("google_fit_refresh_token",u.refresh_token),t("success"),a("Conectado com sucesso! Sincronizando dados..."),setTimeout(async()=>{try{await z.functions.invoke("google-fit-sync",{body:{access_token:u.access_token,refresh_token:u.refresh_token,date_range:{startDate:new Date(Date.now()-2592e6).toISOString().split("T")[0],endDate:new Date().toISOString().split("T")[0]}}}),n({title:"Google Fit Conectado!",description:"Dados sincronizados com sucesso. Redirecionando..."}),setTimeout(()=>{window.location.href="/app/progress"},3e3)}catch(h){console.error("Erro na sincronizao inicial:",h),n({title:"Conectado mas erro na sincronizao",description:"Voc pode sincronizar manualmente na pgina de progresso.",variant:"destructive"}),setTimeout(()=>{window.location.href="/app/progress"},3e3)}},1e3);else throw new Error("Tokens no recebidos")}catch(o){console.error(" ERRO COMPLETO:",o),console.error("Stack trace:",o.stack),t("error"),a(`Erro: ${o.message||"Erro desconhecido"}`),console.log("URL da pgina:",window.location.href),console.log("Parmetros URL:",window.location.search),n({title:"Erro na Conexo",description:o.message||"Erro ao conectar com Google Fit",variant:"destructive"})}},500)},[n]),s.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:s.jsxs(M,{className:"w-full max-w-md",children:[s.jsxs($,{className:"text-center",children:[s.jsxs("div",{className:"mx-auto mb-4",children:[e==="loading"&&s.jsx(eu,{className:"h-12 w-12 animate-spin text-primary"}),e==="success"&&s.jsx(Se,{className:"h-12 w-12 text-green-500"}),e==="error"&&s.jsx(ls,{className:"h-12 w-12 text-red-500"})]}),s.jsxs(U,{children:[e==="loading"&&"Conectando Google Fit...",e==="success"&&"Conectado com Sucesso!",e==="error"&&"Erro na Conexo"]}),s.jsx(qt,{children:r})]}),s.jsxs(O,{className:"text-center space-y-4",children:[e==="loading"&&s.jsx("p",{className:"text-sm text-muted-foreground",children:"Aguarde enquanto processamos sua autorizao..."}),e==="success"&&s.jsxs("div",{className:"space-y-3",children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Seus dados do Google Fit foram conectados com sucesso. Voc ser redirecionado automaticamente."}),s.jsxs(A,{onClick:()=>window.location.href="/app/progress",className:"w-full",children:[s.jsx(Te,{className:"h-4 w-4 mr-2"}),"Ir para Meu Progresso"]})]}),e==="error"&&s.jsxs("div",{className:"space-y-3",children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Ocorreu um erro ao conectar com o Google Fit. Voc pode tentar novamente."}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(A,{onClick:()=>window.location.href="/app/progress",className:"w-full",children:[s.jsx(Te,{className:"h-4 w-4 mr-2"}),"Ir para Meu Progresso"]}),s.jsx(A,{onClick:()=>window.location.href="/dashboard",variant:"outline",className:"w-full",children:"Voltar ao Dashboard"})]})]})]})]})})},dOe=()=>{const[e,t]=p.useState("idle"),[r,a]=p.useState(null),{toast:n}=Ee(),i=async()=>{var d;t("testing");try{const u=localStorage.getItem("google_fit_access_token"),m=localStorage.getItem("google_fit_refresh_token"),h=localStorage.getItem("google_fit_auth_state");console.log("=== TESTE GOOGLE FIT ==="),console.log("Access Token:",u?`${u.substring(0,20)}...`:"VAZIO"),console.log("Refresh Token:",m?`${m.substring(0,20)}...`:"VAZIO"),console.log("Auth State:",h);const f={tokensFound:!!u,refreshTokenFound:!!m,accessTokenLength:(u==null?void 0:u.length)||0,authState:h,currentUrl:window.location.href,isLocalhost:window.location.hostname==="localhost",redirectUri:window.location.hostname==="localhost"?"http://localhost:3000/google-fit-callback":"https://eb451b44-5d36-4bf7-8628-481a619af74a.lovableproject.com/google-fit-callback"};if(u)try{console.log("Testando API do Google Fit...");const g=await fetch("https://www.googleapis.com/fitness/v1/users/me/dataSources",{headers:{Authorization:`Bearer ${u}`,"Content-Type":"application/json"}});if(f.apiTest={status:g.status,ok:g.ok,statusText:g.statusText},g.ok){const x=await g.json();f.apiTest.dataSourcesCount=((d=x.dataSource)==null?void 0:d.length)||0,console.log("API Test Success:",f.apiTest)}else{const x=await g.text();f.apiTest.error=x,console.error("API Test Failed:",x)}}catch(g){f.apiTest={error:g.message},console.error("API Test Exception:",g)}a(f),t(u?"success":"error"),n({title:u?"Teste Concludo":"Tokens Ausentes",description:u?"Tokens encontrados e testados":"Conecte-se primeiro ao Google Fit",variant:u?"default":"destructive"})}catch(u){console.error("Erro no teste:",u),t("error"),a({error:u.message}),n({title:"Erro no Teste",description:u.message,variant:"destructive"})}},o=()=>{localStorage.removeItem("google_fit_access_token"),localStorage.removeItem("google_fit_refresh_token"),localStorage.removeItem("google_fit_auth_state"),a(null),t("idle"),console.log(" Tokens e estado limpos"),n({title:"Reset Completo",description:"Todos os dados foram limpos. Pronto para nova tentativa OAuth."})},l=()=>{console.log(" Iniciando OAuth..."),localStorage.removeItem("google_fit_access_token"),localStorage.removeItem("google_fit_refresh_token"),localStorage.removeItem("google_fit_auth_state");const d="https://eb451b44-5d36-4bf7-8628-481a619af74a.lovableproject.com/google-fit-callback",u=["https://www.googleapis.com/auth/fitness.activity.read","https://www.googleapis.com/auth/fitness.body.read","https://www.googleapis.com/auth/fitness.heart_rate.read","https://www.googleapis.com/auth/fitness.sleep.read"].join(" "),m="705908448787-n6pu6jsbr97d23no0vqhkqqaepf5unsm.apps.googleusercontent.com",h=`https://accounts.google.com/o/oauth2/v2/auth?client_id=${m}&redirect_uri=${encodeURIComponent(d)}&scope=${encodeURIComponent(u)}&response_type=code&access_type=offline&prompt=consent&include_granted_scopes=true`;console.log(" Configurao OAuth:"),console.log("- Client ID:",m),console.log("- Redirect URI:",d),console.log("- Scopes:",u),console.log("- URL completa:",h),fetch("/google-fit-callback").then(f=>console.log(" Teste callback route:",f.status)).catch(f=>console.log(" Teste callback route erro:",f.message)),localStorage.setItem("google_fit_auth_state","starting"),localStorage.setItem("google_fit_debug",JSON.stringify({timestamp:new Date().toISOString(),clientId:m,redirectUri:d,authUrl:h})),n({title:"Iniciando OAuth",description:"Redirecionando para Google..."}),window.location.href=h},c=async()=>{console.log(" Testando edge function diretamente..."),t("testing");try{console.log(" Teste 1: Verificando secrets...");const{data:d,error:u}=await z.functions.invoke("google-fit-token",{body:{testSecrets:!0}});console.log(" Resultado do teste de secrets:",{hasData:!!d,hasError:!!u,errorMessage:u==null?void 0:u.message,data:d}),console.log(" Teste 2: Simulando OAuth...");const{data:m,error:h}=await z.functions.invoke("google-fit-token",{body:{code:"4/0AeanS0b1234567890_fake_code_for_testing"}});console.log(" Resultado do teste OAuth:",{hasData:!!m,hasError:!!h,errorMessage:h==null?void 0:h.message,data:m});const f="https://hlrkoyywjpckdotimtik.supabase.co/functions/v1/google-fit-token";console.log(" URL da funo:",f),a({edgeFunctionTest:{accessible:!0,secretsTest:d,secretsError:u==null?void 0:u.message,oauthTest:m,oauthError:h==null?void 0:h.message,functionUrl:f}}),t("success"),n({title:"Teste Edge Function Completo",description:"Verificao de secrets e OAuth concluda. Veja o console para detalhes.",variant:"default"})}catch(d){console.error(" Erro crtico no teste edge function:",d),t("error"),a({edgeFunctionTest:{accessible:!1,error:d.message,criticalError:!0}}),n({title:"Erro Crtico",description:`No foi possvel acessar a edge function: ${d.message}`,variant:"destructive"})}};return s.jsx("div",{className:"min-h-screen bg-background p-4",children:s.jsxs("div",{className:"container mx-auto max-w-4xl",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-8",children:[s.jsx(Te,{className:"h-8 w-8 text-primary"}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"Teste Google Fit OAuth"}),s.jsx("p",{className:"text-muted-foreground",children:"Pgina para testar a integrao com Google Fit"})]})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs(M,{children:[s.jsxs($,{children:[s.jsxs(U,{className:"flex items-center gap-2",children:[e==="testing"&&s.jsx(eu,{className:"h-5 w-5 animate-spin"}),e==="success"&&s.jsx(Se,{className:"h-5 w-5 text-green-500"}),e==="error"&&s.jsx(ls,{className:"h-5 w-5 text-red-500"}),"Status da Integrao"]}),s.jsx(qt,{children:"Verificar se os tokens do Google Fit esto configurados corretamente"})]}),s.jsxs(O,{className:"space-y-4",children:[s.jsxs("div",{className:"flex gap-4",children:[s.jsx(A,{onClick:i,disabled:e==="testing",className:"flex items-center gap-2",children:e==="testing"?s.jsxs(s.Fragment,{children:[s.jsx(eu,{className:"h-4 w-4 animate-spin"}),"Testando..."]}):s.jsxs(s.Fragment,{children:[s.jsx(Te,{className:"h-4 w-4"}),"Testar Conexo"]})}),s.jsx(A,{onClick:o,variant:"outline",disabled:e==="testing",children:"Limpar Tokens"}),s.jsx(A,{onClick:l,disabled:e==="testing",className:"bg-blue-600 hover:bg-blue-700",children:" Conectar OAuth"}),s.jsx(A,{onClick:c,disabled:e==="testing",variant:"secondary",children:" Testar Edge Function"})]}),r&&s.jsx(or,{className:e==="error"?"border-red-200":"border-green-200",children:s.jsx(lr,{children:s.jsx("pre",{className:"text-sm",children:JSON.stringify(r,null,2)})})})]})]}),s.jsxs(M,{children:[s.jsx($,{children:s.jsx(U,{children:"Aes Disponveis"})}),s.jsx(O,{className:"space-y-4",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsx(Os,{to:"/google-fit-oauth",children:s.jsx(A,{className:"w-full",variant:"outline",children:"Conectar Google Fit"})}),s.jsx(Os,{to:"/app/progress",children:s.jsx(A,{className:"w-full",variant:"outline",children:"Ver Progresso"})}),s.jsx(Os,{to:"/dashboard",children:s.jsx(A,{className:"w-full",variant:"outline",children:"Voltar ao Dashboard"})}),s.jsx(A,{onClick:()=>window.open("https://console.cloud.google.com/apis/credentials","_blank"),variant:"outline",className:"w-full",children:"Google Cloud Console"})]})})]}),s.jsxs(M,{children:[s.jsx($,{children:s.jsx(U,{children:"Informaes de Debug"})}),s.jsx(O,{children:s.jsxs("div",{className:"text-sm text-muted-foreground space-y-2",children:[s.jsxs("p",{children:[s.jsx("strong",{children:"URL Atual:"})," ",window.location.href]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Host:"})," ",window.location.hostname]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Client ID:"})," 705908448787-n6pu6jsbr97d23no0vqhkqqaepf5unsm.apps.googleusercontent.com"]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Redirect URI (Local):"})," http://localhost:3000/google-fit-callback"]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Redirect URI (Produo):"})," https://eb451b44-5d36-4bf7-8628-481a619af74a.lovableproject.com/google-fit-callback"]}),s.jsxs("div",{className:"mt-4 p-3 bg-muted rounded",children:[s.jsx("p",{className:"font-semibold mb-2",children:"Status dos Tokens:"}),s.jsxs("p",{children:[s.jsx("strong",{children:"Access Token:"})," ",localStorage.getItem("google_fit_access_token")?" Presente":" Ausente"]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Refresh Token:"})," ",localStorage.getItem("google_fit_refresh_token")?" Presente":" Ausente"]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Auth State:"})," ",localStorage.getItem("google_fit_auth_state")||"No definido"]})]}),s.jsx("div",{className:"mt-4",children:s.jsx(A,{onClick:()=>{const u=window.location.hostname==="localhost"?"http://localhost:3000/google-fit-callback":"https://eb451b44-5d36-4bf7-8628-481a619af74a.lovableproject.com/google-fit-callback",m=["https://www.googleapis.com/auth/fitness.activity.read","https://www.googleapis.com/auth/fitness.body.read","https://www.googleapis.com/auth/fitness.heart_rate.read","https://www.googleapis.com/auth/fitness.sleep.read"].join(" "),f=`https://accounts.google.com/o/oauth2/v2/auth?client_id=705908448787-n6pu6jsbr97d23no0vqhkqqaepf5unsm.apps.googleusercontent.com&redirect_uri=${encodeURIComponent(u)}&scope=${encodeURIComponent(m)}&response_type=code&access_type=offline&prompt=consent&include_granted_scopes=true`;console.log("OAuth URL:",f),localStorage.setItem("google_fit_auth_state","connecting"),window.location.href=f},className:"w-full",variant:"secondary",children:" Teste OAuth Direto"})})]})})]})]})]})})};function uOe({totalUsers:e,totalPoints:t,totalMissions:r}){const a=ur();return s.jsxs(M,{className:"border-2 border-primary/20 bg-gradient-to-r from-primary/5 to-secondary/5",children:[s.jsx($,{children:s.jsxs(U,{className:"flex items-center gap-2",children:[s.jsx(Le,{className:"w-6 h-6 text-primary"}),"Comunidade HealthFeed"]})}),s.jsxs(O,{className:"space-y-4",children:[s.jsx("p",{className:"text-muted-foreground",children:"Conecte-se com outros membros, compartilhe suas conquistas e inspire a comunidade!"}),s.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[s.jsxs("div",{className:"text-center p-3 bg-white/50 rounded-lg",children:[s.jsx("div",{className:"text-xl font-bold text-primary",children:e}),s.jsx("div",{className:"text-xs text-muted-foreground",children:"Membros"})]}),s.jsxs("div",{className:"text-center p-3 bg-white/50 rounded-lg",children:[s.jsx("div",{className:"text-xl font-bold text-green-600",children:r}),s.jsx("div",{className:"text-xs text-muted-foreground",children:"Misses"})]}),s.jsxs("div",{className:"text-center p-3 bg-white/50 rounded-lg",children:[s.jsx("div",{className:"text-xl font-bold text-yellow-600",children:t.toLocaleString()}),s.jsx("div",{className:"text-xs text-muted-foreground",children:"Pontos"})]})]}),s.jsxs("div",{className:"flex items-center justify-between pt-2",children:[s.jsxs("div",{className:"flex items-center gap-4 text-xs text-muted-foreground",children:[s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(T0,{className:"w-3 h-3"}),s.jsx("span",{children:"Posts & Comentrios"})]}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(He,{className:"w-3 h-3"}),s.jsx("span",{children:"Reaes"})]}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(ZS,{className:"w-3 h-3"}),s.jsx("span",{children:"Compartilhamentos"})]})]}),s.jsxs(A,{onClick:()=>a("/health-feed"),size:"sm",className:"bg-primary hover:bg-primary/90",children:[s.jsx(i6,{className:"w-4 h-4 mr-2"}),"Ir para Comunidade"]})]})]})]})}function mOe({user:e}){var v,b;const{ranking:t,loading:r,error:a,refetch:n}=iW(),[i,o]=p.useState("all"),[l,c]=p.useState("points"),[d,u]=p.useState(""),[m,h]=p.useState(10);p.useEffect(()=>{n()},[i,l]);const f=t.find(j=>j.user_id===(e==null?void 0:e.id)),g=j=>{switch(j){case 1:return s.jsx(Qn,{className:"w-5 h-5 text-yellow-500"});case 2:return s.jsx(nf,{className:"w-5 h-5 text-gray-400"});case 3:return s.jsx(jt,{className:"w-5 h-5 text-amber-600"});default:return s.jsxs("span",{className:"w-5 h-5 flex items-center justify-center text-sm font-bold text-muted-foreground",children:["#",j]})}},x=(j,N=!1)=>{if(N)return"bg-primary/10 border-primary/30 ring-2 ring-primary/20";switch(j){case 1:return"bg-gradient-to-r from-yellow-50 to-yellow-100 border-yellow-200";case 2:return"bg-gradient-to-r from-gray-50 to-gray-100 border-gray-200";case 3:return"bg-gradient-to-r from-amber-50 to-amber-100 border-amber-200";default:return"bg-card border-border hover:bg-muted/50 transition-colors"}},y=t.filter(j=>d===""||j.user_name.toLowerCase().includes(d.toLowerCase())).slice(0,m);return r?s.jsx("div",{className:"flex items-center justify-center min-h-[600px]",children:s.jsxs("div",{className:"text-center space-y-4",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto"}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("h3",{className:"text-lg font-semibold",children:"Carregando Ranking"}),s.jsx("p",{className:"text-muted-foreground",children:"Calculando posies dos usurios..."})]})]})}):a?s.jsx("div",{className:"flex items-center justify-center min-h-[600px]",children:s.jsxs("div",{className:"text-center space-y-4",children:[s.jsx(Be,{className:"w-16 h-16 mx-auto text-muted-foreground"}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("h3",{className:"text-lg font-semibold",children:"Erro ao carregar ranking"}),s.jsx("p",{className:"text-muted-foreground",children:a}),s.jsx(A,{onClick:n,variant:"outline",children:"Tentar novamente"})]})]})}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"text-center space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-center gap-3",children:[s.jsx(Be,{className:"w-10 h-10 text-yellow-500"}),s.jsx("h1",{className:"text-4xl font-bold bg-gradient-to-r from-yellow-600 to-amber-600 bg-clip-text text-transparent",children:"Ranking de Usurios"})]}),s.jsx("p",{className:"text-lg text-muted-foreground",children:"Veja quem est liderando a comunidade de sade e bem-estar"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsx(M,{className:"bg-gradient-to-br from-blue-50 to-blue-100 border-blue-200",children:s.jsxs(O,{className:"p-4 text-center",children:[s.jsx(Le,{className:"w-8 h-8 mx-auto mb-2 text-blue-600"}),s.jsx("div",{className:"text-2xl font-bold text-blue-800",children:t.length}),s.jsx("div",{className:"text-sm text-blue-600",children:"Usurios Ativos"})]})}),s.jsx(M,{className:"bg-gradient-to-br from-green-50 to-green-100 border-green-200",children:s.jsxs(O,{className:"p-4 text-center",children:[s.jsx(_e,{className:"w-8 h-8 mx-auto mb-2 text-green-600"}),s.jsx("div",{className:"text-2xl font-bold text-green-800",children:t.reduce((j,N)=>j+N.missions_completed,0)}),s.jsx("div",{className:"text-sm text-green-600",children:"Misses Completadas"})]})}),s.jsx(M,{className:"bg-gradient-to-br from-yellow-50 to-yellow-100 border-yellow-200",children:s.jsxs(O,{className:"p-4 text-center",children:[s.jsx(kt,{className:"w-8 h-8 mx-auto mb-2 text-yellow-600"}),s.jsx("div",{className:"text-2xl font-bold text-yellow-800",children:t.reduce((j,N)=>j+N.total_points,0).toLocaleString()}),s.jsx("div",{className:"text-sm text-yellow-600",children:"Pontos Totais"})]})}),s.jsx(M,{className:"bg-gradient-to-br from-orange-50 to-orange-100 border-orange-200",children:s.jsxs(O,{className:"p-4 text-center",children:[s.jsx(Ss,{className:"w-8 h-8 mx-auto mb-2 text-orange-600"}),s.jsx("div",{className:"text-2xl font-bold text-orange-800",children:Math.max(...t.map(j=>j.streak_days),0)}),s.jsx("div",{className:"text-sm text-orange-600",children:"Maior Sequncia"})]})})]}),f&&s.jsxs(M,{className:x(f.position,!0),children:[s.jsx($,{children:s.jsxs(U,{className:"flex items-center gap-2",children:[s.jsx(Ye,{className:"w-5 h-5 text-primary"}),"Sua Posio no Ranking"]})}),s.jsx(O,{children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[g(f.position),s.jsxs("span",{className:"text-3xl font-bold",children:["#",f.position]})]}),s.jsxs("div",{className:"flex-1 space-y-1",children:[s.jsx("div",{className:"text-xl font-semibold",children:f.user_name}),s.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground",children:[s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(kt,{className:"w-4 h-4"}),f.total_points.toLocaleString()," pontos"]}),s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(_e,{className:"w-4 h-4"}),f.missions_completed," misses"]}),s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(Ss,{className:"w-4 h-4"}),f.streak_days," dias seguidos"]})]})]})]})})]}),s.jsx(M,{children:s.jsx(O,{className:"p-4",children:s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[s.jsx("div",{className:"flex-1",children:s.jsxs("div",{className:"relative",children:[s.jsx(um,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground w-4 h-4"}),s.jsx(re,{placeholder:"Buscar usurio...",value:d,onChange:j=>u(j.target.value),className:"pl-10"})]})}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(A,{variant:"outline",size:"sm",onClick:()=>h(m===10?50:10),children:m===10?s.jsxs(s.Fragment,{children:[s.jsx(P0,{className:"w-4 h-4 mr-2"}),"Ver mais"]}):s.jsxs(s.Fragment,{children:[s.jsx(YS,{className:"w-4 h-4 mr-2"}),"Ver menos"]})}),s.jsxs(A,{variant:"outline",size:"sm",onClick:n,children:[s.jsx(Te,{className:"w-4 h-4 mr-2"}),"Atualizar"]})]})]})})}),s.jsx(uOe,{totalUsers:t.length,totalPoints:t.reduce((j,N)=>j+N.total_points,0),totalMissions:t.reduce((j,N)=>j+N.missions_completed,0)}),s.jsxs(M,{children:[s.jsx($,{children:s.jsxs(U,{className:"flex items-center gap-2",children:[s.jsx(Be,{className:"w-5 h-5"}),"Top ",m," - Ranking Geral"]})}),s.jsx(O,{children:y.length===0?s.jsxs("div",{className:"text-center py-8",children:[s.jsx(Le,{className:"w-12 h-12 mx-auto mb-4 text-muted-foreground"}),s.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Nenhum usurio encontrado"}),s.jsx("p",{className:"text-muted-foreground",children:d?"Tente uma busca diferente.":"Complete misses para aparecer no ranking!"})]}):s.jsx("div",{className:"space-y-3",children:y.map((j,N)=>{const w=j.user_id===(e==null?void 0:e.id);return s.jsxs("div",{children:[s.jsxs("div",{className:`flex items-center gap-4 p-4 rounded-lg border transition-all duration-200 ${x(j.position,w)}`,children:[s.jsxs("div",{className:"flex items-center gap-3",children:[g(j.position),s.jsxs(jn,{className:"h-12 w-12",children:[s.jsx(ai,{src:""}),s.jsx(wn,{className:"bg-primary/10 text-primary font-semibold",children:j.user_name.charAt(0).toUpperCase()})]})]}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx("span",{className:"font-semibold text-lg truncate",children:j.user_name}),w&&s.jsx(X,{variant:"secondary",className:"text-xs",children:"Voc"})]}),s.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground",children:[s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(kt,{className:"w-3 h-3"}),j.total_points.toLocaleString()," pts"]}),s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(_e,{className:"w-3 h-3"}),j.missions_completed," misses"]}),s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(Ss,{className:"w-3 h-3"}),j.streak_days," dias"]}),j.last_activity&&s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(Vt,{className:"w-3 h-3"}),new Date(j.last_activity).toLocaleDateString("pt-BR")]})]})]}),s.jsxs("div",{className:"flex flex-col items-end gap-1",children:[s.jsxs("div",{className:"text-right",children:[s.jsxs("div",{className:"text-xl font-bold text-primary",children:["#",j.position]}),s.jsx("div",{className:"text-xs text-muted-foreground",children:"posio"})]}),j.streak_days>7&&s.jsxs(X,{variant:"secondary",className:"text-xs bg-orange-100 text-orange-800",children:[s.jsx(Ss,{className:"w-3 h-3 mr-1"}),"Em chamas!"]})]})]}),N<y.length-1&&s.jsx(Gu,{className:"my-2"})]},j.user_id)})})})]}),s.jsxs(M,{children:[s.jsx($,{children:s.jsxs(U,{className:"flex items-center gap-2",children:[s.jsx(jt,{className:"w-5 h-5"}),"Conquistas em Destaque"]})}),s.jsx(O,{children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"bg-gradient-to-br from-yellow-50 to-yellow-100 border border-yellow-200 rounded-lg p-4",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(Qn,{className:"w-5 h-5 text-yellow-600"}),s.jsx("span",{className:"font-semibold text-yellow-800",children:"Lder Atual"})]}),s.jsx("div",{className:"text-lg font-bold text-yellow-900",children:((v=t[0])==null?void 0:v.user_name)||"Nenhum lder"}),s.jsxs("div",{className:"text-sm text-yellow-700",children:[((b=t[0])==null?void 0:b.total_points.toLocaleString())||0," pontos"]})]}),s.jsxs("div",{className:"bg-gradient-to-br from-orange-50 to-orange-100 border border-orange-200 rounded-lg p-4",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(Ss,{className:"w-5 h-5 text-orange-600"}),s.jsx("span",{className:"font-semibold text-orange-800",children:"Maior Sequncia"})]}),s.jsx("div",{className:"text-lg font-bold text-orange-900",children:t.reduce((j,N)=>N.streak_days>j.streak_days?N:j,{user_name:"Nenhum",streak_days:0}).user_name}),s.jsxs("div",{className:"text-sm text-orange-700",children:[Math.max(...t.map(j=>j.streak_days),0)," dias seguidos"]})]}),s.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-green-100 border border-green-200 rounded-lg p-4",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(us,{className:"w-5 h-5 text-green-600"}),s.jsx("span",{className:"font-semibold text-green-800",children:"Mais Ativo"})]}),s.jsx("div",{className:"text-lg font-bold text-green-900",children:t.reduce((j,N)=>N.missions_completed>j.missions_completed?N:j,{user_name:"Nenhum",missions_completed:0}).user_name}),s.jsxs("div",{className:"text-sm text-green-700",children:[Math.max(...t.map(j=>j.missions_completed),0)," misses"]})]})]})})]})]})}function hOe({user:e}){return s.jsx(mOe,{user:e})}const fOe=()=>s.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-background via-background to-muted/20",children:[s.jsx("header",{className:"border-b border-border/20 bg-card/50 backdrop-blur-sm sticky top-0 z-50",children:s.jsxs("div",{className:"container mx-auto px-4 py-4 flex items-center gap-4",children:[s.jsx(Os,{to:"/auth",children:s.jsxs(A,{variant:"ghost",size:"sm",className:"hover:bg-muted",children:[s.jsx(Wr,{className:"h-4 w-4 mr-2"}),"Voltar"]})}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(ni,{className:"h-6 w-6 text-primary"}),s.jsx("h1",{className:"text-xl font-bold text-foreground",children:"Termos e Polticas"})]})]})}),s.jsx("div",{className:"container mx-auto px-4 py-8 max-w-4xl",children:s.jsxs("div",{className:"space-y-8",children:[s.jsxs(M,{className:"health-card",children:[s.jsx($,{children:s.jsxs(U,{className:"flex items-center gap-2 text-2xl",children:[s.jsx(Da,{className:"h-6 w-6 text-primary"}),"Termos de Uso"]})}),s.jsx(O,{className:"prose prose-slate dark:prose-invert max-w-none",children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold mb-3",children:"1. Aceitao dos Termos"}),s.jsx("p",{className:"text-muted-foreground",children:"Ao acessar e usar o Instituto dos Sonhos, voc aceita estar vinculado a estes Termos de Uso. Se voc no concordar com qualquer parte destes termos, no deve usar nosso servio."})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold mb-3",children:"2. Descrio do Servio"}),s.jsx("p",{className:"text-muted-foreground",children:"O Instituto dos Sonhos  uma plataforma digital de sade e bem-estar que oferece:"}),s.jsxs("ul",{className:"list-disc pl-6 mt-2 text-muted-foreground",children:[s.jsx("li",{children:"Monitoramento de sade e progresso fsico"}),s.jsx("li",{children:"Integrao com dispositivos de medio (balana inteligente)"}),s.jsx("li",{children:"Sistema gamificado de misses e desafios"}),s.jsx("li",{children:"Anlise de composio corporal e bioimpedncia"}),s.jsx("li",{children:"Chatbot de sade com IA"}),s.jsx("li",{children:"Plataforma de cursos e contedo educativo"})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold mb-3",children:"3. Responsabilidades do Usurio"}),s.jsxs("ul",{className:"list-disc pl-6 space-y-2 text-muted-foreground",children:[s.jsx("li",{children:"Fornecer informaes precisas e atualizadas sobre sua sade"}),s.jsx("li",{children:"Usar o servio apenas para fins pessoais e legtimos"}),s.jsx("li",{children:"No compartilhar credenciais de acesso com terceiros"}),s.jsx("li",{children:"Respeitar outros usurios na comunidade"}),s.jsx("li",{children:"Consultar profissionais de sade antes de tomar decises mdicas"})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold mb-3",children:"4. Limitaes de Responsabilidade"}),s.jsx("p",{className:"text-muted-foreground",children:"O Instituto dos Sonhos  uma ferramenta de apoio ao bem-estar e NO substitui consultas mdicas profissionais. As informaes fornecidas so para fins educativos e de monitoramento pessoal."})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold mb-3",children:"5. Propriedade Intelectual"}),s.jsx("p",{className:"text-muted-foreground",children:"Todo o contedo da plataforma (textos, imagens, algoritmos, design)  propriedade do Instituto dos Sonhos e est protegido por direitos autorais."})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold mb-3",children:"6. Modificaes"}),s.jsx("p",{className:"text-muted-foreground",children:"Reservamo-nos o direito de modificar estes termos a qualquer momento. Os usurios sero notificados sobre mudanas significativas."})]})]})})]}),s.jsxs(M,{className:"health-card",children:[s.jsx($,{children:s.jsxs(U,{className:"flex items-center gap-2 text-2xl",children:[s.jsx(Pi,{className:"h-6 w-6 text-secondary"}),"Poltica de Privacidade (LGPD)"]})}),s.jsx(O,{className:"prose prose-slate dark:prose-invert max-w-none",children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold mb-3",children:"1. Coleta de Dados"}),s.jsx("p",{className:"text-muted-foreground mb-3",children:"Coletamos os seguintes tipos de dados pessoais:"}),s.jsxs("ul",{className:"list-disc pl-6 space-y-1 text-muted-foreground",children:[s.jsxs("li",{children:[s.jsx("strong",{children:"Dados de identificao:"})," nome, email, telefone"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Dados demogrficos:"})," idade, gnero, cidade"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Dados biomtricos:"})," peso, altura, composio corporal"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Dados de sade:"})," medies, progresso, hbitos"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Dados de uso:"})," interaes na plataforma, preferncias"]})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold mb-3",children:"2. Finalidade do Tratamento"}),s.jsx("p",{className:"text-muted-foreground mb-3",children:"Utilizamos seus dados para:"}),s.jsxs("ul",{className:"list-disc pl-6 space-y-1 text-muted-foreground",children:[s.jsx("li",{children:"Fornecer e personalizar nossos servios"}),s.jsx("li",{children:"Monitorar seu progresso de sade e bem-estar"}),s.jsx("li",{children:"Gerar relatrios e anlises personalizados"}),s.jsx("li",{children:"Enviar notificaes relevantes"}),s.jsx("li",{children:"Melhorar nossa plataforma"}),s.jsx("li",{children:"Cumprir obrigaes legais"})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold mb-3",children:"3. Base Legal (LGPD)"}),s.jsx("p",{className:"text-muted-foreground mb-3",children:"O tratamento dos seus dados est baseado em:"}),s.jsxs("ul",{className:"list-disc pl-6 space-y-1 text-muted-foreground",children:[s.jsxs("li",{children:[s.jsx("strong",{children:"Consentimento:"})," para dados sensveis de sade"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Execuo de contrato:"})," para prestao do servio"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Legtimo interesse:"})," para melhorias da plataforma"]})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold mb-3",children:"4. Compartilhamento de Dados"}),s.jsx("p",{className:"text-muted-foreground",children:"Seus dados NO so vendidos a terceiros. Podem ser compartilhados apenas:"}),s.jsxs("ul",{className:"list-disc pl-6 mt-2 space-y-1 text-muted-foreground",children:[s.jsx("li",{children:"Com fornecedores de tecnologia (Supabase, OpenAI) sob contratos de confidencialidade"}),s.jsx("li",{children:"Quando exigido por lei ou autoridades competentes"}),s.jsx("li",{children:"Em caso de anonimizao para pesquisa cientfica"})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold mb-3",children:"5. Seus Direitos (LGPD)"}),s.jsx("p",{className:"text-muted-foreground mb-3",children:"Voc tem direito a:"}),s.jsxs("ul",{className:"list-disc pl-6 space-y-1 text-muted-foreground",children:[s.jsxs("li",{children:[s.jsx("strong",{children:"Acesso:"})," saber quais dados temos sobre voc"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Correo:"})," corrigir dados incompletos ou incorretos"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Excluso:"})," solicitar a remoo dos seus dados"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Portabilidade:"})," receber seus dados em formato estruturado"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Revogao:"})," retirar o consentimento a qualquer momento"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Oposio:"})," se opor ao tratamento em certas situaes"]})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold mb-3",children:"6. Segurana dos Dados"}),s.jsx("p",{className:"text-muted-foreground",children:"Implementamos medidas tcnicas e organizacionais adequadas para proteger seus dados, incluindo criptografia, controle de acesso e monitoramento de segurana."})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold mb-3",children:"7. Reteno de Dados"}),s.jsx("p",{className:"text-muted-foreground",children:"Seus dados so mantidos pelo tempo necessrio para cumprir as finalidades descritas ou conforme exigido por lei. Dados de sade so tratados com cuidado especial."})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold mb-3",children:"8. Contato - Encarregado de Dados"}),s.jsxs("div",{className:"bg-muted/20 p-4 rounded-lg",children:[s.jsx("p",{className:"text-muted-foreground",children:"Para exercer seus direitos ou esclarecer dvidas sobre privacidade:"}),s.jsx("p",{className:"font-medium mt-2",children:"Email: privacidade@institutodossonhos.com.br"}),s.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Resposta em at 15 dias teis"})]})]})]})})]}),s.jsxs(M,{className:"health-card",children:[s.jsx($,{children:s.jsxs(U,{className:"flex items-center gap-2 text-2xl",children:[s.jsx(af,{className:"h-6 w-6 text-accent"}),"Segurana e Proteo"]})}),s.jsx(O,{children:s.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsx("h4",{className:"font-semibold",children:" Criptografia"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Todos os dados so criptografados em trnsito e em repouso usando algoritmos de segurana padro da indstria."})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h4",{className:"font-semibold",children:" Controle de Acesso"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Implementamos autenticao robusta e controle de acesso baseado em funes (RLS - Row Level Security)."})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h4",{className:"font-semibold",children:" Monitoramento"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Sistema de logs e monitoramento contnuo para detectar e prevenir atividades suspeitas."})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h4",{className:"font-semibold",children:" Backup"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Backups automticos e redundncia para garantir a disponibilidade e integridade dos dados."})]})]})})]}),s.jsxs("div",{className:"text-center text-sm text-muted-foreground",children:[s.jsx("p",{children:"ltima atualizao: 27 de julho de 2025"}),s.jsx("p",{children:"Vigncia: A partir da data de aceitao pelo usurio"})]})]})})]}),uH=({responses:e,areas:t,highlightedArea:r,size:a=300})=>{const n=a/2,i=a*.35,o=2*Math.PI/t.length,l=c=>c<=1?"#ef4444":c<=2?"#f97316":c<=3?"#eab308":c<=4?"#3b82f6":"#10b981";return s.jsx("div",{className:"flex justify-center",children:s.jsxs("svg",{width:a,height:a,viewBox:`0 0 ${a} ${a}`,children:[s.jsx("circle",{cx:n,cy:n,r:i,fill:"none",stroke:"#374151",strokeWidth:"2"}),[1,2,3,4,5].map(c=>s.jsx("circle",{cx:n,cy:n,r:i*c/5,fill:"none",stroke:"#475569",strokeWidth:"1",opacity:"0.3"},c)),t.map((c,d)=>{const u=d*o-Math.PI/2,m=n+Math.cos(u)*i,h=n+Math.sin(u)*i;return s.jsx("line",{x1:n,y1:n,x2:m,y2:h,stroke:"#475569",strokeWidth:"1",opacity:"0.3"},d)}),Object.keys(e).length>0&&s.jsx("polygon",{points:t.map((c,d)=>{const u=e[c.id]||0,m=d*o-Math.PI/2,h=i*u/5,f=n+Math.cos(m)*h,g=n+Math.sin(m)*h;return`${f},${g}`}).join(" "),fill:"rgba(59, 130, 246, 0.3)",stroke:"#3b82f6",strokeWidth:"2"}),t.map((c,d)=>{const u=e[c.id]||0,m=d*o-Math.PI/2,h=i*u/5,f=n+Math.cos(m)*h,g=n+Math.sin(m)*h,x=r===c.id;return s.jsxs("g",{children:[s.jsx("circle",{cx:f,cy:g,r:x?"8":"6",fill:u>0?l(u):"#64748b",stroke:"white",strokeWidth:"2",className:x?"animate-pulse":""}),s.jsx("text",{x:n+Math.cos(m)*(i+25),y:n+Math.sin(m)*(i+25),textAnchor:"middle",dominantBaseline:"middle",className:`text-xs font-medium ${x?"fill-primary":"fill-slate-300"}`,children:c.icon})]},c.id)}),Object.keys(e).length>0&&s.jsxs("g",{children:[s.jsx("circle",{cx:n,cy:n,r:"30",fill:"rgba(15, 23, 42, 0.9)",stroke:"#475569",strokeWidth:"2"}),s.jsxs("text",{x:n,y:n-5,textAnchor:"middle",dominantBaseline:"middle",className:"text-lg font-bold fill-white",children:[Math.round(Object.values(e).reduce((c,d)=>c+d,0)/Object.keys(e).length*20),"%"]}),s.jsx("text",{x:n,y:n+12,textAnchor:"middle",dominantBaseline:"middle",className:"text-xs fill-slate-300",children:"SCORE"})]})]})})},pOe=({responses:e,areas:t})=>{const r=t.map(i=>({name:i.name.split(" ")[0],fullName:i.name,score:e[i.id]*20,icon:i.icon})).sort((i,o)=>o.score-i.score),a=[{name:"Excelente (80-100%)",value:t.filter(i=>e[i.id]>=4).length,color:"#10b981",emoji:""},{name:"Bom (60-79%)",value:t.filter(i=>e[i.id]===3).length,color:"#eab308",emoji:""},{name:"Ateno (40-59%)",value:t.filter(i=>e[i.id]===2).length,color:"#f97316",emoji:""},{name:"Crtico (0-39%)",value:t.filter(i=>e[i.id]===1).length,color:"#ef4444",emoji:""}].filter(i=>i.value>0),n=[{mes:"Jan",score:45},{mes:"Fev",score:48},{mes:"Mar",score:52},{mes:"Abr",score:58},{mes:"Mai",score:62},{mes:"Atual",score:Math.round(Object.values(e).reduce((i,o)=>i+o,0)/Object.keys(e).length*20)}];return s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-6",children:[s.jsxs(M,{className:"bg-gradient-to-br from-slate-900 to-slate-800 border-slate-700",children:[s.jsx($,{children:s.jsx(U,{className:"text-lg text-white flex items-center gap-2",children:" Ranking por rea"})}),s.jsx(O,{children:s.jsx(St,{width:"100%",height:300,children:s.jsxs(zc,{data:r,layout:"horizontal",children:[s.jsx(rs,{strokeDasharray:"3 3",stroke:"#374151"}),s.jsx(Kt,{type:"number",domain:[0,100],stroke:"#94a3b8"}),s.jsx(It,{dataKey:"name",type:"category",width:80,stroke:"#94a3b8",fontSize:12}),s.jsx(vs,{dataKey:"score",radius:[0,4,4,0],children:r.map((i,o)=>s.jsx(kn,{fill:i.score>=80?"#10b981":i.score>=60?"#eab308":i.score>=40?"#f97316":"#ef4444"},`cell-${o}`))})]})})})]}),s.jsxs(M,{className:"bg-gradient-to-br from-slate-900 to-slate-800 border-slate-700",children:[s.jsx($,{children:s.jsx(U,{className:"text-lg text-white flex items-center gap-2",children:" Distribuio por Nvel"})}),s.jsxs(O,{children:[s.jsx(St,{width:"100%",height:300,children:s.jsx(Ep,{children:s.jsx(rd,{data:a,cx:"50%",cy:"50%",innerRadius:60,outerRadius:100,paddingAngle:5,dataKey:"value",children:a.map((i,o)=>s.jsx(kn,{fill:i.color},`cell-${o}`))})})}),s.jsx("div",{className:"space-y-2 mt-4",children:a.map((i,o)=>s.jsxs("div",{className:"flex items-center justify-between text-sm",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:i.color}}),s.jsx("span",{className:"text-slate-300",children:i.name})]}),s.jsx("span",{className:"text-white font-medium",children:i.value})]},o))})]})]}),s.jsxs(M,{className:"bg-gradient-to-br from-slate-900 to-slate-800 border-slate-700",children:[s.jsx($,{children:s.jsx(U,{className:"text-lg text-white flex items-center gap-2",children:" Evoluo da Abundncia"})}),s.jsxs(O,{children:[s.jsx(St,{width:"100%",height:300,children:s.jsxs(Ji,{data:n,children:[s.jsx(rs,{strokeDasharray:"3 3",stroke:"#374151"}),s.jsx(Kt,{dataKey:"mes",stroke:"#94a3b8"}),s.jsx(It,{domain:[0,100],stroke:"#94a3b8"}),s.jsx(Ds,{type:"monotone",dataKey:"score",stroke:"#3b82f6",strokeWidth:3,dot:{fill:"#3b82f6",strokeWidth:2,r:6},activeDot:{r:8,stroke:"#3b82f6",strokeWidth:2}})]})}),s.jsx("div",{className:"text-center mt-4",children:s.jsx("p",{className:"text-sm text-slate-300",children:" Evoluo dos ltimos 6 meses"})})]})]})]})},xOe=()=>{const[e,t]=p.useState(!1);return{saveAssessment:async n=>{t(!0);try{const{data:{user:i}}=await z.auth.getUser();if(!i)throw new Error("Usurio no autenticado");const o=new Date,l=o.getDay(),c=o.getDate()-l+(l===0?-6:1),u=new Date(o.setDate(c)).toISOString().split("T")[0],m={...n,user_id:i.id,week_start_date:u},{error:h}=await z.from("assessments").upsert(m);if(h)throw h;return{success:!0}}catch(i){return console.error("Erro ao salvar avaliao:",i),{success:!1,error:i.message}}finally{t(!1)}},getAssessmentHistory:async()=>{try{const{data:{user:n}}=await z.auth.getUser();if(!n)return[];const{data:i,error:o}=await z.from("assessments").select("*").eq("user_id",n.id).order("created_at",{ascending:!1});if(o)throw o;return i||[]}catch(n){return console.error("Erro ao buscar histrico de avaliaes:",n),[]}},isLoading:e}},gOe=({responses:e,areas:t,onReset:r})=>{const[a,n]=p.useState(!0),[i,o]=p.useState(!1),{toast:l}=Ee(),{saveAssessment:c}=xOe(),d=()=>{n(!1),o(!0)},u=()=>{l({title:"Nova avaliao solicitada",description:"Entre em contato com Dr. Vital ou Sofia para solicitar uma nova avaliao."})};if(p.useEffect(()=>{if(i){const S=Object.values(e);S.reduce((_,C)=>_+C,0)/S.length,c({}).then(_=>{_.success?console.log("Avaliao salva automaticamente"):console.error("Erro ao salvar avaliao:",_.error)})}},[i,e,t,c]),a)return s.jsx(hP,{assessmentType:"abundance",scores:e,areas:t,onResetToDefault:()=>{},onNewAssessment:u,onShowResults:d});if(!i)return null;const m=Object.values(e),h=m.reduce((S,_)=>S+_,0)/m.length,f=Math.round(h*20),g=t.filter(S=>e[S.id]>=4),x=t.filter(S=>e[S.id]===3),y=t.filter(S=>e[S.id]===2),v=t.filter(S=>e[S.id]===1),j=(S=>S<40?{level:"Crtico",color:"text-red-400",description:"Necessita ateno urgente"}:S<60?{level:"Ateno",color:"text-orange-400",description:"H oportunidades de melhoria"}:S<80?{level:"Bom",color:"text-yellow-400",description:"Caminho certo, continue evoluindo"}:{level:"Excelente",color:"text-green-400",description:"Parabns! Muito bem desenvolvido"})(f),N=S=>{const _="Roda da Abundncia",C=f;switch(S){case"email":const E=encodeURIComponent(`Minha Avaliao - ${_}`),T=encodeURIComponent(`Ol! Acabei de fazer minha avaliao de ${_} e obtive um score de ${C}%.

reas fortes: ${g.map(P=>P.name).join(", ")}
reas para melhorar: ${v.map(P=>P.name).join(", ")}

Quer fazer sua avaliao tambm? Acesse: ${window.location.origin}`);window.open(`mailto:?subject=${E}&body=${T}`);break;case"whatsapp":const k=encodeURIComponent(` Acabei de fazer minha avaliao de ${_}!

 Score: ${C}%
 reas fortes: ${g.map(P=>P.name).join(", ")}
 Para melhorar: ${v.map(P=>P.name).join(", ")}

Quer fazer sua avaliao tambm? Acesse: ${window.location.origin}`);window.open(`https://wa.me/?text=${k}`);break;case"print":window.print();break}l({title:"Compartilhado com sucesso!",description:`Sua avaliao foi ${S==="print"?"enviada para impresso":"compartilhada"}.`})},w=()=>{const S="Roda da Abundncia",_=f,C=`
AVALIAO - ${S.toUpperCase()}
Data: ${new Date().toLocaleDateString("pt-BR")}
Score Geral: ${_}%

REAS FORTES:
${g.map(P=>`- ${P.name}: ${e[P.id]*20}%`).join(`
`)}

REAS PARA MELHORAR:
${v.map(P=>`- ${P.name}: ${e[P.id]*20}%`).join(`
`)}

TODAS AS REAS:
${t.map(P=>`- ${P.name}: ${e[P.id]*20}%`).join(`
`)}

---
Instituto dos Sonhos - Avaliao Personalizada
    `.trim(),E=new Blob([C],{type:"text/plain"}),T=URL.createObjectURL(E),k=document.createElement("a");k.href=T,k.download=`avaliacao-abundancia-${new Date().toISOString().split("T")[0]}.txt`,document.body.appendChild(k),k.click(),document.body.removeChild(k),URL.revokeObjectURL(T),l({title:"Relatrio baixado!",description:"Sua avaliao foi salva no seu dispositivo."})};return s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-950 to-slate-900 p-4",children:s.jsxs("div",{className:"max-w-6xl mx-auto space-y-8",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("h1",{className:"text-4xl font-bold text-white mb-2",children:" Resultado da Roda da Abundncia"}),s.jsx("p",{className:"text-slate-300 text-lg",children:"Sua anlise completa dos pilares da prosperidade financeira"})]}),s.jsxs(M,{className:"bg-gradient-to-br from-slate-900 to-slate-800 border-slate-700",children:[s.jsx($,{className:"text-center",children:s.jsx(U,{className:"text-2xl text-white mb-4",children:"Score Geral de Abundncia"})}),s.jsx(O,{children:s.jsxs("div",{className:"flex flex-col lg:flex-row items-center gap-8",children:[s.jsx("div",{className:"flex-1",children:s.jsx(uH,{responses:e,areas:t,size:350})}),s.jsxs("div",{className:"flex-1 space-y-6",children:[s.jsxs("div",{className:"text-center",children:[s.jsxs("div",{className:"text-6xl font-bold text-white mb-2",children:[f,"%"]}),s.jsx("div",{className:`text-xl font-semibold mb-2 ${j.color}`,children:j.level}),s.jsx("p",{className:"text-slate-300",children:j.description})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"text-center p-4 bg-slate-800/50 rounded-lg",children:[s.jsx("div",{className:"text-2xl font-bold text-green-400",children:g.length}),s.jsx("div",{className:"text-sm text-slate-300",children:"reas Excelentes"})]}),s.jsxs("div",{className:"text-center p-4 bg-slate-800/50 rounded-lg",children:[s.jsx("div",{className:"text-2xl font-bold text-red-400",children:v.length}),s.jsx("div",{className:"text-sm text-slate-300",children:"reas Crticas"})]}),s.jsxs("div",{className:"text-center p-4 bg-slate-800/50 rounded-lg",children:[s.jsx("div",{className:"text-2xl font-bold text-yellow-400",children:x.length}),s.jsx("div",{className:"text-sm text-slate-300",children:"reas Boas"})]}),s.jsxs("div",{className:"text-center p-4 bg-slate-800/50 rounded-lg",children:[s.jsx("div",{className:"text-2xl font-bold text-orange-400",children:y.length}),s.jsx("div",{className:"text-sm text-slate-300",children:"reas Ateno"})]})]})]})]})})]}),s.jsx(pOe,{responses:e,areas:t}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[g.length>0&&s.jsxs(M,{className:"bg-gradient-to-br from-green-900/20 to-slate-800 border-green-700/50",children:[s.jsx($,{children:s.jsx(U,{className:"text-xl text-green-400 flex items-center gap-2",children:" reas de Excelncia"})}),s.jsxs(O,{className:"space-y-3",children:[g.map(S=>s.jsxs("div",{className:"flex items-center justify-between p-3 bg-slate-800/50 rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("span",{className:"text-2xl",children:S.icon}),s.jsx("span",{className:"text-white font-medium",children:S.name})]}),s.jsxs("span",{className:"text-green-400 font-bold",children:[e[S.id]*20,"%"]})]},S.id)),s.jsx("p",{className:"text-sm text-slate-300 mt-4",children:" Continue expandindo essas reas e use-as como base para melhorar outras."})]})]}),v.length>0&&s.jsxs(M,{className:"bg-gradient-to-br from-red-900/20 to-slate-800 border-red-700/50",children:[s.jsx($,{children:s.jsx(U,{className:"text-xl text-red-400 flex items-center gap-2",children:" reas Crticas"})}),s.jsxs(O,{className:"space-y-3",children:[v.map(S=>s.jsxs("div",{className:"flex items-center justify-between p-3 bg-slate-800/50 rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("span",{className:"text-2xl",children:S.icon}),s.jsx("span",{className:"text-white font-medium",children:S.name})]}),s.jsxs("span",{className:"text-red-400 font-bold",children:[e[S.id]*20,"%"]})]},S.id)),s.jsx("p",{className:"text-sm text-slate-300 mt-4",children:" Priorize essas reas para impulsionar sua prosperidade financeira."})]})]}),s.jsxs(M,{className:"bg-gradient-to-br from-blue-900/20 to-slate-800 border-blue-700/50 lg:col-span-2",children:[s.jsx($,{children:s.jsx(U,{className:"text-xl text-blue-400 flex items-center gap-2",children:" Plano de Ao Personalizado"})}),s.jsx(O,{className:"space-y-4",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"p-4 bg-slate-800/50 rounded-lg",children:[s.jsx("h4",{className:"font-semibold text-white mb-2",children:" Prximos 30 dias"}),s.jsx("p",{className:"text-sm text-slate-300",children:"Foque nas 2 reas crticas com maior impacto no seu oramento"})]}),s.jsxs("div",{className:"p-4 bg-slate-800/50 rounded-lg",children:[s.jsx("h4",{className:"font-semibold text-white mb-2",children:" Prximos 90 dias"}),s.jsx("p",{className:"text-sm text-slate-300",children:"Implemente educao financeira e planejamento estruturado"})]}),s.jsxs("div",{className:"p-4 bg-slate-800/50 rounded-lg",children:[s.jsx("h4",{className:"font-semibold text-white mb-2",children:" Prximos 6 meses"}),s.jsx("p",{className:"text-sm text-slate-300",children:"Desenvolva fontes de renda passiva e proteo financeira"})]})]})})]})]}),s.jsxs("div",{className:"flex flex-wrap justify-center gap-4",children:[s.jsxs(A,{onClick:w,className:"flex items-center gap-2",children:[s.jsx(Zf,{className:"w-4 h-4"}),"Baixar Relatrio"]}),s.jsxs(A,{onClick:()=>N("email"),variant:"outline",className:"flex items-center gap-2",children:[s.jsx(Ei,{className:"w-4 h-4"}),"Email"]}),s.jsxs(A,{onClick:()=>N("whatsapp"),variant:"outline",className:"flex items-center gap-2",children:[s.jsx(zi,{className:"w-4 h-4"}),"WhatsApp"]}),s.jsxs(A,{onClick:()=>N("print"),variant:"outline",className:"flex items-center gap-2",children:[s.jsx(c6,{className:"w-4 h-4"}),"Imprimir"]})]})]})})},No=[{id:"renda_ativa",name:"Renda Ativa",description:"Considere sua remunerao atual, crescimento salarial e valor agregado",icon:"",color:"text-blue-400"},{id:"renda_passiva",name:"Renda Passiva",description:"Considere seus investimentos, rendimentos automticos e fontes de renda no ativa",icon:"",color:"text-green-400"},{id:"investimentos",name:"Investimentos",description:"Considere sua carteira de investimentos, diversificao e retornos",icon:"",color:"text-purple-400"},{id:"educacao_financeira",name:"Educao Financeira",description:"Considere seu conhecimento sobre finanas, planejamento e gesto de dinheiro",icon:"",color:"text-yellow-400"},{id:"planejamento_financeiro",name:"Planejamento Financeiro",description:"Considere seu oramento, metas financeiras e controle de gastos",icon:"",color:"text-cyan-400"},{id:"protecao_financeira",name:"Proteo Financeira",description:"Considere seus seguros, reserva de emergncia e proteo patrimonial",icon:"",color:"text-indigo-400"},{id:"legado_financeiro",name:"Legado Financeiro",description:"Considere sua herana, doaes e impacto financeiro para futuras geraes",icon:"",color:"text-orange-400"},{id:"mentalidade_abundancia",name:"Mentalidade de Abundncia",description:"Considere suas crenas sobre dinheiro, gratido e atrao de prosperidade",icon:"",color:"text-pink-400"}],vOe=[{value:1,emoji:"",label:"Muito baixa",color:"bg-red-500"},{value:2,emoji:"",label:"Baixa",color:"bg-orange-500"},{value:3,emoji:"",label:"Mdia",color:"bg-yellow-500"},{value:4,emoji:"",label:"Boa",color:"bg-blue-500"},{value:5,emoji:"",label:"Excelente",color:"bg-green-500"}],yOe=()=>{const[e,t]=p.useState(0),[r,a]=p.useState({}),[n,i]=p.useState(!1),o=(f,g)=>{a(x=>({...x,[f]:g}))},l=()=>{e<No.length-1?t(e+1):i(!0)},c=()=>{e>0&&t(e-1)},d=()=>{t(0),a({}),i(!1)},u=No[e],m=(e+1)/No.length*100,h=r[u==null?void 0:u.id];return n?s.jsx(gOe,{responses:r,areas:No,onReset:d}):s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-950 to-slate-900 p-4",children:s.jsxs("div",{className:"max-w-4xl mx-auto",children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsx("h1",{className:"text-4xl font-bold text-white mb-2",children:" Roda da Abundncia"}),s.jsx("p",{className:"text-slate-300 text-lg",children:"Avalie os 8 pilares da sua prosperidade financeira"})]}),s.jsxs("div",{className:"mb-8",children:[s.jsxs("div",{className:"flex justify-between items-center mb-2",children:[s.jsxs("span",{className:"text-sm text-slate-400",children:["rea ",e+1," de ",No.length]}),s.jsxs("span",{className:"text-sm text-slate-400",children:[Math.round(m),"% completo"]})]}),s.jsx(Ge,{value:m,className:"h-2"})]}),s.jsxs(M,{className:"bg-gradient-to-br from-slate-900 to-slate-800 border-slate-700 mb-8",children:[s.jsxs($,{className:"text-center pb-6",children:[s.jsx("div",{className:"text-6xl mb-4",children:u.icon}),s.jsx(U,{className:"text-2xl text-white mb-2",children:u.name}),s.jsx("p",{className:"text-slate-300 text-base leading-relaxed",children:u.description})]}),s.jsxs(O,{className:"space-y-6",children:[s.jsx("div",{className:"flex justify-center mb-8",children:s.jsx(uH,{responses:r,areas:No,highlightedArea:u.id,size:200})}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-semibold text-white text-center mb-6",children:"Como voc avalia esta rea?"}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-3",children:vOe.map(f=>s.jsxs(A,{variant:h===f.value?"default":"outline",size:"lg",onClick:()=>o(u.id,f.value),className:`h-20 flex flex-col items-center justify-center gap-2 border-2 transition-all
                      ${h===f.value?"border-primary bg-primary text-primary-foreground shadow-lg scale-105":"border-slate-600 hover:border-slate-400 bg-slate-800/50 text-white hover:bg-slate-700/50"}`,children:[s.jsx("span",{className:"text-2xl",children:f.emoji}),s.jsx("span",{className:"text-xs font-medium",children:f.label})]},f.value))})]}),s.jsxs("div",{className:"flex justify-between items-center pt-6",children:[s.jsxs(A,{variant:"outline",onClick:c,disabled:e===0,className:"flex items-center gap-2",children:[s.jsx(Wr,{className:"w-4 h-4"}),"Anterior"]}),s.jsx("div",{className:"text-center",children:s.jsxs("p",{className:"text-sm text-slate-400",children:[Object.keys(r).length," de ",No.length," reas avaliadas"]})}),s.jsxs(A,{onClick:l,disabled:!h,className:"flex items-center gap-2",children:[e===No.length-1?"Finalizar":"Prxima",s.jsx(ml,{className:"w-4 h-4"})]})]})]})]}),s.jsx("div",{className:"text-center text-slate-400 text-sm",children:s.jsx("p",{children:" Tempo estimado: 10-15 minutos   Foco na abundncia positiva"})})]})})},mH=({responses:e,areas:t,highlightedArea:r,size:a=300})=>{const n=a/2,i=a*.35,o=2*Math.PI/t.length,l=d=>d<=2?"#ef4444":d<=4?"#f97316":d<=6?"#eab308":d<=8?"#10b981":"#3b82f6",c=d=>i*d/10;return s.jsx("div",{className:"flex justify-center",children:s.jsxs("svg",{width:a,height:a,viewBox:`0 0 ${a} ${a}`,children:[s.jsx("circle",{cx:n,cy:n,r:i,fill:"none",stroke:"#374151",strokeWidth:"2"}),[2,4,6,8,10].map(d=>s.jsx("circle",{cx:n,cy:n,r:i*d/10,fill:"none",stroke:"#475569",strokeWidth:"1",opacity:"0.3"},d)),t.map((d,u)=>{const m=u*o-Math.PI/2,h=n+Math.cos(m)*i,f=n+Math.sin(m)*i;return s.jsx("line",{x1:n,y1:n,x2:h,y2:f,stroke:"#475569",strokeWidth:"1",opacity:"0.3"},u)}),Object.keys(e).length>0&&s.jsx("polygon",{points:t.map((d,u)=>{const m=e[d.id]||0,h=u*o-Math.PI/2,f=c(m),g=n+Math.cos(h)*f,x=n+Math.sin(h)*f;return`${g},${x}`}).join(" "),fill:"rgba(59, 130, 246, 0.3)",stroke:"#3b82f6",strokeWidth:"2"}),t.map((d,u)=>{const m=e[d.id]||0,h=u*o-Math.PI/2,f=c(m),g=n+Math.cos(h)*f,x=n+Math.sin(h)*f,y=r===d.id;return s.jsxs("g",{children:[s.jsx("circle",{cx:g,cy:x,r:y?"8":"6",fill:m>0?l(m):"#64748b",stroke:"white",strokeWidth:"2",className:y?"animate-pulse":""}),s.jsx("text",{x:n+Math.cos(h)*(i+25),y:n+Math.sin(h)*(i+25),textAnchor:"middle",dominantBaseline:"middle",className:`text-xs font-medium ${y?"fill-primary":"fill-slate-300"}`,children:d.icon})]},d.id)}),Object.keys(e).length>0&&s.jsxs("g",{children:[s.jsx("circle",{cx:n,cy:n,r:"30",fill:"rgba(15, 23, 42, 0.9)",stroke:"#475569",strokeWidth:"2"}),s.jsxs("text",{x:n,y:n-5,textAnchor:"middle",dominantBaseline:"middle",className:"text-lg font-bold fill-white",children:[Math.round(Object.values(e).reduce((d,u)=>d+u,0)/Object.keys(e).length*10),"%"]}),s.jsx("text",{x:n,y:n+12,textAnchor:"middle",dominantBaseline:"middle",className:"text-xs fill-slate-300",children:"COMPETNCIA"})]}),s.jsx("text",{x:n+15,y:n-i+8,textAnchor:"middle",className:"text-xs fill-slate-400",children:"10"}),s.jsx("text",{x:n+12,y:n-i*.8+5,textAnchor:"middle",className:"text-xs fill-slate-400",children:"8"}),s.jsx("text",{x:n+10,y:n-i*.6+3,textAnchor:"middle",className:"text-xs fill-slate-400",children:"6"}),s.jsx("text",{x:n+8,y:n-i*.4+2,textAnchor:"middle",className:"text-xs fill-slate-400",children:"4"}),s.jsx("text",{x:n+6,y:n-i*.2+1,textAnchor:"middle",className:"text-xs fill-slate-400",children:"2"})]})})},bOe=({responses:e,areas:t})=>{const r=t.map(o=>({name:o.name.length>15?o.name.substring(0,12)+"...":o.name,fullName:o.name,score:e[o.id],icon:o.icon})).sort((o,l)=>l.score-o.score),a=t.map(o=>({subject:o.name.split(" ")[0],atual:e[o.id],ideal:8,fullName:o.name})),n=[{name:"Excepcional (9-10)",value:t.filter(o=>e[o.id]>=9).length,color:"#3b82f6",emoji:""},{name:"Bom (7-8)",value:t.filter(o=>e[o.id]>=7&&e[o.id]<=8).length,color:"#10b981",emoji:""},{name:"Adequado (5-6)",value:t.filter(o=>e[o.id]>=5&&e[o.id]<=6).length,color:"#eab308",emoji:""},{name:"Desenvolvimento (3-4)",value:t.filter(o=>e[o.id]>=3&&e[o.id]<=4).length,color:"#f97316",emoji:""},{name:"Bsico (1-2)",value:t.filter(o=>e[o.id]>=1&&e[o.id]<=2).length,color:"#ef4444",emoji:""}].filter(o=>o.value>0),i=t.map(o=>({name:o.name.split(" ")[0],meuScore:e[o.id],mercado:Math.floor(Math.random()*3)+6,fullName:o.name}));return s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs(M,{className:"bg-gradient-to-br from-slate-900 to-slate-800 border-slate-700",children:[s.jsx($,{children:s.jsx(U,{className:"text-lg text-white flex items-center gap-2",children:" Ranking de Competncias"})}),s.jsx(O,{children:s.jsx(St,{width:"100%",height:300,children:s.jsxs(zc,{data:r,layout:"horizontal",children:[s.jsx(rs,{strokeDasharray:"3 3",stroke:"#374151"}),s.jsx(Kt,{type:"number",domain:[0,10],stroke:"#94a3b8"}),s.jsx(It,{dataKey:"name",type:"category",width:100,stroke:"#94a3b8",fontSize:12}),s.jsx(vs,{dataKey:"score",radius:[0,4,4,0],children:r.map((o,l)=>s.jsx(kn,{fill:o.score>=9?"#3b82f6":o.score>=7?"#10b981":o.score>=5?"#eab308":o.score>=3?"#f97316":"#ef4444"},`cell-${l}`))})]})})})]}),s.jsxs(M,{className:"bg-gradient-to-br from-slate-900 to-slate-800 border-slate-700",children:[s.jsx($,{children:s.jsx(U,{className:"text-lg text-white flex items-center gap-2",children:" Perfil vs Ideal"})}),s.jsxs(O,{children:[s.jsx(St,{width:"100%",height:300,children:s.jsxs(Mz,{data:a,children:[s.jsx(QC,{stroke:"#374151"}),s.jsx(_p,{dataKey:"subject",tick:{fill:"#94a3b8",fontSize:12}}),s.jsx(Sp,{angle:90,domain:[0,10],tick:{fill:"#94a3b8",fontSize:10}}),s.jsx(Nf,{name:"Atual",dataKey:"atual",stroke:"#3b82f6",fill:"#3b82f6",fillOpacity:.3,strokeWidth:2}),s.jsx(Nf,{name:"Ideal",dataKey:"ideal",stroke:"#10b981",fill:"transparent",strokeWidth:2,strokeDasharray:"5 5"})]})}),s.jsxs("div",{className:"flex justify-center gap-6 mt-4",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-3 h-3 bg-blue-500 rounded"}),s.jsx("span",{className:"text-sm text-slate-300",children:"Seu Perfil"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-3 h-1 bg-green-500"}),s.jsx("span",{className:"text-sm text-slate-300",children:"Perfil Ideal"})]})]})]})]}),s.jsxs(M,{className:"bg-gradient-to-br from-slate-900 to-slate-800 border-slate-700",children:[s.jsx($,{children:s.jsx(U,{className:"text-lg text-white flex items-center gap-2",children:" Distribuio por Nvel"})}),s.jsxs(O,{children:[s.jsx(St,{width:"100%",height:300,children:s.jsx(Ep,{children:s.jsx(rd,{data:n,cx:"50%",cy:"50%",innerRadius:60,outerRadius:100,paddingAngle:5,dataKey:"value",children:n.map((o,l)=>s.jsx(kn,{fill:o.color},`cell-${l}`))})})}),s.jsx("div",{className:"space-y-2 mt-4",children:n.map((o,l)=>s.jsxs("div",{className:"flex items-center justify-between text-sm",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:o.color}}),s.jsx("span",{className:"text-slate-300",children:o.name})]}),s.jsx("span",{className:"text-white font-medium",children:o.value})]},l))})]})]}),s.jsxs(M,{className:"bg-gradient-to-br from-slate-900 to-slate-800 border-slate-700",children:[s.jsx($,{children:s.jsx(U,{className:"text-lg text-white flex items-center gap-2",children:" Benchmark de Mercado"})}),s.jsxs(O,{children:[s.jsx(St,{width:"100%",height:300,children:s.jsxs(zc,{data:i,children:[s.jsx(rs,{strokeDasharray:"3 3",stroke:"#374151"}),s.jsx(Kt,{dataKey:"name",stroke:"#94a3b8",fontSize:12}),s.jsx(It,{domain:[0,10],stroke:"#94a3b8"}),s.jsx(vs,{dataKey:"meuScore",fill:"#3b82f6",name:"Meu Score"}),s.jsx(vs,{dataKey:"mercado",fill:"#64748b",name:"Mdia Mercado"})]})}),s.jsxs("div",{className:"flex justify-center gap-6 mt-4",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-3 h-3 bg-blue-500 rounded"}),s.jsx("span",{className:"text-sm text-slate-300",children:"Meu Score"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-3 h-3 bg-slate-500 rounded"}),s.jsx("span",{className:"text-sm text-slate-300",children:"Mdia Mercado"})]})]})]})]})]})},jOe=({responses:e,areas:t,onReset:r})=>{const[a,n]=p.useState(!0),i=()=>{console.log("Resetando grficos para estado padro...")},o=()=>{n(!1),r()};if(a)return s.jsx(hP,{assessmentType:"competency",scores:e,areas:t,onResetToDefault:i,onNewAssessment:o,onShowResults:()=>{}});const l=Object.values(e),c=l.reduce((b,j)=>b+j,0)/l.length,d=Math.round(c*10),u=t.filter(b=>e[b.id]>=9),m=t.filter(b=>e[b.id]>=7&&e[b.id]<=8);t.filter(b=>e[b.id]>=5&&e[b.id]<=6);const h=t.filter(b=>e[b.id]>=3&&e[b.id]<=4),f=t.filter(b=>e[b.id]>=1&&e[b.id]<=2),x=(b=>b<30?{level:"Iniciante",color:"text-red-400",description:"Precisa de desenvolvimento intensivo"}:b<50?{level:"Em Desenvolvimento",color:"text-orange-400",description:"H muitas oportunidades de crescimento"}:b<70?{level:"Competente",color:"text-yellow-400",description:"Adequado para o nvel atual"}:b<90?{level:"Proficiente",color:"text-green-400",description:"Muito bem desenvolvido"}:{level:"Expert",color:"text-blue-400",description:"Excepcional! Referncia na rea"})(d),v=(()=>{const j=t.map(N=>({area:N,score:e[N.id]})).sort((N,w)=>w.score-N.score).slice(0,3).map(N=>N.area.id);return j.includes("lideranca")&&j.includes("comunicacao")?{type:"Lder Natural",icon:"",description:"Perfil de liderana e influncia"}:j.includes("competencia_tecnica")&&j.includes("resolucao_problemas")?{type:"Especialista Tcnico",icon:"",description:"Foco em competncias tcnicas"}:j.includes("inovacao")&&j.includes("adaptabilidade")?{type:"Inovador",icon:"",description:"Perfil criativo e adaptvel"}:j.includes("trabalho_equipe")&&j.includes("comunicacao")?{type:"Colaborador",icon:"",description:"Especialista em trabalho em equipe"}:{type:"Generalista",icon:"",description:"Competncias equilibradas"}})();return s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-950 to-slate-900 p-4",children:s.jsxs("div",{className:"max-w-6xl mx-auto space-y-8",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("h1",{className:"text-4xl font-bold text-white mb-2",children:" Resultado da Roda das Competncias"}),s.jsx("p",{className:"text-slate-300 text-lg",children:"Sua anlise completa de competncias profissionais"})]}),s.jsxs(M,{className:"bg-gradient-to-br from-slate-900 to-slate-800 border-slate-700",children:[s.jsx($,{className:"text-center",children:s.jsx(U,{className:"text-2xl text-white mb-4",children:"Perfil de Competncias Profissionais"})}),s.jsx(O,{children:s.jsxs("div",{className:"flex flex-col lg:flex-row items-center gap-8",children:[s.jsx("div",{className:"flex-1",children:s.jsx(mH,{responses:e,areas:t,size:350})}),s.jsxs("div",{className:"flex-1 space-y-6",children:[s.jsxs("div",{className:"text-center p-6 bg-gradient-to-br from-blue-900/20 to-slate-800 border border-blue-700/50 rounded-lg",children:[s.jsx("div",{className:"text-4xl mb-2",children:v.icon}),s.jsx("div",{className:"text-xl font-semibold text-blue-400 mb-1",children:v.type}),s.jsx("p",{className:"text-sm text-slate-300",children:v.description})]}),s.jsxs("div",{className:"text-center",children:[s.jsxs("div",{className:"text-6xl font-bold text-white mb-2",children:[d,"%"]}),s.jsx("div",{className:`text-xl font-semibold mb-2 ${x.color}`,children:x.level}),s.jsx("p",{className:"text-slate-300",children:x.description})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"text-center p-4 bg-slate-800/50 rounded-lg",children:[s.jsx("div",{className:"text-2xl font-bold text-blue-400",children:u.length}),s.jsx("div",{className:"text-sm text-slate-300",children:"Excepcionais"})]}),s.jsxs("div",{className:"text-center p-4 bg-slate-800/50 rounded-lg",children:[s.jsx("div",{className:"text-2xl font-bold text-green-400",children:m.length}),s.jsx("div",{className:"text-sm text-slate-300",children:"Boas"})]}),s.jsxs("div",{className:"text-center p-4 bg-slate-800/50 rounded-lg",children:[s.jsx("div",{className:"text-2xl font-bold text-orange-400",children:h.length}),s.jsx("div",{className:"text-sm text-slate-300",children:"Desenvolver"})]}),s.jsxs("div",{className:"text-center p-4 bg-slate-800/50 rounded-lg",children:[s.jsx("div",{className:"text-2xl font-bold text-red-400",children:f.length}),s.jsx("div",{className:"text-sm text-slate-300",children:"Bsicas"})]})]})]})]})})]}),s.jsx(bOe,{responses:e,areas:t}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(u.length>0||m.length>0)&&s.jsxs(M,{className:"bg-gradient-to-br from-green-900/20 to-slate-800 border-green-700/50",children:[s.jsx($,{children:s.jsx(U,{className:"text-xl text-green-400 flex items-center gap-2",children:" Competncias Fortes"})}),s.jsxs(O,{className:"space-y-3",children:[[...u,...m].map(b=>s.jsxs("div",{className:"flex items-center justify-between p-3 bg-slate-800/50 rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("span",{className:"text-2xl",children:b.icon}),s.jsx("span",{className:"text-white font-medium",children:b.name})]}),s.jsxs("span",{className:"text-green-400 font-bold",children:[e[b.id],"/10"]})]},b.id)),s.jsx("p",{className:"text-sm text-slate-300 mt-4",children:" Use essas competncias como seus diferenciais competitivos."})]})]}),(h.length>0||f.length>0)&&s.jsxs(M,{className:"bg-gradient-to-br from-orange-900/20 to-slate-800 border-orange-700/50",children:[s.jsx($,{children:s.jsx(U,{className:"text-xl text-orange-400 flex items-center gap-2",children:" reas de Desenvolvimento"})}),s.jsxs(O,{className:"space-y-3",children:[[...f,...h].map(b=>s.jsxs("div",{className:"flex items-center justify-between p-3 bg-slate-800/50 rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("span",{className:"text-2xl",children:b.icon}),s.jsx("span",{className:"text-white font-medium",children:b.name})]}),s.jsxs("span",{className:"text-orange-400 font-bold",children:[e[b.id],"/10"]})]},b.id)),s.jsx("p",{className:"text-sm text-slate-300 mt-4",children:" Foque no desenvolvimento dessas competncias para acelerar sua carreira."})]})]}),s.jsxs(M,{className:"bg-gradient-to-br from-blue-900/20 to-slate-800 border-blue-700/50 lg:col-span-2",children:[s.jsx($,{children:s.jsx(U,{className:"text-xl text-blue-400 flex items-center gap-2",children:" Plano de Desenvolvimento Profissional"})}),s.jsx(O,{className:"space-y-4",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"p-4 bg-slate-800/50 rounded-lg",children:[s.jsx("h4",{className:"font-semibold text-white mb-2",children:" Prximos 30 dias"}),s.jsx("p",{className:"text-sm text-slate-300",children:"Identifique 1 competncia crtica e busque treinamento especfico"})]}),s.jsxs("div",{className:"p-4 bg-slate-800/50 rounded-lg",children:[s.jsx("h4",{className:"font-semibold text-white mb-2",children:" Prximos 60 dias"}),s.jsx("p",{className:"text-sm text-slate-300",children:"Implemente prticas dirias e busque feedback regular"})]}),s.jsxs("div",{className:"p-4 bg-slate-800/50 rounded-lg",children:[s.jsx("h4",{className:"font-semibold text-white mb-2",children:" Prximos 90 dias"}),s.jsx("p",{className:"text-sm text-slate-300",children:"Aplique as competncias em projetos desafiadores"})]})]})})]})]}),s.jsxs("div",{className:"flex flex-wrap justify-center gap-4",children:[s.jsxs(A,{onClick:r,variant:"outline",className:"flex items-center gap-2",children:[s.jsx(JS,{className:"w-4 h-4"}),"Refazer Avaliao"]}),s.jsxs(A,{className:"flex items-center gap-2",children:[s.jsx(Zf,{className:"w-4 h-4"}),"Baixar Relatrio"]}),s.jsxs(A,{variant:"outline",className:"flex items-center gap-2",children:[s.jsx(d6,{className:"w-4 h-4"}),"Compartilhar"]})]})]})})},So=[{id:"competencia_tecnica",name:"Competncia Tcnica",description:"Considere conhecimento especfico e habilidades tcnicas",icon:"",color:"text-blue-400"},{id:"comunicacao",name:"Comunicao",description:"Considere clareza, objetividade e capacidade de expresso",icon:"",color:"text-green-400"},{id:"trabalho_equipe",name:"Trabalho em Equipe",description:"Considere colaborao, cooperao e relacionamento",icon:"",color:"text-purple-400"},{id:"resolucao_problemas",name:"Resoluo de Problemas",description:"Considere anlise, criatividade e implementao de solues",icon:"",color:"text-yellow-400"},{id:"adaptabilidade",name:"Adaptabilidade",description:"Considere flexibilidade, aprendizado e resilincia",icon:"",color:"text-cyan-400"},{id:"lideranca",name:"Liderana",description:"Considere influncia, direcionamento e desenvolvimento de outros",icon:"",color:"text-indigo-400"},{id:"inovacao",name:"Inovao",description:"Considere criatividade, melhoria de processos e novas ideias",icon:"",color:"text-orange-400"},{id:"gestao_tempo",name:"Gesto de Tempo",description:"Considere organizao, priorizao e cumprimento de prazos",icon:"",color:"text-pink-400"}],wOe=[{value:1,emoji:"",label:"1-2: Bsico",description:"Precisa desenvolver muito",color:"bg-red-500"},{value:3,emoji:"",label:"3-4: Desenvolvimento",description:"Precisa melhorar",color:"bg-orange-500"},{value:5,emoji:"",label:"5-6: Adequado",description:"Suficiente para o cargo",color:"bg-yellow-500"},{value:7,emoji:"",label:"7-8: Bom",description:"Bem desenvolvido",color:"bg-green-500"},{value:9,emoji:"",label:"9-10: Excepcional",description:"Especialista/Expert",color:"bg-blue-500"}],NOe=()=>{const[e,t]=p.useState(0),[r,a]=p.useState({}),[n,i]=p.useState(!1),o=(f,g)=>{a(x=>({...x,[f]:g}))},l=()=>{e<So.length-1?t(e+1):i(!0)},c=()=>{e>0&&t(e-1)},d=()=>{t(0),a({}),i(!1)},u=So[e],m=(e+1)/So.length*100,h=r[u==null?void 0:u.id];return n?s.jsx(jOe,{responses:r,areas:So,onReset:d}):s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-950 to-slate-900 p-4",children:s.jsxs("div",{className:"max-w-4xl mx-auto",children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsx("h1",{className:"text-4xl font-bold text-white mb-2",children:" Roda das Competncias"}),s.jsx("p",{className:"text-slate-300 text-lg",children:"Avalie suas 8 competncias profissionais fundamentais"})]}),s.jsxs("div",{className:"mb-8",children:[s.jsxs("div",{className:"flex justify-between items-center mb-2",children:[s.jsxs("span",{className:"text-sm text-slate-400",children:["Competncia ",e+1," de ",So.length]}),s.jsxs("span",{className:"text-sm text-slate-400",children:[Math.round(m),"% completo"]})]}),s.jsx(Ge,{value:m,className:"h-2"})]}),s.jsxs(M,{className:"bg-gradient-to-br from-slate-900 to-slate-800 border-slate-700 mb-8",children:[s.jsxs($,{className:"text-center pb-6",children:[s.jsx("div",{className:"text-6xl mb-4",children:u.icon}),s.jsx(U,{className:"text-2xl text-white mb-2",children:u.name}),s.jsx("p",{className:"text-slate-300 text-base leading-relaxed",children:u.description})]}),s.jsxs(O,{className:"space-y-6",children:[s.jsx("div",{className:"flex justify-center mb-8",children:s.jsx(mH,{responses:r,areas:So,highlightedArea:u.id,size:200})}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-semibold text-white text-center mb-6",children:"Como voc avalia esta competncia?"}),s.jsx("div",{className:"grid grid-cols-1 gap-3",children:wOe.map(f=>s.jsx(A,{variant:h===f.value?"default":"outline",size:"lg",onClick:()=>o(u.id,f.value),className:`h-16 flex items-center justify-between p-6 border-2 transition-all text-left
                      ${h===f.value?"border-primary bg-primary text-primary-foreground shadow-lg scale-102":"border-slate-600 hover:border-slate-400 bg-slate-800/50 text-white hover:bg-slate-700/50"}`,children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("span",{className:"text-2xl",children:f.emoji}),s.jsxs("div",{children:[s.jsx("div",{className:"font-medium",children:f.label}),s.jsx("div",{className:"text-sm opacity-80",children:f.description})]})]})},f.value))})]}),s.jsxs("div",{className:"flex justify-between items-center pt-6",children:[s.jsxs(A,{variant:"outline",onClick:c,disabled:e===0,className:"flex items-center gap-2",children:[s.jsx(Wr,{className:"w-4 h-4"}),"Anterior"]}),s.jsx("div",{className:"text-center",children:s.jsxs("p",{className:"text-sm text-slate-400",children:[Object.keys(r).length," de ",So.length," competncias avaliadas"]})}),s.jsxs(A,{onClick:l,disabled:!h,className:"flex items-center gap-2",children:[e===So.length-1?"Finalizar":"Prxima",s.jsx(ml,{className:"w-4 h-4"})]})]})]})]}),s.jsx("div",{className:"text-center text-slate-400 text-sm",children:s.jsx("p",{children:" Tempo estimado: 10-15 minutos   Foco no desenvolvimento profissional"})})]})})},mr=({value:e,maxValue:t,title:r,subtitle:a,unit:n,color:i="#22c55e",size:o=200,showTarget:l=!1,targetValue:c,ranges:d=[]})=>{const u=o/2,m=o/2,h=o*.35,f=o*.08,x=Math.min(e/t,1)*180,y=(w,S,_)=>{const C=v(u,m,_,S),E=v(u,m,_,w),T=S-w<=180?"0":"1";return["M",C.x,C.y,"A",_,_,0,T,0,E.x,E.y].join(" ")},v=(w,S,_,C)=>{const E=(C-90)*Math.PI/180;return{x:w+_*Math.cos(E),y:S+_*Math.sin(E)}},j=(()=>{if(d.length>0){const w=d.find(S=>e>=S.min&&e<=S.max);return(w==null?void 0:w.color)||i}return i})(),N=`gauge-gradient-${Math.random().toString(36).substr(2,9)}`;return s.jsxs(M,{className:"bg-gradient-to-br from-slate-900 to-slate-800 border-slate-700",children:[s.jsxs($,{className:"text-center pb-2",children:[s.jsx(U,{className:"text-lg text-white",children:r}),a&&s.jsx("p",{className:"text-sm text-slate-400",children:a})]}),s.jsxs(O,{className:"flex flex-col items-center space-y-4",children:[s.jsxs("div",{className:"relative",children:[s.jsxs("svg",{width:o,height:o*.6,className:"overflow-visible",children:[s.jsxs("defs",{children:[s.jsxs("linearGradient",{id:N,x1:"0%",y1:"0%",x2:"100%",y2:"0%",children:[s.jsx("stop",{offset:"0%",stopColor:"#ef4444"}),s.jsx("stop",{offset:"50%",stopColor:"#eab308"}),s.jsx("stop",{offset:"100%",stopColor:"#22c55e"})]}),s.jsx("filter",{id:"shadow",children:s.jsx("feDropShadow",{dx:"0",dy:"2",stdDeviation:"3",floodOpacity:"0.3"})})]}),s.jsx("path",{d:y(0,180,h),fill:"none",stroke:"#374151",strokeWidth:f,strokeLinecap:"round"}),s.jsx("path",{d:y(0,x,h),fill:"none",stroke:d.length>0?`url(#${N})`:j,strokeWidth:f,strokeLinecap:"round",filter:"url(#shadow)",style:{transition:"stroke-dasharray 1s ease-in-out"}}),l&&c&&s.jsx("g",{children:(()=>{const w=c/t*180,S=v(u,m,h,w);return s.jsxs(s.Fragment,{children:[s.jsx("circle",{cx:S.x,cy:S.y,r:"4",fill:"#3b82f6",stroke:"#1e40af",strokeWidth:"2"}),s.jsx("text",{x:S.x,y:S.y-15,textAnchor:"middle",className:"text-xs fill-blue-400 font-medium",children:"Target"})]})})()}),[0,25,50,75,100].map(w=>{const S=w/100*180,_=v(u,m,h+10,S),C=v(u,m,h-5,S),E=v(u,m,h+25,S);return s.jsxs("g",{children:[s.jsx("line",{x1:C.x,y1:C.y,x2:_.x,y2:_.y,stroke:"#64748b",strokeWidth:"1"}),s.jsx("text",{x:E.x,y:E.y,textAnchor:"middle",dominantBaseline:"middle",className:"text-xs fill-slate-400",children:(w*t/100).toFixed(0)})]},w)})]}),s.jsx("div",{className:"absolute inset-0 flex flex-col items-center justify-center",children:s.jsxs("div",{className:"text-center mt-8",children:[s.jsx("div",{className:"text-3xl font-bold text-white mb-1",children:e.toFixed(1)}),s.jsx("div",{className:"text-sm text-slate-300 uppercase tracking-wider",children:n})]})})]}),d.length>0&&s.jsx("div",{className:"flex justify-center gap-4 text-xs",children:d.map((w,S)=>s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("div",{className:"w-2 h-2 rounded-full",style:{backgroundColor:w.color}}),s.jsx("span",{className:"text-slate-300",children:w.label||`${w.min}-${w.max}`})]},S))})]})]})},SOe=()=>{const e={gordura:{massaGorda:24.7,percentualGordura:36.2},hidratacao:{aguaCorporalTotal:30.8,percentualAgua:45.2,indiceHidratacao:2.7,aguaMassaMagra:70.8},aguaIntraExtra:{intracelular:16.7,percentualIntracelular:54.2,extracelular:14.1},massaMagraeMuscular:{massaMagra:43.4,percentualMassaMagra:63.8,razaoMusculoGordura:.8,massaMuscular:19.5,percentualMassaMuscular:28.6},analiseCelular:{anguloFase:8.1,idadeCelular:32},dadosBasicos:{peso:68.1,altura:159,imc:26.9,idade:40,tmb:1221}};return s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-950 to-slate-900 p-6",children:s.jsxs("div",{className:"max-w-7xl mx-auto",children:[s.jsx(M,{className:"bg-gradient-to-r from-slate-900 to-slate-800 border-slate-700 mb-8",children:s.jsxs($,{className:"text-center",children:[s.jsx(U,{className:"text-3xl text-white mb-2",children:" Anlise Corporal Detalhada"}),s.jsxs("div",{className:"text-slate-300",children:[s.jsxs("p",{className:"mb-1",children:[s.jsx("strong",{children:"Avaliada:"})," Juliana Maria Lopes"]}),s.jsxs("p",{className:"mb-1",children:[s.jsx("strong",{children:"Data de nascimento:"})," 09/07/1985"]}),s.jsxs("p",{className:"mb-1",children:[s.jsx("strong",{children:"Peso:"})," ",e.dadosBasicos.peso," kg | ",s.jsx("strong",{children:"Altura:"})," ",e.dadosBasicos.altura," cm"]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Avaliador:"})," Rafael Ferreira Dias | 28/07/2025 s 14:55"]})]})]})}),s.jsxs("div",{className:"mb-8",children:[s.jsx("h2",{className:"text-2xl font-bold text-white mb-6 flex items-center gap-2",children:" Gordura"}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsx(mr,{value:e.gordura.massaGorda,maxValue:50,title:"Massa Gorda",unit:"Kg",ranges:[{min:0,max:15,color:"#22c55e",label:"Ideal"},{min:15,max:25,color:"#eab308",label:"Normal"},{min:25,max:35,color:"#f97316",label:"Elevada"},{min:35,max:50,color:"#ef4444",label:"Crtica"}]}),s.jsx(mr,{value:e.gordura.percentualGordura,maxValue:50,title:"% Gordura",unit:"%",showTarget:!0,targetValue:25,ranges:[{min:0,max:20,color:"#22c55e",label:"Excelente"},{min:20,max:30,color:"#eab308",label:"Bom"},{min:30,max:40,color:"#f97316",label:"Alto"},{min:40,max:50,color:"#ef4444",label:"Muito Alto"}]})]})]}),s.jsxs("div",{className:"mb-8",children:[s.jsx("h2",{className:"text-2xl font-bold text-white mb-6 flex items-center gap-2",children:" Hidratao"}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[s.jsx(mr,{value:e.hidratacao.aguaCorporalTotal,maxValue:50,title:"gua Corporal Total",subtitle:`${e.hidratacao.percentualAgua}%`,unit:"litros",color:"#3b82f6"}),s.jsx(mr,{value:e.hidratacao.indiceHidratacao,maxValue:5,title:"ndice de Hidratao",unit:"cm/ohms x 10",color:"#06b6d4",ranges:[{min:0,max:2,color:"#ef4444",label:"Baixo"},{min:2,max:3,color:"#eab308",label:"Normal"},{min:3,max:4,color:"#22c55e",label:"Bom"},{min:4,max:5,color:"#3b82f6",label:"Excelente"}]}),s.jsx(mr,{value:e.hidratacao.aguaMassaMagra,maxValue:100,title:"gua na Massa Magra",unit:"%",color:"#10b981"})]})]}),s.jsxs("div",{className:"mb-8",children:[s.jsx("h2",{className:"text-2xl font-bold text-white mb-6 flex items-center gap-2",children:" gua Intra e Extra Celular"}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsx(mr,{value:e.aguaIntraExtra.percentualIntracelular,maxValue:100,title:"gua Intracelular",subtitle:`${e.aguaIntraExtra.intracelular} litros`,unit:"%",color:"#8b5cf6"}),s.jsx(mr,{value:100-e.aguaIntraExtra.percentualIntracelular,maxValue:100,title:"gua Extracelular",subtitle:`${e.aguaIntraExtra.extracelular} litros`,unit:"%",color:"#06b6d4"})]})]}),s.jsxs("div",{className:"mb-8",children:[s.jsx("h2",{className:"text-2xl font-bold text-white mb-6 flex items-center gap-2",children:" Massa Magra e Muscular"}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[s.jsx(mr,{value:e.massaMagraeMuscular.percentualMassaMagra,maxValue:100,title:"Massa Magra",subtitle:`${e.massaMagraeMuscular.massaMagra} kg`,unit:"%",color:"#22c55e"}),s.jsx(mr,{value:e.massaMagraeMuscular.razaoMusculoGordura,maxValue:2,title:"Razo Msculo/Gordura",unit:"kg msculo / kg gordura",color:"#f59e0b",ranges:[{min:0,max:.5,color:"#ef4444",label:"Baixa"},{min:.5,max:1,color:"#eab308",label:"Normal"},{min:1,max:1.5,color:"#22c55e",label:"Boa"},{min:1.5,max:2,color:"#3b82f6",label:"Excelente"}]}),s.jsx(mr,{value:e.massaMagraeMuscular.percentualMassaMuscular,maxValue:50,title:"Massa Muscular",subtitle:`${e.massaMagraeMuscular.massaMuscular} kg`,unit:"%",color:"#dc2626"})]})]}),s.jsxs("div",{className:"mb-8",children:[s.jsx("h2",{className:"text-2xl font-bold text-white mb-6 flex items-center gap-2",children:" Anlise Celular"}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsx(mr,{value:e.analiseCelular.anguloFase,maxValue:15,title:"ngulo de Fase",unit:"graus",color:"#8b5cf6",ranges:[{min:0,max:5,color:"#ef4444",label:"Baixa Vitalidade"},{min:5,max:8,color:"#eab308",label:"Normal"},{min:8,max:12,color:"#22c55e",label:"Boa Vitalidade"},{min:12,max:15,color:"#3b82f6",label:"Excelente"}]}),s.jsx(mr,{value:e.analiseCelular.idadeCelular,maxValue:80,title:"Idade Celular",unit:"anos",color:"#f59e0b",showTarget:!0,targetValue:e.dadosBasicos.idade})]})]}),s.jsxs("div",{className:"mb-8",children:[s.jsx("h2",{className:"text-2xl font-bold text-white mb-6 flex items-center gap-2",children:" Peso, Altura e TMB"}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[s.jsx(mr,{value:e.dadosBasicos.imc,maxValue:40,title:"IMC",unit:"kg/m",ranges:[{min:0,max:18.5,color:"#3b82f6",label:"Abaixo"},{min:18.5,max:25,color:"#22c55e",label:"Normal"},{min:25,max:30,color:"#eab308",label:"Sobrepeso"},{min:30,max:40,color:"#ef4444",label:"Obesidade"}]}),s.jsx(mr,{value:e.dadosBasicos.idade,maxValue:100,title:"Idade",unit:"anos",color:"#6366f1"}),s.jsx(mr,{value:e.dadosBasicos.tmb,maxValue:2500,title:"Taxa Metablica Basal",unit:"kcal/24h",color:"#ec4899"})]})]}),s.jsxs(M,{className:"bg-gradient-to-r from-slate-900 to-slate-800 border-slate-700",children:[s.jsx($,{children:s.jsx(U,{className:"text-xl text-white flex items-center gap-2",children:" Dados de Bioimpedncia"})}),s.jsx(O,{children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 text-center",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-slate-400 text-sm",children:"Resistncia"}),s.jsx("p",{className:"text-white text-2xl font-bold",children:"589 ohms"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-slate-400 text-sm",children:"Reatncia"}),s.jsx("p",{className:"text-white text-2xl font-bold",children:"84 ohms"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-slate-400 text-sm",children:"Impedncia"}),s.jsx("p",{className:"text-white text-2xl font-bold",children:"595 ohms"})]})]})})]})]})})},_Oe={id:"1",title:"Hidratao Diria",description:"Beba 2L de gua todos os dias",duration:7,reward:50,difficulty:"easy",category:"Sade",instructions:["Beba pelo menos 2 litros de gua","Distribua o consumo ao longo do dia","Use um app para lembrar"],tips:["Use um aplicativo para lembrar","Tenha sempre uma garrafa por perto","Adicione limo para dar sabor"],target:14,current:3,unit:"litros",participants:684,completionRate:63,startedToday:17,completedToday:0,topParticipants:[{name:"Ana Silva",completion:"95%",streak:"7 dias",avatar:"A"},{name:"Joo Santos",completion:"88%",streak:"5 dias",avatar:"J"},{name:"Maria Costa",completion:"82%",streak:"4 dias",avatar:"M"},{name:"Pedro Lima",completion:"78%",streak:"3 dias",avatar:"P"},{name:"Sofia Mendes",completion:"75%",streak:"6 dias",avatar:"S"}],activeGroups:[{name:"Guerreiros da Sade",members:24}]},COe=[{id:"2",title:"Exerccio Matinal",description:"30 minutos de exerccio toda manh",type:"individual",difficulty:"medium",category:"Fitness",target_value:7,current:2,unit:"dias",xp_reward:100,expiresAt:new Date(Date.now()+6*24*60*60*1e3),completed:!1,participants:523},{id:"3",title:"Meditao Diria",description:"10 minutos de meditao por dia",type:"community",difficulty:"easy",category:"Mental",target_value:10,current:0,unit:"sesses",xp_reward:75,expiresAt:new Date(Date.now()+3*24*60*60*1e3),completed:!1,participants:892,completedBy:234}];function kOe(){const{challengeId:e}=kY(),t=ur();UP();const[r,a]=p.useState(!1),n=_Oe,i=n.current/n.target*100,o=c=>{switch(c){case"easy":return"from-green-500 to-green-600";case"medium":return"from-yellow-500 to-orange-500";case"hard":return"from-red-500 to-pink-500";default:return"from-gray-500 to-gray-600"}},l=()=>{a(!0)};return s.jsxs("div",{className:"min-h-screen bg-background",children:[s.jsx("div",{className:"sticky top-0 z-50 border-b bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60",children:s.jsxs("div",{className:"container flex h-14 items-center",children:[s.jsxs(A,{variant:"ghost",size:"sm",onClick:()=>t(-1),className:"mr-4",children:[s.jsx(Wr,{className:"h-4 w-4 mr-2"}),"Voltar"]}),s.jsx("h1",{className:"text-lg font-semibold",children:"Detalhes do Desafio"})]})}),s.jsx("div",{className:"container mx-auto p-4 max-w-7xl",children:s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[s.jsx(M,{children:s.jsxs($,{children:[s.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[s.jsx("div",{className:`p-3 bg-gradient-to-br ${o(n.difficulty)} rounded-full`,children:s.jsx(_e,{className:"w-6 h-6 text-white"})}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("h1",{className:"text-2xl font-bold",children:n.title}),s.jsx(X,{className:"bg-green-100 text-green-800 border-green-200",children:"Fcil"})]}),s.jsx("p",{className:"text-muted-foreground",children:n.category})]})]}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-center",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsx(Vt,{className:"w-5 h-5 mx-auto text-muted-foreground"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Durao"}),s.jsxs("p",{className:"font-semibold",children:[n.duration," dias"]})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx(Be,{className:"w-5 h-5 mx-auto text-muted-foreground"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Recompensa"}),s.jsxs("p",{className:"font-semibold",children:[n.reward," pontos"]})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx(Le,{className:"w-5 h-5 mx-auto text-muted-foreground"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Participantes"}),s.jsx("p",{className:"font-semibold",children:n.participants})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx(Ye,{className:"w-5 h-5 mx-auto text-muted-foreground"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Taxa de Concluso"}),s.jsxs("p",{className:"font-semibold",children:[n.completionRate,"%"]})]})]})]})}),s.jsxs(M,{children:[s.jsx($,{children:s.jsxs(U,{className:"flex items-center gap-2",children:[s.jsx(as,{className:"w-5 h-5"}),"Descrio do Desafio"]})}),s.jsxs(O,{children:[s.jsx("p",{className:"text-lg mb-4",children:n.description}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold mb-2",children:"Instrues:"}),s.jsx("ul",{className:"space-y-1",children:n.instructions.map((c,d)=>s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx("span",{className:"text-primary",children:""}),s.jsx("span",{children:c})]},d))})]}),s.jsxs("div",{children:[s.jsxs("h4",{className:"font-semibold mb-2 flex items-center gap-2",children:[s.jsx(QS,{className:"w-4 h-4"}),"Dicas:"]}),s.jsx("ul",{className:"space-y-1",children:n.tips.map((c,d)=>s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx("span",{className:"text-yellow-500",children:""}),s.jsx("span",{children:c})]},d))})]})]}),s.jsx("div",{className:"mt-6",children:r?s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm font-medium",children:"Progresso Atual"}),s.jsxs("span",{className:"text-sm text-muted-foreground",children:[n.current,"/",n.target," ",n.unit]})]}),s.jsx(Ge,{value:i,className:"h-3"}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:[Math.round(i),"% completo"]}),s.jsx("div",{className:"flex gap-2",children:s.jsx(Yv,{challengeId:n.id,challengeTitle:n.title,currentProgress:i,onProgressUpdate:c=>{console.log("Progresso atualizado:",c)},children:s.jsxs(A,{className:"flex-1",children:[s.jsx(_e,{className:"w-4 h-4 mr-2"}),"Atualizar Progresso"]})})})]}):s.jsx(A,{size:"lg",className:"w-full bg-gradient-to-r from-orange-500 to-red-500 hover:from-orange-600 hover:to-red-600",onClick:l,children:"Participar do Desafio"})})]})]}),s.jsxs(M,{children:[s.jsx($,{children:s.jsxs(U,{className:"flex items-center gap-2",children:[s.jsx(us,{className:"w-5 h-5"}),"Outros Desafios Populares"]})}),s.jsx(O,{children:s.jsx("div",{className:"grid gap-4",children:COe.map(c=>s.jsx(lH,{challenge:c,showParticipants:!1},c.id))})})]})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs(M,{children:[s.jsx($,{children:s.jsxs(U,{className:"flex items-center gap-2",children:[s.jsx(Be,{className:"w-5 h-5"}),"Estatsticas"]})}),s.jsxs(O,{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"text-center p-3 bg-blue-50 rounded-lg",children:[s.jsx("div",{className:"text-2xl font-bold text-blue-600",children:n.participants}),s.jsx("div",{className:"text-sm text-blue-600",children:"Participantes"})]}),s.jsxs("div",{className:"text-center p-3 bg-green-50 rounded-lg",children:[s.jsxs("div",{className:"text-2xl font-bold text-green-600",children:[n.completionRate,"%"]}),s.jsx("div",{className:"text-sm text-green-600",children:"Taxa de Concluso"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{children:"Iniciados hoje"}),s.jsx("span",{className:"font-medium",children:n.startedToday})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{children:"Concludos hoje"}),s.jsx("span",{className:"font-medium",children:n.completedToday})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{children:"Recompensa"}),s.jsxs("span",{className:"font-medium text-orange-600",children:[n.reward," XP"]})]})]})]})]}),s.jsxs(M,{children:[s.jsx($,{children:s.jsxs(U,{className:"flex items-center gap-2",children:[s.jsx(jt,{className:"w-5 h-5"}),"Top Participantes"]})}),s.jsxs(O,{children:[s.jsx("div",{className:"space-y-3",children:n.topParticipants.map((c,d)=>s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("span",{className:"text-sm font-medium w-4",children:["#",d+1]}),s.jsx(jn,{className:"w-8 h-8",children:s.jsx(wn,{className:"text-xs",children:c.avatar})})]}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-sm font-medium truncate",children:c.name}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:[c.completion," concludo  ",c.streak]})]})]},d))}),s.jsx(A,{variant:"outline",size:"sm",className:"w-full mt-4",children:"Ver Ranking Completo"})]})]}),s.jsxs(M,{children:[s.jsx($,{children:s.jsxs(U,{className:"flex items-center gap-2",children:[s.jsx(Le,{className:"w-5 h-5"}),"Grupos Ativos"]})}),s.jsx(O,{children:s.jsx("div",{className:"space-y-3",children:n.activeGroups.map((c,d)=>s.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/50 rounded-lg",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:c.name}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:[c.members," membros"]})]}),s.jsx(A,{variant:"outline",size:"sm",children:"Atividade alta"})]},d))})})]})]})]})})]})}const POe=()=>{const[e,t]=p.useState(null),[r,a]=p.useState(!0),n=ur();return p.useEffect(()=>{z.auth.getSession().then(({data:{session:o}})=>{t((o==null?void 0:o.user)??null),a(!1),o||n("/auth")});const{data:{subscription:i}}=z.auth.onAuthStateChange((o,l)=>{t((l==null?void 0:l.user)??null),l||n("/auth")});return()=>i.unsubscribe()},[n]),r?s.jsx("div",{className:"flex items-center justify-center min-h-screen",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"Carregando..."})]})}):e?s.jsx(xV,{user:e}):null},EOe=new gX({defaultOptions:{queries:{retry:1,refetchOnWindowFocus:!1}}}),AOe=()=>s.jsx(wX,{client:EOe,children:s.jsxs(cre,{children:[s.jsx(Wee,{}),s.jsx(Nte,{}),s.jsxs(QY,{children:[s.jsxs(qY,{children:[s.jsx(Qe,{path:"/home",element:s.jsx(tje,{})}),s.jsx(Qe,{path:"/",element:s.jsx(sje,{})}),s.jsx(Qe,{path:"/landing",element:s.jsx(rje,{})}),s.jsx(Qe,{path:"/auth",element:s.jsx(Hwe,{})}),s.jsx(Qe,{path:"/terms",element:s.jsx(fOe,{})}),s.jsx(Qe,{path:"/auto-login",element:s.jsx(Kwe,{})}),s.jsx(Qe,{path:"/dashboard",element:s.jsx(tMe,{})}),s.jsx(Qe,{path:"/enhanced-dashboard",element:s.jsx(pMe,{})}),s.jsx(Qe,{path:"/dashboard/progress",element:s.jsx(TP,{})}),s.jsx(Qe,{path:"/admin",element:s.jsx(VMe,{})}),s.jsx(Qe,{path:"/health-feed",element:s.jsx(_P,{})}),s.jsx(Qe,{path:"/ranking",element:s.jsx(hOe,{user:null})}),s.jsx(Qe,{path:"/app/missions",element:s.jsx(YMe,{})}),s.jsx(Qe,{path:"/app/goals",element:s.jsx(oH,{})}),s.jsx(Qe,{path:"/app/courses",element:s.jsx(WMe,{viewMode:"courses"})}),s.jsx(Qe,{path:"/app/sessions",element:s.jsx(POe,{})}),s.jsx(Qe,{path:"/app/saboteur-test",element:s.jsx(IW,{})}),s.jsx(Qe,{path:"/app/progress",element:s.jsx(o5,{})}),s.jsx(Qe,{path:"/app/scale-test",element:s.jsx(oOe,{})}),s.jsx(Qe,{path:"/google-fit-oauth",element:s.jsx(lOe,{})}),s.jsx(Qe,{path:"/google-fit-callback",element:s.jsx(cOe,{})}),s.jsx(Qe,{path:"/google-fit-test",element:s.jsx(dOe,{})}),s.jsx(Qe,{path:"/app/abundance-wheel",element:s.jsx(yOe,{})}),s.jsx(Qe,{path:"/app/competency-wheel",element:s.jsx(NOe,{})}),s.jsx(Qe,{path:"/challenge/:challengeId",element:s.jsx(kOe,{})}),s.jsx(Qe,{path:"/index",element:s.jsx(Zbe,{})}),s.jsx(Qe,{path:"/dashboard-page",element:s.jsx(oEe,{})}),s.jsx(Qe,{path:"/progress-page",element:s.jsx(o5,{})}),s.jsx(Qe,{path:"/color-test",element:s.jsx(QMe,{})}),s.jsx(Qe,{path:"/css-debug",element:s.jsx(JMe,{})}),s.jsx(Qe,{path:"/body-charts",element:s.jsx(tOe,{})}),s.jsx(Qe,{path:"/galileu-charts",element:s.jsx(SOe,{})}),s.jsx(Qe,{path:"/limiting-beliefs",element:s.jsx(J7,{})}),s.jsx(Qe,{path:"/health-pyramid",element:s.jsx(Z7,{})}),s.jsx(Qe,{path:"/trauma-mapping",element:s.jsx(pV,{})}),s.jsx(Qe,{path:"*",element:s.jsx(XMe,{})})]}),s.jsx($V,{})]})]})}),hH=document.getElementById("root");if(!hH)throw new Error("Root element not found");const TOe=MR(hH);TOe.render(s.jsx(p.StrictMode,{children:s.jsx(AOe,{})}));
